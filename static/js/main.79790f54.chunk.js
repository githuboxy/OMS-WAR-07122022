(this.webpackJsonpomsreactbootstrap=this.webpackJsonpomsreactbootstrap||[]).push([[0],{117:function(e,t,a){e.exports={showTicket:"ShowTicket_showTicket__31B_J",s_t_title:"ShowTicket_s_t_title__1GwTN",bgc:"ShowTicket_bgc__1PrVE",brc:"ShowTicket_brc__GCBwW"}},229:function(e,t,a){},33:function(e,t,a){e.exports={SellTicket:"SellTicket_SellTicket__24LwS",s_t_title:"SellTicket_s_t_title__1iPXL",alert_box:"SellTicket_alert_box__ALhb7",alert:"SellTicket_alert__3fuGz","custom-select":"SellTicket_custom-select__3Dcyq",f14:"SellTicket_f14__3PIah"}},528:function(e,t,a){},529:function(e,t,a){"use strict";a.r(t);var s={};a.r(s),a.d(s,"AMOUNT_EXCEEDS_UNSOLD",(function(){return nr})),a.d(s,"AMOUNT_INCREMENT",(function(){return or})),a.d(s,"AMOUNT_MAX_LIMIT",(function(){return ir})),a.d(s,"AMOUNT_MIN_LIMIT",(function(){return lr})),a.d(s,"ALLOCATE_ENTRY",(function(){return cr})),a.d(s,"AMOUNT_OFFERING_LIMIT",(function(){return rr})),a.d(s,"HOME_GRID",(function(){return dr})),a.d(s,"BOOK_VIEW",(function(){return mr})),a.d(s,"DESK_VIEW",(function(){return hr})),a.d(s,"TRADE_BLOTTER",(function(){return ur})),a.d(s,"INCOMPLETE_SECURITIES",(function(){return br})),a.d(s,"CHOICES_PLATFORM",(function(){return pr})),a.d(s,"STOP_TRADING",(function(){return jr})),a.d(s,"TRADE_ALLOCATIONS",(function(){return xr})),a.d(s,"LIBOR_RATES",(function(){return fr})),a.d(s,"MATURITY_FORECAST",(function(){return gr})),a.d(s,"TIME_LINE",(function(){return Or})),a.d(s,"ISSUER_CURRENT_HOLDER",(function(){return vr})),a.d(s,"INVESTOR_CURRENT_HOLDER",(function(){return yr})),a.d(s,"ISSUER_BUY_RUN",(function(){return kr})),a.d(s,"INVESTOR_BUY_RUN",(function(){return Dr})),a.d(s,"ACCOUNT_MATURITY_REPORT",(function(){return Cr})),a.d(s,"FORWARD_TRADES_REPORT",(function(){return Nr})),a.d(s,"CD_PROFITLOSS_HISTORY_REPORT",(function(){return Sr})),a.d(s,"CP_PANDL_HISTORY",(function(){return wr})),a.d(s,"CD_PANDL_HISTORY",(function(){return Tr})),a.d(s,"CUSIP_HISTORY_REPORT",(function(){return Ir})),a.d(s,"ISSUER_POSITION_LIMIT",(function(){return Mr})),a.d(s,"MANAGEMENT_TRADE_REPORT",(function(){return Ar})),a.d(s,"EOD_POSITION_REPORT",(function(){return Rr})),a.d(s,"ISSUER_HISTORY_REPORT",(function(){return Er})),a.d(s,"SECURITY_RESEARCH_REPORT",(function(){return Fr})),a.d(s,"PROFIT_AND_LOSS_DOWNLOAD",(function(){return Pr})),a.d(s,"GRID_UPLOAD_REPORT",(function(){return Br})),a.d(s,"OFFERINGS",(function(){return Lr})),a.d(s,"NEW_COMMITMENT",(function(){return _r})),a.d(s,"MCP_OFFERINGS",(function(){return Ur})),a.d(s,"CD_GRID",(function(){return Vr})),a.d(s,"ECP_GRID",(function(){return Yr})),a.d(s,"ECD_GRID",(function(){return Hr})),a.d(s,"ECD_GRID_LABEL",(function(){return Wr})),a.d(s,"EUROCOMMERCIALPAPER",(function(){return qr})),a.d(s,"FRCP_GRID",(function(){return zr})),a.d(s,"FRCD_GRID",(function(){return Gr})),a.d(s,"FR_TERM_SHEET",(function(){return Kr})),a.d(s,"ECP_CONVERSION",(function(){return Zr})),a.d(s,"MCP_CONVERSION",(function(){return Jr})),a.d(s,"CD_CONVERSION",(function(){return Qr})),a.d(s,"ECD_CONVERSION",(function(){return Xr})),a.d(s,"FRCD_CONVERSION",(function(){return $r})),a.d(s,"FRCP_CONVERSION",(function(){return ed})),a.d(s,"PIMS_DATA_POSITIONS",(function(){return td})),a.d(s,"PIMS_REPORT",(function(){return ad})),a.d(s,"PIMS_SCHEDULER",(function(){return sd})),a.d(s,"EPIMS_DATA_POSITIONS",(function(){return nd})),a.d(s,"EPIMS_SCHEDULER",(function(){return od})),a.d(s,"EPIMS_TRANSACTIONS",(function(){return id})),a.d(s,"COMPLETED_TERM_SHEETS",(function(){return ld})),a.d(s,"INCOMPLETE_TERM_SHEETS",(function(){return cd})),a.d(s,"MASTER_ACCOUNTS",(function(){return rd})),a.d(s,"VIEWEDIT_ISSUERS",(function(){return dd})),a.d(s,"VIEWEDIT_PROGRAMS",(function(){return md})),a.d(s,"VIEWEDIT_MASTERACCOUNT",(function(){return hd})),a.d(s,"VIEWEDIT_INVESTOR_ACCOUNT",(function(){return ud})),a.d(s,"VIEWEDIT_TRADER_BOOKS",(function(){return bd})),a.d(s,"PROGRAM_CREDIT_LIMITS",(function(){return pd})),a.d(s,"VIEWEDIT_IPA_DATA",(function(){return jd})),a.d(s,"VIEWEDIT_SALES_BOOKS",(function(){return xd})),a.d(s,"TRANSFER_PROGRAMS",(function(){return fd})),a.d(s,"TRANSFER_PROGRAM",(function(){return gd})),a.d(s,"COMPANY_CASSII_ASSOCIATION",(function(){return Od})),a.d(s,"DESK_PARAMETERS",(function(){return vd})),a.d(s,"HOLIDAYS_LIST",(function(){return yd})),a.d(s,"CURRENCY_LIST",(function(){return kd})),a.d(s,"ADMINISTRATOR",(function(){return Dd})),a.d(s,"TRADER",(function(){return Cd})),a.d(s,"SALESPERSON",(function(){return Nd})),a.d(s,"ISSUERUSER",(function(){return Sd})),a.d(s,"USERADMINISTRATOR",(function(){return wd})),a.d(s,"TRADERUSERINFO",(function(){return Td})),a.d(s,"SALEUSERINFO",(function(){return Id})),a.d(s,"ISSUERUSERINFO",(function(){return Md})),a.d(s,"SSO_USER_ASSOCIATION",(function(){return Ad})),a.d(s,"SPREADS_AND_FEES",(function(){return Rd})),a.d(s,"CLONE_USER",(function(){return Ed})),a.d(s,"DASHBOARD",(function(){return Fd})),a.d(s,"RATESREPORT",(function(){return Pd})),a.d(s,"METRICSBYVENUE",(function(){return Bd})),a.d(s,"ACCOUNTMATURITYREPORT",(function(){return Ld})),a.d(s,"PENDINGCUSIPTARDES",(function(){return _d})),a.d(s,"ADNOFFERINGS",(function(){return Ud})),a.d(s,"INVENTORY",(function(){return Vd})),a.d(s,"LATEST_TRADES",(function(){return Yd})),a.d(s,"CP_OFFERINGS",(function(){return Hd})),a.d(s,"PRIMARY",(function(){return Wd})),a.d(s,"PRIM_OFFER",(function(){return qd})),a.d(s,"RISKBYPRODUCT",(function(){return zd})),a.d(s,"RISKBYBOOK",(function(){return Gd})),a.d(s,"RISKBYDEPARTMENT",(function(){return Kd})),a.d(s,"ADN_PANDL_HISTORY",(function(){return Zd})),a.d(s,"RISK_BYPRODUCT",(function(){return Jd})),a.d(s,"RISK_BYMATURITY",(function(){return Qd})),a.d(s,"RISK_BYDEPARTMENT",(function(){return Xd})),a.d(s,"DEPT_INFO",(function(){return $d})),a.d(s,"ISSUER_INDI_RATES",(function(){return em})),a.d(s,"FUTURE_CONTRACT",(function(){return tm})),a.d(s,"SECONDARY_TRADE_BLOTTER",(function(){return am})),a.d(s,"SECONDARY_TRADE_BOOKVIEW",(function(){return sm})),a.d(s,"PENDING_CLIENT_TRADES",(function(){return nm})),a.d(s,"PENDING_SALES_TRADES",(function(){return om})),a.d(s,"CONVERT",(function(){return im})),a.d(s,"CONVERTCONFIRM",(function(){return lm})),a.d(s,"CONFIRM",(function(){return cm})),a.d(s,"DELETE",(function(){return rm})),a.d(s,"SAVE",(function(){return dm})),a.d(s,"ADD",(function(){return mm})),a.d(s,"DELETECONFIRM",(function(){return hm})),a.d(s,"ERROR",(function(){return um})),a.d(s,"FROMDATE_SHOULD_GREATER_SETLLEDATE",(function(){return bm})),a.d(s,"FROMDATE_SHOULD_LESS_TODATE",(function(){return pm})),a.d(s,"MATURITYDATE_SHOULD_GREATER_SETLLEDATE",(function(){return jm})),a.d(s,"MATURITY_EXIST",(function(){return xm})),a.d(s,"MATURITY_DATES_EXIST",(function(){return fm})),a.d(s,"MAXDAYS_VALID",(function(){return gm})),a.d(s,"MINPIECE_INCREMENT",(function(){return Om})),a.d(s,"MINPICE_LESS_QUANTITY",(function(){return vm})),a.d(s,"MINPICE_LESS_OFFERINGLIMIT",(function(){return ym})),a.d(s,"MINPIECE_MIN_VALID",(function(){return km})),a.d(s,"OFFERING_AMOUNT_INCREMENTS",(function(){return Dm})),a.d(s,"OFFERING_LESS_QUANTITY",(function(){return Cm})),a.d(s,"OFFER_MINIMUM",(function(){return Nm})),a.d(s,"PLEASE_CHECK_UNSOLD_ON",(function(){return Sm})),a.d(s,"PLEASE_ENTER_AMOUNT",(function(){return wm})),a.d(s,"PLEASE_ENTER_BID_RATE",(function(){return Tm})),a.d(s,"PLEASE_ENTER_BUY_RATE",(function(){return Im})),a.d(s,"PLEASE_ENTER_CASSII",(function(){return Mm})),a.d(s,"PLEASE_ENTER_ACCOUNT_NAME",(function(){return Am})),a.d(s,"PLEASE_ENTER_SHORT_NAME",(function(){return Rm})),a.d(s,"PLEASE_ENTER_OFFERING_LIMIT",(function(){return Em})),a.d(s,"PLEASE_ENTER_MINIMUM_PIECE",(function(){return Fm})),a.d(s,"PLEASE_ENTER_FROMDATE",(function(){return Pm})),a.d(s,"PLEASE_ENTER_FROMDAYS",(function(){return Bm})),a.d(s,"PLEASE_ENTER_MATURITY_DATE",(function(){return Lm})),a.d(s,"PLEASE_ENTER_MIN_PIECE",(function(){return _m})),a.d(s,"PLEASE_ENTER_OFFER_LIMIT",(function(){return Um})),a.d(s,"PLEASE_ENTER_OFFER_RATE",(function(){return Vm})),a.d(s,"PLEASE_ENTER_RATE",(function(){return Ym})),a.d(s,"PLEASE_ENTER_RESIDUAL_AMOUNT",(function(){return Hm})),a.d(s,"PLEASE_ENTER_RESIDUAL_RATE",(function(){return Wm})),a.d(s,"PLEASE_ENTER_SETTLE_DATE",(function(){return qm})),a.d(s,"PLEASE_ENTER_TEMPLATE_NAME",(function(){return zm})),a.d(s,"PLEASE_ENTER_TEMPLATE_ID",(function(){return Gm})),a.d(s,"PLEASE_ENTER_TODATE",(function(){return Km})),a.d(s,"PLEASE_ENTER_TODAYS",(function(){return Zm})),a.d(s,"PLEASE_ENTER_QUANTITY",(function(){return Jm})),a.d(s,"PLEASE_ENTER_VALID_RESIDUAL_AMOUNT",(function(){return Qm})),a.d(s,"PLEASE_ENTER_VALID_RESIDUAL_RATE",(function(){return Xm})),a.d(s,"PLEASE_ENTER_YIELD",(function(){return $m})),a.d(s,"PLEASE_ENTER_COUPON",(function(){return eh})),a.d(s,"PLEASE_ENTER_PRICE",(function(){return th})),a.d(s,"PLEASE_ENTER_VALID_YIELD",(function(){return ah})),a.d(s,"PLEASE_ENTER_OFFER_YIELD",(function(){return sh})),a.d(s,"PLEASE_ENTER_OFFER_VALID_YIELD",(function(){return nh})),a.d(s,"PLEASE_ENTER_OFFER_AMOUNT",(function(){return oh})),a.d(s,"PLEASE_ENTER_OFFER_VALID_AMOUNT",(function(){return ih})),a.d(s,"PLEASE_ENTER_FIRST_COUPON",(function(){return lh})),a.d(s,"PLEASE_ENTER_AMOUNTS",(function(){return ch})),a.d(s,"PLEASE_ENTER_ISSUE_PRICE",(function(){return rh})),a.d(s,"OFFER_YIELD_SHOULD_BE_LESS_THAN_OR_EQAL_TO_YIELD",(function(){return dh})),a.d(s,"OFFER_RATE_SHOULD_BE_LESS_THAN_OR_EQAL_TO_BID_RATE",(function(){return mh})),a.d(s,"DEL_HOL_CONFIRM",(function(){return hh})),a.d(s,"SAVE_HOL_CONFIRM",(function(){return uh})),a.d(s,"CCYTRDSTIME",(function(){return bh})),a.d(s,"CCYTRDETIME",(function(){return ph})),a.d(s,"PLEASE_ENTER_TR",(function(){return jh})),a.d(s,"PLEASE_ENTER_VARRATE",(function(){return xh})),a.d(s,"SAVECONFIRM",(function(){return fh})),a.d(s,"ADD_HOL_CONFIRM",(function(){return gh})),a.d(s,"ADDCCYCONFIRM",(function(){return Oh})),a.d(s,"SAVECCYCONFIRM",(function(){return vh})),a.d(s,"CANCELTRADECONFIRM",(function(){return yh})),a.d(s,"DELETE_CONFIRM",(function(){return kh})),a.d(s,"SALE_AMOUNT_EXCEEAVAI_TODAY_OFFERAMT",(function(){return Dh})),a.d(s,"SETTLEDATE_LESS_THAN_MATURITYDATE",(function(){return Ch})),a.d(s,"TRANSFER_DATA",(function(){return Nh})),a.d(s,"ONE_SECURITY",(function(){return Sh})),a.d(s,"ONE_BOOK",(function(){return wh})),a.d(s,"NOPROGRAMSFOUND",(function(){return Th})),a.d(s,"ATLEAST_PROGRAM",(function(){return Ih})),a.d(s,"NOTE_PROGRAN_TRANSFER",(function(){return Mh})),a.d(s,"TIMEVALD",(function(){return Ah})),a.d(s,"TIMESHDGT",(function(){return Rh})),a.d(s,"HOURLIMT",(function(){return Eh})),a.d(s,"MINLIMIT",(function(){return Fh})),a.d(s,"TIMEFRMT",(function(){return Ph})),a.d(s,"VTIMEFRMT",(function(){return Bh})),a.d(s,"PLEASE_SELECT_TICKER",(function(){return Lh})),a.d(s,"PLEASE_SELECT_PRODUCT",(function(){return _h})),a.d(s,"PLEASE_ENTER_VALID_DATA",(function(){return Uh})),a.d(s,"PLEASE_SELECT_CURRENCY",(function(){return Vh})),a.d(s,"PLEASE_ENTER_CUSTOMER_OMS",(function(){return Yh})),a.d(s,"PROD_TYPE_CP",(function(){return Hh})),a.d(s,"PROD_TYPE_MCP",(function(){return Wh})),a.d(s,"PROD_TYPE_ECD",(function(){return qh})),a.d(s,"PROD_TYPE_YCD",(function(){return zh})),a.d(s,"PROD_TYPE_FRCD",(function(){return Gh})),a.d(s,"PROD_TYPE_FRCP",(function(){return Kh})),a.d(s,"PROD_TYPE_ECP",(function(){return Zh})),a.d(s,"PROD_TYPE_ADN",(function(){return Jh})),a.d(s,"PROD_TYPE_CP_NAME",(function(){return Qh})),a.d(s,"PROD_TYPE_MCP_NAME",(function(){return Xh})),a.d(s,"RENAME_TEMPLATE",(function(){return $h})),a.d(s,"REMOVE_OFFERINGS",(function(){return eu})),a.d(s,"SELECT_MATURITY_OUT_RANGE",(function(){return tu})),a.d(s,"TODATE_SHOULD_GREATER_SETLLEDATE",(function(){return au})),a.d(s,"TRADEDATE_SHOULD_GREATER_SETLLEDATE",(function(){return su})),a.d(s,"SETTLELEDATE_SHOULD_LESSTHAN_OFFER_SETLLEDATE",(function(){return nu})),a.d(s,"MATURITYDATE_SHOULD_LESSTHAN_OFFER_MATURITYDATE",(function(){return ou})),a.d(s,"TEMPLATES",(function(){return iu})),a.d(s,"VALUE_1",(function(){return lu})),a.d(s,"VALUE_10",(function(){return cu})),a.d(s,"VALUE_11",(function(){return ru})),a.d(s,"VALUE_12",(function(){return du})),a.d(s,"VALUE_2",(function(){return mu})),a.d(s,"VALUE_3",(function(){return hu})),a.d(s,"VALUE_4",(function(){return uu})),a.d(s,"VALUE_5",(function(){return bu})),a.d(s,"VALUE_6",(function(){return pu})),a.d(s,"VALUE_7",(function(){return ju})),a.d(s,"VALUE_8",(function(){return xu})),a.d(s,"VALUE_9",(function(){return fu})),a.d(s,"USD",(function(){return gu})),a.d(s,"EUR",(function(){return Ou})),a.d(s,"GBP",(function(){return vu})),a.d(s,"AUD",(function(){return yu})),a.d(s,"CHF",(function(){return ku})),a.d(s,"JPY",(function(){return Du})),a.d(s,"INR",(function(){return Cu})),a.d(s,"CAD",(function(){return Nu})),a.d(s,"TRADEPROCESSMAP",(function(){return Su}));var n=a(3),o=a.n(n),i=a(6),l=a(7),c=a(8),r=a(9),d=a(254),m=a(35),h=a(253),u=a(0),b=["component"],p=function(e){var t=e.component,a=Object(h.a)(e,b);return Object(u.jsx)(d.b,Object(m.a)(Object(m.a)({},a),{},{render:function(e){return sessionStorage.getItem("user")?Object(u.jsx)(t,Object(m.a)({},e)):Object(u.jsx)(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},j=a(74),x=Object(j.a)(),f=a(48),g=a(19),O=a(2),v=a(34),y=a.n(v),k=a(37),D=a(17),C=a(163),N={SUCCESS:"ALERT_SUCCESS",ERROR:"ALERT_ERROR",CLEAR:"ALERT_CLEAR",URL:C.a.API_URL,WSURL:C.a.WS_URL,SIGNINURL:C.a.SIGNIN_URL,WEBSOCKET:"/websocket",homePage:"/home",appEnv:"dev",timeOut:5,apiTimeOut:3e4,token:sessionStorage.getItem("token")},S=a(5),w=a.n(S),T={httpFormPostJson:function(e,t){return I.apply(this,arguments)}};function I(){return(I=Object(f.a)(y.a.mark((function e(t,a){var s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"POST",url:t,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}});case 2:return(s=e.sent).data&&(sessionStorage.setItem("user",JSON.stringify(s)),sessionStorage.setItem("token",JSON.stringify(s.data.jwt)),sessionStorage.setItem("loginName",JSON.stringify(s.data.loginname)),sessionStorage.setItem("loginid",s.data.loginid),sessionStorage.setItem("roledesc",JSON.stringify(s.data.roledesc)),sessionStorage.setItem("companyid",JSON.stringify(s.data.companyid)),sessionStorage.setItem("membercatid",s.data.membercatid),sessionStorage.setItem("ssoUserData",JSON.stringify(s.data.ssoUserData)),sessionStorage.setItem("loggedinRoleType",s.data.roletypeid),sessionStorage.setItem("loggedinId",s.data.loginid),localStorage.setItem("mainLogin","A"===s.data.roletypeid?"Admin":s.data.roletypeid),localStorage.setItem("roletype","A"===s.data.roletypeid?"Admin":s.data.roletypeid),localStorage.setItem("firstName",s.data.firstName),localStorage.setItem("lastName",s.data.lastName),x.push("/home")),e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M={login:function(e,t){var a={};return a.loginName=e,a.secretKey=t,T.httpFormPostJson(N.SIGNINURL,a)},logout:function(){sessionStorage.removeItem("user"),sessionStorage.removeItem("token"),sessionStorage.removeItem("loginName"),localStorage.removeItem("roletype"),localStorage.removeItem("firstName"),localStorage.removeItem("lastName"),sessionStorage.removeItem("loginid"),sessionStorage.removeItem("membercatid"),sessionStorage.removeItem("roledesc"),sessionStorage.removeItem("notifList"),sessionStorage.removeItem("salesnotifList"),sessionStorage.removeItem("loggedinTime")}};var A=a(202),R=a(13),E=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={username:"",password:"",errorMsg:"",show:!1},s.validateForm=s.validateForm.bind(Object(O.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(O.a)(s)),s.handleChange=s.handleChange.bind(Object(O.a)(s)),s.setShow=s.setShow.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"validateForm",value:function(){return this.state.username.length>0&&this.state.password.length>0}},{key:"handleChange",value:function(e){this.setShow(!1);var t=e.target,a=t.name,s=t.value;this.setState(Object(g.a)({},a,s))}},{key:"handleSubmit",value:function(){var e=Object(f.a)(y.a.mark((function e(t){var a,s,n,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=this.state,s=a.username,n=a.password,!s||!n){e.next=9;break}return e.next=5,M.login(s.trim(),n.trim());case 5:null!=(o=e.sent)&&void 0!==o&&o.data||this.setState({errorMsg:"Invalid Username or Password"}),e.next=10;break;case 9:this.setState({show:!0});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setShow",value:function(){this.setState({show:!1})}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return Object(u.jsxs)("div",{children:[Object(u.jsx)(A.a,{className:"loginHead default-header",children:Object(u.jsx)(A.a.Brand,{className:"brandname",children:"Your Order Management System (DOMES)"})}),Object(u.jsx)("div",{className:"Login",children:Object(u.jsxs)(k.a,{onSubmit:this.handleSubmit,className:"loginForm",children:[Object(u.jsxs)(k.a.Label,{children:[this.state.errorMsg.length>0&&Object(u.jsx)(R.a,{variant:"danger",children:this.state.errorMsg}),this.state.show&&Object(u.jsx)(R.a,{variant:"danger",children:"Invalid Username or Password"})]}),Object(u.jsx)(k.a.Group,{size:"lg",controlId:"label",children:Object(u.jsx)("h5",{children:"Please Login!"})}),Object(u.jsxs)(k.a.Group,{size:"lg",controlId:"email",children:[Object(u.jsx)(k.a.Label,{children:"Login"}),Object(u.jsx)(k.a.Control,{autoFocus:!0,type:"username",name:"username",value:t,onChange:this.handleChange,autoComplete:"off",placeholder:"Username"})]}),Object(u.jsxs)(k.a.Group,{size:"lg",controlId:"password",children:[Object(u.jsx)(k.a.Label,{children:"Password"}),Object(u.jsx)(k.a.Control,{type:"password",name:"password",value:a,onChange:this.handleChange,placeholder:"Password"})]}),Object(u.jsx)(D.a,{block:!0,size:"lg",type:"submit",disabled:!this.validateForm,className:"default-btn",children:"Login"})]})})]})}}]),a}(o.a.Component),F=E,P=a(15),B=a(14),L=a(258),_=(o.a.Component,function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).showSubnav=function(e){var t,a=document.getElementsByClassName(e.linkId);for(t=0;t<a.length;t++)a[t].classList.toggle("collapse"),a[t].className.indexOf("collapse")},s.state={subnav:!1},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.item;this.state.subnav;return Object(u.jsx)(u.Fragment,{children:"1"===t.linkLevel&&"10000036"!==t.linkId?Object(u.jsx)("div",{className:"sidebarlink",onClick:function(a){return e.showSubnav(t)},children:"ADMNHOME"!==t.linkCode&&"BOOKVIEW"!==t.linkCode&&"DESKVIEW"!==t.linkCode&&"DASHGRAH"!==t.linkCode&&"FUTRCNRT"!==t.linkCode&&"ISRINDRT"!==t.linkCode&&"SNTRBKVW"!==t.linkCode?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{id:t.linkDescription,className:"sidebarlabel",children:t.linkDescription}),Object(u.jsx)(B.a,{})]}):Object(u.jsx)("span",{id:t.linkDescription,onClick:this.props.hideSidebar,className:"sidebarlabel",children:t.linkDescription})}):Object(u.jsx)(u.Fragment,{children:t.linkId&&t.parentLinkId&&"2"===t.linkLevel?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"subsidebarlink collapse "+t.parentLinkId,onClick:function(a){return e.showSubnav(t)},children:"10000404"===t.parentLinkId&&"Grid Upload Report"!==t.linkDescription||"10001470"===t.parentLinkId?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{id:t.linkDescription,children:t.linkDescription}),Object(u.jsx)(B.a,{})]}):Object(u.jsx)(u.Fragment,{children:"10001438"===t.parentLinkId&&"Conversions"===t.linkDescription||"Product Parameters"===t.linkDescription?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{id:t.linkDescription,children:t.linkDescription}),Object(u.jsx)(B.a,{})]}):Object(u.jsx)("span",{onClick:this.props.hideSidebar,id:t.linkDescription,children:t.linkDescription})})})}):Object(u.jsx)(u.Fragment,{children:t.linkId&&t.parentLinkId&&"3"===t.linkLevel&&Object(u.jsx)("div",{className:"dropdownlink collapse "+t.parentLinkId,children:"Conversions"===t.linkDescription?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{id:t.linkId,className:"sidebarlabel "+t.parentLinkId,onClick:function(a){return e.showSubnav(t)},children:t.linkDescription}),Object(u.jsx)(B.a,{})]}):Object(u.jsx)("span",{id:t.linkId,onClick:this.props.hideSidebar,className:"sidebarlabel",children:t.linkDescription})})})})})}}]),a}(o.a.Component)),U=_,V=a(135),Y=a.n(V),H=a(11),W=a(4),q=a(156),z=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectData:""},s.getValue=s.getValue.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"getValue",value:function(e){var t=this,a="";Object.keys(this.props.data).map((function(s,n){t.props.data[s].linkDescription===e[0]&&(a=t.props.data[s])})),this.props.onchange(e,a)}},{key:"render",value:function(){var e=this.props,t=[];return e.data&&e.data.map((function(e){"TRDINQRY"!==e.linkCode&&"LNREPORTS"!==e.linkCode&&"PRTRANLS"!==e.linkCode&&"POTRMGMT"!==e.linkCode&&"COMITMNT"!==e.linkCode&&"CNVRSONS"!==e.linkCode&&"PIMSHOME"!==e.linkCode&&"EPIMS"!==e.linkCode&&"ADMNSTRN"!==e.linkCode&&"MAINTENS"!==e.linkCode&&"PRODMGMT"!==e.linkCode&&"PRODPARM"!==e.linkCode&&"FROADMIN"!==e.linkCode&&t.push(e)})),t&&Object(u.jsx)(q.a,{className:this.props.className,id:this.props.id,onChange:this.getValue,options:Object.keys(t).map((function(e){return t[e].linkDescription})),selected:this.props.selected})}}]),a}(o.a.Component),G=z,K=a(32),Z=a.n(K),J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAB7CAAAewgFu0HU+AAAGVWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTA4LTI0VDExOjQ0OjMzKzA1OjMwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE4LTA4LTI0VDExOjQ0OjMzKzA1OjMwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0wOC0yNFQxMTo0NDozMyswNTozMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDplZGM4ZDE4OS0xMTAyLWVmNDEtOWNlMS1jZDgyNDkyY2UwNDEiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpkNjExM2Q3YS1mYTUxLWIzNDItOTZiYi1iMDRhYzQ1YzIxZDgiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpjODdjYTVhZi03NDkxLWE3NGYtOTM1Ni1kNjU4ZThmMGQwOTgiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpjODdjYTVhZi03NDkxLWE3NGYtOTM1Ni1kNjU4ZThmMGQwOTgiIHN0RXZ0OndoZW49IjIwMTgtMDgtMjRUMTE6NDQ6MzMrMDU6MzAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZWRjOGQxODktMTEwMi1lZjQxLTljZTEtY2Q4MjQ5MmNlMDQxIiBzdEV2dDp3aGVuPSIyMDE4LTA4LTI0VDExOjQ0OjMzKzA1OjMwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPjRBQkJCNTNGMDJDRkMyRDAzMzM4OEQ4RUUwNzcwODgzPC9yZGY6bGk+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+dfxX8wAAAzBJREFUOI2tVL9vW1UU/s798e57dmxjW+SXUtSoLgJRFLWIBQYQ7CywIQZohdSuFQMTfwEoAgmEQBEDrAzsFUMZjJBgoQqJGqgotKSOnTr28/P7cc9hcBLiJgOIHunoLud+95zvfucjEcHDDPPl19+gUq0hjkcoVWvwIni6quG6fwDWobO5AS4KEBHEhSiWWygK36wY9fxsZebGOBlueWiw0RjqCOZfP00EnaUo1n/Gjmf/uy1fGZ49ky6F9CYzegdl6sS7ABRNToKAREAQCAQlEiwYSnTk7m3c23vlVnewqjQ9SrQ/8klgIy8ocoZV/NhYB2dYlCGlBACUSJETVay2SwEBW73kDRuEaq5efgfA3WOATilsDDJIN8ZCKXvtdnn2fYaAHqhTAmhhRM5hY7v/OhPCUj169ziHSsEZ4zLmlLOMgTAToeDBMg/e50sQBhrrf3ZfXSlXOlMcklIYx/Fzg/u7F0OjVGSVQBAQAQe5TyzUkZ6zgjFXr9y0Pr32T4dKwRrT2u3c/XAwHPSGJJ8vzy9+v3Dnr9Usyx0RMQCQQHKlwzgovZgp00rHKRol98vZxfqVPOdvJ4BEyNP0yXFv+7OA/DPOBV/c7OxmjV7crnpu555BRGAQQmHMjXb1b5XZtRHC1myzfqP1iLtMkOsCmfyy0fockr210cg/q41FYHB+qVF773Z3Ly5FM0IRAYBiqNyyv8b9nfVYjebnTzV/feqJ05eyXrftOZ/IRphfGO5sf2DAF6ANWASB0StNW1oRERzdzEIkt85cbS6fWq+EteuLpxc+Nla1E++BQx3m2VtJMrxgnZsSIwEgIhzVC4kgKcjeL9f843ONj0Jn+yPP0yIBYdWUq99BGIe35RB3KhWRLVjsIPGi2Pc9HzcWA+AnHUYXdWA/Sfq9lwLnME6Ldn+crrFITEQGAEQEpMmH5dqPd7ICW0PGuQaQngAIiGzaaOZtFvlUkuHLBfvNcVF8JcBITdQ3AYSCI0jKQOJxbHsmI+Nwyq2gVLmkXOkHn+fzEUGbCYdCB7lPxgEFJ8XU6jH7W+V683ImOD/udMJI60HiPf6LCdPDduwT/fD/xN+k4HoKEVkq1gAAAABJRU5ErkJggg==",Q="Account",X="Acct",$="acctName",ee="Account Name",te="actionId",ae="acctNbr",se="Account Number",ne="Account Type",oe="Action",ie="Actions",le="AFR",ce="Alignment",re="amount",de="Amt ($m)",me="Append",he="availableCredit",ue="availableToday",be=Object(u.jsx)(B.o,{id:"amend"}),pe="allocationFlag",je="Account Name and CASSII #",xe="allIn",fe="Acc Int$",ge="Accretion",Oe="accruedInterest",ve="sfCheck",ye="Bid Rate",ke="bidYield",De="Bid Yield",Ce="bid",Ne="Bid",Se="Book",we="Book Name",Te="B/S",Ie="BUY RATES",Me="Buys/Sells",Ae="Bb Ticker",Re="Book Description",Ee="Book Number",Fe="Book Code",Pe="Callable",Be="Case",Le="OMS",_e="check",Ue="Check",Ve="Convert",Ye="Cost",He="Coupon",We="Currency",qe="currency",ze="Cur",Ge="Cur",Ke="currencyName",Ze="CUSIP",Je=Object(u.jsx)("img",{src:J,id:"convert"}),Qe="Comments",Xe="Client Firm Name",$e="cassiiAcctNbr",et="smcheck",tt="Dated",at="Date",st="Days to Maturity",nt="dayBasis",ot="Default Value",it="Delete",lt="Bid Yld",ct="dispDescr",rt="dispOfferYield",dt="Offer Yld",mt="Disc$",ht="Duration From",ut="Duration To",bt="deleteType",pt=Object(u.jsx)(B.y,{id:"delete"}),jt="CUSIP Base Yr 1-2",xt="CUSIP Base Yr 3-4",ft="Date opened",gt=Object(u.jsx)("img",{src:J,id:"ecdconvert"}),Ot=Object(u.jsx)("img",{src:J,id:"ecpconvert"}),vt="8M",yt="11M",kt="",Dt="electronic",Ct="fee",Nt="Field Name",St="filenameStartWith",wt="File Name Start With",Tt="Filler",It="First Coupon",Mt="5M",At="Float Index",Rt="FO Field Name",Et="4M",Ft="FITCH",Pt="Fee (bps)",Bt="Grand Total",Lt="description",_t="holidayDate",Ut="Investor Top Account",Vt="Investor",Yt="interestAmount",Ht="IPA",Wt="ISIN",qt="issueId",zt="Delete",Gt="issuerName",Kt="Issuer",Zt="Issuer Code",Jt="Issuer",Qt="Issuer Account",Xt="IPA Code",$t="IPA Name",ea="Issuer Name",ta="Length",aa="Limit($m)",sa="LT Rating",na="Location",oa="maturityDateStr",ia="Range",la="Maturity Date",ca="MATURITY RANGES",ra="Maturity",da="Mat",ma="MD",ha="Message Type",ua="Min Piece($m)",ba="minimumPieceSize",pa="Min Piece($m)",ja="Min Piece (m)",xa="msgType",fa="Mty",ga="$m",Oa="Modify/Delete",va="Master Account",ya="MOODY",ka="Net (m)",Da="9M",Ca="Notes",Na="Net$",Sa="Offered Amount ($m)",wa="offeringlimit",Ta="Offered Amt ($m)",Ia="Offer Lmt($m)",Ma="Offer Lmt (m)",Aa="Offer Quant($m)",Ra="OFFER RATES",Ea="offer",Fa="Offer",Pa="Offer Rate",Ba="offerYield",La="Offer Yield",_a="oneday",Ua="O/N",Va="1M",Ya="oneWeek",Ha="1WK",Wa="1Y",qa="Order",za="OR QNTYS(m)",Ga="offerStatus",Ka="Par ($m)",Za="Par (m)",Ja="Pending Trades",Qa="Check",Xa="Precision",$a="price",es="Price",ts="Process Folder",as="Process Name",ss="Schedule(in Mins)",ns="Process Type",os="#",is="Product",ls="Prod",cs="Profit/Loss Data",rs="Purchase Date",ds="Position Limit ($m)",ms="program",hs="Program",us="Primary Trader",bs="Product Type",ps="Rate",js="Realize Profit/Loss",xs="Reason",fs="Receive Time",gs="Reg",Os="Reg Type",vs="Rejected Trades",ys="Roll Type",ks="Roll Date",Ds="Row Type",Cs="Region",Ns="Sales Person",Ss="Scale",ws="Security Type",Ts="Settle Date",Is="settleDateStr",Ms="SD",As="settle",Rs="Settle",Es="Set",Fs="Set.Date",Ps="7M",Bs="shortName",Ls="Short Name",_s="6M",Us="Size (m)",Vs="Size",Ys="spread",Hs="Start Position",Ws="status",qs="Status",zs="ST Rating",Gs="Source",Ks="Stop Offerings",Zs="Stop Trading",Js="Social Code",Qs="Secondary Trader",Xs="Spread (bp)",$s="TD",en="Template's",tn="10M",an="3M",sn="threeWeek",nn="3WK",on="tickerCode",ln="ticker",cn="Ticker",rn="ticket",dn="Ticket",mn="Threshold",hn="Credit Limit",un="Threshold($m)",bn="Trade Date",pn="Trader",jn="Trading Book",xn="Transmit Time",fn="12M",gn="twoday",On="T/N",vn="2M",yn="twoWeek",kn="2WK",Dn="Type",Cn="Total Position ($m)",Nn="tradeStatus",Sn="Tw Ticker",wn="Unsold($m)",Tn="Venue",In="Yield",Mn="loginname",An="User Id",Rn="roledesc",En="User Role",Fn="weekCheck",Pn="Name",Bn="ID",Ln="Phone",_n="Telephone",Un="Email",Vn="action",Yn="Desk",Hn="Security",Wn="Position(m)",qn="Net Sett(s)(m)",zn="90 Day(m)",Gn="P&L",Kn="P&L Unrealized",Zn="P&L Realized",Jn="P&L Total",Qn="DV01",Xn="Convexity01",$n="DV01+Convexity01",eo="Mkt Val(m)",to="Net Open(s)(m)",ao="Lst Net(m)",so="Income(s)(m)",no="Realized",oo="Unrealized",io="WAM",lo="totalNinetyDays",co="sumofPositionAmt",ro="sumofNetsetts",mo="sumofProdAndUnrealizedpl",ho="sumofProdAndRealizedpl",uo="pandl",bo="Country",po="From Date",jo="To Date",xo="premium",fo="Total Amount ($m)",go="Amount (m)",Oo="Rate Type",vo="Document Upload",yo=Object(u.jsx)(B.o,{id:"oamend"}),ko=Object(u.jsx)(B.y,{id:"odelete"}),Do=[];Do.ticket=dn,Do.prodCode=ls,Do.ticker=cn,Do.bid=He,Do.maturityDate=da,Do.settlementDate=Fs,Do.amount=ga,Do.bidYield=In,Do.price=es,Do.cassii=Le,Do.net=Na,Do[Oe]=fe,Do.msgType=Te,Do.notes=Ca,Do.actionId=ie;var Co=[];Co.programId=os,Co.ticket=dn,Co.ticker=cn,Co.shortName=X,Co.prodCode=ls,Co.currencyCode=Ge,Co.amount=go,Co.settle=$s,Co.settlementDate=Ms,Co.maturityDateStr=da,Co.bid=ps,Co.bidYield=In,Co.afr=le,Co.price=es,Co.msgType=Te,Co.bookNo=Se,Co.dispDescr=qs,Co.amendType=be,Co[bt]=pt;var No=[];No.programId=os,No.ticket=dn,No.ticker=cn,No.shortName=X,No.prodCode=ls,No.currencyCode=Ge,No.amount=go,No.settle=$s,No.settlementDate=Ms,No.maturityDateStr=da,No.bid=ps,No.bidYield=In,No.afr=le,No.price=es,No.msgType=Te,No.bookNo=Se,No.dispDescr=qs;var So=[];So.ticketId=dn,So.ticketAmount=ga,So.salesPerson=Ns;var wo=[];wo.ticketId=dn,wo.ticketAmount=ga,wo.settleDate=Ms,wo.maturityDate=ma,wo.ticketRate=ps,wo.currency=ze,wo.yield=In,wo.tradeSource=Gs,wo.cassii=Vt,wo.salesPerson=Ns,wo.msgType=Te,wo.status=qs;var To=[];To.ticket=dn,To.modifiedDate=at,To.settleDate=Ts,To.maturityDate=la,To.amount=Vs,To.bid=Ne,To.accretion=ge,To.realizedpl=no,To.unrealizedpl=oo,To.pandl=Gn;var Io=[];Io.ticket=dn,Io.prodCode=ls,Io.ticker=cn,Io.amount=ga,Io.settlementDate=Fs,Io.maturityDate=da,Io.bid=ps,Io.cassii=Le,Io.net=Na,Io[Yt]=mt,Io.msgType=Te,Io.notes=Ca,Io.actionId=ie;var Mo=[];Mo.ticket=dn,Mo.ticker=cn,Mo.issuerName=Jt,Mo.productType=is,Mo.cusip=Ze,Mo.amount=Za,Mo.issueDate=$s,Mo.settlementDate=Ms,Mo.maturityDate=da,Mo.bookDesc=Se,Mo.source=Gs;var Ao=a(12),Ro=a.n(Ao),Eo=a.p+"omsservice/static/media/buy.5a82e66d.png",Fo=a.p+"omsservice/static/media/sell.3c6bea8c.png",Po=function(e){return e.toString().replaceAll(",","")},Bo=function(e,t){var a,s;for(a=0;a<e.length;a++)if(s=e.charAt(a),-1==t.indexOf(s))return!1;return!0},Lo=function(e){var t="",a="",s=0;if(void 0!==e){if(0===(e=e.toString()).indexOf("-")&&(a="-",e=e.replace("-","")),e.indexOf(".")>0&&(t=e.substring(e.indexOf(".")),e=e.substring(0,e.indexOf("."))),(e=""+e).length>3){var n=e.length%3,o=n>0?e.substring(0,n):"";for(s=0;s<Math.floor(e.length/3);s++)o+=0==n&&0==s?e.substring(n+3*s,n+3*s+3):","+e.substring(n+3*s,n+3*s+3);return a+o+t}return a+e+t}},_o=function(e){for(var t="en_US",a=Yo(t),s=e.target,n="",o=s.value,i=0;i<o.length;i++){var l=o.charAt(i);l!=a&&(n+=l)}var c,r=parseInt(n.length),d=parseInt(n.length-1),m=parseInt(n.length-2);c=n.substring(d,r);var h=n.substring(d,m);n.substring(0,d),n.substring(0,m-1);if(1==Bo(s.value,"0123456789MmKk."))if("M"!=c&&"m"!=c||"M"!=h&&"m"!=h){if(1==Bo(c,"KkMm")){u=1e3*parseFloat(Ho(n,Vo(t),"."));e.target.value=u}}else{var u=1e6*parseFloat(Ho(n,Vo(t),"."));e.target.value=u}if(0==Wo(e,t))return!1},Uo=function(e){for(var t="en_US",a=Yo(t),s=e.target,n="",o=s.value,i=0;i<o.length;i++){var l=o.charAt(i);l!=a&&(n+=l)}var c,r=parseInt(n.length),d=parseInt(n.length-1),m=parseInt(n.length-2);c=n.substring(d,r);var h=n.substring(d,m);n.substring(0,d),n.substring(0,m-1);if(1==Bo(s.value,"0123456789MmKk."))if("M"!=c&&"m"!=c||"M"!=h&&"m"!=h){if(1==Bo(c,"KkMm")){u=1e3*parseFloat(Ho(n,Vo(t),"."));e.target.value=u}}else{var u=1e6*parseFloat(Ho(n,Vo(t),"."));e.target.value=u}if(0==qo(e,t))return!1},Vo=function(e){switch(e){case"tr_TR":case"pl_PL":return",";default:return"."}},Yo=function(e){switch(e){case"tr_TR":return".";case"en_US":default:return",";case"pl_PL":return" "}},Ho=function(e,t,a){var s=e;if(""==t)return e;if(-1==a.indexOf(t))for(;-1!=s.indexOf(t);){var n=s.substring(0,s.indexOf(t)),o=s.substring(s.indexOf(t)+t.length,s.length);s=n+a+o}else{for(var i=new Array("~","`","_","^","#"),l="";""==l;)for(var c=0;c<i.length;c++){for(var r="",d=0;d<1;d++)r+=i[c];-1==t.indexOf(r)&&(l=r,c=i.length+1)}for(;-1!=s.indexOf(t);){n=s.substring(0,s.indexOf(t)),o=s.substring(s.indexOf(t)+t.length,s.length);s=n+l+o}for(;-1!=s.indexOf(l);){n=s.substring(0,s.indexOf(l)),o=s.substring(s.indexOf(l)+l.length,s.length);s=n+a+o}}return s},Wo=function(e,t,a){var s=e.target,n=s.value.length,o="",i=s.value,l=Vo(t),c=parseInt(i.indexOf(l))+1,r=parseInt(i.indexOf(l)),d="",m=Yo(t),h="2";if(s.value,!Bo(e.target.value,"0123456789.,"))return e.target.value="",e.target.focus(),!1;if(-1!=r&&Go(i.substring(c,n)))return e.target.value="",e.target.focus(),!1;if(-1!=r&&!Bo(i.substring(c,n),"0123456789"))return e.target.value="",e.target.focus(),!1;for(var u=0;u<n;u++){var b=i.charAt(u);b!=m&&(o+=b)}i=o;n=o.length;if(-1==(c=parseInt(i.indexOf(l)))){for(;n>3;)d=m+i.substring(n-3,n)+d,n=i.substring(0,n-3).length;e.target.value=i.substring(0,n)+d,e.target.value=zo(s.value,h,"2",t),e.target.value=Ko(s.value,h,t),0==parseInt(s.value)&&(e.target.value="0.00")}else{var p=i.substring(c,n);for(n-=i.substring(c,n).length;n>3;)d=m+i.substring(n-3,n)+d,n=i.substring(0,n-3).length;var j=i.substring(0,n)+d+p;e.target.value=zo(j,h,"2",t),e.target.value=Ko(s.value,h,t)}},qo=function(e,t,a){var s,n=e.target,o=n.value.length,i="",l=n.value,c=Vo(t),r=parseInt(l.indexOf(c))+1,d=parseInt(l.indexOf(c)),m="",h=Yo(t);if(n.value,!Bo(e.target.value,"0123456789.,"))return e.target.value="",e.target.focus(),!1;if(-1!=d&&Go(l.substring(r,o)))return e.target.value="",e.target.focus(),!1;if(-1!=d&&!Bo(l.substring(r,o),"0123456789"))return e.target.value="",e.target.focus(),!1;for(var u=0;u<o;u++){var b=l.charAt(u);b!=h&&(i+=b)}l=i;o=i.length;if(-1==(r=parseInt(l.indexOf(c)))){for(;o>3;)m=h+l.substring(o-3,o)+m,o=l.substring(0,o-3).length;e.target.value=l.substring(0,o)+m,e.target.value=zo(n.value,s,"2",t),e.target.value=Ko(n.value,s,t),0==parseInt(n.value)&&(e.target.value="0")}else{var p=l.substring(r,o);for(o-=l.substring(r,o).length;o>3;)m=h+l.substring(o-3,o)+m,o=l.substring(0,o-3).length;var j=l.substring(0,o)+m+p;e.target.value=zo(j,s,"2",t),e.target.value=Ko(n.value,s,t)}},zo=function(e,t,a,s){for(var n=Vo(s),o=Yo(s),i="",l="",c=0;c<e.length;c++){var r=e.charAt(c);r!=o&&(l+=r)}if(t>0)if(e.toString().length-e.toString().lastIndexOf(n)>parseInt(t)+1){var d=Math.pow(10,t);i=0==a?Math.ceil(Ho(l,n,".")*d)/d:1==a?Math.floor(Ho(l,n,".")*d)/d:Math.round(Ho(l,n,".")*d)/d}else i=e;else i=l;if(-1==i.toString().indexOf(".")){i+=".";for(var m=0;m<t;m++)i+="0"}else if(-1!=i.toString().indexOf(".")){var h=i.toString().indexOf(".")+1,u=i.toString().length;if(u-h!=t)for(m=0;m<t-(u-h);m++)i+="0"}return i},Go=function(e){for(var t=0;t<e.length;t++){var a=e.charAt(t);if(" "!=a&&"\n"!=a&&"\t"!=a)return!1}return!0},Ko=function(e,t,a){var s;s=a;var n="",o="",i="",l="",c="";try{if(t=parseInt(t),o=Yo(s),i=Vo(s),t<1&&(i=""),l=function(e){var t,a=e+"",s="",n=a.length;try{for(var o=0;o<n;o++)(t=a.charAt(o).charCodeAt(0))>=48&&t<=57&&(s+=a.charAt(o))}catch(i){console.log("Format Clean",i)}return s}(e),l.length<1)return n+Zo(i,t);if(parseFloat(l)<1)return n+Zo(i,t);if(l.length==t)return"0"+i+l;if(l.length<t)return 2==t?n+Zo(i,t-1)+l:n+Zo(i,t-2)+l;l.length>t&&(c=i+l.substring(l.length-t,l.length),l=l.substring(0,l.length-t));for(var r=new RegExp("(-?[0-9]+)([0-9]{3})");r.test(l);)l=l.replace(r,"$1"+o+"$2")}catch(d){console.log("Format Number",d)}return n+l+c},Zo=function(e,t){for(var a="",s=0;s<t;s++)0==s&&(a+=e),a+="0";return"0"+a};function Jo(e,t){var a,s=[];return Object.keys(t).map((function(e){if("amount"===e||"availableAmount"===e){var n={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return"amount"!==e?Lo(t):void 0!==t?void 0!==(a=t.toString())&&0===a.indexOf("-")?Object(u.jsxs)("div",{className:"text-right text-danger",children:["(",Lo(a.replace("-","")),")"]}):Object(u.jsx)("div",{className:"text-right",children:Lo(t)}):void 0},align:"right"};s.push(n)}else if("unrealizedpl"===e){n={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return void 0!==e&&void 0!==(a=e.toString())&&0===a.indexOf("-")?Object(u.jsxs)("div",{className:"text-right text-danger",children:["(",a.replace("-",""),")"]}):Object(u.jsx)("div",{className:"text-right",children:e})},align:"right"};s.push(n)}else if("pandl"===e){n={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return void 0!==e&&void 0!==(a=e.toString())&&0===a.indexOf("-")?Object(u.jsxs)("div",{className:"text-right text-danger",children:["(",a.replace("-",""),")"]}):Object(u.jsx)("div",{className:"text-right",children:e})},align:"right"};s.push(n)}else if("msgType"===e||"status"===e||"buySellFlag"===e){n={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):Object(u.jsx)("span",{children:e})}};s.push(n)}else if("ticketAmount"===e){n={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),align:"right"};s.push(n)}else if("price"===e){n={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"};s.push(n)}else if(e){n={dataField:e,text:t[e],filter:Object(Ao.textFilter)()};s.push(n)}return""})),s}function Qo(e,t){var a=[];return Object.keys(t).map((function(s){return Object.keys(e[0]).map((function(e){if(e===s&&t[e]){if(e===_e)n={dataField:e,text:t[e]};else if("amount"===e||"issuerAmount"===e||"investorAmount"===e||"grandTotal"===e)var n={dataField:e,text:t[e],formatter:function(e,t,a,s){return Lo(e)},align:"right"};else n={dataField:e,text:t[e],editable:!1};a.push(n)}return""})),""})),a}function Xo(e,t){var a=[];return Object.keys(t).map((function(s){return Object.keys(e[0]).map((function(e){var n;e===s&&(t[e]&&(n="amount"===e?{dataField:e,text:t[e],formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:e,text:t[e],editable:!1},a.push(n)));return""})),""})),a}var $o=a(72),ei=a(25),ti=a(87),ai=a(10),si=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.id;return Object(u.jsx)(k.a.Label,{id:a,className:this.props.className,children:t})}}]),a}(o.a.Component),ni=si,oi=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectData:""},s.onConfirm=s.onConfirm.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"onConfirm",value:function(){this.props.onConfirm()}},{key:"render",value:function(){var e=this;return this.props.message?Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,contentClassName:"alert-modal","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"alert-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.title})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsx)(R.a,{variant:"ERROR"===this.props.messageType?"danger":"primary",children:this.props.message})}),"ERROR"===this.props.messageType?Object(u.jsx)(P.a.Footer,{children:Object(u.jsx)(D.a,{onClick:this.props.onHide,children:"OK"})}):Object(u.jsxs)(P.a.Footer,{children:[Object(u.jsx)(D.a,{onClick:function(){return e.onConfirm()},children:"OK"}),Object(u.jsx)(D.a,{onClick:this.props.onHide,children:"Cancel"})]})]}):""}}]),a}(o.a.Component),ii=oi,li="/addECDgrid",ci="/addCDgrid",ri="/addECPgrid",di="/addFRCPgrid",mi="/addFRCDgrid",hi="/deleteCPCommitment",ui="/deleteMCPCommitment",bi="/deleteUser",pi="/getStmtTypes",ji="/getTickers",xi="/getCDProfitAndLossHistory",fi="/getCusips",gi="/getTicketTypes",Oi="/getEODPositionsReport",vi="/getProductTypes",yi="/getPositionLimit",ki="/geCDTotalPositions",Di="/getCPTotalPositions",Ci="/getInvestorBuyRun",Ni="/getIssuerInvestorCurrentHolder",Si="/getIssuers",wi="/getReportIssuers",Ti="/getIssuerBuyRun",Ii="/getVenues",Mi="/getMaturityForecastReport",Ai="/getTimelineReport",Ri="/getSecuritySearchReport",Ei="/getCurrency",Fi="/getBooks",Pi="/getDataAlignMap",Bi="/getEPIMSMessageTypes",Li="/getEPIMSDataPositions",_i="/getEPIMIPADataMap",Ui="/getPimStatuseMap",Vi="/getActiveInactive",Yi="/getEPIMSScheduler",Hi="/getCDConvertionDetails",Wi="/getMergeConvertionDetails",qi="/getCDgrids",zi="/getECDgrids",Gi="/getFRCDgrids",Ki="/getFRCPgrids",Zi="/getCPConvertionDetails",Ji="/getECPgrids",Qi="/getCPCommitmentDetails",Xi="/getMCPCommitmentDetails",$i="/getConversionDetails",el="/getTodaysMaturities",tl="/getTicketDetails",al="/getSecurityDetails",sl="/getPriceDetails",nl="/getTradeHistoryDetails",ol="/getDeskViewTradeDetails",il="/getUsers",ll="/saveSellTicket",cl="/checkInvestorAccount",rl="/getSpreadFeeData",dl="/getUserProdPermDetails",ml="/publishCPCommitment",hl="/publishMCPCommitment",ul="/publishFRBookViewInvDetails",bl="/publishBookViewInvDetails",pl="/publishECPBookViewInvDetails",jl="/ratings",xl="/getDealerReleaseMap",fl="/saveCPCommitments",gl="/saveCDConversionDetails",Ol="/updateCPCommitments",vl="/updatePriceData",yl="/getIssuerDetails",kl="/updateTradeAmendData",Dl="/getDiscountCaldata",Cl="/updateSaleTradeAmendData",Nl="/processBuyTicket",Sl="/processECPBuyTicket",wl="/processSellTicket",Tl="/saveBuyTicket",Il="/publishInventory",Ml="/getCPTickerCalc",Al="/saveCPBuyTrade",Rl="/saveCPSellTrade",El="/cpClientInquiry",Fl="/getCusipDetails",Pl="/getStopTrading",Bl="/getFRtermSheet",Ll="/saveFRtermSheets",_l="/viewMasterIssuerDetails",Ul="/getInvestorAcounts",Vl="/subAccountDetails",Yl="/getProgramCurrencies",Hl="/saveTransferPrograms",Wl="/getTraderBookProgramsList",ql="/getCPTradeDetails",zl="/cancelTrade",Gl="/getDatesValidation",Kl="/checkValidIssuerMasterAcct",Zl="/checkValidLoginName",Jl="/checkValidIssuerName",Ql="/checkValidIssuerCode",Xl="/checkValidIssuerAcct",$l="/checkValidMasterAcct",ec="/cancelMultipleTrades",tc="/amendCPTrade",ac="/checkCutOffTime",sc="/getDeskParameterDetails",nc="/getAdminUserDetails",oc="/getHolidayDetails",ic="/getCurrencyDetails",lc="/getDayBasis",cc="/ipaDashBoard",rc="/ipaDashBoardTradesReport",dc="/getBooksDepartment",mc="/validateFRInventory",hc="/getDeskViewDetails",uc="/getUserType",bc="/setCloneUser",pc="/publishMCPInventory",jc="/saveMCPBuyTrade",xc="/saveMCPSellTrade",fc="/mcpClientInquiry",gc="/amendMCPTrade",Oc="/getMCPTradeDetails",vc="/amendCPClientTrade",yc="/amendSalesTrade",kc="/amendADNSalesTrade",Dc="/amendCDSaleTrade",Cc="/amendMultipleTickets",Nc="/updateFRSaleTradeData",Sc="/getCountries",wc="/getIssuerCountries",Tc="/getRatesReport",Ic="/getManagementTradeReport",Mc="/getVenueDetails",Ac="/viewProgramCreditLimits",Rc="/getAccountMaturityReport",Ec="/getInventory",Fc="/issuesMissingCusips",Pc="/getCPProfitAndLossHistory",Bc="/getFutureContractData",Lc="/getADNCommitmentDetails",_c="/getADNIssuerDetails",Uc="/saveADNCommitments",Vc="/updateADNCommitments",Yc="/publishADNCommitment",Hc="/deleteADNCommitment",Wc="/getADNConversionDetails",qc="/publishADNInventory",zc="/getADNTickerCalc",Gc="/getADNTradeDetails",Kc="/getADNProfitAndLossHistory",Zc="/getDepartmentBooks",Jc="/getRiskByBook",Qc="/getRiskByDepartment",Xc="/checkValidSubAcctShortName",$c="/checkValidSubAcctName",er="/checkValidSubAcct",tr="/getIssuerIndicativeRateViewDetails",ar="/omsprocessor",sr="/getHolidays",nr="Amount can not exceed Unsold Quantity.",or="Amount should be multiples of Issuer increment Value ",ir="Amount should be less than or equal to Issuer maximum amount $",lr="Amount should be greater than or equal to Issuer minimum amount $",cr="Allocate Entry",rr="Amount should be greater than or equal to Offeringlimit",dr="Home",mr="Book View",hr="Desk View",ur="Trade Blotter",br="Incomplete Securities",pr="Choices of All Platforms",jr="Stop Trading",xr="Allocations",fr="LIBOR Rates",gr="Maturity Forecast",Or="Timeline Report",vr="Issuer Current Holder",yr="Investor Current Holder",kr="Issuer Buy Run",Dr="Investor Buy Run",Cr="Account Maturity Report",Nr="Forward Trades Report",Sr="CD ProfitLoss History",wr="CP Inventory P&L Report",Tr="CD Inventory P&L Report",Ir="CUSIP History Report",Mr="Issuer Inventory Positions",Ar="Management Trade Report",Rr="EOD Position Report",Er="Issuer History Report",Fr="Security Research Report",Pr="Profit and Loss Download",Br="Grid Upload Report",Lr="Offerings",_r="New Commitment",Ur="Muni CP Offerings",Vr="CD Grid",Yr="ECP Grid",Hr="ECD Grid",Wr="Euro Certificate of Deposits",qr="Euro Commercial Paper",zr="FRCP Grid",Gr="FRCD Grid",Kr="FR Term Sheet",Zr="ECP Conversions",Jr="MCP Conversions",Qr="CD Conversions",Xr="ECD Conversions",$r="FRCD Conversions",ed="FRCP Conversions",td="PIMS Data Positions",ad="PIMS Report",sd="PIMS Scheduler",nd="EPIMS Data Positions",od="EPIMS Scheduler",id="EPIMS Transactions",ld="Completed Term Sheets",cd="Incomplete Term Sheets",rd="Master Accounts",dd="View/Edit Issuers",md="View/Edit Program",hd="View/Edit Master Accounts",ud="View/Edit Investor Account",bd="View/Edit Trader Books",pd="Program Credit Limits",jd="View/Edit IPA Data",xd="View / Edit Sales Books",fd="Transfer Programs",gd="Transfer Program",Od="Company CASSII Association",vd="Desk Parameters",yd="Holidays List",kd="Currency List",Dd="Administrator",Cd="Traders",Nd="Sales Person",Sd="Issuer User",wd="User Administration",Td="Trader User Information",Id="Sales Person User Information",Md="Issuer User Information",Ad="SSO User Association",Rd="Spreads and Fees",Ed="Clone User",Fd="DashBoard",Pd="Rates Report",Bd="Metrics By Venue",Ld="Maturity Report",_d="Pending CUSIP Trades",Ud="ADN Offerings",Vd="Inventory",Yd="Latest Trades",Hd="Offerings",Wd="Primary",qd="Primary Offerings",zd="Risk by Product",Gd="Risk by Book",Kd="Risk by Department",Zd="ADN Inventory Risk Report",Jd="Risk by Product",Qd="RISK BY MATURITY",Xd="Risk By Department",$d="Department Information",em="Issuer Indicative Rates",tm="Futures Contract",am="Secondary Trader Blotter",sm="Secondary Trader Book View",nm="Pending Client Trades",om="Pending Sales Trades",im="Convert",lm="Are you sure, you want to Convert the Commitment ?",cm="CONFIRM",rm="Delete",dm="Save",mm="Add",hm="Are you sure, you want to Delete the Commitment ?",um="ERROR",bm="From Date Should be Greater than Settle Date",pm="From Date Should be less than To Date",jm="Maturity Date should be greater than Settle Date",xm="Maturity Date already exist in previous saved ranges",fm="Maturity Date already exist in previous saved dates.",gm="Maximum days to maturity should less than or equals to",Om="Minimum Piece value should be multiples of Issuer increment Value $",vm="Please enter Minimum Piece value less than Quantity",ym="Please enter Minimum Piece value less than Offering Limit",km="Minimum Piece should be greater than or equal to Issuer Minimum amount $",Dm="Offering Limit should be multiples of Issuer increment Value $",Cm="Please enter Offering Limit value less than Quantity",Nm="offer amount should be greater or equal to minimum piece",Sm="Please check Buy Unsold Quantity Overnight?",wm="Please enter valid Amount",Tm="Please enter valid Bid Rate",Im="Please enter valid Buy Rate",Mm="Please enter OMS",Am="Please Enter Account Name",Rm="Please Enter Short Name",Em="Please Enter Offering Limit",Fm="Please Enter MinimumPiece",Pm="Please enter valid From Date",Bm="Please enter valid From Days",Lm="Please Enter Maturity Date",_m="Please enter valid Minimum Piece",Um="Please enter valid Offering Limit",Vm="Please enter valid Offer Rate",Ym="Please enter valid Rates",Hm="Please Enter Residual Amount",Wm="Please Enter Rate Value",qm="Please enter valid Settlement Date",zm="Please enter valid Template Name",Gm="Please enter valid Template Id",Km="Please enter valid To Date",Zm="Please enter valid To Days",Jm="Please enter valid Quantity",Qm="Please Enter valid Residual Amount",Xm="Please Enter valid Rate Value",$m="Please Enter Yield",eh="Please Enter Coupon",th="Please Enter Price",ah="Please Enter valid Yield",sh="Please Enter Offer Yield",nh="Please Enter valid Offer Yield",oh="Please Enter Offer Amount",ih="Please Enter valid Offer Amount",lh="Please Enter First Coupon",ch="Please Enter Amount",rh="Please Enter Issue Price",dh="Offer Yield should be less than Or equal to Yield",mh="Offer Rate should be less than Or equal to Bid Rate",hh="Are you sure, you want to Delete Holiday ?",uh="Are you sure, you want to Save Holiday ?",bh="Please enter valid Start Trading Time",ph="Please enter valid End Trading Time",jh="Please enter only Numeric values",xh="Please enter valid Variable Rate",fh="Are you sure, you want to save the data ?",gh="Are you sure, you want to add new holiday ?",Oh="Are you sure, you want to add new Currency ?",vh="Are you sure, you want to save the Currency data ?",yh="Do you want to cancel selected trades ?",kh="Are you sure, You want to delete the data ?",Dh="Sale Amount exceeding available Today's offering amount.",Ch="Settle Date must be less than Maturity Date.",Nh="Are you sure, you want to Transfer the data ?",Sh="Please select at least one Security.",wh="Please select at least one Book.",Th="No Programs Found.",Ih="Please select at least one Program.",Mh="Programs will be Transferred at Bid Price.",Ah="Invalid time",Rh="Time should be greater than 00:00",Eh="Hour should be within 01 to 12",Fh="Minute should be within 00 to 59",Ph="Enter time in HH:MI AM/PM Format e.g. 02:00 PM",Bh="Enter valid time in HH:MI AM/PM Format e.g. 02:00 PM",Lh="Please select Ticker",_h="Please select Product",Uh="Please enter valid data",Vh="Please Select Currency",Yh="Please Enter Customer OMS",Hh="1200",Wh="1600",qh="2200",zh="2300",Gh="2400",Kh="2700",Zh="2900",Jh="1400",Qh="Commerical Paper",Xh="Muni CP",$h="Rename Template",eu="Remove Offerings",tu="selected Date is out of Maturity Ranges",au="To Date should be greater than Settle Date",su="Trade Settle Date should be greater or equal to Offer Settle Date",nu="Settle Date is less than Offering Settle Date.",ou="Maturity Date is less than Offering Maturity Date.",iu="Template's",lu="1",cu="10",ru="11",du="12",mu="2",hu="3",uu="4",bu="5",pu="6",ju="7",xu="8",fu="9",gu=Object(u.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAgCAIAAADbtmxLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUFFNEM1RjkxNTUyMTFFNkExOTVDQkU1MjcyNDQ4NzciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUFFNEM1RkExNTUyMTFFNkExOTVDQkU1MjcyNDQ4NzciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQUU0QzVGNzE1NTIxMUU2QTE5NUNCRTUyNzI0NDg3NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQUU0QzVGODE1NTIxMUU2QTE5NUNCRTUyNzI0NDg3NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Ph2+0tgAAAB2SURBVHjaYmRQzWKgBjh45yBVzGFiGGSABUJtnZUJJL3TppPBhgC7f1eoHEL//zOQzaYiYBxNQ8SlIcpTEvXT0CBJSaNpaLQcGk1Do+XQaDk02NMQ438aZd/hk8sOMemMhtBoGhpNQ6NpaDQNjaahoRxCAAEGAP70icMUcRQsAAAAAElFTkSuQmCC",id:"usd",width:"35%"}),Ou=Object(u.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAgCAIAAADbtmxLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUFFNUE3QzgxNTUyMTFFNkExOTVDQkU1MjcyNDQ4NzciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUFFNUE3QzkxNTUyMTFFNkExOTVDQkU1MjcyNDQ4NzciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQUU0QzVGRjE1NTIxMUU2QTE5NUNCRTUyNzI0NDg3NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQUU0QzYwMDE1NTIxMUU2QTE5NUNCRTUyNzI0NDg3NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Piu567YAAACbSURBVHjaYmQIXs4wmAATwyADow4addDgcFBD4BogoopRLFRxTX3AWih7fcgAhBAx4UF2mLFQHh7wUEEwKAgzFuqkIYpjioIQwggP8tTgAoyjdRlVHURq3iEjr7HQrrwhL68NuihjoW7+ojyvjeaykViXUbf+H/rtIWLqdkrqMnJqe6JKRXLrf2q0GCkIj9FyaNRBow6iPwAIMAAVg1yiNILTvgAAAABJRU5ErkJggg==",id:"eur",width:"35%"}),vu=Object(u.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAgCAIAAADbtmxLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUFFNEM1RkQxNTUyMTFFNkExOTVDQkU1MjcyNDQ4NzciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUFFNEM1RkUxNTUyMTFFNkExOTVDQkU1MjcyNDQ4NzciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQUU0QzVGQjE1NTIxMUU2QTE5NUNCRTUyNzI0NDg3NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQUU0QzVGQzE1NTIxMUU2QTE5NUNCRTUyNzI0NDg3NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Puk9wOAAAAO8SURBVHjaYrxvJMsABlwu3jzl7VxCAp+//Cxt3zVz2VkGQuD//QYgeYlPFS6i9+k2kGRUbMCjS0qMd3F/oJOV0v///98umftlShvDnz8gXZxc3BWdTEB3QNR927P1TajDm907eXnYZ7T67l4cKy/Nz0Bt4O2oemFbBtA1X9+8e5kb+2VCE8Q1bJq6gsv2iPj4M4l1TufpmMUkIAQU/ffh3ZeK1Fflmd/efXCxUb68Iys9yphaTmFnY55Q67FlXrSoMPfbY8feRrr8OH4IIsUdnS42fyOfnMyFa8+ZgBEk4uohsvoAl7MX7YJKXUn4xPqU/CSLP7//vJ7Q/jk34t+7N0BxJiER3snLRYuqWVhZJs47YRE4h0nXY9reo/eASUesawaeoEqLJD+oEkMMzm5ON9CS/PToyavEgK+Lp0PEOSzshJfvEbayfvPuq0/S0oLmHT9//WV6+PSjS8yizOot+INqZhs5QcXHw758UvC87gBuLrY3Wze9j3b9df0SSIKFhTuvRnzKYm4RoX3H7ul5TN+6/zZECxOEmrHsDNWDytxAGph+I3x1f379/rq24Etdzv9vX0GOkZHnn7dFND7t799/VV17XGMWP3/9Ba6LCc6iYlAxMTJWZNgcWZ2kKCv4/uq111FuX7etgxYunoGiy3YKamvdf/zeNnR++/Qj//7/R9bLyKBQj2Yc0LI5HX7A8ACy3+ze8a2jAhhOWMsqYJLHWg4BQ9rZGnsxA8zYQPaKzZczqrd8/PwT0zNYHAQBwAzfXekGDBJgZH3pqPi2dxvU9wJCXBUdwCCEq8R0EBAAi5nPDXnwjM2mqcfTNgOYsb9++5XXsH3e6vO4Qheng4gMKqwOenvs6Nf6XEjGhhQzgrnlwIwNLGYictfcvPcWT3TjcxBYmiENOag6K4HpCR5UcnsvYHXQA2M5qBohEe7GycCMDWQDi5nyzt3AjI0/KzD+R01TZACsUUY2YGIYZIDxIq/KoHLQoAuhUQcRTEOjuYwAYMHf/kWvQ7AVjJjgkbMBruqPYFMdXwgBqw5gxQ6sQYGuAVb1wAof7hqgNcDmAC6NlLQ/iatcUQOGmMqVYEsBV1AxkREwQNcADc2o3ozLl0Apspvq6CFETMDsOXI3pWITsEGHp19GfKMKLaiYyAgY19jFQNfgT5tABUBlZAQVNIRIChiSeq6kBhUTasDsoDBgiAoq9L7yDuSgYvz0+QepAUNe357IoGKiUcCQHVSML8sySA0YCkc/8AcVE60DBmtQueEOKoAAAwDNT0QM2rc1OQAAAABJRU5ErkJggg==",id:"gbp",width:"35%"}),yu=Object(u.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAgCAIAAADbtmxLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUFFOTk2N0ExNTUyMTFFNkExOTVDQkU1MjcyNDQ4NzciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUFFOTk2N0IxNTUyMTFFNkExOTVDQkU1MjcyNDQ4NzciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQUU5OTY3ODE1NTIxMUU2QTE5NUNCRTUyNzI0NDg3NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQUU5OTY3OTE1NTIxMUU2QTE5NUNCRTUyNzI0NDg3NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsdjiJMAAANrSURBVHjaYrzIr8bw7x+zuYnIvElrD9wvad31/ecfBhj4f7/hEp8qkKH36TajYgNcnJOdpafaLdhB8U1S3t+TZxiYmPQFIxmoAZh4d29gkZMGGvraws2B49O5TWn6muL49QAVAJUBFQO1ADUCtQMNYaASYJq846Hkwc2M4SH/Pn/5k5z5u7t//+KYwiQLRmyqgYJAKaACoDKgYqAWoEagdqAh1HIQI4NCPdDHKyYE/7t46V9BKdAOoI8550+/8501rnjD89Ml8CiTNO1Z1Bugwvn7e2Lmn0dPmXh5mCZ0M+nrRRSsvXj9JdVCCIiBxhn5zTr4k1/sxC5gYgJa9tk1QOL4gYtb05CVArlAQaAUUAFQGVAxUAtQIzGuEeLnNNGVAiIgg3AIwTm+zmpz2nxezFvJ0NEDSenau5fDQ+iqayQk/TJUlEgkhadUbdm89xaR/gZGwplNIO+ZEPIA4/////GbBXcQAZ8h5UFMEOGjM7nRE8jIrd++YssVfOZc5FWhStzrC0fjVxDsoQkk1+64jl8ZCwO9AEGn0DXKiAcsyAYBE/Xcdl9gov7f3g1P1HBZeKJmrCwVTwwjKVFjzXdKcoJAxr1H7999/I6S7SFVwdQmr9n1rq+i0v63doKEqsrEls1CNgLErSoD1Setna+j04GKgVqAGslzkKwU3/F1yUAEZKCXQ1irgpdWjnpeM5GVArlAQWKqGmJKHU1l0Q+ffgARkIHiIFxVgXv8khdvviArBXKBgriqGmJ8jwyAmT+jegsQoZUCLLke8s/tff8jVQWOsUtwlV3A9N8/78S+4/dXTCj85+YMqmpWrnl+/Hju/OlAcTTfQxh4ikGs+Y4R3vwQBTY/Dj4obtlJZPOjt8Y92F7hNY7mB5GlDoGqgz4gJdwISM5ZeW6AC0Y4+Pz15+AKIcLNjyHmICNtSSAaeAcxMTK62ykDc1NqpBEQARlALlCQ1g7Cmaj//f/vbqeybkY4MxPTf4b/cUH6M5ed3XnoLnVrLtKibOHaC1ycbOzsLBzsrEAGkEu2v4kpuwk4KMxb+9DKRGQRIBcoSJ6DcNVcpGV7KTFeYLszyEMLyF634xqw9fns1WeyA4kKLUag9b9+/y3v2A1kG2hJUOIa4qsRAiV1x/QjkNqRYHeWmh3F0ZJ61EGUAIAAAwDdRtG8RNAFmgAAAABJRU5ErkJggg==",id:"aud",width:"35%"}),ku=Object(u.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAgCAIAAADbtmxLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUFFNUE3RDAxNTUyMTFFNkExOTVDQkU1MjcyNDQ4NzciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUFFNUE3RDExNTUyMTFFNkExOTVDQkU1MjcyNDQ4NzciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQUU1QTdDRTE1NTIxMUU2QTE5NUNCRTUyNzI0NDg3NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQUU1QTdDRjE1NTIxMUU2QTE5NUNCRTUyNzI0NDg3NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pr9nvPQAAABdSURBVHjaYryuwc8wmAATwyADow4addCog2gNWCg3QuP6Bzj7hqbAaJSNOmjUQRTmMuQ8RYwsqfluNMqGfxrCTBOjJfWog0YdROv2EOU5azTKRh006qAR7SCAAAMAWZgOZ7rMhNgAAAAASUVORK5CYII=",id:"chf",width:"35%"}),Du=Object(u.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAgCAIAAADbtmxLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUFFRkRBRDIxNTUyMTFFNkExOTVDQkU1MjcyNDQ4NzciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUFFRkRBRDMxNTUyMTFFNkExOTVDQkU1MjcyNDQ4NzciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQUVGREFEMDE1NTIxMUU2QTE5NUNCRTUyNzI0NDg3NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQUVGREFEMTE1NTIxMUU2QTE5NUNCRTUyNzI0NDg3NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmcFUs8AAAE4SURBVHjaYvz//z/DYAJMDIMMjDpo1EGUAhaydf7//ef1hn2vN+z/dObqr2evgCJsUmJ8JtqiAY6iAU6MrGSazEhetn+9ft+d0t5vdx9jleVSllXpLhYNdKKLg/79v1Mx4WH3fIIK5UsTVToKGJgYaRtlRLoGCCDKVLoKaRhCwJi6FFRAkgV66yaQFHckOAiYik9o+uNKN7gAMD1ZXN9IfBonIdsD8xSprgECoBagRpqUQ8AcTl5OJkkjCQ4CljfkOYgkjSQ4CFL6kQFI0jiU6zJgzUCeHSRpJMFBwHqKPAeRpJEEBwFrTfIcRJJGkhzkBCzlSHUNUAtQI00cBCxtgXU4qQ4CaiGpKUJaLgPWSsA6nHj1QMWkNkJIzvbAFgWRboI2P0ZeA21wNmFHu0GjDhp1ENEAIMAAK/ON8nHL3ZUAAAAASUVORK5CYII=",id:"jpy",width:"35%"}),Cu=Object(u.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAgCAYAAABU1PscAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAH7SURBVHja7NdBSxtBFMDx/6SbNlERTWwSKQTLgjGSJkhOrRexOXjWs0gLfglB9NIPUQS/gAVBvEhAD2lOitDAQmIobaMSk4a0RMXYbHZ6SAuFXmfphu6DZXYuw/52mPfeCPk2Lenj8NDn4QJcgAtwAf82NKxuvwM69q0ufo02lkohS3vql3+kgV+DjtWbez3QNnuPcoCUygGtH3B4WKdavUZKCIWGmJ8PExjA+YBC4StbWx8YHx8kHg+AEJyVmlTOr3n9Kkk6HXYuoFa7ZWPjPXNzUTKZCSqVFgDR6DD5/AX7+x9ZX39BNDqs8BArjGz2M7o+wsLCU3Z3yxhGA4BYLMDSUoxKpcXBwSdWV1POBFxe3jAzE6Zc/oZhNDg6+oJpWnQ6FvF4kFQqRC53gZQSIYRTC5nENC0sqzf++S5tSKdKdyASGcAwGqysPGNqKoBl9b54cjJAIvGYnZ0iwaBf2d9XDshkJtjczJPLnbO4GCOZ/A5IdH2U09MrTk6uWFt77uw0enxcZXu7gK6PMj0dRAClsybFYpPl5QSzs0+cX8isW8hm69RrN0gkY2ODZF5GeDhiQyHbK75TChAIfL4H+Hwa7XYXKSV+v8b9fZe7OxOpuDESQ2/sa7V+H1Yp7evmNCHsvxKozDp/Abwer3sjcwEuwAW4gP8X8HMAhibKLBoqouEAAAAASUVORK5CYII=",id:"inr",width:"35%"}),Nu=Object(u.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAgCAIAAADbtmxLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUFFOTk2N0UxNTUyMTFFNkExOTVDQkU1MjcyNDQ4NzciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUFFOTk2N0YxNTUyMTFFNkExOTVDQkU1MjcyNDQ4NzciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQUU5OTY3QzE1NTIxMUU2QTE5NUNCRTUyNzI0NDg3NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQUU5OTY3RDE1NTIxMUU2QTE5NUNCRTUyNzI0NDg3NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkltZ3IAAADrSURBVHja7JXNCYQwEIVHg4h9eNEWLEBQsCs7sBDxYgXevYkVWII/l+wLCOsuK2SNS/YwjyCZmYd+OPlxJGlLfuF9l+PoGhmIgRiIgRjoJ0Bdp55JYg5EUn+cqe9llsk8V5MzaX/lDqA03Q2YGAO515fFNNGyUF1TFO2ZOFYhkihd1vU/VFVSCBkEsih2AyYIkUTJQsua5tSJkoWWrSt53oc8kihZaBnUtqpHRw9CJG3usrJ88SA022XGB+MwqAahhOG65PvPTWfzpB5HEoLC0PykNljUR80zbdstb+LbnoEYiIEY6N+BHgIMAF9ZLz9RDHviAAAAAElFTkSuQmCC",id:"cad",width:"35%"}),Su=[{key:"SUSPEND",value:"SUSPEND"},{key:"MANUAL",value:"MANUAL"},{key:"STP",value:"STP"}],wu=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={time:{},seconds:0},e.timer=0,e.startTimer=e.startTimer.bind(Object(O.a)(e)),e.countDown=e.countDown.bind(Object(O.a)(e)),e.arrayRemove=e.arrayRemove.bind(Object(O.a)(e)),e.SarrayRemove=e.SarrayRemove.bind(Object(O.a)(e)),e}return Object(l.a)(a,[{key:"secondsToTime",value:function(e){var t=e%3600,a=t%60;return{h:Math.floor(e/3600),m:Math.floor(t/60),s:Math.ceil(a)}}},{key:"componentDidMount",value:function(){var e=this.secondsToTime(this.props.timeGap/1e3);this.setState({time:e,seconds:Math.round(this.props.timeGap/1e3)}),this.startTimer()}},{key:"startTimer",value:function(){var e=this;0==this.timer&&this.props.timeGap/1e3>0&&(this.timer=setTimeout((function(){e.countDown()}),1e3))}},{key:"countDown",value:function(){var e=this.state.seconds-1,t=this;if(this.setState({time:this.secondsToTime(e),seconds:e}),0===e){var a,s={};(s=this.props.tdata).status="E",s.actionId=this.props.transId,console.log("Trade going to Expire",s),a=void 0!==this.props.ticketType&&"CLIENT"===this.props.ticketType?vc:s.productType===Jh?kc:s.productType===zh||s.productType===Kh||s.productType===Gh||s.productType===qh||s.productType===Zh?Dc:yc,w()({method:"POST",url:N.URL+a,timeout:N.apiTimeOut,data:[s],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(t.arrayRemove(t.props.transId),t.SarrayRemove(t.props.transId),console.log("props.transId",t.props.transId))}))}else this.timer=setTimeout((function(){t.countDown()}),1e3)}},{key:"arrayRemove",value:function(e){(null!==sessionStorage.getItem("notifList")&&sessionStorage.getItem("notifList").length>0?JSON.parse(sessionStorage.getItem("notifList")):[]).filter((function(t){return t.transId!=e}))}},{key:"SarrayRemove",value:function(e){var t=(null!==sessionStorage.getItem("snotifList")&&sessionStorage.getItem("snotifList").length>0?JSON.parse(sessionStorage.getItem("snotifList")):[]).filter((function(t){return t.transId!=e}));console.log("salesLayer",t)}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"bold Timer_clr",style:{fontFamily:"cursive",color:"darkblue"},children:[this.state.time.m,":",this.state.time.s]})}}]),a}(o.a.Component),Tu=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleClose=function(){s.props.onHide()},s.msgTimeOut=function(e){s.setState({isLoading:!1}),setTimeout((function(){s.props.salesnotificationRefresh(s.props.productKey),s.setState({respMessage:[],rejectReason:[],isLoading:!0})}),1e3)},s.hideAlert=function(){s.setState({alertShow:!1})},s.showTimer=function(e){var t,a=null!==sessionStorage.getItem("snotifList")?JSON.parse(sessionStorage.getItem("snotifList")):[];parseInt(sessionStorage.getItem("loggedinTime"));null!==a&&void 0!==a.find((function(t){return t.transId===e}))&&(t=a.find((function(t){return t.transId===e})).date);return 12e4-(Date.now()-t)},s.state={postFlag:!0,respMessage:"",rejectMsg:"",sellTrade:{},actionTitle:"",actionMessage:"",showError:!1,alertShow:!1,isLoading:!0},s.hideError=s.hideError.bind(Object(O.a)(s)),s.submitTrade=s.submitTrade.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({respMessage:[],rejectReason:[]});var e=this.props.tradeData,t={};"I"===e.issueType&&(e.fromPage="INVSALE"),0!==e.coupon&&""!==e.coupon||(e.coupon=e.bidRate),t.transType="85",t.issueId=e.refIssueId,t.bidRate=e.bidRate,t.productType=e.productType,t.programId=e.programId,t.ticker=e.ticker,t.settlementDate=e.settlementDate,t.maturityDate=e.maturityDate,t.amount=e.amount,t.rate=e.bidRate,this.setState({isLoading:!0})}},{key:"postSubmitData",value:function(e,t,a){var s=this;this.setState({isLoading:!1}),t===wl&&this.state.sellTrade&&void 0!==this.state.sellTrade.bidRate&&"0"!==this.state.sellTrade.bidRate&&(e.rate=this.state.sellTrade.bidRate),this.props.tradeData.status=a,w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:[e],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(t===wl?s.setState({sellTrade:e.data,isLoading:!0}):void 0!==e.data.responseMessage&&e.data.responseMessage.length>0?(s.msgTimeOut(),s.setState({sellTrade:e.data,respMessage:e.data.responseMessage,isLoading:!0})):void 0!==e.data.rejectReason&&e.data.rejectReason.length>0&&(s.msgTimeOut(),s.setState({sellTrade:e.data,rejectMsg:e.data.rejectReason,isLoading:!0})))}))}},{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"submitTrade",value:function(e,t){this.setState({respMessage:[],rejectReason:[]}),"A"===t?this.setState({actionTitle:"Accept",actionMessage:"Are you sure, you want to Accept the Trade ?",alertShow:!0,actionFlag:"A"}):"R"===t&&this.setState({actionTitle:"Reject",actionMessage:"Are you sure, you want to Reject the Trade ?",alertShow:!0,actionFlag:"R"})}},{key:"confirmAction",value:function(e){if("A"===e||"R"===e){var t="";this.setState({alertShow:!1});var a=this.props.tradeData;t=a.productType===Jh?kc:a.productType===zh||a.productType===Gh||a.productType===Kh||a.productType===qh||a.productType===Zh?Dc:yc,a.actionId=a.transId,this.state.respMessage="",this.state.rejectMsg="",this.postSubmitData(a,t,e)}}},{key:"render",value:function(){var e,t=this,a=this.props,s=a.tradeData,n=a.tradeCnt;return"A"===s.status&&(e="accepted by"),"R"===s.status&&(e="rejected by"),"MI"===s.status&&(e="hold by"),"C"===s.status&&(e="cancelled by"),"P"===s.status&&(e="Pending"),Object(u.jsx)(u.Fragment,{children:!0===this.state.isLoading?!s||"P"!==s.status&&"P"!==s.status.trim()?!s||"A"!==s.status&&"A"!==s.status.trim()&&"R"!==s.status&&"R"!==s.status.trim()&&"MI"!==s.status&&"MI"!==s.status.trim()&&"C"!==s.status&&"C"!==s.status.trim()?"":Object(u.jsxs)("div",{className:"modal-cls",children:[Object(u.jsxs)("div",{className:"bgc border-bottom",children:[Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 d-inline-block p-0"}),Object(u.jsxs)("div",{className:"col-md-4 col-sm-4 col-xs-4 d-inline-block p-0",children:[Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsxs)("label",{className:"\r form-label\r text-left\r font-weight-bold",children:["Trade ",e," ",void 0!==s.acceptedLoginId?s.acceptedLoginId:this.state.sellTrade.acceptedLoginId]})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsxs)("label",{className:"\r form-label\r text-left\r font-weight-bold",children:["Sell $",void 0!=s.amount?s.amount:this.state.sellTrade.amount,"M ",void 0!=s.ticker?s.ticker:this.state.sellTrade.ticker," ",void 0!=s.settlementDate?s.settlementDate:this.state.sellTrade.settlementDate," @ ",void 0!=s.bidRate?s.bidRate:this.state.sellTrade.bidRate]})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsxs)("label",{className:"\r form-label\r text-left\r font-weight-bold",children:["Trade # ",s.transId]})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsxs)("label",{className:"\r form-label\r text-left\r font-weight-bold",children:["Booked By: ",s.spLoginName]})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("label",{className:"\r form-label\r text-left\r font-weight-bold",children:s.source})})]})]}),Object(u.jsx)("div",{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return t.hideError()},messageType:um})})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectMsg&&this.state.rejectMsg.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectMsg}):"",Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return t.hideAlert()},onConfirm:function(){return t.confirmAction(t.state.actionFlag)},messageType:cm})]}),Object(u.jsxs)("div",{className:"modal-cls pt10 pb10",children:[Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",children:[Object(u.jsxs)("div",{className:"col-md-3 col-sm-3 col-xs-3 d-inline-block",children:[Object(u.jsx)("label",{id:"lbl_ticket",className:"form-label pr-1",children:"Ticket:"}),Object(u.jsx)("label",{id:"val_ticket",className:"form-label",children:n+1})]}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block text-center",children:Object(u.jsx)("label",{id:"val_time",className:"bold",children:s.clientinvesterCassii+" RFQ BIDS"})}),Object(u.jsxs)("div",{className:"col-md-3 col-sm-3 col-xs-3 d-inline-block",children:[Object(u.jsx)("label",{id:"lbl_ticket",className:"bold pt_rgt05",children:"TIME :"}),this.showTimer(s.transId)>0?Object(u.jsx)("span",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block font-weight-bold pdl4",children:Object(u.jsx)(wu,{transId:s.transId,tdata:s,ticketType:"SALES",timeGap:this.showTimer(s.transId)})}):Object(u.jsx)("span",{className:"text-danger font-weight-bold pdl4",children:"Expired"})]})]}),Object(u.jsxs)("div",{className:"modal-cls",id:"tradingpopup",children:[Object(u.jsx)("div",{className:"bgc",children:Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block p-0 border-bottom",children:[Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:s.issuerName})]}),Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:s.cusip})]}),Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:s.ticker})]}),Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:s.prodName})]})]})}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block",children:[Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Acct:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:s.accountName})]}),Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Status:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:e})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block salesbg",children:[Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"$m:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:Lo(s.amount)})]}),Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Settle Date:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:s.settlementDate})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block",children:[Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Money Amt:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:Lo(s.moneyAmtString)})]}),Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Rate:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:s.coupon?s.coupon:s.bidRate})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block salesbg",children:[Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Mat:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:s.maturityDate})]}),Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Book:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:s.bookDesc})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block",children:[Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"B/S:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:"85"===s.transType?"Sell":"Buy"})]}),Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Booked By:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:s.traderLoginname})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block salesbg",children:[Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Venue:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:s.source})]}),Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Currency:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:s.currencyCode})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block",children:[Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Date/Time:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:s.createdDate})]}),Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Ticket Number:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:s.transId})]})]}),void 0!==s.spLoginName&&Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block salesbg",children:[Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Sales Person:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:s.spLoginName})]}),Object(u.jsx)("div",{className:"col-md-6 d-inline-block"})]})]})]}),Object(u.jsxs)("div",{className:"text-center pt10 pb10",children:[Object(u.jsx)(D.a,{id:"accept",className:"btn btn-success btn-xs",onClick:function(e){t.submitTrade(t,"A")},children:"Accept"}),Object(u.jsx)(D.a,{id:"reject",className:"btn btn-danger btn-xs ml5",onClick:function(e){t.submitTrade(t,"R")},children:"Reject"})]})]})]}):""})}}]),a}(o.a.Component),Iu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABcUlEQVRoge2ZPUtDMRSGT62Cv8FB0F9QnHVscXISXByc/Ficiu6lg4uCODnZqVBBER11rYv4W0Spg7Z+vIGk1dubpLFNT4vngQcKOU3el0sz9BIJgiAII8os3IZbcIY5SzAr8AV+aZ/gMmuiANbgO3XCG9/gKmOunliHTeoOb2zBDa5wPnbgB9nDGz/hLlNGK/vkD54sUWRJmkJo+J8eMORtk4GHKaFCPdF7DZWMPrjf8MZTODGs8FlYGWB4YxVOxg6vDrjwBLlzrN16vqv2zsYs4PvB3sBpx7pau/bssRezwL3j4HM4pedsM6Rnao6ZeswCV5ZDK/T70bsKkJ49s8xcxiywAF8TB6rbKHmD+Aoo1E12nFhvwFyk7G3mYVkfXrDM9FLAkIdHsATnBpq0D0IKjCRSgBspwI0U4EYKcCMFuJEC3Ix9gbS/F5usiQJ5pO4CD6yJAlmCz9QJrz4vsib6A+qlxqZ27F5wCIIg/BO+AZMDRi1LgyNSAAAAAElFTkSuQmCC",Mu={BOOM:"badge-dark",DOMES:"badge-success",MERCURY:"badgemercury",TWEB:"badgetweb",PORTAL:"badgeportal",DFAULT:"bgdefault"},Au=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).expireTrades=function(){var e=Object(O.a)(s);console.log("Dinesh--expireTrades--"),setTimeout((function(){e.verifyTrades()}),N.tradeTimeOut)},s.verifyTrades=function(){var e=null!==sessionStorage.getItem("snotifList")?JSON.parse(sessionStorage.getItem("snotifList")):[];console.log("sessionStorage.getItem",sessionStorage.getItem);var t=[];e.map((function(e,a){Date.now()-e.date>N.tradeTimeOut?console.log("Need to add api call"):t.push(e)})),sessionStorage.setItem("snotifList",JSON.stringify(t))},s.storeSNotificationWithDate=function(e){var t=null!==sessionStorage.getItem("snotifList")&&sessionStorage.getItem("snotifList").length>0?JSON.parse(sessionStorage.getItem("snotifList")):[];e.map((function(e,a){null!==t&&void 0!==t.find((function(t){return t.transId===e.transId}))||t.push({transId:e.transId,date:Date.now()})})),sessionStorage.setItem("snotifList",JSON.stringify(t))},s.salesnotificationRefresh=function(e){s.openSalesTradePopUpSocket(s.state.productList,e)},s.handleSalesNotify=function(){s.setState({salesshow:!0})},s.onHide=function(){s.setState({salesshow:!1})},s.showRecords=function(e){var t=s.state.salestrades.filter((function(t){return t.source===e}));s.setState({showTradeDetails:!0,filterTradesList:t,productKey:e,defaultKey:""})},s.changeBadgeClass=function(e){var t=s.state.productKey;return e===t?Mu[t]:Mu.DFAULT},s.showArrow=function(e){if(e===s.state.productKey)return Object(u.jsx)("img",{src:Iu,width:"20",height:"20",style:{position:"absolute",top:"-4px",right:"11px",transform:"rotate(90deg)"}})},s.setlectAccord=function(e){s.setState({defaultKey:e})},s.state={salesbadgeCnt:0,show:!1,salesshow:!1,productKey:"",showTradeDetails:!1,filterTradesList:[],productList:[],salestrades:[],defaultKey:""},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;w()({method:"POST",url:N.URL+Mc,timeout:N.apiTimeOut,data:{All:"false"},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){void 0!==t.data&&e.openSalesTradePopUpSocket(t.data)}))}},{key:"openSalesTradePopUpSocket",value:function(e,t){var a,s=this;if("2"===sessionStorage.getItem("membercatid"))a={loginId:sessionStorage.getItem("loginid"),socketSource:"SALESSELL"};else if("Admin"===localStorage.getItem("mainLogin")){var n=JSON.parse(sessionStorage.getItem("ssoUserData"));a={loginId:void 0!==n?n.ssoTraderId:sessionStorage.getItem("loginid"),socketSource:"SALESSELL"}}var o=new WebSocket(N.WSURL+ar+N.WEBSOCKET);o.onopen=function(){o.send(JSON.stringify(a))},o.onmessage=function(a){"No Data Found"===a.data?console.log("No Data Found for ::::",N.WSURL+ar+N.WEBSOCKET):s.salesnotification(JSON.parse(a.data),e,t)},o.onClose=function(){}}},{key:"salesnotification",value:function(e,t,a){var s=document.getElementsByClassName("audio-element")[0];if(void 0!==e&&e.length>0){var n=this.state.salesbadgeCnt;if(""!==a){this.storeSNotificationWithDate(e);var o=e.filter((function(e){return e.source===a}));this.setState({salesbadgeCnt:e.length,salestrades:e,productList:t,filterTradesList:o})}else this.storeSNotificationWithDate(e),this.setState({salesbadgeCnt:e.length,salestrades:e,productList:t});n!==this.state.salesbadgeCnt&&s.play()}}},{key:"render",value:function(){var e=this,t=this.state,a=t.salesbadgeCnt,s=(t.salesshow,t.productList),n=t.salestrades,o=t.showTradeDetails,i=t.filterTradesList,l=t.productKey,c=t.defaultKey,r=[],d=[];if(null!=n&&n.length>0){s&&s.map((function(t,a){n.find((function(e){return e.source===t.key}))&&n.filter((function(e){return e.source===t.key})).length>0&&"All"!==t.key&&"JPEX"!==t.key&&d.push(Object(u.jsx)($o.a.Item,{id:"DBMJP",children:Object(u.jsx)($o.a.Link,{onClick:function(a){e.showRecords(t.key)},eventKey:t.key,style:{background:"transparent",padding:"8px"},children:Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)("span",{style:{marginRight:"5px"},className:("BOOM"==t.key?"dotblack":"DOMES"==t.key&&"dotdomes")||"TWEB"==t.key&&"dottweb"||"MERCURY"==t.key&&"dottmer"||"PORTAL"==t.key&&"dotportal"}),Object(u.jsx)(ni,{label:t.key}),Object(u.jsx)("span",{className:"badge "+e.changeBadgeClass(t.key),style:{right:"34px",top:"-3px"},children:n.filter((function(e){return e.source===t.key})).length}),e.showArrow(t.key)]})})})}))}));for(var m=function(){var t=i[h].transId;r.push(Object(u.jsxs)(ai.a,{children:[Object(u.jsx)(ai.a.Header,{className:"p-1",children:Object(u.jsx)(ti.a.Toggle,{as:ai.a.Header,onClick:function(a){e.setlectAccord(t)},variant:"link",id:l,alwaysOpen:!0,eventKey:t,children:Object(u.jsxs)(H.a,{className:"m-0",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(ni,{className:"font-weight-bold",label:"Ticket:"}),"\xa0",Object(u.jsx)(ni,{label:h+1})]}),Object(u.jsxs)(W.a,{className:"text-center",children:[Object(u.jsx)(ni,{className:"font-weight-bold",label:"Product:"}),"\xa0",Object(u.jsx)(ni,{label:i[h].prodName})]}),Object(u.jsxs)(W.a,{className:"text-center",children:[Object(u.jsx)(ni,{className:"font-weight-bold",label:"Sales:"}),"\xa0",Object(u.jsx)(ni,{label:i[h].clientinvesterCassii+" RFQ BIDS"})]}),Object(u.jsxs)(W.a,{className:"text-center",children:[Object(u.jsx)(ni,{className:"font-weight-bold",label:"Amount:"}),"\xa0",Object(u.jsx)(ni,{label:Lo(i[h].amount)})]}),Object(u.jsxs)(W.a,{className:"text-right",children:[Object(u.jsx)(ni,{className:"font-weight-bold",label:"Status:"}),"\xa0",Object(u.jsx)(ni,{label:i[h].tradeStatus})]})]})})}),Object(u.jsx)(ti.a.Collapse,{eventKey:t,children:Object(u.jsx)(ai.a.Body,{children:c===t?Object(u.jsx)(Tu,{selectedTransId:c,productKey:l,salesnotificationRefresh:e.salesnotificationRefresh,tradeData:i[h],tradeCnt:h}):""})})]}))},h=0;h<i.length;h++)m()}return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("audio",{className:"audio-element",children:Object(u.jsx)("source",{src:"https://assets.coderrocketfuel.com/pomodoro-times-up.mp3"})}),Object(u.jsxs)("span",{className:"mr-3 notification",onClick:this.handleSalesNotify,children:[Object(u.jsx)(B.m,{}),Object(u.jsx)("span",{className:"badge badge-danger",children:a})]}),Object(u.jsxs)(P.a,{show:this.state.salesshow,onHide:this.onHide,size:!0===o?"xl":"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:"Sales Notifications"})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsx)(ei.a.Container,{id:"left-tabs-example",defaultActiveKey:l,children:Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{className:!0===o?"col-sm-2":"",children:Object(u.jsx)($o.a,{variant:"pills",className:"flex-column",children:d})}),Object(u.jsx)(W.a,{sm:10,children:Object(u.jsx)(ei.a.Content,{children:Object(u.jsx)(ei.a.Pane,{eventKey:l,children:Object(u.jsxs)(ti.a,{defaultActiveKey:this.state.salesbadgeCnt,children:[r,0===this.state.salestrades.length&&Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Sales Notifications found."})]})})})})]})})})]})]})}}]),a}(o.a.Component),Ru=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(u.jsx)(k.a.Control,{type:"text",defaultValue:this.props.value,onBlur:this.props.onBlur,onChange:this.props.onChange,name:this.props.name,id:this.props.id,readOnly:this.props.readOnly,disabled:this.props.disabled,onClick:this.props.onFocus,onKeyPress:this.props.onKeyPress,onKeyUp:this.props.onKeyUp,style:this.props.style,className:this.props.className?this.props.className:"text-left",autoComplete:"off",placeholder:this.props.placeholder,maxLength:this.props.maxlength})}}]),a}(o.a.Component),Eu=Ru,Fu=a(106),Pu=a.n(Fu),Bu=(a(368),a(39)),Lu=a.n(Bu);function _u(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,s=e.getDate();return s<10&&(s="0"+s),a<10&&(a="0"+a),t+"-"+a+"-"+s}function Uu(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,s=e.getDate();return s<10&&(s="0"+s),a<10&&(a="0"+a),t+"-"+a+"-"+s}function Vu(e){var t=(e=new Date(e)).getFullYear().toString().substr(-2);return e.getMonth()+1+"/"+e.getDate()+"/"+t}function Yu(e,t){return Lu()(e).format(t)}function Hu(e,t,a){var s=Lu()(e).isAfter(Lu()(t)),n=Lu()(e).isBefore(Lu()(a));return s||(s=Lu()(e).isSame(Lu()(t))),n||(n=Lu()(e).isSame(Lu()(a))),!(!s||!n)}function Wu(e,t){var a=Lu()(e),s=Lu()(t);return Math.round(Lu.a.duration(a.diff(s)).asDays())}function qu(e){return Lu()().format(e)}function zu(e,t){return Lu()(e).add(t,"days")}function Gu(e,t,a,s){for(var n=Lu()(e).add(s-1,"days")._d,o="",i=function(){n.setDate(n.getDate()+1);var e=n.getDay(),s=a.find((function(t){return t.dayId===(e+1).toString()})).weekCheck,i=Yu(n,"DD/MM/YYYY"),l=t.find((function(e){return e.holidayDate===i}));if(!0===s&&void 0===l)return o=new Date(n),"break"},l=0;l<7*s;l++){if("break"===i())break}return o}function Ku(e){return Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)("input",Object(m.a)(Object(m.a)({type:"text"},e),{},{placeholder:"mm/dd/yy"})),Object(u.jsx)("span",{className:"calendar",onClick:e.onClick,id:e.id,children:Object(u.jsx)(B.e,{})})]})}var Zu,Ju=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleDateChange=function(e,t){!0===s.props.dateUpdateFlag||(s.props.dateUpdateFlag,s.setState({dateValue:e})),s.props.onchange(e,t)},s.disabledDate=function(e){var t=e.getDay(),a=e,n=s.state,o=n.currency,i=n.ticker,l=n.holidayData,c=n.productWeekData,r=n.product,d=!0;return(o||r||i)&&(l.map((function(e){if(e.currency==o){var t=Lu()(a),s=Lu()(Lu()(e.holidayDate,"DD/MM/YYYY").format("MM/DD/yyyy"));0===Math.round(Lu.a.duration(t.diff(s)).asDays())&&(d=!1)}})),c.map((function(e){e.weekCheck||t===e.dayId-1&&(d=!1)}))),d},s.state={fromdate:"",todate:"",dateValue:"",currency:"",ticker:"",holidayData:[],productWeekData:[]},s.handleDateChange=s.handleDateChange.bind(),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.holidayData&&this.props.productWeekData&&this.props.currency?this.setState({fromdate:this.props.fromDate,todate:this.props.toDate,dateValue:this.props.dateValue,currency:this.props.currency,ticker:this.props.ticker,product:this.props.product,holidayData:this.props.holidayData,productWeekData:this.props.productWeekData}):this.setState({fromdate:this.props.fromDate,todate:this.props.toDate,dateValue:this.props.dateValue,currency:this.props.currency,ticker:this.props.ticker,product:this.props.product})}},{key:"componentDidUpdate",value:function(e,t){if(e!==this.props){this.setState({fromdate:this.props.fromDate,todate:this.props.toDate,dateValue:this.props.dateValue,currency:this.props.currency,ticker:this.props.ticker,product:this.props.product})}}},{key:"render",value:function(){var e=this;return!0!==this.props.fromDateFlg||this.props.dateFormat?!0!==this.props.toDateFlg||this.props.dateFormat?!0===this.props.fromDateFlg&&this.props.dateFormat?Object(u.jsx)(Pu.a,{dateFormat:this.props.dateFormat,selected:this.state.fromdate,minDate:this.props.minDate,id:this.props.label,name:this.props.label,showMonthYearPicker:!0,className:"form-control text-right",customInput:Object(u.jsx)(Ku,{}),popperPlacement:"bottom-end",popperProps:{positionFixed:!0},filterDate:this.disabledDate,onChange:function(t){return e.handleDateChange(t,e.props.label)}}):!0===this.props.toDateFlg&&this.props.dateFormat?Object(u.jsx)(Pu.a,{dateFormat:this.props.dateFormat,selected:this.state.todate,minDate:this.props.minDate,id:this.props.label,name:this.props.label,showMonthYearPicker:!0,className:"form-control text-right",customInput:Object(u.jsx)(Ku,{}),popperPlacement:"bottom-end",onChange:function(t){return e.handleDateChange(t,e.props.label)},popperProps:{positionFixed:!0},disabled:this.props.disabled,filterDate:this.disabledDate}):Object(u.jsx)(Pu.a,{dateFormat:"M/d/yy",selected:this.state.dateValue,minDate:this.props.minDate,id:this.props.label,name:this.props.label,disabled:this.props.disabled,showMonthDropdown:!0,showYearDropdown:!0,className:"form-control text-right",customInput:Object(u.jsx)(Ku,{}),onChange:function(t){return e.handleDateChange(t,e.props.label)},popperPlacement:"bottom-end",popperProps:{positionFixed:!0},filterDate:this.disabledDate}):Object(u.jsx)(Pu.a,{dateFormat:"M/d/yyyy",selected:this.state.todate,minDate:this.props.minDate,id:this.props.label,name:this.props.label,showMonthDropdown:!0,showYearDropdown:!0,className:"form-control text-right",customInput:Object(u.jsx)(Ku,{}),popperPlacement:"bottom-end",onChange:function(t){return e.handleDateChange(t,e.props.label)},popperProps:{positionFixed:!0},disabled:this.props.disabled,filterDate:this.disabledDate}):Object(u.jsx)(Pu.a,{dateFormat:"M/d/yyyy",selected:this.state.fromdate,minDate:this.props.minDate,id:this.props.label,name:this.props.label,showMonthDropdown:!0,showYearDropdown:!0,className:"form-control text-right",customInput:Object(u.jsx)(Ku,{}),popperPlacement:"bottom-end",popperProps:{positionFixed:!0},filterDate:this.disabledDate,onChange:function(t){return e.handleDateChange(t,e.props.label)}})}}]),a}(o.a.Component),Qu=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleClose=function(){s.props.onHide()},s.msgTimeOut=function(e){s.setState({isLoading:!1}),setTimeout((function(){s.props.notificationRefresh(s.props.productKey),s.setState({respMessage:[],rejectReason:[],isLoading:!0})}),1e3)},s.onDateChange=function(e,t){var a=s.props.tradeData;if(void 0!==e&&null!==e){s.state.sellTrade[t]=Yu(e,"MM/DD/YY");var n="";if(Wu(s.state.sellTrade.maturityDate,s.state.sellTrade.settlementDate)<=0?n=jm:Wu(s.state.sellTrade.settlementDate,a.settlementDate)<=0&&(n=su),n)return s.setState({actionTitle:"Alert",actionMessage:n,showError:!0}),e.target.value="",e.target.focus(),!1;s.postData(s.state.sellTrade,Ml)}},s.hideAlert=function(){s.setState({alertShow:!1})},s.showTimer=function(e){var t,a=null!==sessionStorage.getItem("notifList")?JSON.parse(sessionStorage.getItem("notifList")):[];parseInt(sessionStorage.getItem("loggedinTime"));null!==a&&void 0!==a.find((function(t){return t.transId===e}))&&(t=a.find((function(t){return t.transId===e})).date);return 12e4-(Date.now()-t)},s.state={postFlag:!0,respMessage:"",rejectMsg:"",sellTrade:{},actionTitle:"",actionMessage:"",showError:!1,alertShow:!1,isLoading:!0},s.postData=s.postData.bind(Object(O.a)(s)),s.onChange=s.onChange.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.onDateChange=s.onDateChange.bind(Object(O.a)(s)),s.submitTrade=s.submitTrade.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({respMessage:[],rejectReason:[]});var e=this.props.tradeData,t={transType:"85"};t.issueId=e.refIssueId,t.bidRate=e.bidRate,t.productType=e.productType,t.programId=e.programId,t.ticker=e.ticker,t.settlementDate=e.settlementDate,t.maturityDate=e.maturityDate,t.amount=e.amount,t.rate=e.bidRate,this.setState({isLoading:!0}),this.postData(t,Ml)}},{key:"postData",value:function(e,t){var a=this;this.setState({isLoading:!1}),t===Ml&&this.state.sellTrade&&void 0!==this.state.sellTrade.bidRate&&"0"!==this.state.sellTrade.bidRate&&(e.rate=this.state.sellTrade.bidRate),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:[e],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(t===Ml?a.setState({sellTrade:e.data,isLoading:!0}):void 0!==e.data.responseMessage&&e.data.responseMessage.length>0?(a.msgTimeOut(),a.setState({respMessage:e.data.responseMessage,isLoading:!0})):void 0!==e.data.rejectReason&&e.data.rejectReason.length>0&&(a.msgTimeOut(),a.setState({rejectMsg:e.data.rejectReason,isLoading:!0})))}))}},{key:"onChange",value:function(e,t){this.state.sellTrade[t]=e.target.value;if("amount"===t){if(!1===Bo(e.target.value,"1234567890.,mmMMkkKK"))return wm,this.setState({actionTitle:"Alert",actionMessage:wm,showError:!0}),e.target.value="",e.target.focus(),!1;Uo(e),this.state.sellTrade.amount=Po(e.target.value),this.postData(this.state.sellTrade,Ml)}else this.postData(this.state.sellTrade,Ml)}},{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"submitTrade",value:function(e,t){this.setState({respMessage:[],rejectReason:[]}),"A"===t?this.setState({actionTitle:"Accept",actionMessage:"Are you sure, you want to Accept the Trade ?",alertShow:!0,actionFlag:"A"}):"R"===t?this.setState({actionTitle:"Reject",actionMessage:"Are you sure, you want to Reject the Trade ?",alertShow:!0,actionFlag:"R"}):"C"===t&&this.setState({actionTitle:"Dismiss",actionMessage:"Are you sure, you want to Dismiss the Trade ?",alertShow:!0,actionFlag:"C"})}},{key:"confirmAction",value:function(e){if("A"===e||"R"===e||"C"===e){this.setState({alertShow:!1});var t=this.props.tradeData;this.state.sellTrade.status=e,this.state.sellTrade.actionId=t.transId,this.state.respMessage="",this.state.rejectMsg="",this.postData(this.state.sellTrade,vc)}}},{key:"render",value:function(){var e,t=this,a=this.props,s=a.tradeData,n=a.tradeCnt;return"A"===s.status&&(e="accepted by"),"R"===s.status&&(e="rejected by"),"MI"===s.status&&(e="hold by"),"C"===s.status&&(e="cancelled by"),Object(u.jsx)(u.Fragment,{children:!0===this.state.isLoading?this.state.sellTrade&&"P"===s.status?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectMsg&&this.state.rejectMsg.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectMsg}):"",Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return t.hideAlert()},onConfirm:function(){return t.confirmAction(t.state.actionFlag)},messageType:cm})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",children:[Object(u.jsxs)("div",{className:"col-md-3 col-sm-3 col-xs-3 d-inline-block",children:[Object(u.jsx)("label",{id:"lbl_ticket",className:"form-label pr-1",children:"Ticket:"}),Object(u.jsx)("label",{id:"val_ticket",className:"form-label",children:n+1})]}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block text-center",children:Object(u.jsx)("label",{id:"val_time",className:"bold",children:s.clientinvesterCassii+" RFQ BIDS"})}),Object(u.jsxs)("div",{className:"col-md-3 col-sm-3 col-xs-3 d-inline-block",children:[Object(u.jsx)("label",{id:"lbl_ticket",className:"bold pt_rgt05",children:"TIME :"}),this.showTimer(s.transId)>0?Object(u.jsx)("span",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block font-weight-bold pdl4",children:Object(u.jsx)(wu,{transId:s.transId,tdata:s,ticketType:"CLIENT",timeGap:this.showTimer(s.transId)})}):Object(u.jsx)("span",{className:"text-danger font-weight-bold pdl4",children:"Expired"})]})]}),Object(u.jsxs)("div",{className:"modal-cls",id:"tradingpopup",children:[Object(u.jsxs)("div",{className:"bgc",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0 border-bottom",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left font-weight-bold",children:"SALES:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:s.spLoginId})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left font-weight-bold",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:s.cusip})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0 border-bottom",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left font-weight-bold",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:s.issuerName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left font-weight-bold",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:s.prodName})]})]})]}),Object(u.jsxs)("div",{className:"col-md-9 col-sm-9 col-xs-9 d-inline-block p-0 border-right",children:[Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("label",{className:"form-label col-md-12 col-sm-12 col-xs-12 font-weight-bold",children:s.ticker+"-Primary "+s.prodName})}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"\xa0"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Offer"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"$m:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"offeringlimit",id:"offeringlimit",className:"text-right",value:Lo(s.offeringlimit),readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Settle:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"settleDateStr",id:"settleDateStr",className:"text-right",value:s.settleDateStr,readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Rate:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-right",children:Object(u.jsx)(Eu,{name:"offer",id:"offer",className:"text-right",value:s.offer,readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Mat:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-right",children:Object(u.jsx)(Eu,{name:"maturityDateStr",id:"maturityDateStr",className:"text-right",value:s.maturityDateStr,readOnly:!0})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"\xa0"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"amount",id:"amount",className:"text-right",value:Lo(this.state.sellTrade.amount),onBlur:function(e){t.onChange(e,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-right",children:Object(u.jsx)(Ju,{label:"settlementDate",id:"settlementDate",dateValue:void 0===this.state.sellTrade||void 0===this.state.sellTrade.settlementDate?"":new Date(this.state.sellTrade.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(e){t.onDateChange(e,"settlementDate")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-right",children:Object(u.jsx)(Eu,{name:"bidRate",id:"bidRate",className:"text-right",value:this.state.sellTrade.bidRate,onBlur:function(e){t.onChange(e,"bidRate")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-right",children:Object(u.jsx)(Eu,{name:"maturityDate",id:"maturityDate",className:"text-right",value:this.state.sellTrade.maturityDate,readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Net $:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",children:this.state.sellTrade.netAmt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Disc:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",children:Lo(Po(void 0===this.state.sellTrade.interestAmount?"":this.state.sellTrade.interestAmount))})]})]}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Account Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"accountName",id:"accountName",value:s.accountName,readOnly:!0})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"OMS:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"cassii",id:"cassii",value:s.cassii,readOnly:!0})})]})})]})]}),Object(u.jsx)("div",{className:"col-md-3 col-sm-3 col-xs-3 d-inline-block p-0 mt-1 align-top",children:Object(u.jsxs)("div",{className:"btn-grp text-center mt-3",children:[Object(u.jsx)(D.a,{id:"counter",className:"btn btn-warning btn-xs wclr",onClick:function(e){t.submitTrade(t,"A")},children:"Counter"}),Object(u.jsx)(D.a,{id:"accept",className:"btn btn-success btn-xs",onClick:function(e){t.submitTrade(t,"A")},children:"Accept"}),Object(u.jsx)(D.a,{id:"reject",className:"btn btn-danger btn-xs",onClick:function(e){t.submitTrade(t,"R")},children:"Reject"}),Object(u.jsx)(D.a,{id:"cancel",className:"btn btn-primary btn-xs ml-1",onClick:function(e){t.submitTrade(t,"C")},children:"Dismiss"})]})}),Object(u.jsxs)("div",{className:"border-top",children:[Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block p-0 mt-1 align-top",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_customermsg",className:"form-label col-md-2 col-sm-2 col-xs-2 font-weight-bold",children:"Customer Msg:"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8 pl-1",children:Object(u.jsx)(Eu,{name:"customermsg",id:"customermsg",value:""})})]})}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block p-0 mt-1 align-top border-bottom",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_dealermsg",className:"form-label col-md-2 col-sm-2 col-xs-2 font-weight-bold",children:"Dealer Msg:"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8 pl-1",children:Object(u.jsx)(Eu,{name:"dealermsg",id:"dealermsg",value:""})}),Object(u.jsx)("div",{className:"col-md-2 col-sm-2 col-xs-2 pl-1",children:Object(u.jsx)("a",{href:"javascript:void(0);",className:"btn btn-success btn-xs",id:"send",children:"Send"})})]})}),Object(u.jsxs)("div",{className:"col-md-9 col-sm-9 col-xs-9 d-inline-block p-0 mt-1",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Ticket Number:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",children:s.originatorOrderNumber})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Ticket Source:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",children:s.source})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Time:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:s.createdDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Entered By:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:s.spLoginId})]})]})]}),Object(u.jsx)("div",{className:"clearfix"}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block align-top border-top",children:Object(u.jsx)("div",{className:"row p3 brd-btm mb-1 mt-1",children:Object(u.jsx)("label",{id:"lbl_dealermsg",className:"bg-yellow form-label font-weight-bold p-0 text-primary",children:"OFFERING IS SUBJECTED"})})})]})]})]}):!this.state.sellTrade||"A"!==s.status&&"R"!==s.status&&"MI"!==s.status&&"C"!==s.status?"":Object(u.jsxs)("div",{className:"modal-cls",children:[Object(u.jsxs)("div",{className:"bgc border-bottom",children:[Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 d-inline-block p-0"}),Object(u.jsxs)("div",{className:"col-md-4 col-sm-4 col-xs-4 d-inline-block p-0",children:[Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsxs)("label",{className:"\r form-label\r text-left\r font-weight-bold",children:["Trade ",e," ",s.acceptedLoginId]})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsxs)("label",{className:"\r form-label\r text-left\r font-weight-bold",children:["Sell $",this.state.sellTrade.amount,"M ",this.state.sellTrade.ticker," ",this.state.sellTrade.settlementDate," @ ",this.state.sellTrade.bidRate]})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsxs)("label",{className:"\r form-label\r text-left\r font-weight-bold",children:["Trade #",s.originatorOrderNumber]})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsxs)("label",{className:"\r form-label\r text-left\r font-weight-bold",children:["Booked By: ",s.spLoginId]})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("label",{className:"\r form-label\r text-left\r font-weight-bold",children:s.source})})]})]}),Object(u.jsx)("div",{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return t.hideError()},messageType:um})})]}):""})}}]),a}(o.a.Component),Xu={BOOM:"badge-dark",DOMES:"badge-success",MERCURY:"badgemercury",TWEB:"badgetweb",PORTAL:"badgeportal",DFAULT:"bgdefault"},$u=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).expireTrades=function(){var e=Object(O.a)(s);console.log("Dinesh--expireTrades--"),setTimeout((function(){e.verifyTrades()}),N.tradeTimeOut)},s.verifyTrades=function(){var e=null!==sessionStorage.getItem("notifList")?JSON.parse(sessionStorage.getItem("notifList")):[],t=[];e.map((function(e,a){Date.now()-e.date>N.tradeTimeOut?console.log("Need to add api call"):t.push(e)})),sessionStorage.setItem("notifList",JSON.stringify(t))},s.notificationRefresh=function(e){s.openTradePopUpSocket(s.state.productList,e)},s.storeNotificationWithDate=function(e){var t=null!==sessionStorage.getItem("notifList")&&sessionStorage.getItem("notifList").length>0?JSON.parse(sessionStorage.getItem("notifList")):[];e.map((function(e,a){null!==t&&void 0!==t.find((function(t){return t.transId===e.transId}))||t.push({transId:e.transId,date:Date.now()})})),sessionStorage.setItem("notifList",JSON.stringify(t))},s.handleSalesNotify=function(){s.setState({salesshow:!0})},s.handleNotify=function(){s.setState({show:!0})},s.onHide=function(){s.setState({show:!1})},s.showRecords=function(e){var t=s.state.trades.filter((function(t){return t.source===e}));s.setState({showTradeDetails:!0,filterTradesList:t,productKey:e})},s.changeBadgeClass=function(e){var t=s.state.productKey;return e===t?Xu[t]:Xu.DFAULT},s.showArrow=function(e){if(e===s.state.productKey)return Object(u.jsx)("img",{src:Iu,width:"20",height:"20",style:{position:"absolute",top:"-4px",right:"11px",transform:"rotate(90deg)"}})},s.state={badgeCnt:0,show:!1,salesshow:!1,productKey:"",showTradeDetails:!1,filterTradesList:[],productList:[],trades:[]},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;w()({method:"POST",url:N.URL+Mc,timeout:N.apiTimeOut,data:{All:"false"},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){void 0!==t.data&&e.openTradePopUpSocket(t.data)}))}},{key:"openTradePopUpSocket",value:function(e,t){var a,s=this;if("2"===sessionStorage.getItem("membercatid"))a={loginId:sessionStorage.getItem("loginid"),socketSource:"SELL"};else if("Admin"===localStorage.getItem("mainLogin")){var n=JSON.parse(sessionStorage.getItem("ssoUserData"));a={loginId:void 0!==n?n.ssoTraderId:sessionStorage.getItem("loginid"),socketSource:"SELL"}}var o=new WebSocket(N.WSURL+ar+N.WEBSOCKET);o.onopen=function(){o.send(JSON.stringify(a))},o.onmessage=function(a){"No Data Found"===a.data?console.log("No Data Found for ::::",N.WSURL+ar+N.WEBSOCKET):s.notification(JSON.parse(a.data),e,t)},o.onClose=function(){}}},{key:"notification",value:function(e,t,a){var s=document.getElementsByClassName("audio-element")[0];if(void 0!==e&&e.length>0){var n=this.state.badgeCnt;if(""!==a){this.storeNotificationWithDate(e);var o=e.filter((function(e){return e.source===a}));this.setState({badgeCnt:e.length,trades:e,productList:t,filterTradesList:o})}else this.storeNotificationWithDate(e),this.setState({badgeCnt:e.length,trades:e,productList:t});n!==this.state.badgeCnt&&s.play()}}},{key:"render",value:function(){var e=this,t=this.state,a=t.badgeCnt,s=t.show,n=t.productList,o=t.trades,i=t.showTradeDetails,l=t.filterTradesList,c=t.productKey,r=[],d=[];if(null!=o&&o.length>0){n&&n.map((function(t,a){o.find((function(e){return e.source===t.key}))&&o.filter((function(e){return e.source===t.key})).length>0&&"All"!==t.key&&"JPEX"!==t.key&&d.push(Object(u.jsx)($o.a.Item,{id:"DBMJP",children:Object(u.jsx)($o.a.Link,{onClick:function(a){e.showRecords(t.key)},eventKey:t.key,style:{background:"transparent",padding:"8px"},children:Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)("span",{style:{marginRight:"5px"},className:("BOOM"==t.key?"dotblack":"DOMES"==t.key&&"dotdomes")||"TWEB"==t.key&&"dottweb"||"MERCURY"==t.key&&"dottmer"||"PORTAL"==t.key&&"dotportal"}),Object(u.jsx)(ni,{label:t.key}),Object(u.jsx)("span",{className:"badge "+e.changeBadgeClass(t.key),style:{right:"34px",top:"-3px"},children:o.filter((function(e){return e.source===t.key})).length}),e.showArrow(t.key)]})})})}))}));for(var m=0;m<l.length;m++)r.push(Object(u.jsxs)(ai.a,{children:[Object(u.jsx)(ai.a.Header,{className:"p-1",children:Object(u.jsx)(ti.a.Toggle,{as:ai.a.Header,id:c,variant:"link",eventKey:l[m].transId,children:Object(u.jsxs)(H.a,{className:"m-0",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(ni,{className:"font-weight-bold",label:"Ticket:"}),"\xa0",Object(u.jsx)(ni,{label:m+1})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(ni,{className:"font-weight-bold",label:"Client:"}),"\xa0",Object(u.jsx)(ni,{label:l[m].clientinvesterCassii+" RFQ BIDS"})]}),Object(u.jsxs)(W.a,{className:"text-center",children:[Object(u.jsx)(ni,{className:"font-weight-bold",label:"Amount:"}),"\xa0",Object(u.jsx)(ni,{label:Lo(l[m].amount)})]}),Object(u.jsxs)(W.a,{className:"text-right",children:[Object(u.jsx)(ni,{className:"font-weight-bold",label:"Status:"}),"\xa0",Object(u.jsx)(ni,{label:l[m].tradeStatus})]})]})})}),Object(u.jsx)(ti.a.Collapse,{eventKey:l[m].transId,children:Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(Qu,{productKey:c,notificationRefresh:this.notificationRefresh,tradeData:l[m],tradeCnt:m})})})]}))}return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("audio",{className:"audio-element",children:Object(u.jsx)("source",{src:"https://assets.coderrocketfuel.com/pomodoro-times-up.mp3"})}),Object(u.jsxs)("span",{className:"mr-3 notification",onClick:this.handleNotify,children:[Object(u.jsx)(B.d,{}),Object(u.jsx)("span",{className:"badge badge-danger",children:a})]}),Object(u.jsxs)(P.a,{show:s,onHide:this.onHide,size:!0===i?"xl":"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:"Client Notifications"})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsx)(ei.a.Container,{id:"left-tabs-example",defaultActiveKey:c,children:Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{className:!0===i?"col-sm-2":"",children:Object(u.jsx)($o.a,{variant:"pills",className:"flex-column",children:d})}),Object(u.jsx)(W.a,{sm:10,children:Object(u.jsx)(ei.a.Content,{children:Object(u.jsx)(ei.a.Pane,{eventKey:c,children:Object(u.jsxs)(ti.a,{defaultActiveKey:this.state.badgeCnt,children:[r,0===this.state.trades.length&&Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Notifications found."})]})})})})]})})})]})]})}}]),a}(o.a.Component),eb=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).showSidebar=function(e){s.setState({singleSelections:[]}),s.node.contains(e.target)?s.setState({sidebar:!0}):s.setState({sidebar:!1})},s.hideSidebar=function(e){s.props.handleLink(e),s.setState({sidebar:!s.state.sidebar})},s.onHide=function(){s.setState({show:!1,salesshow:!1,showLayer:!1})},s.isDisplayRole=function(e){if(void 0!==sessionStorage.getItem("ssoUserData")&&"undefined"!==sessionStorage.getItem("ssoUserData")){var t=JSON.parse(sessionStorage.getItem("ssoUserData"));if("A"===e&&void 0!==t&&void 0!==t.ssoAdminId)return!0;if("T"===e&&void 0!==t&&void 0!==t.ssoTraderId)return!0;if("S"===e&&void 0!==t&&void 0!==t.ssoFrontOfficeId)return!0;if("SA"===e&&void 0!==t&&void 0!==t.ssoSalesId)return!0}return!1},s.state={sidebar:!1,singleSelections:"",badgeCnt:0,salesbadgeCnt:0,show:!1,salesshow:!1,minutes:0,seconds:10,trades:[],salestrades:[],pendingCusip:[],activeAdmin:"activeUser",activeSupport:"",activeTrader:"",activeSales:"",showLayer:!1},s.setSingleSelections=s.setSingleSelections.bind(Object(O.a)(s)),s.roleChange=s.roleChange.bind(Object(O.a)(s)),s.openTradeCusipPopUpSocket=s.openTradeCusipPopUpSocket.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.showSidebar,!1),this.openTradeCusipPopUpSocket()}},{key:"openTradeCusipPopUpSocket",value:function(){var e=this,t={loginId:sessionStorage.getItem("loginid"),socketSource:"PENDCUSIP"};this.state.socketCusipConn=new WebSocket(N.WSURL+ar+N.WEBSOCKET),this.state.socketCusipConn.onopen=function(){e.state.socketCusipConn.send(JSON.stringify(t))},this.state.socketCusipConn.onmessage=function(t){e.setState({showLayer:!0,pendingCusip:JSON.parse(t.data)})},this.state.socketCusipConn.onClose=function(){}}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),document.removeEventListener("mousedown",this.showSidebar,!1)}},{key:"setSingleSelections",value:function(e,t){this.setState({singleSelections:e});var a={target:{id:t.linkDescription,outerText:t.linkDescription&&t.linkDescription.trim()}};this.props.handleLink(a)}},{key:"roleChange",value:function(){var e=Object(f.a)(y.a.mark((function e(t){var a,s,n,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=sessionStorage.getItem("roletype"),localStorage.setItem("roletype",t.target.outerText),"Trader"!==t.target.outerText.trim()){e.next=11;break}return s=sessionStorage.getItem("loginName"),"T"!==a&&(n=JSON.parse(sessionStorage.getItem("ssoUserData")),s=n.ssoTraderName),e.next=7,w()({method:"POST",url:N.SIGNINURL,timeout:N.apiTimeOut,data:{loginName:s,secretKey:"fin1oxy"},headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}});case 7:(o=e.sent).data&&(sessionStorage.setItem("user",JSON.stringify(o)),sessionStorage.setItem("token",JSON.stringify(o.data.jwt)),sessionStorage.setItem("loginName",JSON.stringify(o.data.loginname)),sessionStorage.setItem("roledesc",o.data.roledesc),sessionStorage.setItem("membercatid",o.data.membercatid),sessionStorage.setItem("loginid",o.data.loginid),localStorage.setItem("roletype","Trader"),localStorage.setItem("firstName",o.data.firstName),localStorage.setItem("lastName",o.data.lastName),this.setState({activeTrader:"activeUser",activeAdmin:"",activeSupport:"",activeSales:""})),e.next=35;break;case 11:if("Support"!==t.target.outerText){e.next=20;break}return s=sessionStorage.getItem("loginName"),"S"!==a&&(n=JSON.parse(sessionStorage.getItem("ssoUserData")),s=n.ssoFrontOfficeName),e.next=16,w()({method:"POST",url:N.SIGNINURL,timeout:N.apiTimeOut,data:{loginName:s,secretKey:"fin1oxy"}});case 16:(o=e.sent).data&&(sessionStorage.setItem("user",JSON.stringify(o)),sessionStorage.setItem("token",JSON.stringify(o.data.jwt)),sessionStorage.setItem("loginName",JSON.stringify(o.data.loginname)),sessionStorage.setItem("roledesc",o.data.roledesc),sessionStorage.setItem("membercatid",o.data.membercatid),sessionStorage.setItem("loginid",o.data.loginid),localStorage.setItem("roletype","Support"),localStorage.setItem("firstName",o.data.firstName),localStorage.setItem("lastName",o.data.lastName),this.setState({activeTrader:"",activeAdmin:"",activeSupport:"activeUser",activeSales:""})),e.next=35;break;case 20:if("Sales"!==t.target.outerText){e.next=29;break}return s=sessionStorage.getItem("loginName"),"SA"!==a&&(n=JSON.parse(sessionStorage.getItem("ssoUserData")),s=n.ssoSalesName),e.next=25,w()({method:"POST",url:N.SIGNINURL,timeout:N.apiTimeOut,data:{loginName:s,secretKey:"fin1oxy"}});case 25:(o=e.sent).data&&(sessionStorage.setItem("user",JSON.stringify(o)),sessionStorage.setItem("token",JSON.stringify(o.data.jwt)),sessionStorage.setItem("loginName",JSON.stringify(o.data.loginname)),sessionStorage.setItem("roledesc",o.data.roledesc),sessionStorage.setItem("membercatid",o.data.membercatid),sessionStorage.setItem("loginid",o.data.loginid),localStorage.setItem("roletype","Sales"),localStorage.setItem("firstName",o.data.firstName),localStorage.setItem("lastName",o.data.lastName),this.setState({activeTrader:"",activeAdmin:"",activeSupport:"",activeSales:"activeUser"})),e.next=35;break;case 29:return s=sessionStorage.getItem("loginName"),"A"!==a&&(n=JSON.parse(sessionStorage.getItem("ssoUserData")),s=n.ssoAdminName),e.next=33,w()({method:"POST",url:N.SIGNINURL,timeout:N.apiTimeOut,data:{loginName:s,secretKey:"fin1oxy"}});case 33:(o=e.sent).data&&(sessionStorage.setItem("user",JSON.stringify(o)),sessionStorage.setItem("token",JSON.stringify(o.data.jwt)),sessionStorage.setItem("loginName",JSON.stringify(o.data.loginname)),sessionStorage.setItem("roledesc",o.data.roledesc),sessionStorage.setItem("membercatid",o.data.membercatid),sessionStorage.setItem("loginid",o.data.loginid),localStorage.setItem("mainLogin","Admin"),localStorage.setItem("roletype","Admin"),localStorage.setItem("firstName",o.data.firstName),localStorage.setItem("lastName",o.data.lastName),this.setState({activeTrader:"",activeAdmin:"activeUser",activeSupport:"",activeSales:""}));case 35:this.props.typeChange(),x.push("/home");case 37:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.sidebar,a=JSON.parse(sessionStorage.getItem("user")).data.linksInfo;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(H.a,{className:"sidenav",children:[Object(u.jsx)(W.a,{xs:6,children:Object(u.jsx)("span",{className:"brandname",children:"Dealer Order Management System"})}),Object(u.jsxs)(W.a,{xs:6,className:"text-right",children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("span",{className:"role pr-3",children:["Welcome, ",localStorage.getItem("firstName")+" "+localStorage.getItem("lastName")]}),Object(u.jsxs)("span",{className:"roletypelbl pl-3",children:["Role Type:",this.isDisplayRole("A")&&Object(u.jsx)("span",{className:"roletypeinact pl-1 pr-1 cross "+this.state.activeAdmin,onClick:this.roleChange,children:"Admin"}),this.isDisplayRole("T")&&"Admin"===localStorage.getItem("mainLogin")&&Object(u.jsx)("span",{className:"roletypeinact pl-1 pr-1 cross "+this.state.activeTrader,onClick:this.roleChange,children:"Trader"}),this.isDisplayRole("T")&&"Admin"!==localStorage.getItem("mainLogin")&&Object(u.jsx)("span",{className:"roletypeinact pl-1 pr-1 cross "+this.state.activeSupport,children:"Trader"}),this.isDisplayRole("S")&&"Admin"===localStorage.getItem("mainLogin")&&Object(u.jsx)("span",{className:"roletypeinact pl-1 pr-1 cross "+this.state.activeSupport,onClick:this.roleChange,children:"Support"}),this.isDisplayRole("S")&&"Admin"!==localStorage.getItem("mainLogin")&&Object(u.jsx)("span",{className:"roletypeinact pl-1 pr-1 cross "+this.state.activeSupport,children:"Support"}),this.isDisplayRole("SA")&&"Admin"===localStorage.getItem("mainLogin")&&Object(u.jsx)("span",{className:"roletypeinact pl-1 pr-1 cross "+this.state.activeSales,onClick:this.roleChange,children:"Sales"}),this.isDisplayRole("SA")&&"Admin"!==localStorage.getItem("mainLogin")&&Object(u.jsx)("span",{className:"roletypeinact pl-1 pr-1 cross "+this.state.activeSales,children:"Sales"})]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)(G,{className:"autosearch",id:"menulinksauto",data:a,onchange:this.setSingleSelections,selected:this.state.singleSelections}),Object(u.jsx)("audio",{className:"audio-element",children:Object(u.jsx)("source",{src:"https://assets.coderrocketfuel.com/pomodoro-times-up.mp3"})}),Object(u.jsxs)("span",{className:"navicon",children:["2"===sessionStorage.getItem("membercatid")&&Object(u.jsx)(Au,{}),this.isDisplayRole("T")&&"2"===sessionStorage.getItem("membercatid")&&Object(u.jsx)($u,{}),Object(u.jsxs)("span",{ref:function(t){return e.node=t},children:[t?Object(u.jsx)(L.a,{id:"side",onClick:this.showSidebar}):Object(u.jsx)(B.c,{onClick:this.showSidebar}),Object(u.jsx)("div",{className:"sidebarnav "+(t?"sidebarnav-show":"sidebarnav-hide"),children:Object(u.jsx)("div",{className:"sidebarwrap",children:a&&a.length>0&&a.map((function(t,a){return Object(u.jsx)(U,{handleLink:e.props.handleLink,hideSidebar:e.hideSidebar,item:t},a)}))})})]}),Object(u.jsx)("div",{className:"switchright ml-2",title:"Dark mode",children:Object(u.jsx)(Y.a,{onChange:this.props.handle,checked:this.props.checked})}),Object(u.jsx)("span",{className:"navicon",children:Object(u.jsx)(B.A,{onClick:this.props.logout})})]})]})]})]}),this.state.showLayer&&Object(u.jsxs)(P.a,{show:this.state.showLayer,onHide:this.onHide,size:"xl",dialogClassName:"modal rate","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:"Pending CUSIP Inventories"})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsx)(Z.a,{keyField:"ticketId",data:this.state.pendingCusip,columns:Xo(this.state.pendingCusip,Mo),striped:!0,hover:!0,wrapperClasses:"fo2table table-responsive"})})]})]})}}]),a}(o.a.Component),tb=eb,ab=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={logout:!1},s.dologout=s.dologout.bind(Object(O.a)(s)),s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.closeanddo=s.closeanddo.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"dologout",value:function(){this.setState({logout:!0})}},{key:"closemodel",value:function(){this.setState({logout:!1})}},{key:"closeanddo",value:function(){this.setState({logout:!1}),x.push("/login"),M.logout()}},{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(tb,{typeChange:this.props.typeChange,handleLink:this.props.handleLink,handle:this.props.handle,checked:this.props.checked,logout:this.dologout}),this.state.logout&&Object(u.jsxs)(P.a,{show:this.state.logout,onHide:this.closemodel,"aria-labelledby":"contained-modal-title-vcenter",id:"logout",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,onClick:this.closemodel,children:Object(u.jsx)(P.a.Title,{children:"Logout"})}),Object(u.jsxs)(P.a.Body,{className:"text-center container",children:[Object(u.jsx)("div",{children:'Click "Ok" to Logoff'}),Object(u.jsx)("div",{className:"text-nowrap",children:'Click "Cancel" to return to Your Order Management System (DOMES)'}),Object(u.jsx)(D.a,{size:"sm",onClick:this.closeanddo,id:"ok",children:"OK"}),Object(u.jsx)(D.a,{size:"sm",className:"ml-2",onClick:this.closemodel,id:"cancel",children:"Cancel"})]})]})]})}}]),a}(o.a.Component),sb=a(153),nb=a.p+"omsservice/static/media/darktheme.70748e84.svg",ob={body:"#E2E2E2",cardheader:"rgb(53 138 189)",cardbody:"#d8e5e8",text:"#363537",brandtext:"#000",cardtext:"#333",toggleBorder:"#FFF",gradient:"linear-gradient(#39598A, #79D7ED)",header:"#0470b2",headertext:"#fff",switch:"#cdd0cb",roletype:"#fdff83",linkhover:"#7da0c3",cardheaderbbbg:"transparent",tableheadbg:"#0470b2",tableheadth:"#C2C6C9",stripedbodytrodd:"#cfe6fd",tablebodytrodd:"#cfe6fd",tablebodytrhover:"#e5ddd5 !important",filterlabel:"#333",tableheadborder:"1px solid #adaaaa",tablebodyborder:"1px solid #adaaaa",navtabstyle:"#86b7d4",navbottomborder:"#86b7d4",navtabborder:"#358abd #358abd #fff",navtabactive:"#0470b2",btnstyle:"#358abd",btnborder:"#86b7d4",buyticketbg:"#0470b2",buytickersubHead:"rgb(53 138 189)",loader:"linear-gradient(90deg, #0470b2, #fff, #0470b2);"},ib={body:"#fff",fontfamily:"Roboto",cardheader:"#560115",cardbody:"#000000",cardbodytext:"#000000",cardborder:" 1px solid #fbfdff",text:"#FAFAFA",brandtext:"#FFF",cardtext:"#2e5258",toggleBorder:"#6B8096",gradient:"linear-gradient(#091236, #1E215D)",header:"#606163",headertext:"#fbfdff",switch:"#3e64ff !important",roletype:"#a4eadd",linkhover:"#b6b9b3",tableheadbg:"rgb(85 87 88)",tablebodytdcolor:"#ffbc00 !important",tablebodytrodd:"#000 !important",stripedbodytrodd:"#cfe6fd !important",tablebodytreven:"#000 !important",tabletdbtnlink:"#00ffb4 !important",tabletdbtnlinkhover:"#007bff !important",tablebodytrhovertd:"#000000 !important",tablebodytrhover:"#e5ddd5 !important",filterlabel:"#363537",tableheadborder:"1px solid #cec5c5",tablebodyborder:"1px solid #cec5c5",navtabstyle:"#8a8c88",navbottomborder:"#8a8c88",navtabborder:"#6f716d #6f716d #dee2e6",navtabactive:"#560115",btnstyle:"#560115",btnborder:"#560115",buyticketbg:"#560115",buytickersubHead:"#560115",loader:"linear-gradient(90deg, #606163, #fff, #606163);",inventorycardheader:"#560115",inventorytabletdeven:"rgb(249, 249, 165, 0.9) !important",resizeHandle:"url("+nb+")"},lb=a(259),cb=Object(sb.b)(Zu||(Zu=Object(lb.a)(["\n  *,\n  *::after,\n  *::before {\n    box-sizing: border-box;\n  }\n  body { \n    background: ",";\n    color: ",";\n    font-family: ",";\n  }\n  .bg-light {\n    background: "," !important;\n  }\n  \n  .bg-light span {\n    color: "," !important; \n  } \n  .navbar-nav a {\n      color: "," !important; \n  }\n  .card-header {\n    background: ",";\n    color: ",";\n    border-bottom: ","\n  }\n  .card-header strong a {\n    color: ",";\n  }\n  .card {\n    background: ",";\n    color: ",";\n    border: ",";\n  }\n  .card-body{\n    background: ",";\n    color: ",";\n  }\n  .card-body label[id^=lbl]{\n    color: ",";\n  }\n  .sidenav {\n    background: ",";\n    color: ",";\n  }\n  .nav-tabs .nav-link.active{\n    background: ",";\n    color: ",";\n  }\n  .nav-tabs .nav-link:hover{\n    background: ",";\n    color: ",";\n  }\n  .sidebarnav {\n    background: ",";\n    color: ",";\n  }\n  .brandname {\n    color: ",";\n  }\n  .navicon {\n    color: ",";\n  }\n  .react-switch-bg {\n    background: ",";\n  }\n  .roletype {\n    color: ",";\n  } \n  .sidebarlink {\n    color: ",";\n  } \n  .sidebarlink a {\n    color: ",";\n  } \n  .sidebarlink:hover {\n    background: ",";\n  } \n  .sidebarlabel {\n    color: ",";\n  }\n  .subsidebarlink {\n    color: ",";\n  }\n  .subsidebarlink a {\n    color: ",";\n  }\n  .subsidebarlink:hover {\n    background: ",";\n  } \n  .dropdownlink:hover {\n    background: ",";\n  }\n  .fo2table table thead th {\n    background: ",";\n    color: ",";\n    border: ",";\n  }\n  .fo2table table tbody tr td {\n    border: ",";\n    color: ",";\n  }\n  .fo2table table tbody tr td .btn-link {\n    color: ",";\n  }\n  .fo2table table tbody tr:nth-child(odd){\n    background: ",";\n  }\n  .fo2table table tbody tr:nth-child(even){\n    background: ",";\n  }\n  .fo2table table tbody tr:hover {\n    background: ",";\n  }\n  .fo2table table tbody tr:hover td {\n    color: ",";\n  }\n  .fo2table table tbody tr:hover td.reset-expansion-style table tbody tr td {\n    color: ",";\n  }\n  .fo2table table tbody tr:hover td.reset-expansion-style table tbody tr td .btn-link {\n    color: ",";\n  }\n  .fo2table table tbody tr:hover td.reset-expansion-style table tbody tr:hover td {\n    color: ",";\n  }\n  .fo2table table tbody tr:hover td.reset-expansion-style table tbody tr:hover td {\n    color: ",";\n  }\n  .fo2table table tbody tr:hover td.reset-expansion-style table tbody tr:hover td.reset-expansion-style table tbody tr td {\n    color: ",";\n  }\n  .fo2table table tbody tr:hover td.reset-expansion-style table tbody tr:hover td.reset-expansion-style table tbody tr:hover td {\n    color: ",";\n  }\n  .fo2table table tbody tr:hover td.reset-expansion-style table tbody tr:hover td.reset-expansion-style table tbody tr:hover td .btn-link {\n    color: ",";\n  }\n  .fo2table table tbody tr:hover td .btn-link{\n    color: ",";\n  }\n  .form-label {\n    color: ",";\n  }\n  .fo2RateGridtable table thead th {\n    background: ",";\n    color: ",";\n    border: ",";\n  }\n  .fo2RateGridtable table tbody td {\n    border: ",";\n  }\n  .fo2RateGridtable table tbody tr:hover {\n    background: ",";\n  }\n  .nav-tabs .nav-link {\n    background: ",";\n  }\n  .nav-tabs .nav-link:hover {\n    border-color: ",";\n  }\n  .nav-tabs .nav-link.active {\n    background: ",";\n    color: ",";\n  }\n  .nav-tabs {\n    border-bottom: 2px solid ",";\n  }\n  .btn-primary {\n    background-color: ",";\n    border-color: ",";\n  }\n  .btn-primary:hover {\n    background-color: ",";\n    border-color: ",";\n  }\n  .modal .modal-header {\n    background-color: ",";\n  }\n  .modal-cls div.subHead {\n    background-color: ",";\n  }\n  .modal-cls div label.from-label {\n    color: ",";\n  }\n  .striped div:nth-child(even) {\n    background: ",";\n  }\n  p.loader {\n    background: ",";\n    background-repeat: no-repeat;\n    background-size: 80%;\n    -webkit-background-clip: text;\n  }\n  #userprodsetup .modal-body {\n    color: ",";\n  }\n  #userprodsetup .modal-cls div label.from-label {\n    color: ",";\n  }\n  #inventory strong.cursor {\n    color: ",";\n  }\n  #inventory strong.cursor {\n    color: ",";\n  }\n  #inventory .fo2table table thead th {\n    color: ",";\n    font-weight:  ",";\n  }\n  #inventory .fo2table table tbody tr td {\n    color: ",";\n  }\n  #inventory .fo2table table tbody tr td .btn-link {\n    color: ",";\n  }\n  #inventory .fo2table table tbody tr:nth-child(even){\n    background: ",";\n  }\n  #logout .modal-body div {\n    color: ",";\n  }\n  .react-resizable-handle {\n    background-image: ",";\n  }\n  .adnchk > div > div {\n    color: ",";\n  }\n  .card-body label[id^=val]{\n    color: ",";\n  }\n  "])),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.fontfamily}),(function(e){return e.theme.body}),(function(e){return e.theme.brandtext}),(function(e){return e.theme.brandtext}),(function(e){return e.theme.cardheader}),(function(e){return e.theme.headertext}),(function(e){return e.theme.cardheaderbbbg}),(function(e){return e.theme.headertext}),(function(e){return e.theme.cardbody}),(function(e){return e.theme.cardtext}),(function(e){return e.theme.cardborder}),(function(e){return e.theme.cardbody}),(function(e){return e.theme.text}),(function(e){return e.theme.text}),(function(e){return e.theme.header}),(function(e){return e.theme.headertext}),(function(e){return e.theme.header}),(function(e){return e.theme.headertext}),(function(e){return e.theme.header}),(function(e){return e.theme.headertext}),(function(e){return e.theme.header}),(function(e){return e.theme.headertext}),(function(e){return e.theme.headertext}),(function(e){return e.theme.headertext}),(function(e){return e.theme.switch}),(function(e){return e.theme.roletype}),(function(e){return e.theme.headertext}),(function(e){return e.theme.headertext}),(function(e){return e.theme.linkhover}),(function(e){return e.theme.headertext}),(function(e){return e.theme.headertext}),(function(e){return e.theme.headertext}),(function(e){return e.theme.linkhover}),(function(e){return e.theme.linkhover}),(function(e){return e.theme.tableheadbg}),(function(e){return e.theme.headertext}),(function(e){return e.theme.tableheadborder}),(function(e){return e.theme.tablebodyborder}),(function(e){return e.theme.tablebodytdcolor}),(function(e){return e.theme.tabletdbtnlink}),(function(e){return e.theme.tablebodytrodd}),(function(e){return e.theme.tablebodytreven}),(function(e){return e.theme.tablebodytrhover}),(function(e){return e.theme.tablebodytrhovertd}),(function(e){return e.theme.tablebodytdcolor}),(function(e){return e.theme.tabletdbtnlink}),(function(e){return e.theme.tablebodytrhovertd}),(function(e){return e.theme.tablebodytrhovertd}),(function(e){return e.theme.tablebodytdcolor}),(function(e){return e.theme.tablebodytrhovertd}),(function(e){return e.theme.tabletdbtnlinkhover}),(function(e){return e.theme.tabletdbtnlinkhover}),(function(e){return e.theme.filterlabel}),(function(e){return e.theme.tableheadbg}),(function(e){return e.theme.headertext}),(function(e){return e.theme.tableheadborder}),(function(e){return e.theme.tablebodyborder}),(function(e){return e.theme.tablebodytrhover}),(function(e){return e.theme.navtabstyle}),(function(e){return e.theme.navtabborder}),(function(e){return e.theme.navtabactive}),(function(e){return e.theme.headertext}),(function(e){return e.theme.navbottomborder}),(function(e){return e.theme.btnstyle}),(function(e){return e.theme.btnborder}),(function(e){return e.theme.navtabactive}),(function(e){return e.theme.btnstyle}),(function(e){return e.theme.buyticketbg}),(function(e){return e.theme.buytickersubHead}),(function(e){return e.theme.text}),(function(e){return e.theme.stripedbodytrodd}),(function(e){return e.theme.loader}),(function(e){return e.theme.cardbodytext}),(function(e){return e.theme.cardbodytext}),(function(e){return e.theme.inventorycardheader}),(function(e){return e.theme.inventorycardheader}),(function(e){return e.theme.inventorycardheader}),(function(e){e.theme;return"bold"}),(function(e){return e.theme.cardbodytext}),(function(e){return e.theme.tabletdbtnlinkhover}),(function(e){return e.theme.inventorytabletdeven}),(function(e){return e.theme.cardbodytext}),(function(e){return e.theme.resizeHandle}),(function(e){return e.theme.cardbodytext}),(function(e){return e.theme.text})),rb=a(96),db=a(250),mb=a(165),hb=a(49),ub=[];ub.issuerName=Kt,ub.ticker=cn,ub.prodCode=ls,ub.settle=Rs,ub.settleDateStr=Ms,ub.maturityDateStr=da,ub.availableToday=ga,ub.dispBidDiscount=ye,ub.dispBidYield=De,ub.offer=Pa,ub.dispOfferYield=La,ub.stRating=zs,ub.ltRating=sa,ub.regType=gs;var bb=[];bb.issuerName=Kt,bb.ticker=cn,bb.cassii=X,bb.prodCode=ls,bb.amount=ga,bb.settle=Rs,bb.settleDateStr=Ms,bb.maturityDate=da,bb.bid=ps,bb.msgType=Te,bb.bookNo=Se,bb.status=qs;var pb=[];pb.issuerName=Kt,pb.ticker=cn,pb.currencyCode=We,pb.availableCredit=ka,pb.offeringlimit=Ma,pb.minimumPieceSize=ja,pb.settleDateStr=Ms,pb.datedDate=tt,pb.oneday=Ua,pb.twoday=On,pb.oneWeek=Ha,pb.twoWeek=kn,pb.threeWeek=nn,pb[lu]=Va,pb[mu]=vn,pb[hu]=an,pb[uu]=Et,pb[bu]=Mt,pb[pu]=_s,pb[fu]=Da,pb[du]=Wa;var jb=[];jb.issuerName=Kt,jb.ticker=cn,jb.currencyCode=We,jb.settle=Rs,jb.settleDateStr=Ms,jb.datedDate=tt,jb.coupon=He,jb.availableToday=ga,jb.bidYield=In,jb.dispOfferYield=La,jb.price=es,jb.bookNo=Se;var xb=[];xb.issuerName=Kt,xb.ticker=cn,xb.cassii=X,xb.currencyCode=We,xb.amount=ga,xb.settle=Rs,xb.settleDateStr=Ms,xb.maturityDateStr=da,xb.datedDate=tt,xb.dispBidDiscount=He,xb.bidYield=In,xb.msgType=Te,xb.bookNo=Se,xb.status=qs;var fb=[];fb.issuerName=Kt,fb.ticker=cn,fb.currencyCode=We,fb.availableCredit=ka,fb.offeringlimit=Ma,fb.minimumPieceSize=ja,fb.settleDateStr=Ms,fb.oneday=Ua,fb.twoday=On,fb.oneWeek=Ha,fb.twoWeek=kn,fb.threeWeek=nn,fb[lu]=Va,fb[mu]=vn,fb[hu]=an,fb[uu]=Et,fb[bu]=Mt,fb[pu]=_s,fb[fu]=Da,fb[du]=Wa;var gb=[];gb.issuerName=Kt,gb.ticker=cn,gb.currencyCode=We,gb.settle=Rs,gb.settleDateStr=Ms,gb.maturityDateStr=da,gb.availableToday=ga,gb.dispBidDiscount=ye,gb.bidYield=De,gb.offer=Pa,gb.offerYield=La,gb.stRating=zs,gb.ltRating=sa,gb.regType=gs;var Ob=[];Ob.issuerName=Kt,Ob.ticker=cn,Ob.cassii=X,Ob.currencyCode=We,Ob.amount=ga,Ob.settle=Rs,Ob.settleDateStr=Ms,Ob.maturityDate=da,Ob.bid=ps,Ob.msgType=Te,Ob.bookNo=Se,Ob.status=qs;var vb=[];vb.issuerName=Kt,vb.ticker=cn,vb.securityType=ws,vb.callable=Pe,vb.floatIndex=At,vb.settleDateStr=Ms,vb.amount=ga,vb[hu]=an,vb[uu]=Et,vb[bu]=Mt,vb[pu]=_s,vb[ju]=Ps,vb[xu]=vt,vb[fu]=Da,vb[cu]=tn,vb[ru]=yt,vb[du]=fn;var yb=[];yb.issuerName=Kt,yb.ticker=cn,yb.currencyCode=We,yb.settle=Rs,yb.settlementDate=Ms,yb.datedDate=tt,yb.coupon=He,yb.maturityDate=da,yb.availableToday=ga,yb.bidYield=In,yb.dispOfferYield=La,yb.price=es,yb.bookNo=Se;var kb=[];kb.issuerName=Kt,kb.ticker=cn,kb.cassii=X,kb.currencyCode=We,kb.amount=ga,kb.settle=Rs,kb.settlementDate=Ms,kb.maturityDate=da,kb.datedDate=tt,kb.bidYield=In,kb.msgType=Te,kb.bookNo=Se,kb.status=qs;var Db=[];Db.issuerName=Kt,Db.ticker=cn,Db.securityType=ws,Db.callable=Pe,Db.floatIndex=At,Db.settleDateStr=Ms,Db.amount=ga,Db[hu]=an,Db[uu]=Et,Db[bu]=Mt,Db[pu]=_s,Db[ju]=Ps,Db[xu]=vt,Db[fu]=Da,Db[cu]=tn,Db[ru]=yt,Db[du]=fn;var Cb=[];Cb.issuerName=Kt,Cb.ticker=cn,Cb.currencyCode=We,Cb.settle=Rs,Cb.settlementDate=Ms,Cb.datedDate=tt,Cb.coupon=He,Cb.maturityDate=da,Cb.availableToday=ga,Cb.bidYield=In,Cb.dispOfferYield=La,Cb.price=es,Cb.bookNo=Se;var Nb=[];Nb.issuerName=Kt,Nb.ticker=cn,Nb.cassii=X,Nb.currencyCode=We,Nb.amount=ga,Nb.settle=Rs,Nb.settlementDate=Ms,Nb.maturityDate=da,Nb.datedDate=tt,Nb.bidYield=In,Nb.msgType=Te,Nb.bookNo=Se,Nb.status=qs;var Sb=[];Sb.issuerName=Kt,Sb.ticker=cn,Sb.amount=ga,Sb.offeringlimit=Ma,Sb.minimumPieceSize=ja,Sb.settleDateStr=Ms,Sb.datedDate=tt,Sb.oneWeek=Ha,Sb[lu]=Va,Sb[mu]=vn,Sb[hu]=an,Sb[uu]=Et,Sb[bu]=Mt,Sb[pu]=_s,Sb[ju]=Ps,Sb[xu]=vt,Sb[fu]=Da,Sb[cu]=tn,Sb[ru]=yt,Sb[du]=fn;var wb=[];wb.issuerName=Kt,wb.ticker=cn,wb.currencyCode=We,wb.settle=Rs,wb.settleDateStr=Ms,wb.datedDate=tt,wb.coupon=He,wb.maturityDate=da,wb.availableToday=ga,wb.bidYield=In,wb.dispOfferYield=La,wb.price=es,wb.bookNo=Se;var Tb=[];Tb.issuerName=Kt,Tb.ticker=cn,Tb.cassii=X,Tb.currencyCode=We,Tb.amount=ga,Tb.settle=Rs,Tb.settleDateStr=Ms,Tb.maturityDate=da,Tb.datedDate=tt,Tb.coupon=He,Tb.bidYield=In,Tb.msgType=Te,Tb.bookNo=Se,Tb.status=qs;var Ib=[];Ib.issuerName=Kt,Ib.ticker=cn,Ib.prodCode=ls,Ib.settle=Rs,Ib.settleDateStr=Ms,Ib.maturityDate=da,Ib.amount=ga,Ib.dispBidDiscount=ye,Ib.bidYield=De,Ib.dispOfferDiscount=Pa,Ib.offerYield=La,Ib.stRating=zs,Ib.ltRating=sa,Ib.regType=gs;var Mb=[];Mb.issuerName=Kt,Mb.ticker=cn,Mb.currencyCode=We,Mb.settle=Rs,Mb.settleDateStr=Ms,Mb.datedDate=tt,Mb.coupon=He,Mb.maturityDate=da,Mb.amount=ga,Mb.yield=In,Mb.offerYield=La,Mb.price=es,Mb.bookNo=Se;var Ab=[];Ab.issuerName=Kt,Ab.ticker=cn,Ab.cassii=X,Ab.prodCode=ls,Ab.amount=ga,Ab.settle=Rs,Ab.settleDateStr=Ms,Ab.maturityDate=da,Ab.bid=ps,Ab.msgType=Te,Ab.bookNo=Se,Ab.status=qs;var Rb=[];Rb.ticketId=dn,Rb.ticketAmount=ga,Rb.settleDate=Ms,Rb.maturityDate=ma,Rb.ticketRate=ps,Rb.currency=ze,Rb.yield=In,Rb.tradeSource=Gs,Rb.salesPerson=Ns,Rb.msgType=Te,Rb.status=qs;a(54);var Eb=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("p",{className:"loader",children:"Domes"})})}}]),a}(o.a.Component),Fb=Eb,Pb=a(68),Bb=a.n(Pb),Lb=a(50),_b=a(52),Ub=a.n(_b),Vb=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).numberWithCommas=function(e){return parseFloat(e).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},s.formatForPdf=function(e,t){var a={},s=[],n=0,o=["amount","issuerAmount","grandTotal","creditLimit","threshold","positionLimit","availableAmount","price","availableToday","offeringlimit","availableCredit","minimumPieceSize","thresHold","5/16/22","5/18/22","5/20/22","5/23/22","sumofPositionAmt","sumofNintyDays","dv01","weightAvg","conv01","tot01","sumofNetsetts"];return e&&e.map((function(e,i){if("MATURITY_FORECAST"===t){var l=[i>1&&e.dataField];s.push({title:e.text,dataKey:e.dataField}),l.includes(e.dataField)&&(a[n]={halign:"right"}),n++}else"OFFERINGS"!==t&&"PRIM_OFFER"!==t&&"deleteType"!==e.dataField&&"amendType"!==e.dataField&&"programId"!==e.dataField?(s.push({title:e.text,dataKey:e.dataField}),o.includes(e.dataField)&&(a[n]={halign:"right"}),n++):"OFFERINGS"!==t&&"PRIM_OFFER"!==t||(s.push({title:e.text,dataKey:e.dataField+i}),o.includes(e.dataField)&&(a[n]={halign:"right"}),n++)})),{columns:s,columnStyles:new Object(a)}},s.state={isLoading:!0},s.getPDFData=s.getPDFData.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"getPDFData",value:function(){var e=this,t=this.props,a=t.tableData,n=t.tableColumns,o=t.screenTitle,i=t.subTitle,l=this.formatForPdf(n,o),c="TIME_LINE"===o||"MATURITY_FORECAST"===o?this.getMaturityForecastPdf():"OFFERINGS"===o||"PRIM_OFFER"===o?this.getHomePdf():a,r=l.columns,d=l.columnStyles;c&&c.map((function(t,a){!1===t.check?t.check=" ":!1===t.electronic?t.electronic=" ":t.amount?t.amount=e.numberWithCommas(t.amount):t.issuerAmount&&t.issuerAmount&&(t.issuerAmount=e.numberWithCommas(t.issuerAmount)),t.positionLimit&&(t.positionLimit=e.numberWithCommas(t.positionLimit)),t.thresHold&&(t.thresHold=e.numberWithCommas(t.thresHold)),"VIEWEDIT_PROGRAMS"===o&&t.creditLimit&&(t.creditLimit=e.numberWithCommas(t.creditLimit)),t.availableAmount&&t.availableAmount&&(t.availableAmount=e.numberWithCommas(t.availableAmount)),t.programId&&(t.programId=""),t.amendType&&(t.amendType=""),t.deleteType&&(t.deleteType=""),t.issueId&&t.issueId&&(t.issueId=""),t.actionId&&t.actionId&&(t.actionId=""),t.availableCredit&&t.availableCredit&&(t.availableCredit=e.numberWithCommas(t.availableCredit)),t.position&&t.position&&(t.position=e.numberWithCommas(t.position)),t[113]&&0===t[113].indexOf(".")&&(t[113]="0"+t[113]),t.oneday8&&0===t.oneday8.indexOf(".")&&(t.oneday8="0"+t.oneday8),t.oneWeek10&&0===t.oneWeek10.indexOf(".")&&(t.oneWeek10="0"+t.oneWeek10),t.twoday9&&0===t.twoday9.indexOf(".")&&(t.twoday9="0"+t.twoday9),t.twoWeek11&&0===t.twoWeek11.indexOf(".")&&(t.twoWeek11="0"+t.twoWeek11),t.threeWeek12&&0===t.threeWeek12.indexOf(".")&&(t.threeWeek12="0"+t.threeWeek12)}));var m=n&&n.length>8?"A3":"A4",h=new Lb.default("landscape","pt",m);h.setFontSize(15),"MATURITY_FORECAST"!==o&&"TRADE_BLOTTER"!==o?h.text(i+s[o],40,40):h.text(s[o]+i,40,40);var u={startY:50,columnStyles:d};h.autoTable(r,c,u),"MATURITY_FORECAST"!==o&&"TRADE_BLOTTER"!==o?h.save(i+s[o]+".pdf"):h.save(s[o]+i+".pdf")}},{key:"getMaturityForecastPdf",value:function(){var e=this.props,t=e.tableData,a=e.tableColumns,s=e.screenTitle,n=[];return t.map((function(e,t){var o={};a.map((function(t,a){e[t.dataField]?o[t.dataField]="grandTotal"===t.dataField?Lo(e[t.dataField]):e[t.dataField]:e.reportMap[t.dataField]&&(o[[t.dataField]]="0"===e.reportCntMap[t.dataField]||"MATURITY_FORECAST"===s?e.reportMap[t.dataField]:e.reportMap[t.dataField]+" ("+e.reportCntMap[t.dataField]+")")})),n.push(o)})),n}},{key:"getHomePdf",value:function(){var e=this,t=this.props,a=t.tableData,s=t.tableColumns,n=[];return a.map((function(t,a){var o={};s&&s.map((function(a,s){t[a.dataField]+s?o[a.dataField+s]="amount"===a.dataField||"offeringlimit"===a.dataField||"minimumPieceSize"===a.dataField?e.numberWithCommas(t[a.dataField]):"0"!==a.dataField&&"oneday"===a.dataField||"twoday"===a.dataField||"oneWeek"===a.dataField||"twoWeek"===a.dataField||"threeWeek"===a.dataField?"0"!==t[a.dataField].split(":")[0]?t[a.dataField].split(":")[0]:" ":t[a.dataField]:t.rateMap[a.dataField]&&(o[[a.dataField]+s]=t.rateMap[a.dataField]&&"0"!==t.rateMap[a.dataField]&&"0"!==t.rateMap[a.dataField].split(":")[0]?t.rateMap[a.dataField].split(":")[0]:"")})),n.push(o)})),n}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("button",{id:"pdf",className:"btn btn-primary pfSz",onClick:this.getPDFData,children:Object(u.jsx)(B.q,{})})})}}]),a}(o.a.Component),Yb=(Pb.CSVExport.ExportCSVButton,function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={columns:[],headers:[],data:[],isLoading:!1,socketConn:s.props.wsUrl?new WebSocket(N.WSURL+s.props.apiCall+N.WEBSOCKET):new Object},s.getData=s.getData.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"getSnapshotBeforeUpdate",value:function(e,t){return!0===this.props.updateData||null}},{key:"componentDidMount",value:function(){var e=this;if(this.setState({isLoading:!0}),this.props.apiCall)if(this.props.wsUrl){var t=this.props.reqParams;void 0===t||void 0!==t.loginid&&""!==t.loginid||(t.loginid=sessionStorage.getItem("loginid")),this.state.socketConn.onopen=function(){e.state.socketConn.send(JSON.stringify(t))},this.state.socketConn.onmessage=function(t){"No Data Found"===t.data?console.log("No Data Found for ::::",e.props.apiCall):e.getData(t.data)},this.state.socketConn.onClose=function(){}}else w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){var a=[],s=[];t.data.length>0&&("No Data Found"===t.data?(a=[],e.setState({columns:""})):(null!==e.props.calBack&&void 0!==e.props.calBack&&e.props.calBack.length>0&&e.props.calBack(t.data),a=e.props.mappings(t.data,e.props.cprops,e.props.customComponents),s=t.data)),e.setState({columns:a,data:s,isLoading:!1})}));else{var a,s=[];(a=void 0===this.props.mapdata||0===this.props.mapdata.length?this.props.data:this.props.mapdata)&&a.length>0&&(s=this.props.mappings(a,this.props.cprops,this.props.customComponents)),this.setState({data:a,columns:s,isLoading:!1})}}},{key:"componentDidUpdate",value:function(e,t,a){var s=this;if(e!==this.props&&!0===a)if(this.props.apiCall)if(this.props.wsUrl){var n=this.props.reqParams;void 0===n||void 0!==n.loginid&&""!==n.loginid||(n.loginid=sessionStorage.getItem("loginid")),1===this.state.socketConn.readyState&&this.state.socketConn.send(JSON.stringify(n)),this.state.socketConn.onmessage=function(e){s.getData(e.data)},this.state.socketConn.onClose=function(){}}else void 0===this.props.mapdata||0===this.props.mapdata.length?w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){var t,a=[];t=e.data,null!==s.props.calBack&&void 0!==s.props.calBack&&s.props.calBack.length>0&&s.props.calBack(e.data),t.length>0&&(a=s.props.mappings(t,s.props.cprops,s.props.customComponents)),s.setState({data:t,columns:a,isLoading:!1})})):this.props.mapdata.length>0&&this.setState({data:this.props.mapdata,columns:this.props.mappings(this.props.mapdata,this.props.cprops,this.props.customComponents),isLoading:!1});else{var o,i=[];(o=this.props.mapdata&&this.props.mapdata.length>0?this.props.mapdata:this.props.data)&&o.length>0&&(i=this.props.mappings(o,this.props.cprops,this.props.customComponents)),this.setState({data:o,columns:i,isLoading:!1})}}},{key:"componentWillUnmount",value:function(){this.props.wsUrl&&this.state.socketConn.close()}},{key:"getData",value:function(e){var t=[],a=[];e.length>0&&("No Data Found"===e?t=[]:(a=JSON.parse(e),null!==this.props.calBack&&void 0!==this.props.calBack&&this.props.calBack.length>0&&this.props.calBack(JSON.parse(e)),t=this.props.mappings(JSON.parse(e),this.props.cprops,this.props.customComponents)),this.setState({data:a,columns:t,isLoading:!1}))}},{key:"render",value:function(){var e=this,t=function(t){return Object(u.jsx)(u.Fragment,{children:"true"!==e.props.excelFlag&&Object(u.jsx)("div",{className:"col-md-12 text-right",children:Object(u.jsx)("button",{id:"excel",className:"btn btn-primary",onClick:function(){var a="";e.state.data&&e.state.data.map((function(t,s){a=!1===t.action&&"",e.state.data[s].action=a,t.oneday&&(e.state.data[s].oneday=t.oneday.split(":")[0]),t.twoday&&(e.state.data[s].twoday=t.twoday.split(":")[0]),t.oneWeek&&(e.state.data[s].oneWeek=t.oneWeek.split(":")[0]),t.twoWeek&&(e.state.data[s].twoWeek=t.twoWeek.split(":")[0]),t.threeWeek&&(e.state.data[s].threeWeek=t.threeWeek.split(":")[0])})),t.onExport(e.state.data)},children:Object(u.jsx)(B.p,{})})})})};return Object(u.jsx)(u.Fragment,{children:!1===this.state.isLoading?this.state.columns.length>0?Object(u.jsxs)("div",{children:[!0===this.props.flagPdf?Object(u.jsx)("span",{className:"float-right pdAd",children:Object(u.jsx)(Vb,{tableColumns:this.state.columns,tableData:this.state.data,screenTitle:this.props.screenName,subTitle:void 0!==this.props.subTitle?this.props.subTitle:""})}):"",Object(u.jsx)(Bb.a,{keyField:this.props.keyField,data:this.state.data,columns:this.state.columns,exportCSV:{fileName:s[this.props.screenName]+" "+(void 0!==this.props.subTitle?this.props.subTitle:"")+".csv"},children:function(a){return Object(u.jsxs)("div",{children:[Object(u.jsx)(t,Object(m.a)({},a.csvProps)),Object(u.jsx)(Z.a,Object(m.a)(Object(m.a)({},a.baseProps),{},{headers:e.state.headers,filter:Ro()(),striped:!0,hover:!0,printable:!0,condensed:!0,wrapperClasses:e.props.fixedTable?"fo2table table-responsive mht":e.props.noMaxHt?"fo2table table-responsive nomht":"fo2table table-responsive",caption:e.props.caption}))]})}})]}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."}):Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})})})}}]),a}(o.a.Component));function Hb(e,t,a){var s=[];return Object.keys(t).map((function(e){var n;return n=a&&e===ue?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkSellComponent(t,s,n,o,e)},align:"right"}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return"0000"===s.refIssueId||e===Gt||e===Is||e===oa||e===Ea||e===As?a.fieldComponent(t,s,n,o,e):void 0},editable:!1,formatExtraData:{colId:t[e]}},s.push(n),""})),s}function Wb(e,t,a){var s=[];return Object.keys(t).map((function(e){var n;return n=a&&"ticker"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkShowComponent(t,s,n,o,e)}}:!a||"msgType"!==e&&"status"!==e?a&&"amount"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.amountComponent(t,s,n,o,e)},align:"right"}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)()}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.imgComponent(t,s,n,o,e)}},s.push(n),""})),s}function qb(e,t,a){var s,n=[];return Object.keys(t).map((function(o){return Object.keys(e[0]).map((function(i){if("rateMap"===i&&n.length>12&&(null===s||s!==e[0].rateMap))s=e[0].rateMap,0,Object.keys(e[0].rateMap).map((function(e){e!==ju&&e!==xu&&e!==cu&&e!==ru&&(l={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),csvFormatter:function(t,a,s,n){t=a.rateMap[e].split(":")[0];a.rateMap[e].split(":")[1],a.rateMap[e].split(":")[2];return t},formatter:function(t,s,n,o){t=s.rateMap[e].split(":")[0];var i=s.rateMap[e].split(":")[1],l=s.rateMap[e].split(":")[2];return a.linkSellComponent(t,s,n,o,e,l,i)}},n.push(l))}));else{if(i!==o)return"";var l;l=i===Ya||i===yn||i===_a||i===On||i===sn||i===_a||i===gn?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return e=t[i].split(":")[0],a.linkSellComponent(e,t,s,n,i)}}:"availableCredit"===i?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),align:"right"}:"offeringlimit"===i||"minimumPieceSize"===i?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:Object(g.a)({dataField:i,text:t[i],formatter:a.fieldComponent,editable:!1,formatExtraData:{colId:t[i]},filter:Object(Ao.textFilter)()},"editable",!1),n.push(l)}})),""})),n}function zb(e,t,a){var s,n=[];return Object.keys(t).map((function(o){return Object.keys(e[0]).map((function(i){if("rateMap"===i&&n.length>11&&(null===s||s!==e[0].rateMap))s=e[0].rateMap,0,Object.keys(e[0].rateMap).map((function(e){e!==ju&&e!==xu&&e!==cu&&e!==ru&&(l={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),csvFormatter:function(t,a,s,n){t=a.rateMap[e].split(":")[0];a.oneWeek.split(":")[1],a.rateMap[e].split(":")[2];return t},formatter:function(t,s,n,o){t=s.rateMap[e].split(":")[0];var i=s.oneWeek.split(":")[1],l=s.rateMap[e].split(":")[2];return a.linkSellComponent(t,s,n,o,e,l,i)}},n.push(l))}));else if(i===o){var l;l=i===Ya||i===yn||i===_a||i===On||i===sn||i===_a||i===gn?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){e=t[i].split(":")[0];var o=t.oneWeek.split(":")[1],l=t.oneWeek.split(":")[2];return a.linkSellComponent(e,t,s,n,i,l,o)}}:"availableCredit"===i?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),align:"availableCredit"===i?"right":""}:"offeringlimit"===i||"minimumPieceSize"===i?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:Object(g.a)({dataField:i,text:t[i],formatter:a.fieldComponent,editable:!1,formatExtraData:{colId:t[i]},filter:Object(Ao.textFilter)()},"editable",!1),n.push(l)}return""})),""})),n}function Gb(e,t,a){var s=[];return Object.keys(t).map((function(e){var n;return n=a&&"ticker"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkSecurityComponent(t,s,n,o,e)}}:a&&e===ue?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.amountLinkSellComponent(t,s,n,o,e)},align:e===ue?"right":""}:a&&"amount"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.amountComponent(t,s,n,o,e)}}:!a||"msgType"!==e&&"status"!==e?"price"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:"bidYield"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)()}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.imgComponent(t,s,n,o,e)}},s.push(n),""})),s}function Kb(e,t,a){var s=[];return Object.keys(t).map((function(e){var n;return n=a&&"ticker"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkShowComponent(t,s,n,o,e)}}:!a||"msgType"!==e&&"status"!==e?"amount"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:Object(g.a)({dataField:e,text:t[e],formatter:a.latestFieldComponent,editable:!1,formatExtraData:{colId:t[e]},filter:Object(Ao.textFilter)()},"editable",!1):{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.imgComponent(t,s,n,o,e)}},s.push(n),""})),s}function Zb(e,t,a){var s=[];return Object.keys(t).map((function(e){var n;return n=a&&"ticker"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkShowComponent(t,s,n,o,e)}}:!a||"msgType"!==e&&"status"!==e?"amount"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"amount"===e?"right":""}:Object(g.a)({dataField:e,text:t[e],formatter:a.fieldComponent,editable:!1,formatExtraData:{colId:t[e]},filter:Object(Ao.textFilter)()},"editable",!1):{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.imgComponent(t,s,n,o,e)}},s.push(n),""})),s}function Jb(e,t,a){var s,n=[];return Object.keys(t).map((function(o){return Object.keys(e[0]).map((function(i){if(i===o){var l;if("amount"===i)l={dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"};else l=Object(g.a)({dataField:i,text:t[i],formatter:a.fieldComponent,editable:!1,formatExtraData:{colId:t[i]},filter:Object(Ao.textFilter)()},"editable",!1);n.push(l)}else"rateMap"===i&&n.length>6&&(null===s||s!==e[0].rateMap)&&(s=e[0].rateMap,0,Object.keys(e[0].rateMap).map((function(e){e!==lu&&e!==mu&&(l={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),csvFormatter:function(t,a,s,n){return"0"===(t=a.rateMap[e].split(":")[0])&&(t=""),t},formatter:function(t,a,s,n){return"0"===(t=a.rateMap[e].split(":")[0])&&(t=""),t}},n.push(l))})));return""})),""})),n}function Qb(e,t,a){var s,n=[];return Object.keys(t).map((function(o){return Object.keys(e[0]).map((function(i){var l;i===o?(l=i===Ya?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){e=t.oneWeek.split(":")[0];var o=t.oneWeek.split(":")[1],l=t.oneWeek.split(":")[2];return a.linkSellComponent(e,t,s,n,i,l,o)}}:a&&"amount"===i?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return a.amountComponent(e,t,s,n,i)},align:"right"}:"offeringlimit"===i||"minimumPieceSize"===i?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:Object(g.a)({dataField:i,text:t[i],formatter:a.fieldComponent,editable:!1,formatExtraData:{colId:t[i]},filter:Object(Ao.textFilter)()},"editable",!1),n.push(l)):"rateMap"===i&&n.length>7&&(null===s||s!==e[0].rateMap)&&(s=e[0].rateMap,0,Object.keys(e[0].rateMap).map((function(e){l={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),csvFormatter:function(t,a,s,n){t=a.rateMap[e].split(":")[0];a.oneWeek.split(":")[1],a.rateMap[e].split(":")[2];return t},formatter:function(t,s,n,o){t=s.rateMap[e].split(":")[0];var i=s.oneWeek.split(":")[1],l=s.rateMap[e].split(":")[2];return a.linkSellComponent(t,s,n,o,e,l,i)}},n.push(l)})));return""})),""})),n}function Xb(e,t,a){var s=[];return Object.keys(t).map((function(e){var n;return n=a&&"ticker"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkSecurityComponent(t,s,n,o,e)}}:e===ue?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.amountLinkSellComponent(t,s,n,o,e)}}:!a||"msgType"!==e&&"status"!==e?a&&"amount"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.amountComponent(t,s,n,o,e)}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)()}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.imgComponent(t,s,n,o,e)}},s.push(n),""})),s}function $b(e,t,a){var s=[];return Object.keys(t).map((function(e){var n;return n=a&&"ticker"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkShowComponent(t,s,n,o,e)}}:!a||"msgType"!==e&&"status"!==e?a&&"amount"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.amountComponent(t,s,n,o,e)}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)()}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.imgComponent(t,s,n,o,e)}},s.push(n),""})),s}var ep=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={data:"",isLoading:!0},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.apiCall){var t=this.props.reqParams,a="";t&&(a={issueId:t.issueId,issuerId:t.programId,productType:t.productType,transType:t.transType,ticker:t.ticker,paymentDate:t.maturityDate,refIssueId:t.refIssueId,issueType:t.issuerType,cusip:t.cusip,fromPage:"",tradeStatus:t.status}),w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({data:t.data,isLoading:!1})}))}}},{key:"render",value:function(){var e=this,t=this.state.data;return Object(u.jsx)("div",{className:"mt-1",children:!1===this.state.isLoading?t?Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",Object(u.jsxs)("div",{className:"modal-cls",id:"details",children:[Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top border-right p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"iss_info",children:"Issuer Information"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lyr_issuerName",className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",children:"Name:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"issuerName",children:t.issuerName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_industry",className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",children:"Industry:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"industry",children:t.industry})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_privilge",children:"Privileging"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)("select",{id:"privileging",className:"custom-select",children:Object(u.jsx)("option",{children:"Firm"})})}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"mastAcctName",children:t.mastAcctName})]})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top border-right p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_prginfo",children:"Program Information"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_ticker",className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",children:"Ticker (Issuer):"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"ticker",children:t.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"product",className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",children:"Product:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"prodName",children:t.productType})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_regType",className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",children:"Reg Type:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"regType",children:t&&t.regType?t.regType:""})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_dayTpye",className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",children:"Day Type:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"dayTpye",children:t&&t.dayType?t.dayType:""})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_calType",className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",children:"Calc Type:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"calType",children:t&&t.calType?t.calType:""})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_dealer",className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",children:"Dealer:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"dealer",children:t&&t.dealer?t.dealer:""})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_cassii",className:"form-label col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",children:"CASSII:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"cassii",children:t&&t.cassii?t.cassii:""})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_idenfier",children:"Identifiers"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",id:"lbl_identprogramId",children:"ID:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"identprogramId",id:"identprogramId",value:t.programId,onChange:function(t){e.onChange(t,"identprogramId")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_tickerId",className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",children:"OMS ID#:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"tickerId",children:t.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_cusip",className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",children:"DTC CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"cusip",children:t&&t.cusip?t.cusip:""})]}),"2400"!==this.props.prodType&&"2700"!==this.props.prodType&&"1600"!==this.props.prodType&&Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_rating",children:"Rating"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_ltSandP",className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",children:"S&P:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"ltSandP",children:t.ltSandP})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_ltMoody",className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",children:"MDY:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"ltMoody",children:t.ltMoody})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_ltFitch",className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",children:"FITCH:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"ltFitch",children:t.ltFitch})]})]})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top border-right p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_secinfo",children:"Security Information"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"maturity",className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",children:"Maturity:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"maturityId",id:"maturityId",value:t.maturityDate,className:"text-right",onChange:function(t){e.onChange(t,"identprogramId")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",id:"lbl_series",children:"Series:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"series",id:"series",value:t.prodCode,readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",id:"lbl_announce",children:"Announce:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"announcedate",id:"announcedate",value:t.announceDate,className:"text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",id:"lbl_issuedate",children:"Issue Date:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"issuedate",id:"issuedate",value:t.issueDate,className:"text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",id:"lbl_frstsd",children:"1st Settle Date:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"settledate",id:"settledate",value:t.settleDateFirst,className:"text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",id:"lbl_country",children:"Country:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"Country",id:"Country",value:t.countryCode,readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",id:"lbl_currency",children:"Currency:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"currency",id:"currency",value:t.currencyCode,readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",id:"lbl_coupon",children:"Coupon:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"coupon",id:"coupon",value:t.coupon,readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",id:"lbl_freq",children:"Freq:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"Freq",id:"Freq",value:t.Freq,readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",id:"lbl_coupontype",children:"Coupon Type:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"coupontype",id:"coupontype",value:t.couponType,readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",id:"lbl_maturitytype",children:"Maturity Type:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"maturitytype",id:"maturitytype",value:t.matType,readOnly:!0})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_isstrading",children:"Issuance & Trading"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",id:"lbl_issueamount",children:"Issue Amount"}),Object(u.jsx)("label",{className:"form-label\r col-md-2 col-sm-2 col-xs-2\r text-center font-weight-bold",id:"slashone",children:"/"}),Object(u.jsx)("label",{className:"form-label\r col-md-5 col-sm-5 col-xs-5\r text-left font-weight-bold",id:"lbl_paramount",children:"Available Amount"})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{className:"text-right",name:"issueamount",id:"issueamount",value:Lo(t.issueAmount),readOnly:!0})}),Object(u.jsx)("label",{className:"form-label\r col-md-2 col-sm-2 col-xs-2\r text-center font-weight-bold",children:"/"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"paramount",id:"paramount",className:"text-right",value:Lo(t.parAmount),readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",id:"lbl_minpiece",children:"Min Piece"}),Object(u.jsx)("label",{className:"form-label\r col-md-2 col-sm-2 col-xs-2\r text-center font-weight-bold",id:"slashtow",children:"/"}),Object(u.jsx)("label",{className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",id:"lbl_increment",children:"Increment"})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"minPiece",id:"minPiece",className:"text-right",value:Lo(t.minPiece),readOnly:!0})}),Object(u.jsx)("label",{className:"form-label\r col-md-2 col-sm-2 col-xs-2\r text-center font-weight-bold",id:"slashthree",children:"/"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"incAmount",id:"incAmount",className:"text-right",value:Lo(t.incAmount),readOnly:!0})})]}),("2400"!==this.props.prodType||"2700"!==this.props.prodType)&&Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_notes",children:"Notes"}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:Object(u.jsx)("textarea",{name:"notes",id:"txtarea_notes",className:"form-control input-sm",rows:"3"})})})]})]})]}),("2400"===this.props.prodType||"2700"===this.props.prodType)&&Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top border-right p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"cpnschedpaysId",children:"Cpn Schedule Payments"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",id:"lbl_indextype",children:"Index Type:"}),Object(u.jsxs)("label",{className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left",id:"val_indextype",children:["30"===t.couponData[0].indexType&&"1M","90"===t.couponData[0].indexType&&"3M"]})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",id:"lbl_rolldate",children:"Roll Date:"}),Object(u.jsx)("label",{className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left",id:"val_rolldate",children:"1"===t.couponData[0].rollDate&&"1st of the Month"})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",id:"lbl_couponpaymentdate",children:"Coupon Payment Dates:"}),Object(u.jsx)("label",{className:"form-label\r col-md-8 col-sm-8 col-xs-8\r text-left",id:"val_couponpaymentdate",children:t.couponData&&t.couponData.map((function(e,t){if(Array.isArray(e))return e.map((function(e){return e.cpnPaymentDate?e.cpnPaymentDate+", ":""}))}))})]}),t.couponData[4]&&Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",id:"lbl_coupondeterminationdate",children:"Coupon Determination Dates:"}),Object(u.jsx)("label",{className:"form-label\r col-md-8 col-sm-8 col-xs-8\r text-left",id:"val_coupondeterminationdate",children:t.couponData&&t.couponData.map((function(e,t){if(Array.isArray(e))return e.map((function(e){return e.cpnDetermDate?e.cpnDetermDate+", ":""}))}))})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label\r col-md-4 col-sm-4 col-xs-4\r text-left font-weight-bold",id:"lbl_accruedinterest",children:"Accrued Interest:"}),Object(u.jsx)("label",{className:"form-label\r col-md-8 col-sm-8 col-xs-8\r text-left wordbrk",id:"val_accruedinterest",children:Lo(t.accruedInt)})]}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1 fo2table",children:Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:" Coupon Date"}),Object(u.jsx)("th",{children:" SOFR "}),Object(u.jsx)("th",{children:" Spread "}),Object(u.jsx)("th",{children:" Coupon "})]})}),Object(u.jsx)("tbody",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t.couponData&&t.couponData.map((function(e,t){if(Array.isArray(e))return e.map((function(e,t){if(0===t)return e.cpnPaymentDate?e.cpnPaymentDate:""}))}))}),Object(u.jsx)("td",{children:t.couponData[0].liborRate}),Object(u.jsx)("td",{children:t.couponData[0].spread}),Object(u.jsx)("td",{children:t.couponData[0].coupon})]})})]})})]}),("2400"===this.props.prodType||"2700"===this.props.prodType)&&Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_ntes",children:"Notes"}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:Object(u.jsx)("textarea",{name:"notes",id:"txt_notes",className:"form-control input-sm",rows:"3"})})})]})]})]}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."}):Object(u.jsx)("div",{className:"col-md-12 text-center",children:Object(u.jsx)(Fb,{})})})}}]),a}(o.a.Component),tp=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).onChange=function(e,t){s.setState(Object(g.a)({},t,e.target.value))},s.submitData=function(){if(void 0===s.props.message||""===s.props.message){var e=s.state.data,t=s.props.reqParams;e&&(t.memberCatId="2",t.bid=s.state.bid,t.offer=s.state.offer,t.productType=s.props.prodType),w()({method:"POST",url:N.URL+vl,timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){s.setState({data:e.data}),s.props.onHide()}))}else s.setState({actionTitle:"Alert",actionMessage:s.props.message,showError:!0})},s.state={data:[],isLoading:!0,bid:"",offer:"",showError:!1,actionMessage:"",actionTitle:""},s.hideError=s.hideError.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.apiCall){var t=this.props.reqParams,a="";t&&(a={issueId:"85"===t.transType?t.refIssueId:t.issueId,productType:t.productType,ticker:t.ticker,bid:t.bid}),w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({data:t.data,isLoading:!1})}))}}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(e!==this.props&&this.props.apiCall){var s=this.props.reqParams;s&&{programId:s.programId,productType:this.props.prodType,ticker:s.ticker,issueId:s.issueId},w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({data:e.data,isLoading:!1})}))}}},{key:"render",value:function(){var e=this,t=this.state.data;return Object(u.jsx)("div",{className:"tab-pane mt-2 mht105",id:"price",children:!1===this.state.isLoading?t?Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",Object(u.jsx)("table",{width:"100%",className:"tblbordertop tblborderleft tblborderbottom",children:Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",children:Object(u.jsx)("tbody",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{valign:"top",width:"40%",children:Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:[Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left font-weight-bold",id:"lbl_book",children:"Book:"}),Object(u.jsx)("label",{className:"form-label col-md-3.5 col-sm-3.5 col-xs-3.5  text-left",id:"bookName",children:t?t.bookName:t.bookDesc}),Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-right font-weight-bold",id:"position",children:"Position(m):"}),Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3  text-left",id:"issueAmount",children:t.issueAmount})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left font-weight-bold",id:"lbl_bid",children:"Bid:"}),Object(u.jsx)("div",{className:"col-md-3 col-sm-3 col-xs-3  text-left",id:"val_bidyield",children:Object(u.jsx)(Eu,{name:"bidRate",id:"bidRate",value:t.bidRate,onChange:function(t){e.onChange(t,"bid")}})}),Object(u.jsx)("label",{id:"lbl_offerRate",className:"form-label col-md-3 col-sm-3 col-xs-3 text-right font-weight-bold ",children:"Offer:"}),Object(u.jsx)("div",{className:"col-md-3 col-sm-3 col-xs-3  text-left",id:"val_offyield",children:Object(u.jsx)(Eu,{name:"offerRate",id:"offerRate",value:t.offerRate,onChange:function(t){e.onChange(t,"offer")}})})]}),Object(u.jsx)("div",{className:"row mt-2",children:Object(u.jsx)("button",{id:"submit",onClick:this.submitData,style:{fontSize:"12px !important;"},className:"marginauto btn btn-success btn-xs lyrsubmitfocus",children:"Submit"})})]})})}),Object(u.jsx)("td",{valign:"top",width:"25%",className:"tblborderleft tblborderright",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:"subHead"}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5  text-left font-weight-bold",id:"lbl_realized",children:"Realized:"}),Object(u.jsx)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"realized",children:t.realized})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5  text-left font-weight-bold",id:"lbl_unrealized",children:"Unrealized:"}),Object(u.jsx)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"unrealized",children:t.unrealized})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5  text-left font-weight-bold",id:"lb_profitLoss",children:"Profit/Loss:"}),Object(u.jsx)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"total",children:t.plAmount})]})]})]})}),Object(u.jsx)("td",{valign:"top",width:"35%",className:"tblborderright",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:"subHead"}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 ",children:[Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6  text-left font-weight-bold",id:"lbl_bidyld",children:"Bid Yield:"}),Object(u.jsx)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"bidyld",children:t.bidRate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6  text-left font-weight-bold",id:"lbl_dv01",children:"DV01:"}),void 0!==t.dv01&&0===t.dv01.indexOf("-")?Object(u.jsxs)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"dv01",children:[" ",Object(u.jsxs)("div",{className:"text-right text-danger",children:["(",t.dv01.replace("-",""),")"]})]}):Object(u.jsx)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"dv01",children:t.dv01})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6  text-left font-weight-bold",id:"lbl_conv01",children:"Convexity01:"}),Object(u.jsx)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"conv01",children:t.convexity})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6  text-left font-weight-bold",id:"lbl_sumofdvandconv01",children:"DV01+Convexity01:"}),void 0!==t.total&&0===t.total.indexOf("-")?Object(u.jsxs)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"sumofdvandconv01",children:[" ",Object(u.jsxs)("div",{className:"text-right text-danger",children:["(",t.total.replace("-",""),")"]})]}):Object(u.jsx)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"sumofdvandconv01",children:t.total})]})]})]})})]})})})}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.props.message,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."}):Object(u.jsx)("div",{className:"col-md-12 text-center",children:Object(u.jsx)(Fb,{})})})}}]),a}(o.a.Component),ap=[];ap.ticketId=dn,ap.ticketAmount=ga,ap.settleDate=Ms,ap.maturityDate=ma,ap.ticketRate=ps,ap.currency=ze,ap.yield=In,ap.tradeSource=Gs,ap.salesPerson=Ns,ap.msgType=Te,ap.status=qs;Pb.CSVExport.ExportCSVButton;var sp,np,op,ip,lp=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={columns:[],data:[],isLoading:!1},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({data:t.data}),t.data.length>0?e.setState({columns:Jo(t.data,e.props.cprops)}):t.data.productData&&t.data.productData.length>0&&(e.setState({data:t.data.productData}),e.setState({columns:Jo(t.data.productData,e.props.cprops)})),e.setState({isLoading:!1})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;e!==this.props&&this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({data:e.data}),e.data.length>0?a.setState({columns:Jo(e.data,a.props.cprops)}):e.data.productData&&e.data.productData.length>0&&(a.setState({data:e.data.productData}),a.setState({columns:Jo(e.data.productData,a.props.cprops)})),a.setState({isLoading:!1})}))}},{key:"render",value:function(){var e=this,t=function(t){return Object(u.jsx)(u.Fragment,{children:"true"!==e.props.excelFlag&&Object(u.jsx)("div",{className:"col-md-12 text-right",children:Object(u.jsx)("button",{className:"btn btn-primary mb-1",onClick:function(){t.onExport(e.state.data)},children:Object(u.jsx)(B.p,{})})})})};return Object(u.jsx)(u.Fragment,{children:!1===this.state.isLoading?this.state.data&&this.state.data.length>0&&this.state.columns&&this.state.columns.length>0?Object(u.jsxs)(u.Fragment,{children:[!0===this.props.flagPdf?Object(u.jsx)("div",{className:"text-right",children:Object(u.jsx)(Vb,{tableColumns:this.state.columns,tableData:this.state.data,screenTitle:this.props.screenName,subTitle:void 0!==this.props.subTitle?this.props.subTitle:""})}):"",Object(u.jsx)(Bb.a,{keyField:this.props.keyField,data:this.state.data,columns:this.state.columns,exportCSV:{fileName:s[this.props.screenName]+" "+(void 0!==this.props.subTitle?this.props.subTitle:"")+".csv"},children:function(a){return Object(u.jsxs)("div",{children:[Object(u.jsx)(t,Object(m.a)({},a.csvProps)),Object(u.jsx)(Z.a,Object(m.a)(Object(m.a)({},a.baseProps),{},{headers:e.state.headers,filter:Ro()(),striped:!0,hover:!0,wrapperClasses:e.props.fixedTable?"fo2table table-responsive mht":e.props.noMaxHt?"fo2table table-responsive nomht":"DOMES"===e.props.venue?"DOMES":"TWEB"===e.props.venue?"TWEB":"BOOM"===e.props.venue?"BOOM":"MERCURY"===e.props.venue?"MERCURY":"fo2table table-responsive"}))]})}})]}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."}):Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})})})}}]),a}(o.a.Component),cp=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={data:"",issueid:""},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.reqParams;return"85"===e.transType?this.state.issueid=e.refIssueId:this.state.issueid=e.issueId,Object(u.jsx)("div",{className:"tab-pane mt-2",id:"trdhis",children:Object(u.jsx)("div",{className:"modal-content modal-lyr-cnt",children:Object(u.jsxs)("div",{className:"modal-body1 text-center",children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",Object(u.jsx)(lp,{cprops:ap,apiCall:this.props.apiCall,reqParams:{programId:e.programId,productType:e.productType,issueId:"85"===e.transType?e.refIssueId:e.issueId,loginId:sessionStorage.getItem("loginid"),companyId:sessionStorage.getItem("companyid")},keyField:"1",excelFlag:"true"})]})})})}}]),a}(o.a.Component),rp=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectData:"",heading:"details"},s.handleSelect=s.handleSelect.bind(Object(O.a)(s)),s.onHide=s.onHide.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"handleSelect",value:function(e){this.setState({heading:e})}},{key:"onHide",value:function(){this.setState({heading:"details"}),this.props.onHide()}},{key:"render",value:function(){return this.props.modalHead&&Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.onHide,size:this.props.size,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:"Security"})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsxs)(hb.a,{defaultActiveKey:"details",onSelect:this.handleSelect,transition:!1,id:"noanim-tab-example",children:[Object(u.jsx)(ei.a,{eventKey:"details",title:"Details",children:"details"===this.state.heading&&Object(u.jsx)(ep,{prodType:this.props.prodType,message:this.props.message,reqParams:this.props.modalDataRow,apiCall:al})}),Object(u.jsx)(ei.a,{eventKey:"price",title:"Price",children:"price"===this.state.heading&&Object(u.jsx)(tp,{prodType:this.props.prodType,message:this.props.message,reqParams:this.props.modalDataRow,onHide:this.props.onHide,apiCall:sl})}),Object(u.jsx)(ei.a,{eventKey:"tradeHistory",title:"Trade History",children:"tradeHistory"===this.state.heading&&Object(u.jsx)(cp,{prodType:this.props.prodType,message:this.props.message,reqParams:this.props.modalDataRow,apiCall:nl})})]})}),Object(u.jsx)(P.a.Footer,{children:Object(u.jsx)(D.a,{id:"close",onClick:this.onHide,children:"Close"})})]})}}]),a}(o.a.Component),dp=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(u.jsx)(k.a.Check,{inline:!0,type:"checkbox",id:this.props.id,defaultValue:this.props.value,onChange:this.props.onChange,checked:this.props.checked,className:this.props.className})}}]),a}(o.a.Component),mp=dp,hp=a(263),up=a.n(hp),bp=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).myFormat=function(e){return Lo(e)},e}return Object(l.a)(a,[{key:"validate",value:function(e){return Po(e)}},{key:"render",value:function(){return Object(u.jsx)(up.a,{value:Po(this.props.value),step:this.props.step,precision:this.props.precision,onBlur:this.props.onBlur,onChange:this.props.onChange,name:this.props.name,id:this.props.id,readOnly:this.props.readOnly,disabled:this.props.disabled,onClick:this.props.onFocus,parse:this.validate,onKeyUp:this.props.onKeyUp,style:this.props.style,className:(this.props.className?this.props.className:"text-left")+" form-control numericInput",autoComplete:"off",placeholder:this.props.placeholder,maxLength:this.props.maxlength,format:this.myFormat})}}]),a}(o.a.Component),pp=bp,jp=[],xp=[],fp=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).onDateChange=function(e,t){"maturityDate"===t?s.setState({maturityDate:e}):s.setState({settleDate:e})},s.state={data:"",holidayData:[],productWeekData:[]},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.apiCall){var t=this.props.reqParams,a="";t&&(a={programId:t.programId,productType:this.props.prodType,ticker:t.ticker,issueId:t.issueId}),w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({data:t.data})})),w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{currency:this.props.currencyCode,productType:this.props.prodType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){jp=t.data.holidayDatesInfo,xp=t.data.productWeekData,e.setState({holidayData:jp,productWeekData:xp})}))}}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(e!==this.props&&this.props.apiCall){var s=this.props.reqParams;s&&{programId:s.programId,productType:this.props.prodType,ticker:s.ticker,issueId:s.issueId},w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({data:e.data})})),w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{currency:this.props.currencyCode,productType:this.props.prodType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){jp=e.data.holidayDatesInfo,xp=e.data.productWeekData,a.setState({holidayData:jp,productWeekData:xp})}))}}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,s=t.holidayData,n=t.productWeekData;return Object(u.jsx)("div",{children:a?Object(u.jsxs)("div",{className:"modal-cls",id:"SellTicket",children:[Object(u.jsxs)("div",{className:"bgc",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"issuer",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"issuerName",children:a.issuerName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"ticker",children:a.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_currency",children:"CURRENCY:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"currency",children:a.currency})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 ext-left font-weight-bold",id:"lbl_cuisp",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",id:"cuisp",children:a.cusip})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 ext-left font-weight-bold",id:"lbl_product",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"productType",children:a.productType})]})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"lbl_offerblk",children:"Offer"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_offTicketAmount",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"$m:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"offTicketAmount",id:"offTicketAmount",value:a.ticketAmount,onChange:function(t){e.onChange(t,"offTicketAmount")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_offSettleDate",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Settle:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"offSettleDate",id:"offSettleDate",value:a.settleDate,onChange:function(t){e.onChange(t,"offSettleDate")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_offTicketRate",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Rate:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"offTicketRate",id:"offTicketRate",value:a.ticketRate,onChange:function(t){e.onChange(t,"offTicketRate")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_offMaturityDate",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Mat:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"offMaturityDate",id:"offMaturityDate",value:a.maturityDate,onChange:function(t){e.onChange(t,"offMaturityDate")}})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"lbl_tradeblk",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_ticketAmount",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(pp,{name:"ticketAmount",id:"ticketAmount",step:1e3,value:a.ticketAmount,onChange:function(t){e.onChange(t,"ticketAmount")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_settleDate",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"settleDate",onchange:function(t){e.onDateChange(t,"settleDate")},dateValue:a.settleDate?new Date(Yu(a.settleDate,"YYYY-MM-DD HH:MM:SS")):"",fromDateFlg:!1,toDateFlg:!1,currency:a.currencyCode,holidayData:jp,productWeekData:xp})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_ticketRate",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(pp,{name:"ticketRate",id:"ticketRate",step:.1,precision:2,value:a.ticketRate,onChange:function(t){e.onChange(t,"ticketRate")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_maturityDate",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"maturityDate",onchange:function(t){e.onDateChange(t,"maturityDate")},dateValue:a.maturityDate?new Date(Yu(a.maturityDate,"YYYY-MM-DD HH:MM:SS")):"",fromDateFlg:!1,toDateFlg:!1,currency:a.currencyCode,holidayData:s,productWeekData:n})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_moneyAmtString",children:"Net $:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",id:"moneyAmtString",children:a.moneyAmtString})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"disc",children:"Disc:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",id:"tickerAmount",children:a.ticketAmount})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_salesPerson",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold removewrap",children:"Sales Person:"}),Object(u.jsx)("div",{className:" col-md-6 col-sm-6 col-xs-6",children:Object(u.jsx)("select",{id:"salesPerson",class:"custom-select",children:Object(u.jsx)("option",{value:"12081460",children:"NONE"})})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_accountName",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold removewrap",children:"Account Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6",children:Object(u.jsx)(Eu,{name:"accountName",id:"accountName",value:a.accountName,onChange:function(t){e.onChange(t,"accountName")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_shortName",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold removewrap",children:"Short Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6",children:Object(u.jsx)(Eu,{name:"shortName",id:"shortName",onChange:function(t){e.onChange(t,"shortName")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_voiceTrade",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold removewrap",children:"Voice Trade:"}),Object(u.jsx)("div",{className:"col-md-6 text-left",children:Object(u.jsx)(mp,{id:"voiceTrade",className:"input-sm",value:""})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_venue",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Venue:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6",children:Object(u.jsx)("select",{id:"venue",class:"custom-select",children:Object(u.jsx)("option",{value:"12081460",children:"DOMES"})})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_cassii",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"OMS:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6",children:Object(u.jsx)(Eu,{id:"cassii",className:"form-control input-sm pull-left",value:""})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_notes",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Notes:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6",children:Object(u.jsx)(Eu,{id:"notes",className:"form-control input-sm",value:""})})]})]}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:Object(u.jsx)("button",{id:"submit",href:"javascript:void(0);",class:"marginauto btn btn-success btn-xs lyrsubmitfocus",children:"Submit"})})]}):Object(u.jsx)("div",{className:"col-md-12 text-center",id:"loading_im",children:Object(u.jsx)(Fb,{})})})}}]),a}(o.a.Component),gp=a(264),Op=a(117),vp=a.n(Op),yp=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).print=function(){window.print()},s.state={data:"",isLoading:!0},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.apiCall){var t=this.props.reqParams,a="";t&&(a={programId:t.programId,productType:this.props.prodType,ticker:t.ticker,issueId:t.issueId,transType:t.transType}),w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({data:t.data,isLoading:!1})}))}}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(e!==this.props&&this.props.apiCall){var s=this.props.reqParams,n="";s&&(n={programId:s.programId,productType:this.props.prodType,ticker:s.ticker,issueId:s.issueId,transType:s.transType}),w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:n,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({data:e.data})}))}}},{key:"render",value:function(){var e=this.state.data;return Object(u.jsx)("div",{children:!1===this.state.isLoading?e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"mt-3 "+vp.a.s_t_title,children:[Object(u.jsx)("strong",{className:"cursor",children:e.ticketId}),Object(u.jsxs)("span",{className:"float-right d-flex",children:[Object(u.jsx)("span",{onClick:this.print,title:"Print Ticket",children:Object(u.jsx)(gp.a,{size:"18"})}),Object(u.jsx)("span",{onClick:this.props.close,className:"pl-1",children:Object(u.jsx)(B.y,{size:"18",title:"Close Ticket"})})]})]}),Object(u.jsxs)("div",{className:"modal-cls "+(e&&"B"===e.msgType?vp.a.brc:vp.a.bgc),id:vp.a.showTicket,children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lbl_issuer",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"issuerName",children:e.issuerName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lbl_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left removewrap",id:"ticker",children:e.ticker})]})]}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lbl_cuisp",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"cuisp",children:e.cusip})]})})]}),Object(u.jsx)("span",{className:"block-example border-top border-gray d-block mb-1"}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_accountName",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Acct:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left removewrap",id:"accountName",children:e.accountName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_ticketAmount",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"$m:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"ticketAmount",children:Lo(e.ticketAmount)})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_moneyAmtString",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold removewrap",children:"Money Amt:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"moneyAmtString",children:Lo(e.moneyAmtString)})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_maturityDate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Mat:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"maturityDate",children:e.maturityDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_venue",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Venue:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"venue",children:e.venue})]}),this.props.prodType===zh||this.props.prodType===qh||this.props.prodType===Kh||this.props.prodType===Gh?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_Datesettle",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Dated:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"val_Datesettle",children:e.settleDate})]}):"",this.props.prodType===zh||this.props.prodType===qh||this.props.prodType===Kh||this.props.prodType===Gh?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_price",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Price:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"price",children:e.price})]}):"",Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_ticketDate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Date/Time:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left pr-0 removewrap",id:"ticketDate",children:e.ticketDate})]}),void 0!==e.spLoginName&&Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_spLoginName",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold removewrap",children:"Sales Person:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left removewrap",id:"spLoginName",children:e.spLoginName})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_status",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Status:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"status",children:e.status})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_sett",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Settle Date:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"settleDate",children:e.settleDate})]}),this.props.prodType===zh||this.props.prodType===qh||this.props.prodType===Gh||this.props.prodType===Kh?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_ticketRate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Acrd Int:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"ticketRate",children:e.accruedInt})]}):"",this.props.prodType===zh||this.props.prodType===qh||this.props.prodType===Kh||this.props.prodType===Gh?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_coupon",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Coupon:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"coupon",children:e.coupon})]}):"",this.props.prodType===Hh||this.props.prodType===Zh||this.props.prodType===Wh?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_rate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Rate:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"val_tckrate",children:e.ticketRate})]}):"",Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bookName",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Book:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"bookName",children:e.bookName})]}),this.props.prodType===Hh||this.props.prodType===qh||this.props.prodType===Zh||this.props.prodType===Wh||this.props.prodType===Kh||this.props.prodType===Gh||this.props.prodType===zh||this.props.prodType===Jh||"85"!==e.transType?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_trader",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Booked By:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"trader",children:e.traderName})]}):"",this.props.prodType===zh||this.props.prodType===qh||this.props.prodType===Kh||this.props.prodType===Gh?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_yield",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Yield:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"yield",children:e.bidYield})]}):"",void 0!==e.spLoginName&&Object(u.jsx)("div",{className:"pdt2",children:"\xa0"})]}),void 0!==e.responseMessage&&Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_reason",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Reason:"}),Object(u.jsx)("label",{className:"form-label col-md-9 col-sm-9 col-xs-9 text-left",id:"reason",children:e.responseMessage})]})]})]}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",id:"norecordsfnd",children:"No Records Found."}):Object(u.jsx)("div",{className:"col-md-12 text-center",children:Object(u.jsx)(Fb,{})})})}}]),a}(o.a.Component),kp=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectData:""},s}return Object(l.a)(a,[{key:"render",value:function(){return this.props.modalHead&&Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,size:this.props.size,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:"Show Ticket"})}),Object(u.jsxs)(P.a.Body,{children:["Sell Ticket"===this.props.modalHead&&Object(u.jsx)(fp,{prodType:this.props.prodType,reqParams:this.props.modalDataRow,apiCall:tl}),"Show Ticket"===this.props.modalHead&&Object(u.jsx)(yp,{prodType:this.props.prodType,reqParams:this.props.modalDataRow,apiCall:tl})]})]})}}]),a}(o.a.Component),Dp=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectData:[]},s}return Object(l.a)(a,[{key:"getSnapshotBeforeUpdate",value:function(e,t){return JSON.stringify(e.reqParams)!==JSON.stringify(this.props.reqParams)||null}},{key:"componentDidMount",value:function(){var e=this;this.props.apiCall?w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){if(t&&e.setState({selectData:t.data}),e.props.stateMethod){var a,s;if(void 0!==t.data&&t.data.length>0){var n=t.data&&t.data.find((function(t){return t.key===e.props.selected}));if(n)a=n.key,s=n.value;else{var o=t.data[0];a=o.key,s=o.value}}e.props.stateMethod(a,s)}})):this.props.data&&(this.setState({selectData:this.props.data}),this.props.stateMethod&&this.props.stateMethod(this.props.data[0].key,this.props.data[0].value))}},{key:"componentDidUpdate",value:function(e,t,a){var s=this;e!==this.props&&!0===a&&(this.props.apiCall?w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e&&s.setState({selectData:e.data})})):this.props.data&&this.setState({selectData:this.props.data}))}},{key:"render",value:function(){var e=this.state.selectData;return e&&Object(u.jsx)(k.a.Control,{id:this.props.id,name:this.props.name,as:"select",custom:!0,onChange:this.props.onchange,value:this.props.selected,disabled:this.props.disabled,children:e.map((function(e){return Object(u.jsx)("option",{value:e.key,children:e.value},e.key)}))})}}]),a}(o.a.Component),Cp="",Np=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getDefaultVenueValues=function(e,t){s.props.data.source=e},s.onContentChange=function(e,t){var a=!1;if("voiceTrade"===t)sp[t]=e.target.checked?"Y":"N";else if("amount"===t)s.clearState(),!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?(a=!0,s.setState({actionTitle:"Conversion",actionMessage:wm,showError:!0}),e.target.value=sp[t],e.target.focus()):(Uo(e),sp[t]=e.target.value,s.onValueChange(e,t));else if("settlementDate"===t){s.clearState();var n=new Date(Yu(e,"YYYY-MM-DD")),o=new Date(Yu(sp.maturityDate,"YYYY-MM-DD"));Yu(sp.settlementDate,"YYYY-MM-DD")>Yu(e,"YYYY-MM-DD")?(a=!0,s.setState({rejectReason:nu})):n>=o?(a=!0,s.setState({rejectReason:Ch})):"Invalid Date"!==e&&null!==e&&(sp[t]=Yu(e,"YYYY-MM-DD"),s.onValueChange(e,t))}else"maturityDate"===t?(s.clearState(),"Invalid Date"!==e&&null!==e&&(sp[t]=Yu(e,"YYYY-MM-DD"),s.onValueChange(e,t))):"rate"===t?(s.clearState(),_o(e),sp[t]=e.target.value,s.onValueChange(e,t)):(sp[t]=e.target.value,s.setState({ck:0}),a=!0);!1===a&&s.postData(sp,Cp)},s.clearState=function(){Cp="",s.setState({respMessage:"",rejectReason:"",warngMessage:""})},s.state={resultFlag:!1,respMessage:"",rejectReason:"",tradeData:"",holidayData:[],productWeekData:[],warngMessage:""},s.submitData=s.submitData.bind(Object(O.a)(s)),s.onValueChange=s.onValueChange.bind(Object(O.a)(s)),s.accountChange=s.accountChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.clearState(),sp.action="AJAXBUY",sp.settlementDate=Yu(sp.settleDate,"MM/DD/YY"),sp.maturityDate=Yu(sp.maturityDate,"MM/DD/YY"),"B"!==this.props.ticketType?sp.transType="85":sp.transType="10",sp.cusip=sp.cusip,sp.programId=sp.issuerId,sp.amount=sp.amount&&Po(Lo(sp.amount));var t=N.URL+Ml;w()({method:"POST",url:t,timeout:N.apiTimeOut,data:[sp],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&(t.data.rejectReason&&e.setState({rejectReason:t.data.rejectReason}),t.data.responseMessage?e.setState({warngMessage:t.data.responseMessage}):(e.setState({tradeData:t.data}),e.setState({updateFlag:!0})))})),w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:this.props.prodType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})}))}},{key:"accountChange",value:function(e,t){var a=this;if(this.setState({rejectReason:[],warngMessage:[]}),this.state.rejectReason&&this.state.rejectReason.length>0){sp.action="AJAXBUY",sp.settlementDate=Yu(sp.settleDate,"MM/DD/YY"),sp.maturityDate=Yu(sp.maturityDate,"MM/DD/YY"),"B"!==this.props.ticketType?sp.transType="85":sp.transType="10",sp.cusip=sp.cusip,sp.programId=sp.issuerId,sp.amount=sp.amount&&Po(Lo(sp.amount));var s=N.URL+Ml;w()({method:"POST",url:s,timeout:N.apiTimeOut,data:[sp],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.rejectReason?a.setState({rejectReason:e.data.rejectReason}):(a.setState({tradeData:e.data}),a.setState({updateFlag:!0})))}))}else{this.setState({rejectReason:[],warngMessage:[]});var n={};"cassii"===t?n.investerCassii=e.target.value:"acctName"===t?n.investor=e.target.value:"shortAcct"===t&&(n.shortAcct=e.target.value),w()({method:"POST",url:N.URL+cl,timeout:N.apiTimeOut,data:n,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.rejectReason?(sp.accountName="",sp.shortAcct="",sp.investerCassii="",sp.accountNbr="",a.setState({rejectReason:e.data.rejectReason})):(sp.accountName=e.data.investor,sp.shortAcct=e.data.shortAcct,sp.investerCassii=e.data.investerCassii,sp.accountNbr=e.data.accountNbr),a.setState({updateFlag:!0}))}))}}},{key:"onValueChange",value:function(e,t){var a=this;if(this.clearState(),sp.action="AJAXBUY","settlementDate"!==t?sp.settlementDate||(sp.settlementDate=Yu(sp.settleDate,"MM/DD/YY")):sp.settlementDate=Yu(sp.settlementDate,"MM/DD/YY"),"maturityDate"===t&&(sp.maturityDate=Yu(sp.maturityDate,"MM/DD/YY")),"B"!==this.props.ticketType?sp.transType="85":sp.transType="10",sp.cusip=this.state.tradeData.cusip,"amount"===t?sp.amount=Po(e.target.value):"rate"===t&&(sp.rate=Po(e.target.value)),"Invalid date"!==sp.settlementDate&&"Invalid date"!==sp.maturityDate){var s=N.URL+Ml;w()({method:"POST",url:s,timeout:N.apiTimeOut,data:[sp],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(a.setState({tradeData:e.data}),"B"===a.props.ticketType&&(sp.accountName=a.state.tradeData.accountName,sp.shortAcct=a.state.tradeData.shortAcct,sp.investerCassii=a.state.tradeData.investerCassii),null!==a.state.tradeData&&null!==a.state.tradeData.responseMessage&&""!==a.state.tradeData.responseMessage&&a.setState({warngMessage:a.state.tradeData.responseMessage}),null!==a.state.tradeData&&null!==a.state.tradeData.rejectReason&&""!==a.state.tradeData.rejectReason&&a.setState({rejectReason:a.state.tradeData.rejectReason}),a.setState({updateFlag:!0}))}))}}},{key:"submitData",value:function(){var e=!0,t="";"B"===this.props.ticketType?(Cp=Al,this.props.prodType===Wh&&(Cp=jc),Wu(sp.maturityDate,sp.settlementDate)<=0&&(t="MATGRSET",e=!1)):"S"===this.props.ticketType?("3"===sessionStorage.getItem("membercatid")&&(sp.spLoginId=sessionStorage.getItem("loginid")),Cp=Rl,this.props.prodType===Wh&&(Cp=xc),Wu(sp.maturityDate,sp.settlementDate)<=0&&(t="MATGRSET",e=!1),!sp.investerCassii&&e&&(e=!1,t="CASSII")):"C"===this.props.ticketType&&(Cp=El,this.props.prodType===Wh&&(Cp=fc)),"B"===this.props.ticketType&&(sp.investerCassii=this.state.tradeData.investerCassii,sp.cassii=this.state.tradeData.cassii),e?this.postData(sp):"CASSII"===t?this.setState({rejectReason:Mm}):"MATGRSET"===t&&this.setState({rejectReason:jm})}},{key:"postData",value:function(e){var t=this;e.rejectReason="",e.responseMessage="",""!==Cp&&w()({method:"POST",url:N.URL+Cp,timeout:N.apiTimeOut,data:[e],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.rejectReason?t.setState({rejectReason:e.data.rejectReason}):(t.props.returnMethod(e.data),t.setState({updateFlag:!0})))}))}},{key:"render",value:function(){var e=this,t=this.props.data,a=this.state,s=a.respMessage,n=a.rejectReason,o=a.tradeData,i=a.holidayData,l=a.productWeekData,c=a.warngMessage;return sp=t,void 0===this.state.tradeData&&this.setState({tradeData:t}),sp&&(sp.maturityDate=Yu(sp.maturityDate,"MM/DD/YY")),sp?Object(u.jsxs)("div",{className:"modal-cls",id:"SellTicket",children:[void 0!==s&&s.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:s}):"",void 0!==n&&n.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:n}):"",void 0!==c&&c.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:c}):"",Object(u.jsxs)("div",{className:"bgc",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_issuerName",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left removewrap",id:"issuerName",children:sp.issuerName})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"ticker",children:sp.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_currencyCode",children:"CURRENCY:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"currencyCode",children:o.currencyCode})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left font-weight-bold",id:"lbl_cuisp",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8 text-left",id:"cuisp",children:o.cusip})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"product",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"prodName",children:sp.prodName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left"})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left"})]})]})]}),"B"!==this.props.ticketType?Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"sub_offer",children:"Offer"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"amount",className:"form-label col-md-5 col-sm-5 col-xs-5  text-left",children:"$m:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7 text-left",id:"v_ammt",children:Object(u.jsx)(Eu,{name:"lyr-amount",id:"lyr-amount",value:Lo(sp.amount),className:"text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_settle",className:"form-label col-md-5 col-sm-5 col-xs-5  text-left",children:"Settle:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_sttle",children:Object(u.jsx)(Eu,{id:"lyr-settle",name:"lyr-settle",value:sp.settlementDate,className:"form-control input-sm text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_rate",className:"form-label col-md-5 col-sm-5 col-xs-5  text-left",children:"Rate:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_rte",children:Object(u.jsx)(Eu,{name:"lyr-rate",id:"lyr-rate",value:sp.rate,className:"text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_mat",className:"form-label col-md-5 col-sm-5 col-xs-5  text-left",children:"Mat:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_mat",children:Object(u.jsx)(Eu,{id:"lyr_mat",name:"lyr_mat",value:sp.maturityDate,className:"form-control input-sm text-right",readOnly:!0})})]})]}):"",Object(u.jsxs)("div",{className:"B"!==this.props.ticketType?"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0":"col-md-12 col-sm-12 col-xs-12 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_amount",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"B"===this.props.ticketType?"$m:":""}),Object(u.jsx)("div",{className:"B"!==this.props.ticketType?"col-md-8 col-sm-8 col-xs-8  text-left":"col-md-4 col-sm-4 col-xs-4  text-left",id:"v_amount",children:Object(u.jsx)(pp,{name:"lyr-amunt",id:"lyr-amunt",step:1e3,value:this.state.tradeData?Lo(this.state.tradeData.amount):Lo(sp.amount),className:"text-right",onBlur:function(t){e.onContentChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_settleDate",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"B"===this.props.ticketType?"$Settle:":""}),Object(u.jsx)("div",{className:"B"!==this.props.ticketType?"col-md-8 col-sm-8 col-xs-8  text-left":"col-md-4 col-sm-4 col-xs-4  text-left",id:"v_sttledate",children:(l.length>0||i.length>0)&&Object(u.jsx)(Ju,{label:"settleDate",dateValue:this.state.tradeData?this.state.tradeData.settlementDate?new Date(Yu(this.state.tradeData.settlementDate,"MM/DD/YY")):"":sp.settlementDate?new Date(Yu(sp.settleDate,"MM/DD/YY")):"",onchange:function(t){e.onContentChange(t,"settlementDate")},fromDateFlg:!1,toDateFlg:!1,currency:"USD",product:this.state.tradeData?this.state.tradeData.prodId:sp.prodId,holidayData:i,productWeekData:l})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_brate",className:"form-label col-md-4 col-sm-4 col-xs-4  text-right",children:"B"===this.props.ticketType?"$Rate:":""}),Object(u.jsx)("div",{className:"B"!==this.props.ticketType?"col-md-8 col-sm-8 col-xs-8  text-left":"col-md-4 col-sm-4 col-xs-4  text-left",id:"v_brate",children:Object(u.jsx)(pp,{name:"lyr-brate",id:"lyr-brate",step:.1,precision:2,value:sp.rate,className:"text-right",onBlur:function(t){e.onContentChange(t,"rate")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_matt",className:"form-label col-md-4 col-sm-4 col-xs-4  text-right",children:"B"===this.props.ticketType?"$Mat:":""}),Object(u.jsx)("div",{className:"B"!==this.props.ticketType?"col-md-8 col-sm-8 col-xs-8  text-left":"col-md-4 col-sm-4 col-xs-4  text-left",id:"v_matt",children:"B"===this.props.ticketType?Object(u.jsx)(Eu,{id:"lyr-lbl_mat",name:"lyr-lbl_mat",value:sp.maturityDate,className:"form-control input-sm",disabled:!0}):(l.length>0||i.length>0)&&Object(u.jsx)(Ju,{label:"maturityDate",dateValue:sp.maturityDate?new Date(Yu(sp.maturityDate,"YYYY-MM-DD HH:MM:SS")):"",onchange:function(t){e.onContentChange(t,"maturityDate")},fromDateFlg:!1,toDateFlg:!1,currency:"USD",product:this.state.tradeData?this.state.tradeData.prodId:sp.prodId,holidayData:i,productWeekData:l})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lyr_netAmt",className:"B"===this.props.ticketType?"form-label col-md-4 col-sm-4 col-xs-4  text-right font-weight-bold":"form-label col-md-5 col-sm-5 col-xs-5  text-left font-weight-bold",children:"Net $:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_net",children:Object(u.jsx)("label",{className:"form-label text-left",id:"netAmt",children:o.netAmt})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lyr_disc",className:"B"===this.props.ticketType?"form-label col-md-4 col-sm-4 col-xs-4  text-right font-weight-bold":"form-label col-md-5 col-sm-5 col-xs-5  text-left font-weight-bold",children:"Disc:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_disc",children:Object(u.jsx)("label",{className:"form-label text-left",id:"disc",children:o.interestAmount?Lo(o.interestAmount):""})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:["B"!==this.props.ticketType&&"3"!==sessionStorage.getItem("membercatid")?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"sales-person",className:"form-label col-md-6 col-sm-6 col-xs-6  text-left removewrap",children:"Sales Person:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_slesperson",children:Object(u.jsx)(Dp,{name:"lyr-sales-person",id:"lyr-sales-person",apiCall:il,reqParams:{userType:"3",All:"true"},onchange:function(t){e.onContentChange(t,"spLoginId")},selected:sp.spLoginId})})]}):"","B"!==this.props.ticketType&&"3"===sessionStorage.getItem("membercatid")?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"sales-person",className:"form-label col-md-6 col-sm-6 col-xs-6  text-left removewrap",children:"Sales Person:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left removewrap",id:"l_slesperson",children:localStorage.getItem("firstName")+" "+localStorage.getItem("lastName")})]}):"",Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"acctname",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left removewrap",children:"Account Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",id:"v_acctname",children:"B"===this.props.ticketType?Object(u.jsx)(Eu,{name:"lyr-acctname",id:"lyr-acctname",value:o.accountName,className:"text-left",disabled:!0}):Object(u.jsx)(Eu,{name:"lyr-acctname",id:"lyr-acctname",value:sp.accountName,className:"text-left",onBlur:function(t){e.accountChange(t,"acctName")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"shortname",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left removewrap",children:"Short  Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_shrtname",children:"B"===this.props.ticketType?Object(u.jsx)(Eu,{name:"lyr-shortname",id:"lyr-shortname",value:o.shortAcct,className:"text-left",disabled:!0}):Object(u.jsx)(Eu,{name:"lyr-shortname",id:"lyr-shortname",value:sp.shortAcct,className:"text-left",onBlur:function(t){e.accountChange(t,"shortAcct")}})})]}),"B"!==this.props.ticketType?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"voice-trade",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:"Voice Trade:"}),Object(u.jsx)("div",{className:"col-md-6 text-left",children:Object(u.jsx)(mp,{id:"lyr-voice-trade",className:"input-sm",value:"",onClick:function(t){e.onContentChange(t,"voiceTrade")}})})]}):""]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:["B"!==this.props.ticketType?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"venues",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left removewrap",children:"Venue:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_venues",children:Object(u.jsx)(Dp,{name:"lyr-venues",id:"lyr-venues",apiCall:Ii,reqParams:{All:"false"},stateMethod:this.getDefaultVenueValues,onchange:function(t){e.onContentChange(t,"source")},selected:sp.source})})]}):"",Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"cassii",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",children:"OMS:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",id:"v_cassii",children:"B"===this.props.ticketType?Object(u.jsx)(Eu,{name:"lyr-cassii",id:"lyr-cassii",value:o.investerCassii,className:"text-left",disabled:!0}):"C"===this.props.ticketType?Object(u.jsx)(Eu,{name:"lyr-cassii",id:"lyr-cassii",value:"C"===this.props.ticketType?"":sp.investerCassii,className:"text-left",onBlur:function(t){e.accountChange(t,"cassii")}}):Object(u.jsx)(Eu,{name:"lyr-cassii",id:"lyr-cassii",value:sp.investerCassii,className:"text-left",onBlur:function(t){e.accountChange(t,"cassii")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_note",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",children:"Notes:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_notes",children:Object(u.jsx)(Eu,{name:"lyr_note",id:"lyr_note",value:"",className:"text-left",onChange:function(t){e.onContentChange(t,"notes")}})})]})]}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:Object(u.jsx)("span",{children:void 0===n||0===n.length?Object(u.jsx)("button",{id:"lyr_submit",onClick:this.submitData,className:"btn btn-success btn-xs lyrsubmitfocus",children:"Submit"}):""})})]}):"No Data"}}]),a}(o.a.Component),Sp=(a(229),a(33)),wp=a.n(Sp),Tp="",Ip=!1,Mp=(o.a.Component,function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleSelect=function(e){s.setState({heading:e})},s.state={heading:"launchbuy"},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.show,a=e.onHide,s=e.size,n=e.modalHead;return"B"!==this.props.ticketType?Object(u.jsxs)(P.a,{show:t,onHide:a,size:s,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",style:{padding:"6px",fontSize:"12px"},children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",style:{fontSize:"12px"},children:n})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsx)(Np,{data:this.props.modalData,returnMethod:this.props.returnMethod,ticketType:this.props.ticketType,prodType:this.props.prodType})})]}):Object(u.jsxs)(P.a,{show:t,onHide:a,dialogClassName:"modal buy-modal",size:s,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",style:{padding:"6px",fontSize:"12px"},children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",style:{fontSize:"12px"},children:n})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsx)(Np,{data:this.props.modalData,returnMethod:this.props.returnMethod,ticketType:this.props.ticketType,prodType:this.props.prodType})})]})}}]),a}(o.a.Component)),Ap="",Rp=!1,Ep=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getDefaultVenueValues=function(e,t){s.state.tradeData.source=e},s.clearState=function(){Ap="",s.setState({respMessage:"",rejectReason:"",warngMessage:""})},s.onContentChange=function(e,t){var a=s.state.tradeData,n=s.props.data,o=!1;if("voiceTrade"===t)a[t]=e.target.checked?"Y":"N";else if("amount"===t)s.clearState(),!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?(o=!0,s.setState({actionTitle:"Conversion",actionMessage:wm,showError:!0}),e.target.value=a[t],e.target.focus()):(Uo(e),a[t]=e.target.value,s.onValueChange(e,t));else if("settlementDate"===t){s.clearState(),console.log("pankaj---e",e),console.log("pankaj---data.settlementDate",a.maturityDate);var i=new Date(Yu(e,"YYYY-MM-DD")),l=new Date(Yu(a.maturityDate,"YYYY-MM-DD"));Yu(n.settlementDate,"YYYY-MM-DD")>Yu(e,"YYYY-MM-DD")?(o=!0,Rp=!0,s.setState({rejectReason:nu})):i>=l?(o=!0,Rp=!0,s.setState({rejectReason:Ch})):"Invalid Date"!==e&&null!==e&&(a[t]=Yu(e,"YYYY-MM-DD"),s.onValueChange(e,t))}else if("maturityDate"===t)s.clearState(),"Invalid Date"!==e&&null!==e&&(a[t]=Yu(e,"YYYY-MM-DD"),s.onValueChange(e,t));else if("rate"===t){if(void 0!==e.target.value&&e.target.value.length>0)if(!1===Bo(e.target.value,"1234567890."))o=!0,Rp=!0,s.setState({rejectReason:Ym}),e.target.focus();else parseFloat(e.target.value)<=0?(o=!0,Rp=!0,s.setState({rejectReason:Ym}),e.target.focus()):(_o(e),Rp=!1,a[t]=e.target.value,s.onValueChange(e,t));else o=!0,Rp=!0,s.setState({rejectReason:Ym}),e.target.focus()}else a[t]=e.target.value,Rp=!1,s.setState({ck:0}),o=!0;!1===o&&""===s.state.rejectReason&&(Rp=!1,s.postData(a,Ap))},s.state={resultFlag:!1,respMessage:"",rejectReason:"",tradeData:"",holidayData:[],productWeekData:[],warngMessage:""},s.submitData=s.submitData.bind(Object(O.a)(s)),s.onValueChange=s.onValueChange.bind(Object(O.a)(s)),s.accountChange=s.accountChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.data,a={};Object.keys(t).map((function(e){a[e]="maturityDate"===e?Yu(t.maturityDate,"MM/DD/YY"):"programId"===e?t.issuerId:"amount"===e?Po(Lo(t[e])):t[e]})),"B"!==this.props.ticketType?a.transType="85":a.transType="10",a.action="AJAXBUY";var s=N.URL+Ml;w()({method:"POST",url:s,timeout:N.apiTimeOut,data:[a],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&(t.data.rejectReason&&e.setState({rejectReason:t.data.rejectReason}),t.data.responseMessage&&e.setState({warngMessage:t.data.responseMessage}),e.setState({tradeData:t.data}))})),w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:this.props.prodType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(e!==this.props){this.clearState();var s=this.props.data,n={};Object.keys(s).map((function(e){n[e]="maturityDate"===e?Yu(s.maturityDate,"MM/DD/YY"):"programId"===e?s.issuerId:"amount"===e?Po(Lo(s[e])):"rejectReason"===e||"responseMessage"===e?"":s[e]})),"B"!==this.props.ticketType?n.transType="85":n.transType="10",n.action="AJAXBUY";var o=N.URL+Ml;w()({method:"POST",url:o,timeout:N.apiTimeOut,data:[n],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.rejectReason&&a.setState({rejectReason:e.data.rejectReason}),e.data.responseMessage&&a.setState({warngMessage:e.data.responseMessage}),a.setState({tradeData:e.data}))})),w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:this.props.prodType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({holidayData:e.data.holidayDatesInfo,productWeekData:e.data.productWeekData})}))}}},{key:"onValueChange",value:function(e,t){var a=this,s=this.state.tradeData;if(this.clearState(),!Rp&&(s.action="AJAXBUY",s.rejectReason="",s.responseMessage="","settlementDate"!==t?s.settlementDate||(s.settlementDate=Yu(s.settleDate,"MM/DD/YY")):s.settlementDate=Yu(s.settlementDate,"MM/DD/YY"),"maturityDate"===t&&(s.maturityDate=Yu(s.maturityDate,"MM/DD/YY")),"B"!==this.props.ticketType?s.transType="85":s.transType="10",s.cusip=this.state.tradeData.cusip,"amount"===t?s.amount=Po(e.target.value):"rate"===t&&(s.rate=Po(e.target.value)),"Invalid date"!==s.settlementDate&&"Invalid date"!==s.maturityDate)){var n=N.URL+Ml;w()({method:"POST",url:n,timeout:N.apiTimeOut,data:[s],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(a.setState({tradeData:e.data}),null!==a.state.tradeData&&null!==a.state.tradeData.responseMessage&&""!==a.state.tradeData.responseMessage&&a.setState({warngMessage:a.state.tradeData.responseMessage}),null!==a.state.tradeData&&null!==a.state.tradeData.rejectReason&&""!==a.state.tradeData.rejectReason&&a.setState({rejectReason:a.state.tradeData.rejectReason}),a.setState({updateFlag:!0}))}))}}},{key:"postData",value:function(e){var t=this;e.rejectReason="",e.responseMessage="",""!==Ap&&w()({method:"POST",url:N.URL+Ap,timeout:N.apiTimeOut,data:[e],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.rejectReason?t.setState({rejectReason:e.data.rejectReason}):(t.props.returnMethod(e.data),t.setState({updateFlag:!0})))}))}},{key:"accountChange",value:function(e,t){var a=this,s=this.state.tradeData;if(this.clearState(),this.state.rejectReason&&this.state.rejectReason.length>0){s.action="AJAXBUY",s.settlementDate=Yu(s.settleDate,"MM/DD/YY"),s.maturityDate=Yu(s.maturityDate,"MM/DD/YY"),"B"!==this.props.ticketType?s.transType="85":s.transType="10",s.cusip=s.cusip,s.programId=s.issuerId,s.amount=s.amount&&Po(Lo(s.amount));var n=N.URL+Ml;w()({method:"POST",url:n,timeout:N.apiTimeOut,data:[s],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.rejectReason?a.setState({rejectReason:e.data.rejectReason}):(a.setState({tradeData:e.data}),a.setState({updateFlag:!0})))}))}else{var o={};"cassii"===t?o.investerCassii=e.target.value:"acctName"===t?o.investor=e.target.value:"shortAcct"===t&&(o.shortAcct=e.target.value),w()({method:"POST",url:N.URL+cl,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.rejectReason?(s.accountName="",s.shortAcct="",s.investerCassii="",s.accountNbr="",a.setState({rejectReason:e.data.rejectReason})):(s.accountName=e.data.investor,s.shortAcct=e.data.shortAcct,s.investerCassii=e.data.investerCassii,s.accountNbr=e.data.accountNbr),a.setState({updateFlag:!0}))}))}}},{key:"submitData",value:function(){var e=!0,t="",a=this.state.tradeData;"B"===this.props.ticketType?(Ap=Al,this.props.prodType===Wh&&(Ap=jc),Wu(a.maturityDate,a.settlementDate)<=0&&(t="MATGRSET",e=!1)):"S"===this.props.ticketType?("3"===sessionStorage.getItem("membercatid")&&(a.spLoginId=sessionStorage.getItem("loginid")),Ap=Rl,this.props.prodType===Wh&&(Ap=xc),Wu(a.maturityDate,a.settlementDate)<=0&&(t="MATGRSET",e=!1),!a.investerCassii&&e&&(e=!1,t="CASSII")):"C"===this.props.ticketType&&(Ap=El,this.props.prodType===Wh&&(Ap=fc)),"B"===this.props.ticketType&&(a.investerCassii=this.state.tradeData.investerCassii,a.cassii=this.state.tradeData.cassii),e?(this.postData(a),this.setState({ck:"0"})):"CASSII"===t?this.setState({rejectReason:Mm}):"MATGRSET"===t&&this.setState({rejectReason:jm})}},{key:"render",value:function(){var e=this,t=this.props.data,a=this.state,s=a.respMessage,n=a.rejectReason,o=a.tradeData,i=a.holidayData,l=a.productWeekData,c=a.warngMessage;return o?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"mt-3 "+wp.a.s_t_title,children:Object(u.jsx)("strong",{className:"cursor",children:t.issuerName+" - "+t.ticker+" - "+t.currencyCode})}),Object(u.jsxs)("div",{className:"modal-cls bgc",id:wp.a.SellTicket,children:[Object(u.jsxs)("div",{className:wp.a.alert_box,children:[void 0!==s&&s.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center "+wp.a.alert,children:s}):"",void 0!==n&&n.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center "+wp.a.alert,children:n}):"",void 0!==c&&c.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center "+wp.a.alert,children:c}):""]}),Object(u.jsxs)("div",{className:"bgc",children:[Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left font-weight-bold p10",id:"lbl_cuisp",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8 text-left p10",id:"cuisp",children:t.cusip})]})}),"B"!==this.props.ticketType?Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"sub_offer",children:"Offer"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"amount",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"$m:"}),Object(u.jsx)("label",{id:"amount",className:"form-label col-md-8 col-sm-8 col-xs-8 text-right "+wp.a.f14,children:Lo(t.amount)})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_rate",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"Rate:"}),Object(u.jsx)("label",{id:"lbl_rate",className:"form-label col-md-8 col-sm-8 col-xs-8  text-right "+wp.a.f14,children:t.rate})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_settle",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"Settle:"}),Object(u.jsx)("label",{id:"lbl_settle",className:"form-label col-md-8 col-sm-8 col-xs-8  text-right",children:t.settlementDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_mat",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"Mat:"}),Object(u.jsx)("label",{id:"lbl_mat",className:"form-label col-md-8 col-sm-8 col-xs-8  text-right",children:Yu(new Date(t.maturityDate),"MM/DD/YY")})]}),"B"!==this.props.ticketType&&"3"!==sessionStorage.getItem("membercatid")?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"sales-person",className:"form-label col-md-6 col-sm-6 col-xs-6  text-left removewrap",children:"Sales Person:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_slesperson",children:Object(u.jsx)(Dp,{name:"lyr-sales-person",id:"lyr-sales-person",apiCall:il,reqParams:{userType:"3",All:"true"},onchange:function(t){e.onContentChange(t,"spLoginId")},selected:t.spLoginId})})]}):"","B"!==this.props.ticketType&&"3"===sessionStorage.getItem("membercatid")?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"sales-person",className:"form-label col-md-6 col-sm-6 col-xs-6  text-left removewrap",children:"Sales Person:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left removewrap",id:"l_slesperson",children:localStorage.getItem("firstName")+" "+localStorage.getItem("lastName")})]}):"",Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"acctname",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left removewrap",children:"Account Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",id:"v_acctname",children:"B"===this.props.ticketType?Object(u.jsx)(Eu,{name:"lyr-acctname",id:"lyr-acctname",value:o.accountName,className:"text-left",disabled:!0}):Object(u.jsx)(Eu,{name:"lyr-acctname",id:"lyr-acctname",value:o.accountName,className:"text-left",onBlur:function(t){e.accountChange(t,"acctName")}})},o.accountName)]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"shortname",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left removewrap",children:"Short  Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_shrtname",children:"B"===this.props.ticketType?Object(u.jsx)(Eu,{name:"lyr-shortname",id:"lyr-shortname",value:o.shortAcct,className:"text-left",disabled:!0}):Object(u.jsx)(Eu,{name:"lyr-shortname",id:"lyr-shortname",value:o.shortAcct,className:"text-left",onBlur:function(t){e.accountChange(t,"shortAcct")}})},o.shortAcct)]}),"B"!==this.props.ticketType?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"voice-trade",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:"Voice Trade:"}),Object(u.jsx)("div",{className:"col-md-6 text-left",children:Object(u.jsx)(mp,{id:"lyr-voice-trade",className:"input-sm",value:"",onClick:function(t){e.onContentChange(t,"voiceTrade")}})})]}):""]}):"",Object(u.jsxs)("div",{className:"B"!==this.props.ticketType?"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0":"col-md-12 col-sm-12 col-xs-12 d-inline-block align-top p-0 ",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Trade"}),Object(u.jsx)("div",{className:"row p3 brd-btm",children:Object(u.jsx)("div",{className:"B"!==this.props.ticketType?"col-md-9 col-sm-9 col-xs-9  text-left p10":"col-md-9 col-sm-9 col-xs-9  text-left",id:"v_amount",children:Object(u.jsx)(pp,{name:"lyr-amunt",id:"lyr-amunt",step:1e3,value:this.state.tradeData?Lo(this.state.tradeData.amount):Lo(t.amount),className:"text-right",onBlur:function(t){e.onContentChange(t,"amount")}})})}),Object(u.jsx)("div",{className:"row p2 brd-btm",children:Object(u.jsx)("div",{className:"B"!==this.props.ticketType?"col-md-9 col-sm-9 col-xs-9  text-left p10 lineh1":"col-md-9 col-sm-9 col-xs-9  text-left",id:"v_sttledate",children:Object(u.jsx)(pp,{name:"lyr-brate",id:"lyr-brate",step:.1,precision:2,value:o.rate,className:"text-right",onBlur:function(t){e.onContentChange(t,"rate")}})})}),Object(u.jsx)("div",{className:"row p3 brd-btm",children:Object(u.jsx)("div",{className:"B"!==this.props.ticketType?"col-md-9 col-sm-9 col-xs-9  text-left p10":"col-md-9 col-sm-9 col-xs-9  text-left",id:"v_brate",children:(l.length>0||i.length>0)&&Object(u.jsx)(Ju,{label:"settleDate",dateValue:this.state.tradeData?this.state.tradeData.settlementDate?new Date(Yu(this.state.tradeData.settlementDate,"MM/DD/YY")):"":t.settlementDate?new Date(Yu(t.settleDate,"MM/DD/YY")):"",onchange:function(t){e.onContentChange(t,"settlementDate")},fromDateFlg:!1,toDateFlg:!1,currency:"USD",product:this.state.tradeData?this.state.tradeData.prodId:t.prodId,holidayData:i,productWeekData:l})})}),Object(u.jsx)("div",{className:"row p3 brd-btm",children:Object(u.jsx)("div",{className:"B"!==this.props.ticketType?"col-md-9 col-sm-9 col-xs-9  text-left p10 lineh1":"col-md-9 col-sm-9 col-xs-9  text-left",id:"v_matt",children:"B"===this.props.ticketType?Object(u.jsx)(Eu,{id:"lyr-lbl_mat",name:"lyr-lbl_mat",value:Yu(new Date(t.maturityDate),"MM/DD/YY"),className:"form-control input-sm",disabled:!0}):(l.length>0||i.length>0)&&Object(u.jsx)(Ju,{label:"maturityDate",dateValue:this.state.tradeData.maturityDate?new Date(Yu(this.state.tradeData.maturityDate,"YYYY-MM-DD HH:MM:SS")):"",onchange:function(t){e.onContentChange(t,"maturityDate")},fromDateFlg:!1,toDateFlg:!1,currency:"USD",product:this.state.tradeData?this.state.tradeData.prodId:t.prodId,holidayData:i,productWeekData:l})})}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lyr_netAmt",className:"B"===this.props.ticketType?"form-label col-md-5 col-sm-5 col-xs-5  text-right font-weight-bold":"form-label col-md-5 col-sm-5 col-xs-5  text-left font-weight-bold",children:"Net $m:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_net",children:Object(u.jsx)("label",{className:"form-label text-left "+wp.a.f14,id:"netAmt",children:o.netAmt&&Lo(parseInt(Po(o.netAmt))/1e3)})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lyr_disc",className:"B"===this.props.ticketType?"form-label col-md-5 col-sm-5 col-xs-5  text-right font-weight-bold":"form-label col-md-5 col-sm-5 col-xs-5  text-left font-weight-bold",children:"Disc:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left ",id:"v_disc",children:Object(u.jsx)("label",{className:"form-label text-left "+wp.a.f14,id:"disc",children:o.interestAmount?Lo(o.interestAmount):""})})]}),"B"!==this.props.ticketType?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"venues",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left removewrap",children:"Venue:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_venues",children:Object(u.jsx)(Dp,{name:"lyr-venues",id:"lyr-venues",apiCall:Ii,reqParams:{All:"false"},stateMethod:this.getDefaultVenueValues,onchange:function(t){e.onContentChange(t,"source")},selected:o.source})})]}):"",Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"cassii",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"OMS:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",id:"v_cassii",children:"B"===this.props.ticketType?Object(u.jsx)(Eu,{name:"lyr-cassii",id:"lyr-cassii",value:o.investerCassii,className:"text-left",disabled:!0}):"C"===this.props.ticketType?Object(u.jsx)(Eu,{name:"lyr-cassii",id:"lyr-cassii",value:"C"===this.props.ticketType?"":t.investerCassii,className:"text-left",onBlur:function(t){e.accountChange(t,"cassii")}}):Object(u.jsx)(Eu,{name:"lyr-cassii",id:"lyr-cassii",value:o.investerCassii,className:"text-left",onBlur:function(t){e.accountChange(t,"cassii")}})},o.investerCassii)]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_note",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Notes:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_notes",children:Object(u.jsx)(Eu,{name:"lyr_note",id:"lyr_note",value:"",className:"text-left",onChange:function(t){e.onContentChange(t,"notes")}})})]})]})]}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:Object(u.jsxs)("span",{children:[void 0===n||0===n.length?Object(u.jsx)("button",{id:"lyr_submit",onClick:this.submitData,className:"btn btn-success btn-xs lyrsubmitfocus",children:"Submit"}):"",Object(u.jsx)("button",{id:"lyr_close",onClick:this.props.onHide,className:"btn btn-success btn-xs lyrsubmitfocus ml-1",children:"Close"})]})})]})]}):"No Data"}}]),a}(o.a.Component),Fp=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).msgTimeOut=function(e){setTimeout((function(){s.setState({responseMessage:"",updateData:!1})}),5e3),s.setState({updateData:!0})},s.state={cmodal:!0,showSecurityModal:!1,showShowModal:!1,showSellModal:!1,modalDataRow:"",sellModalDataRow:"",sellData:"",showError:!1,actionMessage:"",actionTitle:"",updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkSecurityComponent=s.linkSecurityComponent.bind(Object(O.a)(s)),s.linkShowComponent=s.linkShowComponent.bind(Object(O.a)(s)),s.linkSellComponent=s.linkSellComponent.bind(Object(O.a)(s)),s.openSecurityModal=s.openSecurityModal.bind(Object(O.a)(s)),s.openShowModal=s.openShowModal.bind(Object(O.a)(s)),s.openSellModal=s.openSellModal.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s.returnResponse=s.returnResponse.bind(Object(O.a)(s)),s.amountComponent=s.amountComponent.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"openSecurityModal",value:function(e,t){this.setState({modalDataRow:e,showSecurityModal:!0,updateData:!1})}},{key:"openShowModal",value:function(e,t){this.setState({modalDataRow:e,showShowModal:!0,updateData:!1})}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"openSellModal",value:function(e,t){if(void 0===this.props.message||""===this.props.message){var a=e;a.rate=e.offer,this.setState({sellModalDataRow:a,showSellModal:!0,updateData:!1})}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"hideSecurityModal",value:function(){this.setState({showSecurityModal:!1,updateData:!0})}},{key:"hideShowModal",value:function(){this.setState({showShowModal:!1,updateData:!0})}},{key:"hideSellModal",value:function(){this.setState({showSellModal:!1,updateData:!0})}},{key:"linkSecurityComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:this.openSecurityModal.bind(this,t,e),children:e})}},{key:"linkShowComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:this.openShowModal.bind(this,t,e),children:e})}},{key:"linkSellComponent",value:function(e,t,a,s,n){return t.settleDate=t.settlementDate,t.amount=t.offeringlimit,Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:this.openSellModal.bind(this,t,e),children:e})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Exprd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):void 0}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"fieldComponent",value:function(e,t,a,s){return"Offer Quant($m)"===s.colId?Lo(e):e}},{key:"amountComponent",value:function(e,t,a,s){return Lo(e)}},{key:"returnResponse",value:function(e){this.msgTimeOut(),this.setState({responseMessage:e.responseMessage,showSellModal:!1,updateData:!1})}},{key:"render",value:function(){var e=this,t={};return t.linkSecurityComponent=this.linkSecurityComponent,t.linkShowComponent=this.linkShowComponent,t.linkSellComponent=this.linkSellComponent,t.imgComponent=this.imgComponent,t.fieldComponent=this.fieldComponent,t.amountComponent=this.amountComponent,Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Offerings"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.sellModalDataRow&&this.state.showSellModal&&Object(u.jsx)(W.a,{md:4,className:"pl-0",children:Object(u.jsx)(Ep,{data:this.state.sellModalDataRow,returnMethod:this.returnResponse,msgTimeOut:this.msgTimeOut,ticketType:"S",prodType:Hh,onHide:function(){return e.hideSellModal()}})}),Object(u.jsx)(W.a,{md:""!==this.state.sellModalDataRow&&this.state.showSellModal?8:"auto",className:"p-0",children:Object(u.jsx)(Yb,{cprops:ub,apiCall:ar,wsUrl:!0,reqParams:{prodType:Hh,transType:"10",issueType:"O",socketSource:"HOME"},edit:!1,mappings:Hb,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"CP_OFFERINGS",subTitle:"Home CP ",flagPdf:!0})})]})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Latest Trades"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.modalDataRow&&this.state.showShowModal&&Object(u.jsx)(W.a,{md:4,className:"pl-0",children:Object(u.jsx)(yp,{close:function(){return e.hideShowModal()},prodType:Hh,reqParams:this.state.modalDataRow,apiCall:tl})}),Object(u.jsx)(W.a,{md:""!==this.state.modalDataRow&&this.state.showShowModal?8:"auto",className:"p-0",children:Object(u.jsx)(Yb,{cprops:bb,apiCall:ar,wsUrl:!0,reqParams:{prodType:Hh,transType:"85",issueType:"T",socketSource:"HOME"},edit:!1,mappings:Wb,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"LATEST_TRADES",subTitle:"Home CP ",flagPdf:!0})})]})}),Object(u.jsx)(rp,{size:"lg",show:this.state.showSecurityModal,onHide:function(){return e.hideSecurityModal()},modalHead:"Security",prodType:Hh,modalDataRow:this.state.modalDataRow,message:this.props.message}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.props.message,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})]})]})}}]),a}(o.a.Component),Pp=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={updateFlag:!1,showinvestor:!1,respMessage:"",rejectReason:"",actionTitle:"",actionMessage:"",showError:!0,tradeData:[],holidayData:[],productWeekData:[]},s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.submitData=s.submitData.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.onCheckboxClick=s.onCheckboxClick.bind(Object(O.a)(s)),s.accountChange=s.accountChange.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.verify=s.verify.bind(Object(O.a)(s)),s.getVenueDefault=s.getVenueDefault.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.sellData;w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:t.productType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})})),this.postData(t,wl)}},{key:"postData",value:function(e,t){var a=this;this.setState({respMessage:"",rejectReason:""}),e.transType="85",e.rejectReason="",e.responseMessage="","3"===sessionStorage.getItem("membercatid")&&(e.spLoginId=sessionStorage.getItem("loginid")),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(a.setState({tradeData:e.data}),void 0!==e.data&&void 0!==e.data.rejectReason&&e.data.rejectReason.length>0?a.setState({rejectReason:e.data.rejectReason}):void 0!==e.data&&void 0!==e.data.responseMessage&&e.data.responseMessage.length>0&&a.setState({respMessage:e.data.responseMessage}))}))}},{key:"onContentChange",value:function(e,t){var a=this.state.tradeData,s=!1;if(a.calFlag="",void 0!==e.target.value&&e.target.value.length<=0)s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus();else if("amount"===t)!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t]):(Uo(e),a[t]=Po(e.target.value),this.postData(a,wl));else if("bidYield"===t){if(!1===Bo(e.target.value,"1234567890."))s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus();else if(void 0!==e.target.value&&e.target.value.length>0){parseFloat(e.target.value)<=0?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):(a.calFlag="price",a[t]=Po(e.target.value),this.postData(a,wl))}}else if("price"===t){if(!1===Bo(e.target.value,"1234567890."))s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus();else if(void 0!==e.target.value&&e.target.value.length>0){parseFloat(e.target.value)<=0?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):(a.calFlag="yield",a[t]=Po(e.target.value),this.postData(a,wl))}}else s||(a[t]=e.target.value,this.postData(a,wl))}},{key:"accountChange",value:function(e,t){var a=this.state.tradeData;this.state.rejectReason&&this.state.rejectReason.length>0?this.postData(a,wl):(a[t]=e.target.value,this.postData(a,cl))}},{key:"onFieldChange",value:function(e,t){var a=this.state.tradeData;a[t]=e.target.value,this.setState({tradeData:a})}},{key:"onCheckboxClick",value:function(e){this.state.tradeData.voiceTrade=e.target.value,!0===e.target.checked?this.setState({showinvestor:!0}):this.setState({showinvestor:!1})}},{key:"onDateChange",value:function(e,t){var a=this.state.tradeData;"Invalid Date"!==e&&null!==e&&(a[t]=Yu(e,"MM/DD/YY"),this.postData(a,wl))}},{key:"submitData",value:function(){var e=this.state.tradeData;e.source=void 0!==e.source?e.source:this.props.sellData.source,this.verify(e)&&(e.action="SAVEINV",this.postData(e,ll))}},{key:"getVenueDefault",value:function(e,t){var a=this.state.tradeData;a.source=e,this.setState({tradeData:a})}},{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"verify",value:function(e){var t="";return""===e.amount||0===parseFloat(e.amount)||parseFloat(e.amount)<0?t=wm:""===e.bidYield||0===parseFloat(e.bidYield)?t=$m:""===e.price?t=th:""===e.investor||void 0===e.investor?t=Am:""===e.investerCassii||void 0===e.investerCassii?t=Mm:""!==e.shortAcct&&void 0!==e.shortAcct||(t=Rm),!t||(this.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1)}},{key:"setContent",value:function(){void 0!==this.state.tradeData&&(void 0!==document.getElementById("lyr-bprice")&&null!==document.getElementById("lyr-bprice")&&(document.getElementById("lyr-bprice").value=this.state.tradeData.price),void 0!==document.getElementById("lyr-bbidYield")&&null!==document.getElementById("lyr-bbidYield")&&(document.getElementById("lyr-bbidYield").value=this.state.tradeData.bidYield),void 0!==document.getElementById("lyr-bcoupon")&&null!==document.getElementById("lyr-bcoupon")&&(document.getElementById("lyr-bcoupon").value=this.state.tradeData.coupon))}},{key:"render",value:function(){var e=this,t=this.props.sellData,a=this.state,s=a.holidayData,n=a.productWeekData;return this.setContent(),t?Object(u.jsxs)("div",{className:"modal-cls",id:"SellTicket",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",Object(u.jsxs)("div",{className:"bgc",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_issuerName",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left removewrap",id:"issuerName",children:t.issuerName})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left removewrap",id:"ticker",children:t.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_maturityDate",children:"MAT:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"maturityDate",children:0===this.state.tradeData.length?t.maturityDate:this.state.tradeData.maturityDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_settle",children:"DTM:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"settle",children:0===this.state.tradeData.length?t.settle:this.state.tradeData.settle})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_cuisp",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"cuisp",children:t.cusip})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_prodName",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"prodName",children:0===this.state.tradeData.length?t.prodName:this.state.tradeData.prodName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_datedDate",children:"DATED:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"datedDate",children:0===this.state.tradeData.length?t.datedDate:this.state.tradeData.datedDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_currencyCode",children:"CURRENCY:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"currencyCode",children:t.currencyCode})]})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Offer"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"amount",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold removewrap",children:" Amount ($m) :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-amount",name:"lyr-amount",value:Lo(t.amount),className:"form-control input-sm text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"settle",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Settle : "}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-settle",name:"lyr-settle",value:t.settlementDate,className:"form-control input-sm text-right ",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"coupon",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Coupon :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-coupon",name:"lyr-coupon",value:t.coupon,className:"form-control input-sm text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"yield",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Yield :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-yield",name:"lyr-yield",value:void 0===t.bidYield?t.coupon:t.bidYield,className:"form-control input-sm text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"price",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Price :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-price",name:"lyr-price",value:void 0===t.price||0===t.price?"100.00000":t.price,className:"form-control input-sm text-right",readOnly:!0})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"bamount",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:Object(u.jsx)(pp,{name:"lyr-bamount",id:"lyr-bamount",step:1e3,value:0===this.state.tradeData.length?t.amount>="0"?Lo(t.amount):t.amount:this.state.tradeData.amount,className:"text-right",onBlur:function(t){e.onContentChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"bsettle",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"lyr-bsettle",id:"lyr-bsettle",dateValue:new Date(0===this.state.tradeData.length?t.settlementDate:this.state.tradeData.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"settlementDate")},currency:this.state.tradeData?this.state.tradeData.currencyCode:t.currencyCode,product:this.state.tradeData?this.state.tradeData.prodId:t.prodId,holidayData:s,productWeekData:n})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"bcoupon",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:Object(u.jsx)(Eu,{name:"lyr-bcoupon",id:"lyr-bcoupon",value:0===this.state.tradeData.length?t.coupon:this.state.tradeData.coupon,className:"text-right",readOnly:!0,onBlur:function(t){e.onContentChange(t,"coupon")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"bbidYield",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:(t.bidYield||this.state.tradeData.bidYield)&&Object(u.jsx)(pp,{name:"lyr-bbidYield",id:"lyr-bbidYield",step:.1,precision:2,value:0===this.state.tradeData.length?t.bidYield:this.state.tradeData.bidYield,className:"text-right",onBlur:function(t){e.onContentChange(t,"bidYield")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"bprice",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:this.state.tradeData.price&&Object(u.jsx)(pp,{name:"lyr-bprice",id:"lyr-bprice",step:1,value:this.state.tradeData.price,className:"text-right",onBlur:function(t){e.onContentChange(t,"price")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_residualAmt",children:"Net :"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8   text-right",id:"residualAmt",children:0===this.state.tradeData.length?t.residualAmt:this.state.tradeData.residualAmt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold removewrap",id:"lbl_accruedInterest",children:"Acc Int :"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8  text-right",id:"accruedInterest",children:0===this.state.tradeData.length?t.accruedInterest:this.state.tradeData.accruedInterest})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:["B"!==this.props.ticketType&&"3"!==sessionStorage.getItem("membercatid")?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"sales-person",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold removewrap",children:"Sales Person:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Dp,{name:"lyr-sales-person",id:"lyr-sales-person",apiCall:il,reqParams:{userType:"3",All:"true"},onchange:function(t){e.onFieldChange(t,"spLoginId")},selected:0===this.state.tradeData.length?"none":this.state.tradeData.spLoginId})})]}):"","B"!==this.props.ticketType&&"3"===sessionStorage.getItem("membercatid")?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"sales-person",className:"form-label col-md-6 col-sm-6 col-xs-6  text-left removewrap",children:"Sales Person:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left removewrap",id:"l_slesperson",children:localStorage.getItem("firstName")+" "+localStorage.getItem("lastName")})]}):"",Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"investor",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold removewrap",children:"Account Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-investor",name:"lyr-investor",value:0===this.state.tradeData.length?t.investor:this.state.tradeData.investor,onBlur:function(t){e.accountChange(t,"investor")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"shortAcct",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold removewrap",children:"Short Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-shortAcct",name:"lyr-shortAcct",value:0===this.state.tradeData.length?t.shortAcct:this.state.tradeData.shortAcct,onBlur:function(t){e.accountChange(t,"shortAcct")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lyr_voiceTrade",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Voice Trade:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(mp,{name:"voiceTrade",id:"voiceTrade",defaultChecked:void 0!==this.state.tradeData.voiceTrade&&"Y"===this.state.tradeData.voiceTrade,onClick:function(t){e.onCheckboxClick(t)}})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"venue",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Venue:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Dp,{name:"lyr-venue",id:"lyr-venue",apiCall:Ii,reqParams:{All:"false"},stateMethod:this.getVenueDefault,onchange:function(t){e.onFieldChange(t,"source")},selected:0===this.state.tradeData.length?t.source:this.state.tradeData.source})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"investerCassii",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"OMS:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-investerCassii",name:"lyr-investerCassii",value:0===this.state.tradeData.length?t.investerCassii:this.state.tradeData.investerCassii,onBlur:function(t){e.accountChange(t,"investerCassii")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"notes",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Notes: "}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-notes",name:"lyr-notes",value:0===this.state.tradeData.length?t.notes:this.state.tradeData.notes,className:"form-control input-sm"})})]}),this.state.showinvestor&&Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"voiceInvestor",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Investor: "}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-voiceInvestor",name:"lyr-voiceInvestor",value:0===this.state.tradeData.length?t.voiceInvestor:this.state.tradeData.voiceInvestor,onChange:function(t){e.onFieldChange(t,"voiceInvestor")},className:"form-control input-sm"})})]})]}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:0===this.state.respMessage.length&&0===this.state.rejectReason.length?Object(u.jsx)("button",{onClick:function(t){e.submitData(e)},className:"btn btn-success btn-xs lyrsubmitfocus",id:"lyr-submit",children:"Submit"}):""}),Object(u.jsx)("div",{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})})]}):"No data"}}]),a}(o.a.Component),Bp=[],Lp=[],_p=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getDefaultVenueValues=function(e,t){s.props.sellData.source=e},s.state={updateFlag:!1,showinvestor:!1,respMessage:"",rejectReason:"",actionTitle:"",actionMessage:"",showError:!0,tradeData:[],holidayData:[],productWeekData:[],warningMsg:""},s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.submitData=s.submitData.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.onCheckboxClick=s.onCheckboxClick.bind(Object(O.a)(s)),s.accountChange=s.accountChange.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.verify=s.verify.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.sellData;t&&(this.setState({respMessage:[],warningMsg:[]}),t.rejectReason="",t.responseMessage="","3"===sessionStorage.getItem("membercatid")&&(t.spLoginId=sessionStorage.getItem("loginid")),w()({method:"POST",url:N.URL+wl,timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&(e.setState({tradeData:t.data}),void 0!==t.data&&void 0!==t.data.rejectReason&&t.data.rejectReason.length>0?e.setState({rejectReason:t.data.rejectReason}):void 0!==t.data&&void 0!==t.data.responseMessage&&t.data.responseMessage.length>0?e.setState({warningMsg:t.data.responseMessage}):(e.setState({respMessage:""}),e.setState({rejectReason:""})))})),w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{currency:this.props.currencyCode,productType:this.props.prodType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){Bp=t.data.holidayDatesInfo,Lp=t.data.productWeekData,e.setState({holidayData:Bp,productWeekData:Lp})})))}},{key:"postData",value:function(e,t){var a=this;this.setState({respMessage:[],warningMsg:[]}),e.rejectReason="",e.responseMessage="","3"===sessionStorage.getItem("membercatid")&&(e.spLoginId=sessionStorage.getItem("loginid")),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(a.setState({tradeData:e.data}),void 0!==e.data&&void 0!==e.data.rejectReason&&e.data.rejectReason.length>0?a.setState({rejectReason:e.data.rejectReason}):void 0!==e.data&&void 0!==e.data.responseMessage&&e.data.responseMessage.length>0?a.setState({respMessage:e.data.responseMessage}):(a.setState({respMessage:""}),a.setState({rejectReason:""})))})),w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{currency:this.props.currencyCode,productType:this.props.prodType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){Bp=e.data.holidayDatesInfo,Lp=e.data.productWeekData,a.setState({holidayData:Bp,productWeekData:Lp})}))}},{key:"onContentChange",value:function(e,t){var a=this.state.tradeData,s=!1;this.setState({respMessage:[],warningMsg:[]}),void 0!==e.target.value&&e.target.value.length<=0?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):"amount"===t?!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):(Uo(e),a[t]=Po(e.target.value),this.postData(a,wl)):"coupon"===t?!1===Bo(e.target.value,"1234567890.")?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):(_o(e),a[t]=Po(e.target.value),this.postData(a,wl)):s||(a[t]=e.target.value,this.postData(a,wl))}},{key:"accountChange",value:function(e,t){var a=this.state.tradeData;this.state.rejectReason&&this.state.rejectReason.length>0?this.postData(a,wl):(a[t]=e.target.value,this.postData(a,cl))}},{key:"onFieldChange",value:function(e,t){this.state.tradeData[t]=e.target.value,this.setState({ck:0})}},{key:"onCheckboxClick",value:function(e){this.state.tradeData.voiceTrade=e.target.value,!0===e.target.checked?this.setState({showinvestor:!0}):this.setState({showinvestor:!1})}},{key:"onDateChange",value:function(e,t){var a=this.state.tradeData;"Invalid Date"!==e&&null!==e&&(a[t]=Yu(e,"MM/DD/YY"),this.postData(a,wl))}},{key:"submitData",value:function(){var e=this.state.tradeData;e.source=void 0!==e.source?e.source:this.props.sellData.source,this.verify(e)&&(e.action="SAVEINV",this.postData(e,ll))}},{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"verify",value:function(e){var t="";return""===e.amount||0===parseFloat(e.amount)?t=wm:""===e.coupon||0===parseFloat(e.coupon)?t=Ym:void 0===e.investor||""===e.investor?t=Am:void 0===e.investerCassii||""===e.investerCassii?t=Mm:void 0!==e.shortAcct&&""!==e.shortAcct||(t=Rm),!t||(this.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1)}},{key:"render",value:function(){var e=this,t=!1,a=this.props.sellData,s=this.state,n=s.holidayData,o=s.productWeekData;return void 0!==a&&"GRIDSALE"===a&&(t=!0),a?Object(u.jsxs)("div",{className:"modal-cls",id:"SellTicket",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",void 0!==this.state.warningMsg&&this.state.warningMsg.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.warningMsg}):"",Object(u.jsxs)("div",{className:"bgc",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_issuerName",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left removewrap",id:"issuerName",children:a.issuerName})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"ticker",children:a.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_currencyCode",children:"CURRENCY:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"currencyCode",children:a.currencyCode})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_cusip",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"cusip",children:a.cusip})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_prodName",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"prodName",children:0===this.state.tradeData.length?a.prodName:this.state.tradeData.prodName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"\xa0"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",children:"\xa0"})]})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Offer"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"amount",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold text-nowrap",children:"Amount ($m) :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-amount",name:"lyr-amount",value:Lo(a.amount),className:"form-control input-sm text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"settle",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Settle :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-settle",name:"lyr-settle",value:a.settlementDate,className:"form-control input-sm text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"coupon",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Rate :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-coupon",name:"lyr-coupon",value:a.coupon,className:"form-control input-sm text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"yield",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Mat :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-yield",name:"lyr-yield",value:a.maturityDate,className:"form-control input-sm text-right",readOnly:!0})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"bamount",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:Object(u.jsx)(pp,{name:"lyr-bamount",id:"lyr-bamount",step:1e3,value:0===this.state.tradeData.length?Lo(a.amount):this.state.tradeData.amount,className:"text-right",onBlur:function(t){e.onContentChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"bsettle",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:(o.length>0||n.length>0)&&Object(u.jsx)(Ju,{label:"lyr-bsettle",id:"lyr-bsettle",dateValue:new Date(0===this.state.tradeData.length?a.settlementDate:this.state.tradeData.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"settlementDate")},currency:this.state.tradeData?this.state.tradeData.currencyCode:a.currencyCode,product:this.state.tradeData?this.state.tradeData.prodId:a.prodId,holidayData:n,productWeekData:o})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"bcoupon",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:(a.coupon||this.state.tradeData.coupon)&&Object(u.jsx)(pp,{name:"lyr-bcoupon",id:"lyr-bcoupon",step:.1,precision:2,value:0===this.state.tradeData.length?a.coupon:this.state.tradeData.coupon,className:"text-right",readOnly:t,onBlur:function(t){e.onContentChange(t,"coupon")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"bmaturityDate",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:(o.length>0||n.length>0)&&Object(u.jsx)(Ju,{label:"lyr-bmaturityDate",id:"lyr-bmaturityDate",dateValue:new Date(0===this.state.tradeData.length?a.maturityDate:this.state.tradeData.maturityDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"maturityDate")},currency:this.state.tradeData?this.state.tradeData.currencyCode:a.currencyCode,product:this.state.tradeData?this.state.tradeData.prodId:a.prodId,holidayData:n,productWeekData:o})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lyr_residualAmt",children:"Net :"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8   text-right",id:"residualAmt",children:0===this.state.tradeData.length?a.residualAmt:this.state.tradeData.residualAmt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lyr_traderAcruedInt",children:"Disc :"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8  text-right",id:"traderAcruedInt",children:0===this.state.tradeData.length?a.traderAcruedInt:this.state.tradeData.traderAcruedInt})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:["B"!==this.props.ticketType&&"3"!==sessionStorage.getItem("membercatid")?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"sales-person",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold removewrap",children:"Sales Person:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Dp,{name:"lyr-sales-person",id:"lyr-sales-person",apiCall:il,reqParams:{userType:"3",All:"true"},onchange:function(t){e.onFieldChange(t,"spLoginId")},selected:0===this.state.tradeData.length?"none":this.state.tradeData.spLoginId})})]}):"","B"!==this.props.ticketType&&"3"===sessionStorage.getItem("membercatid")?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"sales-person",className:"form-label col-md-6 col-sm-6 col-xs-6  text-left removewrap",children:"Sales Person:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left removewrap",id:"l_slesperson",children:localStorage.getItem("firstName")+" "+localStorage.getItem("lastName")})]}):"",Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"investor",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold removewrap",children:"Account Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-investor",name:"lyr-investor",value:0===this.state.tradeData.length?a.investor:this.state.tradeData.investor,onBlur:function(t){e.accountChange(t,"investor")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"shortAcct",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold removewrap",children:"Short Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-shortAcct",name:"lyr-shortAcct",value:0===this.state.tradeData.length?a.shortAcct:this.state.tradeData.shortAcct,onBlur:function(t){e.accountChange(t,"shortAcct")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lyr_voiceTrade",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Voice Trade:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(mp,{name:"voiceTrade",id:"voiceTrade",defaultChecked:void 0!==this.state.tradeData.voiceTrade&&"Y"===this.state.tradeData.voiceTrade,onClick:function(t){e.onCheckboxClick(t)}})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"venue",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Venue:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Dp,{name:"lyr-venue",id:"lyr-venue",apiCall:Ii,reqParams:{All:"false"},stateMethod:this.getDefaultVenueValues,onchange:function(t){e.onFieldChange(t,"source")},selected:0===this.state.tradeData.length?a.source:this.state.tradeData.source})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"investerCassii",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"OMS:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-investerCassii",name:"lyr-investerCassii",value:0===this.state.tradeData.length?a.investerCassii:this.state.tradeData.investerCassii,onBlur:function(t){e.accountChange(t,"investerCassii")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"notes",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Notes: "}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-notes",name:"lyr-notes",value:0===this.state.tradeData.length?a.notes:this.state.tradeData.notes,className:"form-control input-sm"})})]}),this.state.showinvestor&&Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"voiceInvestor",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Investor: "}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-voiceInvestor",name:"lyr-voiceInvestor",value:0===this.state.tradeData.length?a.voiceInvestor:this.state.tradeData.voiceInvestor,onChange:function(t){e.onFieldChange(t,"voiceInvestor")},className:"form-control input-sm"})})]})]}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:0===this.state.respMessage.length&&0===this.state.rejectReason.length?Object(u.jsx)("button",{id:"lyr-submit",onClick:function(t){e.submitData(e)},className:"btn btn-success btn-xs lyrsubmitfocus",children:"Submit"}):""}),Object(u.jsx)("div",{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})})]}):"No data"}}]),a}(o.a.Component),Up=(o.a.Component,a(265)),Vp=a(272),Yp=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(u.jsx)(Vp.a,{placement:this.props.placement?this.props.placement:"right",delay:{show:250,hide:400},overlay:function(t){return Object(u.jsx)(Up.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},t),{},{children:e.props.action?Object(u.jsx)("div",{children:e.props.action}):Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{className:"pr-1",children:"DATE:"}),e.props.mat]})}))},children:this.props.children})}}]),a}(o.a.Component),Hp=Yp,Wp=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={updateFlag:!1,showinvestor:!1,respMessage:"",rejectReason:"",actionTitle:"",actionMessage:"",showError:!0,tradeData:[],holidayData:[],productWeekData:[]},s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.submitData=s.submitData.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.onCheckboxClick=s.onCheckboxClick.bind(Object(O.a)(s)),s.accountChange=s.accountChange.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.verify=s.verify.bind(Object(O.a)(s)),s.getVenueDefault=s.getVenueDefault.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.sellData;t&&(w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:t.productType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})})),this.postData(t,wl))}},{key:"componentDidUpdate",value:function(e){var t=this;if(e!==this.props){var a=this.props.sellData;a&&(w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:a.productType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({holidayData:e.data.holidayDatesInfo,productWeekData:e.data.productWeekData})})),this.postData(a,wl))}}},{key:"postData",value:function(e,t){var a=this;this.setState({respMessage:"",rejectReason:""}),e.transType="85",e.rejectReason="",e.responseMessage="","3"===sessionStorage.getItem("membercatid")&&(e.spLoginId=sessionStorage.getItem("loginid")),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(a.setState({tradeData:e.data}),void 0!==e.data&&void 0!==e.data.rejectReason&&e.data.rejectReason.length>0?a.setState({rejectReason:e.data.rejectReason}):void 0!==e.data&&void 0!==e.data.responseMessage&&e.data.responseMessage.length>0&&a.setState({respMessage:e.data.responseMessage}))}))}},{key:"onContentChange",value:function(e,t){var a=this.state.tradeData,s=!1;a.calFlag="",void 0!==e.target.value&&e.target.value.length<=0?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):"amount"===t?!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t]):(Uo(e),a[t]=Po(e.target.value),this.postData(a,wl)):"bidYield"===t?void 0!==e.target.value||e.target.value<=0?!1===Bo(e.target.value,"1234567890.")?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):a.calFlag="price":(a[t]=Po(e.target.value),this.postData(a,wl)):"price"===t?!1===Bo(e.target.value,"1234567890.")?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):(a.calFlag="yield",a[t]=Po(e.target.value),this.postData(a,wl)):s||(a[t]=e.target.value,this.postData(a,wl))}},{key:"accountChange",value:function(e,t){var a=this.state.tradeData;this.state.rejectReason&&this.state.rejectReason.length>0?this.postData(a,wl):(a[t]=e.target.value,this.postData(a,cl))}},{key:"onFieldChange",value:function(e,t){var a=this.state.tradeData;a[t]=e.target.value,this.setState({tradeData:a})}},{key:"onCheckboxClick",value:function(e){this.state.tradeData.voiceTrade=e.target.value,!0===e.target.checked?this.setState({showinvestor:!0}):this.setState({showinvestor:!1})}},{key:"onDateChange",value:function(e,t){var a=this.state.tradeData;"Invalid Date"!==e&&null!==e&&(a[t]=Yu(e,"MM/DD/YY"),this.postData(a,wl))}},{key:"submitData",value:function(){var e=this.state.tradeData;e.source=void 0!==e.source?e.source:this.props.sellData.source,this.verify(e)&&(e.action="SAVEINV",this.postData(e,ll))}},{key:"getVenueDefault",value:function(e,t){var a=this.state.tradeData;a.source=e,this.setState({tradeData:a})}},{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"verify",value:function(e){var t="";return""===e.amount||0===parseFloat(e.amount)||parseFloat(e.amount)<0?t=wm:""===e.bidYield||0===parseFloat(e.bidYield)?t=$m:""===e.price?t=th:""===e.investor||void 0===e.investor?t=Am:""===e.investerCassii||void 0===e.investerCassii?t=Mm:""!==e.shortAcct&&void 0!==e.shortAcct||(t=Rm),!t||(this.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1)}},{key:"setContent",value:function(){void 0!==this.state.tradeData&&(void 0!==document.getElementById("lyr-bprice")&&null!==document.getElementById("lyr-bprice")&&(document.getElementById("lyr-bprice").value=this.state.tradeData.price),void 0!==document.getElementById("lyr-bbidYield")&&null!==document.getElementById("lyr-bbidYield")&&(document.getElementById("lyr-bbidYield").value=this.state.tradeData.bidYield),void 0!==document.getElementById("lyr-bcoupon")&&null!==document.getElementById("lyr-bcoupon")&&(document.getElementById("lyr-bcoupon").value=this.state.tradeData.coupon))}},{key:"render",value:function(){var e=this,t=this.props.sellData,a=this.state,s=a.holidayData,n=a.productWeekData;return this.setContent(),t?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"mt-3 "+wp.a.s_t_title,children:Object(u.jsx)("strong",{className:"cursor",children:t.issuerName+" - "+t.ticker+" - "+t.currencyCode})}),Object(u.jsx)("div",{className:"modal-cls bgc",id:wp.a.SellTicket,children:Object(u.jsxs)("div",{className:wp.a.alert_box,children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center "+wp.a.alert,children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center "+wp.a.alert,children:this.state.rejectReason}):"",Object(u.jsxs)("div",{className:"bgc",children:[Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lbl_cuisp",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"cuisp",children:t.cusip})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lbl_maturityDate",children:"MAT:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"maturityDate",children:0===this.state.tradeData.length?t.maturityDate:this.state.tradeData.maturityDate})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lbl_datedDate",children:"DATED:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"datedDate",children:0===this.state.tradeData.length?t.datedDate:this.state.tradeData.datedDate})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lbl_settle",children:"DTM:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"settle",children:0===this.state.tradeData.length?t.settle:this.state.tradeData.settle})]})})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Offer"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"amount",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold removewrap",children:" Amount ($m) :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-amount",name:"lyr-amount",value:Lo(t.amount),className:"form-control input-sm text-right",readOnly:!0})},Lo(t.amount))]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"settle",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Settle : "}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-settle",name:"lyr-settle",value:t.settlementDate,className:"form-control input-sm text-right ",readOnly:!0})},t.settlementDate)]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"coupon",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Coupon :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-coupon",name:"lyr-coupon",value:t.coupon,className:"form-control input-sm text-right",readOnly:!0})},t.coupon)]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"yield",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Yield1111 :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-yield",name:"lyr-yield",value:void 0===t.bidYield?t.coupon:t.bidYield,className:"form-control input-sm text-right",readOnly:!0})},void 0===t.bidYield?t.coupon:t.bidYield)]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"price",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Price :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-price",name:"lyr-price",value:void 0===t.price||0===t.price?"100.00000":t.price,className:"form-control input-sm text-right",readOnly:!0})},void 0===t.price||0===t.price?"100.00000":t.price)]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"bamount",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:Object(u.jsx)(pp,{name:"lyr-bamount",id:"lyr-bamount",step:1e3,value:0===this.state.tradeData.length?t.amount>="0"?Lo(t.amount):t.amount:this.state.tradeData.amount,className:"text-right",onBlur:function(t){e.onContentChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"bsettle",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"lyr-bsettle",id:"lyr-bsettle",dateValue:new Date(0===this.state.tradeData.length?t.settlementDate:this.state.tradeData.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"settlementDate")},currency:this.state.tradeData?this.state.tradeData.currencyCode:t.currencyCode,product:this.state.tradeData?this.state.tradeData.prodId:t.prodId,holidayData:s,productWeekData:n})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"bcoupon",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:Object(u.jsx)(Eu,{name:"lyr-bcoupon",id:"lyr-bcoupon",value:0===this.state.tradeData.length?t.coupon:this.state.tradeData.coupon,className:"text-right",readOnly:!0,onBlur:function(t){e.onContentChange(t,"coupon")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"bbidYield",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:(t.bidYield||this.state.tradeData.bidYield)&&Object(u.jsx)(pp,{name:"lyr-bbidYield",id:"lyr-bbidYield",step:.1,precision:2,value:0===this.state.tradeData.length?t.bidYield:this.state.tradeData.bidYield,className:"text-right",onBlur:function(t){e.onContentChange(t,"bidYield")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"bprice",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:this.state.tradeData.price&&Object(u.jsx)(pp,{name:"lyr-bprice",id:"lyr-bprice",step:1,value:this.state.tradeData.price,className:"text-right",onBlur:function(t){e.onContentChange(t,"price")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_residualAmt",children:"Net :"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8   text-right",id:"residualAmt",children:0===this.state.tradeData.length?t.residualAmt:this.state.tradeData.residualAmt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold removewrap",id:"lbl_accruedInterest",children:"Acc Int :"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8  text-right",id:"accruedInterest",children:0===this.state.tradeData.length?t.accruedInterest:this.state.tradeData.accruedInterest})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:["B"!==this.props.ticketType&&"3"!==sessionStorage.getItem("membercatid")?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"sales-person",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold removewrap",children:"Sales Person:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Dp,{name:"lyr-sales-person",id:"lyr-sales-person",apiCall:il,reqParams:{userType:"3",All:"true"},onchange:function(t){e.onFieldChange(t,"spLoginId")},selected:0===this.state.tradeData.length?"none":this.state.tradeData.spLoginId})})]}):"","B"!==this.props.ticketType&&"3"===sessionStorage.getItem("membercatid")?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"sales-person",className:"form-label col-md-6 col-sm-6 col-xs-6  text-left removewrap",children:"Sales Person:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left removewrap",id:"l_slesperson",children:localStorage.getItem("firstName")+" "+localStorage.getItem("lastName")})]}):"",Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"investor",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold removewrap",children:"Account Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-investor",name:"lyr-investor",value:0===this.state.tradeData.length?t.investor:this.state.tradeData.investor,onBlur:function(t){e.accountChange(t,"investor")},className:"form-control input-sm"})},0===this.state.tradeData.length?t.investor:this.state.tradeData.investor)]},this.state.tradeData.investor),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"shortAcct",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold removewrap",children:"Short Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-shortAcct",name:"lyr-shortAcct",value:0===this.state.tradeData.length?t.shortAcct:this.state.tradeData.shortAcct,onBlur:function(t){e.accountChange(t,"shortAcct")},className:"form-control input-sm"})},0===this.state.tradeData.length?t.shortAcct:this.state.tradeData.shortAcct)]},this.state.tradeData.shortAcct),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lyr_voiceTrade",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Voice Trade:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(mp,{name:"voiceTrade",id:"voiceTrade",defaultChecked:void 0!==this.state.tradeData.voiceTrade&&"Y"===this.state.tradeData.voiceTrade,onClick:function(t){e.onCheckboxClick(t)}})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"venue",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Venue:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Dp,{name:"lyr-venue",id:"lyr-venue",apiCall:Ii,reqParams:{All:"false"},stateMethod:this.getVenueDefault,onchange:function(t){e.onFieldChange(t,"source")},selected:0===this.state.tradeData.length?t.source:this.state.tradeData.source})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"investerCassii",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"OMS:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-investerCassii",name:"lyr-investerCassii",value:0===this.state.tradeData.length?t.investerCassii:this.state.tradeData.investerCassii,onBlur:function(t){e.accountChange(t,"investerCassii")},className:"form-control input-sm"})},0===this.state.tradeData.length?t.investerCassii:this.state.tradeData.investerCassii)]},this.state.tradeData.investerCassii),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"notes",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Notes: "}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-notes",name:"lyr-notes",value:0===this.state.tradeData.length?t.notes:this.state.tradeData.notes,className:"form-control input-sm"})})]}),this.state.showinvestor&&Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"voiceInvestor",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Investor: "}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-voiceInvestor",name:"lyr-voiceInvestor",value:0===this.state.tradeData.length?t.voiceInvestor:this.state.tradeData.voiceInvestor,onChange:function(t){e.onFieldChange(t,"voiceInvestor")},className:"form-control input-sm"})})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:[0===this.state.respMessage.length&&0===this.state.rejectReason.length?Object(u.jsx)("button",{onClick:function(t){e.submitData(e)},className:"btn btn-success btn-xs lyrsubmitfocus",id:"lyr-submit",children:"Submit"}):"",Object(u.jsx)("button",{onClick:this.props.onHide,className:"btn btn-success btn-xs lyrsubmitfocus ml-1",id:"lyr-close",children:"Close"})]}),Object(u.jsx)("div",{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})})]})})]}):"No data"}}]),a}(o.a.Component),qp=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,showSecurityModal:!1,showShowModal:!1,showSellModal:!1,showInvSellModal:!1,modalDataRow:"",sellModalDataRow:"",sellInvModalDataRow:"",securityModalDataRow:"",showError:!1,actionMessage:"",actionTitle:"",updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkSecurityComponent=s.linkSecurityComponent.bind(Object(O.a)(s)),s.linkShowComponent=s.linkShowComponent.bind(Object(O.a)(s)),s.linkSellComponent=s.linkSellComponent.bind(Object(O.a)(s)),s.amountLinkSellComponent=s.amountLinkSellComponent.bind(Object(O.a)(s)),s.openSecurityModal=s.openSecurityModal.bind(Object(O.a)(s)),s.openShowModal=s.openShowModal.bind(Object(O.a)(s)),s.openSellModal=s.openSellModal.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s.latestFieldComponent=s.latestFieldComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"openSecurityModal",value:function(e,t){this.setState({securityModalDataRow:e,showSecurityModal:!0,updateData:!1})}},{key:"openShowModal",value:function(e,t){this.setState({modalDataRow:e,showShowModal:!0,updateData:!1})}},{key:"openSellModal",value:function(e,t,a){console.log("Pankaj----block---",a);var s={};if(void 0===this.props.message||""===this.props.message){var n,o,i,l,c;if(s=e,t===ue)s.amount=Po(s.availableToday),s.bidYield=s.dispOfferYield,s.fromPage="INVSALE";else{if(t===Ya||t===yn||t===_a||t===On||t===sn||t===_a||t===gn)null!==(n=s[t])&&(c=n.split(":"));else null!==(n=s.rateMap[t])&&(c=n.split(":")),t+="M";void 0!==c&&c.length>2&&(o=c[0],i=c[1],l=c[2]),s.coupon=o,s.maturityDate=i,s.maturityFlag=l,s.tenorType=t,s.fromPage="GRIDSALE",s.amount=s.offeringlimit}s.refIssueId=s.issueId,s.spLoginId=s.spLoginId,"offerings"===a?this.setState({sellModalDataRow:s,showSellModal:!0,updateData:!1}):"inventory"===a&&this.setState({sellInvModalDataRow:s,showInvSellModal:!0,updateData:!1})}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"hideSecurityModal",value:function(){this.setState({showSecurityModal:!1,updateData:!0})}},{key:"hideShowModal",value:function(){this.setState({showShowModal:!1,updateData:!0})}},{key:"hideSellModal",value:function(e){"offerings"===e?this.setState({showSellModal:!1,updateData:!0}):"inventory"===e&&this.setState({showInvSellModal:!1,updateData:!0})}},{key:"linkSecurityComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:this.openSecurityModal.bind(this,t,e),children:e})}},{key:"linkShowComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:this.openShowModal.bind(this,t,e),children:e})}},{key:"linkSellComponent",value:function(e,t,a,s,n,o,i){var l=this;if(0===e.indexOf(".")&&(e="0"+e),"0"!==e)return Object(u.jsxs)("div",{className:"dispFlex",children:[Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:function(e){l.openSellModal(t,n,"offerings")},children:e}),"Y"===o&&Object(u.jsx)("span",{id:"span"+n+a,children:Object(u.jsx)(Hp,{mat:Yu(i,"M/D"),children:Object(u.jsx)(B.B,{})})})]},a)}},{key:"amountLinkSellComponent",value:function(e,t,a,s,n,o,i){var l=this;return 0===e.indexOf(".")&&(e="0"+e),"0"!==e?Object(u.jsxs)("div",{className:"dispFlex",children:[Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:function(e){l.openSellModal(t,n,"inventory")},children:e}),"Y"===o&&Object(u.jsx)("span",{id:"span"+n+a,children:Object(u.jsx)(Hp,{mat:Yu(i,"M/D"),children:Object(u.jsx)(B.B,{})})})]},a):"0"===e?Object(u.jsxs)("div",{children:[" ",e," "]}):void 0}},{key:"imgComponent",value:function(e,t,a,s){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Exprd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):void 0}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"fieldComponent",value:function(e,t,a,s){var n=s.colId;return"Min Piece (m)"===n||e&&"Offer Lmt (m)"===n?Lo(e):e}},{key:"latestFieldComponent",value:function(e,t,a,s){return"Par (m)"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t={};return t.linkSecurityComponent=this.linkSecurityComponent,t.linkShowComponent=this.linkShowComponent,t.linkSellComponent=this.linkSellComponent,t.amountLinkSellComponent=this.amountLinkSellComponent,t.imgComponent=this.imgComponent,t.fieldComponent=this.fieldComponent,t.latestFieldComponent=this.latestFieldComponent,Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Offerings"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.sellModalDataRow&&this.state.showSellModal&&Object(u.jsx)(W.a,{md:4,className:"pl-0",children:Object(u.jsx)(Wp,{prodType:qh,sellData:this.state.sellModalDataRow,onHide:function(){return e.hideSellModal("offerings")}})}),Object(u.jsx)(W.a,{md:""!==this.state.sellModalDataRow&&this.state.showSellModal?8:"auto",className:"p-0",children:Object(u.jsx)(Yb,{cprops:pb,apiCall:ar,wsUrl:!0,reqParams:{prodType:qh,transType:"10",issueType:"S",socketSource:"HOME"},edit:!1,mappings:qb,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"OFFERINGS",subTitle:"Home ECD ",flagPdf:!0})})]})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",id:"inventory",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Inventory"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.sellInvModalDataRow&&this.state.showInvSellModal&&Object(u.jsx)(W.a,{md:4,className:"pl-0",children:Object(u.jsx)(Wp,{prodType:qh,sellData:this.state.sellInvModalDataRow,onHide:function(){return e.hideSellModal("inventory")}})}),Object(u.jsx)(W.a,{md:""!==this.state.sellInvModalDataRow&&this.state.showInvSellModal?8:"auto",className:"p-0",children:Object(u.jsx)(Yb,{cprops:jb,apiCall:ar,wsUrl:!0,reqParams:{prodType:qh,transType:"10",issueType:"F",socketSource:"HOME"},edit:!1,mappings:Gb,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"INVENTORY",subTitle:"Home ECD ",flagPdf:!0})})]})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Latest Trades"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.modalDataRow&&this.state.showShowModal&&Object(u.jsx)(W.a,{md:4,className:"pl-0",children:Object(u.jsx)(yp,{prodType:qh,reqParams:this.state.modalDataRow,close:function(){return e.hideShowModal()},apiCall:tl})}),Object(u.jsx)(W.a,{md:""!==this.state.modalDataRow&&this.state.showShowModal?8:12,className:"p-0",children:Object(u.jsx)(Yb,{cprops:xb,apiCall:ar,wsUrl:!0,reqParams:{prodType:qh,transType:"85",issueType:"T",socketSource:"HOME"},edit:!1,mappings:Kb,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"LATEST_TRADES",subTitle:"Home ECD ",flagPdf:!0})})]})}),Object(u.jsx)(rp,{size:"lg",show:this.state.showSecurityModal,onHide:function(){return e.hideSecurityModal()},modalHead:"Security",prodType:qh,modalDataRow:this.state.securityModalDataRow,message:this.props.message}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.props.message,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})]})]})}}]),a}(o.a.Component),zp=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,showSecurityModal:!1,showShowModal:!1,showSellModal:!1,modalDataRow:"",sellModalDataRow:"",securityModalDataRow:"",showError:!1,actionMessage:"",actionTitle:"",updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkSecurityComponent=s.linkSecurityComponent.bind(Object(O.a)(s)),s.linkShowComponent=s.linkShowComponent.bind(Object(O.a)(s)),s.linkSellComponent=s.linkSellComponent.bind(Object(O.a)(s)),s.amountLinkSellComponent=s.amountLinkSellComponent.bind(Object(O.a)(s)),s.openSecurityModal=s.openSecurityModal.bind(Object(O.a)(s)),s.openShowModal=s.openShowModal.bind(Object(O.a)(s)),s.openSellModal=s.openSellModal.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"openSecurityModal",value:function(e,t){this.setState({securityModalDataRow:e,showSecurityModal:!0,updateData:!1})}},{key:"openShowModal",value:function(e,t){this.setState({modalDataRow:e,showShowModal:!0,updateData:!1})}},{key:"openSellModal",value:function(e,t){void 0===this.props.message||""===this.props.message?(e.amount=Po(e.availableToday),e.bidYield=e.dispOfferYield,e.fromPage="INVSALE",e.refIssueId=e.issueId,this.setState({sellModalDataRow:e,showSellModal:!0,updateData:!1})):this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"hideSecurityModal",value:function(){this.setState({showSecurityModal:!1,updateData:!0})}},{key:"hideShowModal",value:function(){this.setState({showShowModal:!1,updateData:!0})}},{key:"hideSellModal",value:function(){this.setState({showSellModal:!1,updateData:!0})}},{key:"linkSecurityComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:this.openSecurityModal.bind(this,t,e),children:e})}},{key:"linkShowComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:this.openShowModal.bind(this,t,e),children:e})}},{key:"linkSellComponent",value:function(e,t,a,s,n){if("0"!==e)return Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:this.openSellModal.bind(this,t,e),children:e})}},{key:"amountLinkSellComponent",value:function(e,t,a,s,n){if("0"!==e)return Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:this.openSellModal.bind(this,t,e),children:e})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Exprd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):void 0}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"fieldComponent",value:function(e,t,a,s){return"$m"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t={};return t.linkSecurityComponent=this.linkSecurityComponent,t.linkShowComponent=this.linkShowComponent,t.linkSellComponent=this.linkSellComponent,t.amountLinkSellComponent=this.amountLinkSellComponent,t.imgComponent=this.imgComponent,t.fieldComponent=this.fieldComponent,Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Offerings"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:vb,apiCall:ar,wsUrl:!0,reqParams:{prodType:Gh,transType:"10",issueType:"S",socketSource:"HOME"},edit:!1,mappings:Jb,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"OFFERINGS",subTitle:"Home FRCD ",flagPdf:!0})})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",id:"inventory",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Inventory"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.sellModalDataRow&&this.state.showSellModal&&Object(u.jsx)(W.a,{md:4,className:"pl-0",children:Object(u.jsx)(Wp,{prodType:Gh,sellData:this.state.sellModalDataRow,onHide:function(){return e.hideSellModal()}})}),Object(u.jsx)(W.a,{md:""!==this.state.sellModalDataRow&&this.state.showSellModal?8:"auto",className:"p-0",children:Object(u.jsx)(Yb,{cprops:yb,apiCall:ar,wsUrl:!0,reqParams:{prodType:Gh,transType:"10",issueType:"F",socketSource:"HOME"},edit:!1,mappings:Gb,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"INVENTORY",subTitle:"Home FRCD ",flagPdf:!0})})]})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Latest Trades"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.modalDataRow&&this.state.showShowModal&&Object(u.jsx)(W.a,{md:4,className:"pl-0",children:Object(u.jsx)(yp,{prodType:Gh,reqParams:this.state.modalDataRow,close:function(){return e.hideShowModal()},apiCall:tl})}),Object(u.jsx)(W.a,{md:""!==this.state.modalDataRow&&this.state.showShowModal?8:"auto",className:"p-0",children:Object(u.jsx)(Yb,{cprops:kb,apiCall:ar,wsUrl:!0,reqParams:{prodType:Gh,transType:"85",issueType:"T",socketSource:"HOME"},edit:!1,mappings:Zb,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"LATEST_TRADES",subTitle:"Home FRCD ",flagPdf:!0})})]})}),Object(u.jsx)(rp,{size:"lg",show:this.state.showSecurityModal,onHide:function(){return e.hideSecurityModal()},modalHead:"Security",prodType:Gh,modalDataRow:this.state.securityModalDataRow,message:this.props.message}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.props.message,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})]})]})}}]),a}(o.a.Component),Gp=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,showSecurityModal:!1,showShowModal:!1,showSellModal:!1,showInvSellModal:!1,modalDataRow:"",sellModalDataRow:"",sellInvModalDataRow:"",showError:!1,actionMessage:"",actionTitle:"",updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkSecurityComponent=s.linkSecurityComponent.bind(Object(O.a)(s)),s.linkShowComponent=s.linkShowComponent.bind(Object(O.a)(s)),s.linkSellComponent=s.linkSellComponent.bind(Object(O.a)(s)),s.amountLinkSellComponent=s.amountLinkSellComponent.bind(Object(O.a)(s)),s.openSecurityModal=s.openSecurityModal.bind(Object(O.a)(s)),s.openShowModal=s.openShowModal.bind(Object(O.a)(s)),s.openSellModal=s.openSellModal.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.amountComponent=s.amountComponent.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"openSecurityModal",value:function(e,t){this.setState({modalDataRow:e,showSecurityModal:!0,updateData:!1})}},{key:"openShowModal",value:function(e,t){this.setState({modalDataRow:e,showShowModal:!0,updateData:!1})}},{key:"openSellModal",value:function(e,t,a){if(void 0===this.props.message||""===this.props.message){var s,n,o,i,l;if(t===ue)e.amount=Po(e.availableToday),e.bidYield=e.dispOfferYield,e.fromPage="INVSALE";else{if(t===Ya)null!==(s=e[t])&&(l=s.split(":"));else null!==(s=e.rateMap[t])&&(l=s.split(":")),t+="M";void 0!==l&&l.length>2&&(n=l[0],o=l[1],i=l[2]),e.coupon=n,e.maturityDate=o,e.maturityFlag=i,e.tenorType=t,e.fromPage="GRIDSALE",e.amount=e.offeringlimit}e.refIssueId=e.issueId,"offerings"===a?this.setState({sellModalDataRow:e,showSellModal:!0,updateData:!1}):"inventory"===a&&this.setState({sellInvModalDataRow:e,showInvSellModal:!0,updateData:!1})}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"hideSecurityModal",value:function(){this.setState({showSecurityModal:!1,updateData:!0})}},{key:"hideShowModal",value:function(){this.setState({showShowModal:!1,updateData:!0})}},{key:"hideSellModal",value:function(e){"offerings"===e?this.setState({showSellModal:!1,updateData:!0}):"inventory"===e&&this.setState({showInvSellModal:!1,updateData:!0})}},{key:"linkSecurityComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:this.openSecurityModal.bind(this,t,e),children:e})}},{key:"linkShowComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:this.openShowModal.bind(this,t,e),children:e})}},{key:"linkSellComponent",value:function(e,t,a,s,n,o,i){var l=this;if("0"!==e)return Object(u.jsxs)("div",{className:"dispFlex",children:[Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:function(e){l.openSellModal(t,n,"offerings")},children:e}),"Y"===o&&Object(u.jsx)("span",{id:"span"+n+a,children:Object(u.jsx)(Hp,{mat:Yu(i,"M/D"),children:Object(u.jsx)(B.B,{})})})]},a)}},{key:"amountLinkSellComponent",value:function(e,t,a,s,n,o,i){var l=this;return"0"===e?Object(u.jsxs)("div",{children:[" ",e," "]}):"0"!==e?Object(u.jsxs)("div",{className:"dispFlex",children:[Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:function(e){l.openSellModal(t,n,"inventory")},children:e}),"Y"===o&&Object(u.jsx)("span",{id:"span"+n+a,children:Object(u.jsx)(Hp,{mat:Yu(i,"M/D"),children:Object(u.jsx)(B.B,{})})})]},a):void 0}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Exprd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):void 0}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"amountComponent",value:function(e,t,a,s){return Lo(e)}},{key:"fieldComponent",value:function(e,t,a,s){var n=s.colId;return"Min Piece (m)"===n||e&&"Offer Lmt (m)"===n?Lo(e):e}},{key:"render",value:function(){var e=this,t={};return t.linkSecurityComponent=this.linkSecurityComponent,t.linkShowComponent=this.linkShowComponent,t.linkSellComponent=this.linkSellComponent,t.amountLinkSellComponent=this.amountLinkSellComponent,t.imgComponent=this.imgComponent,t.amountComponent=this.amountComponent,t.fieldComponent=this.fieldComponent,Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Offerings"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.sellModalDataRow&&this.state.showSellModal&&Object(u.jsx)(W.a,{md:4,className:"pl-0",children:Object(u.jsx)(Wp,{prodType:zh,sellData:this.state.sellModalDataRow,onHide:function(){return e.hideSellModal("offerings")}})}),Object(u.jsx)(W.a,{md:""!==this.state.sellModalDataRow&&this.state.showSellModal?8:"auto",className:"p-0",children:Object(u.jsx)(Yb,{cprops:Sb,apiCall:ar,wsUrl:!0,reqParams:{prodType:zh,transType:"10",issueType:"S",socketSource:"HOME"},edit:!1,mappings:Qb,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"OFFERINGS",subTitle:"Home YCD ",flagPdf:!0})})]})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",id:"inventory",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Inventory"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.sellInvModalDataRow&&this.state.showInvSellModal&&Object(u.jsx)(W.a,{md:4,className:"pl-0",children:Object(u.jsx)(Wp,{prodType:zh,sellData:this.state.sellInvModalDataRow,onHide:function(){return e.hideSellModal("inventory")}})}),Object(u.jsx)(W.a,{md:""!==this.state.sellInvModalDataRow&&this.state.showInvSellModal?8:"auto",className:"p-0",children:Object(u.jsx)(Yb,{cprops:wb,apiCall:ar,wsUrl:!0,reqParams:{prodType:zh,transType:"10",issueType:"F",socketSource:"HOME"},edit:!1,mappings:Xb,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"INVENTORY",subTitle:"Home YCD ",flagPdf:!0})})]})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Latest Trades"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.modalDataRow&&this.state.showShowModal&&Object(u.jsx)(W.a,{md:4,className:"pl-0",children:Object(u.jsx)(yp,{close:function(){return e.hideShowModal()},prodType:zh,reqParams:this.state.modalDataRow,apiCall:tl})}),Object(u.jsx)(W.a,{md:""!==this.state.modalDataRow&&this.state.showShowModal?8:"auto",className:"p-0",children:Object(u.jsx)(Yb,{cprops:Tb,apiCall:ar,wsUrl:!0,reqParams:{prodType:zh,transType:"85",issueType:"T",socketSource:"HOME"},edit:!1,mappings:$b,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"LATEST_TRADES",subTitle:"Home YCD ",flagPdf:!0})})]})}),Object(u.jsx)(rp,{size:"lg",show:this.state.showSecurityModal,onHide:function(){return e.hideSecurityModal()},modalHead:"Security",prodType:zh,modalDataRow:this.state.modalDataRow,message:this.props.message}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.props.message,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})]})]})}}]),a}(o.a.Component),Kp=[],Zp=[],Jp=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getDefaultVenueValues=function(e,t){s.props.sellData.source=e},s.state={updateFlag:!1,showinvestor:!1,respMessage:"",rejectReason:"",actionTitle:"",actionMessage:"",showError:!0,tradeData:[],holidayData:[],productWeekData:[],warningMsg:""},s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.submitData=s.submitData.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.onCheckboxClick=s.onCheckboxClick.bind(Object(O.a)(s)),s.accountChange=s.accountChange.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.verify=s.verify.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.sellData;t&&(this.setState({respMessage:[],warningMsg:[]}),t.rejectReason="",t.responseMessage="","3"===sessionStorage.getItem("membercatid")&&(t.spLoginId=sessionStorage.getItem("loginid")),w()({method:"POST",url:N.URL+wl,timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&(e.setState({tradeData:t.data}),void 0!==t.data&&void 0!==t.data.rejectReason&&t.data.rejectReason.length>0?e.setState({rejectReason:t.data.rejectReason}):void 0!==t.data&&void 0!==t.data.responseMessage&&t.data.responseMessage.length>0?e.setState({warningMsg:t.data.responseMessage}):(e.setState({respMessage:""}),e.setState({rejectReason:""})))})),w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{currency:this.props.currencyCode,productType:this.props.prodType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){Kp=t.data.holidayDatesInfo,Zp=t.data.productWeekData,e.setState({holidayData:Kp,productWeekData:Zp})})))}},{key:"componentDidUpdate",value:function(e){var t=this;if(e!==this.props){var a=this.props.sellData;a&&(this.setState({respMessage:[],warningMsg:[]}),a.rejectReason="",a.responseMessage="","3"===sessionStorage.getItem("membercatid")&&(a.spLoginId=sessionStorage.getItem("loginid")),w()({method:"POST",url:N.URL+wl,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(t.setState({tradeData:e.data}),void 0!==e.data&&void 0!==e.data.rejectReason&&e.data.rejectReason.length>0?t.setState({rejectReason:e.data.rejectReason}):void 0!==e.data&&void 0!==e.data.responseMessage&&e.data.responseMessage.length>0?t.setState({warningMsg:e.data.responseMessage}):(t.setState({respMessage:""}),t.setState({rejectReason:""})))})),w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{currency:this.props.currencyCode,productType:this.props.prodType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){Kp=e.data.holidayDatesInfo,Zp=e.data.productWeekData,t.setState({holidayData:Kp,productWeekData:Zp})})))}}},{key:"postData",value:function(e,t){var a=this;this.setState({respMessage:[],warningMsg:[]}),e.rejectReason="",e.responseMessage="","3"===sessionStorage.getItem("membercatid")&&(e.spLoginId=sessionStorage.getItem("loginid")),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(a.setState({tradeData:e.data}),void 0!==e.data&&void 0!==e.data.rejectReason&&e.data.rejectReason.length>0?a.setState({rejectReason:e.data.rejectReason}):void 0!==e.data&&void 0!==e.data.responseMessage&&e.data.responseMessage.length>0?a.setState({respMessage:e.data.responseMessage}):(a.setState({respMessage:""}),a.setState({rejectReason:""})))})),w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{currency:this.props.currencyCode,productType:this.props.prodType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){Kp=e.data.holidayDatesInfo,Zp=e.data.productWeekData,a.setState({holidayData:Kp,productWeekData:Zp})}))}},{key:"onContentChange",value:function(e,t){var a=this.state.tradeData,s=!1;this.setState({respMessage:[],warningMsg:[]}),void 0!==e.target.value&&e.target.value.length<=0?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):"amount"===t?!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):(Uo(e),a[t]=Po(e.target.value),this.postData(a,wl)):"coupon"===t?!1===Bo(e.target.value,"1234567890.")?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):(_o(e),a[t]=Po(e.target.value),this.postData(a,wl)):s||(a[t]=e.target.value,this.postData(a,wl))}},{key:"accountChange",value:function(e,t){var a=this.state.tradeData;this.state.rejectReason&&this.state.rejectReason.length>0?this.postData(a,wl):(a[t]=e.target.value,this.postData(a,cl))}},{key:"onFieldChange",value:function(e,t){this.state.tradeData[t]=e.target.value,this.setState({ck:0})}},{key:"onCheckboxClick",value:function(e){this.state.tradeData.voiceTrade=e.target.value,!0===e.target.checked?this.setState({showinvestor:!0}):this.setState({showinvestor:!1})}},{key:"onDateChange",value:function(e,t){var a=this.state.tradeData;"Invalid Date"!==e&&null!==e&&(a[t]=Yu(e,"MM/DD/YY"),this.postData(a,wl))}},{key:"submitData",value:function(){var e=this.state.tradeData;e.source=void 0!==e.source?e.source:this.props.sellData.source,this.verify(e)&&(e.action="SAVEINV",this.postData(e,ll))}},{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"verify",value:function(e){var t="";return""===e.amount||0===parseFloat(e.amount)?t=wm:""===e.coupon||0===parseFloat(e.coupon)?t=Ym:void 0===e.investor||""===e.investor?t=Am:void 0===e.investerCassii||""===e.investerCassii?t=Mm:void 0!==e.shortAcct&&""!==e.shortAcct||(t=Rm),!t||(this.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1)}},{key:"render",value:function(){var e=this,t=!1,a=this.props.sellData,s=this.state,n=s.holidayData,o=s.productWeekData;return void 0!==a&&"GRIDSALE"===a&&(t=!0),a?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"mt-3 "+wp.a.s_t_title,children:Object(u.jsx)("strong",{className:"cursor",children:a.issuerName+" - "+a.ticker+" - "+a.currencyCode})}),Object(u.jsx)("div",{className:"modal-cls bgc",id:wp.a.SellTicket,children:Object(u.jsxs)("div",{className:wp.a.alert_box,children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center "+wp.a.alert,children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center "+wp.a.alert,children:this.state.rejectReason}):"",void 0!==this.state.warningMsg&&this.state.warningMsg.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center "+wp.a.alert,children:this.state.warningMsg}):"",Object(u.jsx)("div",{className:"bgc",children:Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_cusip",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"cusip",children:a.cusip})]})})}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Offer"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"amount",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold text-nowrap",children:"Amount ($m) :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-amount",name:"lyr-amount",value:Lo(a.amount),className:"form-control input-sm text-right",readOnly:!0})},a.amount)]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"settle",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Settle :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-settle",name:"lyr-settle",value:a.settlementDate,className:"form-control input-sm text-right",readOnly:!0})},a.settlementDate)]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"coupon",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Rate :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-coupon",name:"lyr-coupon",value:a.coupon,className:"form-control input-sm text-right",readOnly:!0})},a.coupon)]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"yield",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Mat :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-yield",name:"lyr-yield",value:a.maturityDate,className:"form-control input-sm text-right",readOnly:!0})},a.maturityDate)]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"bamount",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:Object(u.jsx)(pp,{name:"lyr-bamount",id:"lyr-bamount",step:1e3,value:0===this.state.tradeData.length?Lo(a.amount):this.state.tradeData.amount,className:"text-right",onBlur:function(t){e.onContentChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"bsettle",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:(o.length>0||n.length>0)&&Object(u.jsx)(Ju,{label:"lyr-bsettle",id:"lyr-bsettle",dateValue:new Date(0===this.state.tradeData.length?a.settlementDate:this.state.tradeData.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"settlementDate")},currency:this.state.tradeData?this.state.tradeData.currencyCode:a.currencyCode,product:this.state.tradeData?this.state.tradeData.prodId:a.prodId,holidayData:n,productWeekData:o})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"bcoupon",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:(a.coupon||this.state.tradeData.coupon)&&Object(u.jsx)(pp,{name:"lyr-bcoupon",id:"lyr-bcoupon",step:.1,precision:2,value:0===this.state.tradeData.length?a.coupon:this.state.tradeData.coupon,className:"text-right",readOnly:t,onBlur:function(t){e.onContentChange(t,"coupon")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"bmaturityDate",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:(o.length>0||n.length>0)&&Object(u.jsx)(Ju,{label:"lyr-bmaturityDate",id:"lyr-bmaturityDate",dateValue:new Date(0===this.state.tradeData.length?a.maturityDate:this.state.tradeData.maturityDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"maturityDate")},currency:this.state.tradeData?this.state.tradeData.currencyCode:a.currencyCode,product:this.state.tradeData?this.state.tradeData.prodId:a.prodId,holidayData:n,productWeekData:o})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lyr_residualAmt",children:"Net :"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8   text-right",id:"residualAmt",children:0===this.state.tradeData.length?a.residualAmt:this.state.tradeData.residualAmt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lyr_traderAcruedInt",children:"Disc :"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8  text-right",id:"traderAcruedInt",children:0===this.state.tradeData.length?a.traderAcruedInt:this.state.tradeData.traderAcruedInt})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:["B"!==this.props.ticketType&&"3"!==sessionStorage.getItem("membercatid")?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"sales-person",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold removewrap",children:"Sales Person:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Dp,{name:"lyr-sales-person",id:"lyr-sales-person",apiCall:il,reqParams:{userType:"3",All:"true"},onchange:function(t){e.onFieldChange(t,"spLoginId")},selected:0===this.state.tradeData.length?"none":this.state.tradeData.spLoginId})})]}):"","B"!==this.props.ticketType&&"3"===sessionStorage.getItem("membercatid")?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"sales-person",className:"form-label col-md-6 col-sm-6 col-xs-6  text-left removewrap",children:"Sales Person:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left removewrap",id:"l_slesperson",children:localStorage.getItem("firstName")+" "+localStorage.getItem("lastName")})]}):"",Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"investor",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold removewrap",children:"Account Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-investor",name:"lyr-investor",value:0===this.state.tradeData.length?a.investor:this.state.tradeData.investor,onBlur:function(t){e.accountChange(t,"investor")},className:"form-control input-sm"})},0===this.state.tradeData.length?a.investor:this.state.tradeData.investor)]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"shortAcct",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold removewrap",children:"Short Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-shortAcct",name:"lyr-shortAcct",value:0===this.state.tradeData.length?a.shortAcct:this.state.tradeData.shortAcct,onBlur:function(t){e.accountChange(t,"shortAcct")},className:"form-control input-sm"})},0===this.state.tradeData.length?a.shortAcct:this.state.tradeData.shortAcct)]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lyr_voiceTrade",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Voice Trade:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(mp,{name:"voiceTrade",id:"voiceTrade",defaultChecked:void 0!==this.state.tradeData.voiceTrade&&"Y"===this.state.tradeData.voiceTrade,onClick:function(t){e.onCheckboxClick(t)}})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"venue",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Venue:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Dp,{name:"lyr-venue",id:"lyr-venue",apiCall:Ii,reqParams:{All:"false"},stateMethod:this.getDefaultVenueValues,onchange:function(t){e.onFieldChange(t,"source")},selected:0===this.state.tradeData.length?a.source:this.state.tradeData.source})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"investerCassii",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"OMS:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-investerCassii",name:"lyr-investerCassii",value:0===this.state.tradeData.length?a.investerCassii:this.state.tradeData.investerCassii,onBlur:function(t){e.accountChange(t,"investerCassii")},className:"form-control input-sm"})},0===this.state.tradeData.length?a.investerCassii:this.state.tradeData.investerCassii)]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"notes",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Notes: "}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-notes",name:"lyr-notes",value:0===this.state.tradeData.length?a.notes:this.state.tradeData.notes,className:"form-control input-sm"})})]}),this.state.showinvestor&&Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"voiceInvestor",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Investor: "}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-voiceInvestor",name:"lyr-voiceInvestor",value:0===this.state.tradeData.length?a.voiceInvestor:this.state.tradeData.voiceInvestor,onChange:function(t){e.onFieldChange(t,"voiceInvestor")},className:"form-control input-sm"})})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:[0===this.state.respMessage.length&&0===this.state.rejectReason.length?Object(u.jsx)("button",{id:"lyr-submit",onClick:function(t){e.submitData(e)},className:"btn btn-success btn-xs lyrsubmitfocus",children:"Submit"}):"",Object(u.jsx)("button",{onClick:this.props.onHide,className:"btn btn-success btn-xs lyrsubmitfocus ml-1",id:"lyr-close",children:"Close"})]}),Object(u.jsx)("div",{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})})]})})]}):"No data"}}]),a}(o.a.Component),Qp=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,showSecurityModal:!1,showShowModal:!1,showSellModal:!1,showInvSellModal:!1,modalDataRow:"",sellModalDataRow:"",sellInvModalDataRow:"",showError:!1,actionMessage:"",actionTitle:"",updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkSecurityComponent=s.linkSecurityComponent.bind(Object(O.a)(s)),s.linkShowComponent=s.linkShowComponent.bind(Object(O.a)(s)),s.linkSellComponent=s.linkSellComponent.bind(Object(O.a)(s)),s.amountLinkSellComponent=s.amountLinkSellComponent.bind(Object(O.a)(s)),s.openSecurityModal=s.openSecurityModal.bind(Object(O.a)(s)),s.openShowModal=s.openShowModal.bind(Object(O.a)(s)),s.openSellModal=s.openSellModal.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s.latestFieldComponent=s.latestFieldComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"openSecurityModal",value:function(e,t){this.setState({SecurityModalDataRow:e,showSecurityModal:!0,updateData:!1})}},{key:"openShowModal",value:function(e,t){this.setState({modalDataRow:e,showShowModal:!0,updateData:!1})}},{key:"openSellModal",value:function(e,t,a){if(void 0===this.props.message||""===this.props.message){var s,n,o,i,l;if(t===ue)e.amount=Po(e.availableToday),e.coupon=e.dispOfferYield,e.bidYield=e.dispOfferYield,e.fromPage="INVSALE";else{if(t===Ya||t===yn||t===_a||t===On||t===sn||t===_a||t===gn)null!==(s=e[t])&&(l=s.split(":"));else null!==(s=e.rateMap[t])&&(l=s.split(":")),t+="M";void 0!==l&&l.length>2&&(n=l[0],o=l[1],i=l[2]),e.coupon=n,e.maturityDate=o,e.maturityFlag=i,e.tenorType=t,e.fromPage="GRIDSALE",e.amount=e.offeringlimit}e.refIssueId=e.issueId,"offerings"===a?this.setState({sellModalDataRow:e,showSellModal:!0,updateData:!1}):"inventory"===a&&this.setState({sellInvModalDataRow:e,showInvSellModal:!0,updateData:!1})}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"hideSecurityModal",value:function(){this.setState({showSecurityModal:!1,updateData:!0})}},{key:"hideShowModal",value:function(){this.setState({showShowModal:!1,updateData:!0})}},{key:"hideSellModal",value:function(e){"offerings"===e?this.setState({showSellModal:!1,updateData:!0}):"inventory"===e&&this.setState({showInvSellModal:!1,updateData:!0})}},{key:"linkSecurityComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:this.openSecurityModal.bind(this,t,e),children:e})}},{key:"linkShowComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:this.openShowModal.bind(this,t,e),children:e})}},{key:"linkSellComponent",value:function(e,t,a,s,n,o,i){var l=this;if("0"!==e)return Object(u.jsxs)("div",{className:"dispFlex",children:[Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:function(e){l.openSellModal(t,n,"offerings")},children:Lo(e)}),"Y"===o&&Object(u.jsx)("span",{id:"span"+n+a,children:Object(u.jsx)(Hp,{mat:Yu(i,"M/D"),children:Object(u.jsx)(B.B,{})})})]})}},{key:"amountLinkSellComponent",value:function(e,t,a,s,n,o,i){var l=this;return"0"===e?Object(u.jsxs)("div",{children:[" ",e," "]}):"0"!==e?Object(u.jsxs)("div",{className:"dispFlex",children:[Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:function(e){l.openSellModal(t,n,"inventory")},children:Lo(e)}),"Y"===o&&Object(u.jsx)("span",{id:"span"+n+a,children:Object(u.jsx)(Hp,{mat:Yu(i,"M/D"),children:Object(u.jsx)(B.B,{})})})]}):void 0}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Exprd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):void 0}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"fieldComponent",value:function(e,t,a,s){var n=s.colId;return"Min Piece (m)"===n||e&&"Offer Lmt (m)"===n?Lo(e):e}},{key:"latestFieldComponent",value:function(e,t,a,s){return"Par (m)"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t={};return t.linkSecurityComponent=this.linkSecurityComponent,t.linkShowComponent=this.linkShowComponent,t.linkSellComponent=this.linkSellComponent,t.amountLinkSellComponent=this.amountLinkSellComponent,t.imgComponent=this.imgComponent,t.fieldComponent=this.fieldComponent,t.latestFieldComponent=this.latestFieldComponent,Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Offerings"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.sellModalDataRow&&this.state.showSellModal&&Object(u.jsx)(W.a,{md:4,className:"pl-0",children:Object(u.jsx)(Jp,{onHide:function(){return e.hideSellModal("offerings")},prodType:Zh,sellData:this.state.sellModalDataRow})}),Object(u.jsx)(W.a,{md:""!==this.state.sellModalDataRow&&this.state.showSellModal?8:"auto",className:"p-0",children:Object(u.jsx)(Yb,{cprops:fb,apiCall:ar,wsUrl:!0,reqParams:{prodType:Zh,transType:"10",issueType:"S",socketSource:"HOME"},edit:!1,mappings:zb,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"OFFERINGS",subTitle:"Home ECP ",flagPdf:!0})})]})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",id:"inventory",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Inventory"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.sellInvModalDataRow&&this.state.showInvSellModal&&Object(u.jsx)(W.a,{md:4,className:"pl-0",children:Object(u.jsx)(Jp,{onHide:function(){return e.hideSellModal("inventory")},prodType:Zh,sellData:this.state.sellInvModalDataRow})}),Object(u.jsx)(W.a,{md:""!==this.state.sellInvModalDataRow&&this.state.showInvSellModal?8:"auto",className:"p-0",children:Object(u.jsx)(Yb,{cprops:gb,apiCall:ar,wsUrl:!0,reqParams:{prodType:Zh,transType:"10",issueType:"F",socketSource:"HOME"},edit:!1,mappings:Gb,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"INVENTORY",subTitle:"Home ECP ",flagPdf:!0})})]})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Latest Trades"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.modalDataRow&&this.state.showShowModal&&Object(u.jsx)(W.a,{md:4,className:"pl-0",children:Object(u.jsx)(yp,{prodType:Zh,reqParams:this.state.modalDataRow,close:function(){return e.hideShowModal()},apiCall:tl})}),Object(u.jsx)(W.a,{md:""!==this.state.modalDataRow&&this.state.showShowModal?8:"auto",className:"p-0",children:Object(u.jsx)(Yb,{cprops:Ob,apiCall:ar,wsUrl:!0,reqParams:{prodType:Zh,transType:"85",issueType:"T",socketSource:"HOME"},edit:!1,mappings:Kb,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"LATEST_TRADES",subTitle:"Home ECP ",flagPdf:!0})})]})}),Object(u.jsx)(rp,{size:"lg",show:this.state.showSecurityModal,onHide:function(){return e.hideSecurityModal()},modalHead:"Security",prodType:Zh,modalDataRow:this.state.SecurityModalDataRow,message:this.props.message}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.props.message,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})]})]})}}]),a}(o.a.Component),Xp=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,showSecurityModal:!1,showShowModal:!1,showSellModal:!1,modalDataRow:"",sellModalDataRow:"",securityModalDataRow:"",showError:!1,actionMessage:"",actionTitle:"",updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkSecurityComponent=s.linkSecurityComponent.bind(Object(O.a)(s)),s.linkShowComponent=s.linkShowComponent.bind(Object(O.a)(s)),s.linkSellComponent=s.linkSellComponent.bind(Object(O.a)(s)),s.amountLinkSellComponent=s.amountLinkSellComponent.bind(Object(O.a)(s)),s.openSecurityModal=s.openSecurityModal.bind(Object(O.a)(s)),s.openShowModal=s.openShowModal.bind(Object(O.a)(s)),s.openSellModal=s.openSellModal.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"openSecurityModal",value:function(e,t){this.setState({securityModalDataRow:e,showSecurityModal:!0,updateData:!1})}},{key:"openShowModal",value:function(e,t){this.setState({modalDataRow:e,showShowModal:!0,updateData:!1})}},{key:"openSellModal",value:function(e,t){void 0===this.props.message||""===this.props.message?(e.amount=Po(e.availableToday),e.bidYield=e.dispOfferYield,e.fromPage="INVSALE",e.refIssueId=e.issueId,this.setState({sellModalDataRow:e,showSellModal:!0,updateData:!1})):this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"hideSecurityModal",value:function(){this.setState({showSecurityModal:!1,updateData:!0})}},{key:"hideShowModal",value:function(){this.setState({showShowModal:!1,updateData:!0})}},{key:"hideSellModal",value:function(){this.setState({showSellModal:!1,updateData:!0})}},{key:"linkSecurityComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:this.openSecurityModal.bind(this,t,e),children:e})}},{key:"linkShowComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:this.openShowModal.bind(this,t,e),children:e})}},{key:"linkSellComponent",value:function(e,t,a,s,n){if("0"!==e)return Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:this.openSellModal.bind(this,t,e),children:e})}},{key:"amountLinkSellComponent",value:function(e,t,a,s,n){if("0"!==e)return Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:this.openSellModal.bind(this,t,e),children:e})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Exprd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):void 0}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"fieldComponent",value:function(e,t,a,s){return"$m"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t={};return t.linkSecurityComponent=this.linkSecurityComponent,t.linkShowComponent=this.linkShowComponent,t.linkSellComponent=this.linkSellComponent,t.imgComponent=this.imgComponent,t.fieldComponent=this.fieldComponent,t.amountLinkSellComponent=this.amountLinkSellComponent,Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Offerings"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:Db,apiCall:ar,wsUrl:!0,reqParams:{prodType:Kh,transType:"10",issueType:"S",socketSource:"HOME"},edit:!1,mappings:Jb,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"OFFERINGS",subTitle:"Home FRCP ",flagPdf:!0})})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",id:"inventory",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Inventory"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.sellModalDataRow&&this.state.showSellModal&&Object(u.jsx)(W.a,{md:4,className:"pl-0",children:Object(u.jsx)(Wp,{prodType:Kh,sellData:this.state.sellModalDataRow,onHide:function(){return e.hideSellModal()}})}),Object(u.jsx)(W.a,{md:""!==this.state.sellModalDataRow&&this.state.showSellModal?8:"auto",className:"p-0",children:Object(u.jsx)(Yb,{cprops:Cb,apiCall:ar,wsUrl:!0,reqParams:{prodType:Kh,transType:"10",issueType:"F",socketSource:"HOME"},edit:!1,mappings:Gb,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"INVENTORY",subTitle:"Home FRCP ",flagPdf:!0})})]})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Latest Trades"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.modalDataRow&&this.state.showShowModal&&Object(u.jsx)(W.a,{md:4,className:"pl-0",children:Object(u.jsx)(yp,{prodType:Kh,reqParams:this.state.modalDataRow,close:function(){return e.hideShowModal()},apiCall:tl})}),Object(u.jsx)(W.a,{md:""!==this.state.modalDataRow&&this.state.showShowModal?8:"auto",className:"p-0",children:Object(u.jsx)(Yb,{cprops:Nb,apiCall:ar,wsUrl:!0,reqParams:{prodType:Kh,transType:"85",issueType:"T",socketSource:"HOME"},edit:!1,mappings:Zb,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"LATEST_TRADES",subTitle:"Home FRCP ",flagPdf:!0})})]})}),Object(u.jsx)(rp,{size:"lg",show:this.state.showSecurityModal,onHide:function(){return e.hideSecurityModal()},modalHead:"Security",prodType:Kh,modalDataRow:this.state.securityModalDataRow,message:this.props.message}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.props.message,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})]})]})}}]),a}(o.a.Component),$p=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,showSecurityModal:!1,showShowModal:!1,showSellModal:!1,modalDataRow:"",sellModalDataRow:"",sellData:"",showError:!1,actionMessage:"",actionTitle:"",updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkSecurityComponent=s.linkSecurityComponent.bind(Object(O.a)(s)),s.linkShowComponent=s.linkShowComponent.bind(Object(O.a)(s)),s.linkSellComponent=s.linkSellComponent.bind(Object(O.a)(s)),s.openSecurityModal=s.openSecurityModal.bind(Object(O.a)(s)),s.openShowModal=s.openShowModal.bind(Object(O.a)(s)),s.openSellModal=s.openSellModal.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s.returnResponse=s.returnResponse.bind(Object(O.a)(s)),s.amountComponent=s.amountComponent.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"openSecurityModal",value:function(e,t){this.setState({modalDataRow:e,showSecurityModal:!0,updateData:!1})}},{key:"openShowModal",value:function(e,t){this.setState({modalDataRow:e,showShowModal:!0,updateData:!1})}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"openSellModal",value:function(e,t){if(void 0===this.props.message||""===this.props.message){var a=e;a.rate=e.offer,a.spLoginId="none",this.setState({sellModalDataRow:a,showSellModal:!0,updateData:!1})}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"hideSecurityModal",value:function(){this.setState({showSecurityModal:!1,updateData:!0})}},{key:"hideShowModal",value:function(){this.setState({showShowModal:!1,updateData:!0})}},{key:"hideSellModal",value:function(){this.setState({showSellModal:!1,updateData:!0})}},{key:"linkSecurityComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:this.openSecurityModal.bind(this,t,e),children:e})}},{key:"linkShowComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:this.openShowModal.bind(this,t,e),children:e})}},{key:"linkSellComponent",value:function(e,t,a,s,n){return t.settleDate=t.settlementDate,t.amount=t.offeringlimit,Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:this.openSellModal.bind(this,t,e),children:e})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Exprd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):void 0}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"fieldComponent",value:function(e,t,a,s){var n=s.colId;return"0000"===t.refIssueId||"Issuer"===n||"SD"===n||"Mat"===n||"Offer Rate"===n?"Offer Quant($m)"===n?Lo(e):e:void 0}},{key:"amountComponent",value:function(e,t,a,s){return Lo(e)}},{key:"returnResponse",value:function(e){this.setState({responseMessage:e.responseMessage,showSellModal:!1})}},{key:"render",value:function(){var e=this,t={};return t.linkSecurityComponent=this.linkSecurityComponent,t.linkShowComponent=this.linkShowComponent,t.linkSellComponent=this.linkSellComponent,t.imgComponent=this.imgComponent,t.fieldComponent=this.fieldComponent,t.amountComponent=this.amountComponent,Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Offerings"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.sellModalDataRow&&this.state.showSellModal&&Object(u.jsx)(W.a,{md:4,className:"pl-0",children:Object(u.jsx)(Ep,{data:this.state.sellModalDataRow,returnMethod:this.returnResponse,ticketType:"S",prodType:Wh,onHide:function(){return e.hideSellModal()}})}),Object(u.jsx)(W.a,{md:""!==this.state.sellModalDataRow&&this.state.showSellModal?8:"auto",className:"p-0",children:Object(u.jsx)(Yb,{cprops:ub,apiCall:ar,wsUrl:!0,reqParams:{prodType:Wh,transType:"10",issueType:"O",socketSource:"HOME"},edit:!1,mappings:Hb,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"CP_OFFERINGS",subTitle:"Home MCP ",flagPdf:!0})})]})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Latest Trades"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.modalDataRow&&this.state.showShowModal&&Object(u.jsx)(W.a,{md:4,className:"pl-0",children:Object(u.jsx)(yp,{close:function(){return e.hideShowModal()},prodType:Wh,reqParams:this.state.modalDataRow,apiCall:tl})}),Object(u.jsx)(W.a,{md:""!==this.state.modalDataRow&&this.state.showShowModal?8:"auto",className:"p-0",children:Object(u.jsx)(Yb,{cprops:bb,apiCall:ar,wsUrl:!0,reqParams:{prodType:Wh,transType:"85",issueType:"T",socketSource:"HOME"},edit:!1,mappings:Wb,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"LATEST_TRADES",subTitle:"Home MCP ",flagPdf:!0})})]})}),Object(u.jsx)(rp,{size:"lg",show:this.state.showSecurityModal,onHide:function(){return e.hideSecurityModal()},modalHead:"Security",prodType:Wh,modalDataRow:this.state.modalDataRow,message:this.props.message}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.props.message,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})]})]})}}]),a}(o.a.Component),ej="",tj=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getDefaultVenueValues=function(e,t){s.props.data.source=e},s.onContentChange=function(e,t){var a=!1;if("voiceTrade"===t)np[t]=e.target.checked?"Y":"N";else if("amount"===t)s.clearState(),!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?(a=!0,s.setState({actionTitle:"Conversion",actionMessage:wm,showError:!0}),e.target.value=np[t],e.target.focus()):(Uo(e),np[t]=e.target.value,s.onValueChange(e,t));else if("settlementDate"===t){s.clearState();var n=new Date(Yu(e,"YYYY-MM-DD")),o=new Date(Yu(np.maturityDate,"YYYY-MM-DD"));np[t]=Yu(e,"MM/DD/YY"),Yu(np.settlementDate,"YYYY-MM-DD")>Yu(e,"YYYY-MM-DD")?(a=!0,s.setState({rejectReason:nu})):n>=o?(a=!0,s.setState({rejectReason:Ch})):"Invalid Date"!==e&&null!==e&&(np[t]=Yu(e,"YYYY-MM-DD"),s.onValueChange(e,t))}else"maturityDate"===t?(s.clearState(),"Invalid Date"!==e&&null!==e&&(np[t]=Yu(e,"YYYY-MM-DD"),s.onValueChange(e,t))):"rate"===t?(s.clearState(),_o(e),np[t]=e.target.value,s.onValueChange(e,t)):(np[t]=e.target.value,s.setState({ck:0}),a=!0);!1===a&&s.postData(np,ej)},s.clearState=function(){ej="",s.setState({respMessage:"",rejectReason:"",infoMsg:""})},s.state={resultFlag:!1,respMessage:"",rejectReason:"",tradeData:"",infoMsg:"",holidayData:[],productWeekData:[]},s.submitData=s.submitData.bind(Object(O.a)(s)),s.onValueChange=s.onValueChange.bind(Object(O.a)(s)),s.accountChange=s.accountChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.clearState(),np.action="AJAXBUY",np.settlementDate=Yu(np.settleDate,"MM/DD/YY"),np.maturityDate=Yu(np.maturityDate,"MM/DD/YY"),"B"!==this.props.ticketType?np.transType="85":np.transType="10",np.cusip=np.cusip,np.programId=np.issuerId,np.amount=Po(Lo(np.amount));var t=N.URL+zc;w()({method:"POST",url:t,timeout:N.apiTimeOut,data:[np],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&(t.data.rejectReason&&e.setState({rejectReason:t.data.rejectReason}),t.data.responseMessage?e.setState({infoMsg:t.data.responseMessage}):(e.setState({tradeData:t.data}),e.setState({updateFlag:!0})))})),w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:this.props.prodType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(e!==this.props){this.clearState(),np.action="AJAXBUY",np.settlementDate=Yu(np.settleDate,"MM/DD/YY"),np.maturityDate=Yu(np.maturityDate,"MM/DD/YY"),"B"!==this.props.ticketType?np.transType="85":np.transType="10",np.cusip=np.cusip,np.programId=np.issuerId,np.amount=Po(Lo(np.amount));var s=N.URL+zc;w()({method:"POST",url:s,timeout:N.apiTimeOut,data:[np],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.rejectReason&&a.setState({rejectReason:e.data.rejectReason}),e.data.responseMessage?a.setState({infoMsg:e.data.responseMessage}):(a.setState({tradeData:e.data}),a.setState({updateFlag:!0})))})),w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:this.props.prodType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({holidayData:e.data.holidayDatesInfo,productWeekData:e.data.productWeekData})}))}}},{key:"accountChange",value:function(e,t){var a=this;if(this.setState({rejectReason:"",infoMsg:""}),this.state.rejectReason&&this.state.rejectReason.length>0){if(np.action="AJAXBUY","settlementDate"!==t?np.settlementDate||(np.settlementDate=Yu(np.settleDate,"MM/DD/YY")):np.settlementDate=Yu(np.settlementDate,"MM/DD/YY"),np.maturityDate=Yu(np.maturityDate,"MM/DD/YY"),"B"!==this.props.ticketType?np.transType="85":np.transType="10",np.cusip=this.state.tradeData.cusip,"amount"===t?np.amount=Po(e.target.value):"rate"===t&&(np.rate=Po(e.target.value)),"Invalid date"!==np.settlementDate&&"Invalid date"!==np.maturityDate){var s=N.URL+zc;w()({method:"POST",url:s,timeout:N.apiTimeOut,data:[np],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(a.setState({tradeData:e.data}),"B"===a.props.ticketType&&(np.accountName=a.state.tradeData.accountName,np.shortAcct=a.state.tradeData.shortAcct,np.investerCassii=a.state.tradeData.investerCassii),null!==a.state.tradeData&&null!==a.state.tradeData.responseMessage&&""!==a.state.tradeData.responseMessage&&a.setState({infoMsg:a.state.tradeData.responseMessage}),null!==a.state.tradeData&&null!==a.state.tradeData.rejectReason&&""!==a.state.tradeData.rejectReason&&a.setState({rejectReason:a.state.tradeData.rejectReason}),a.setState({updateFlag:!0}))}))}}else{var n={};"cassii"===t?n.investerCassii=e.target.value:"acctName"===t?n.investor=e.target.value:"shortAcct"===t&&(n.shortAcct=e.target.value),w()({method:"POST",url:N.URL+cl,timeout:N.apiTimeOut,data:n,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.rejectReason?(np.accountName="",np.shortAcct="",np.investerCassii="",np.accountNbr="",a.setState({rejectReason:e.data.rejectReason})):(np.accountName=e.data.investor,np.shortAcct=e.data.shortAcct,np.investerCassii=e.data.investerCassii,np.accountNbr=e.data.accountNbr),a.setState({updateFlag:!0}))}))}}},{key:"onValueChange",value:function(e,t){var a=this;if(this.clearState(),np.action="AJAXBUY","settlementDate"!==t?np.settlementDate||(np.settlementDate=Yu(np.settleDate,"MM/DD/YY")):np.settlementDate=Yu(np.settlementDate,"MM/DD/YY"),np.maturityDate=Yu(np.maturityDate,"MM/DD/YY"),"B"!==this.props.ticketType?np.transType="85":np.transType="10",np.cusip=this.state.tradeData.cusip,"amount"===t?np.amount=Po(e.target.value):"rate"===t&&(np.rate=Po(e.target.value)),"Invalid date"!==np.settlementDate&&"Invalid date"!==np.maturityDate){var s=N.URL+zc;w()({method:"POST",url:s,timeout:N.apiTimeOut,data:[np],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(a.setState({tradeData:e.data}),"B"===a.props.ticketType&&(np.accountName=a.state.tradeData.accountName,np.shortAcct=a.state.tradeData.shortAcct,np.investerCassii=a.state.tradeData.investerCassii),null!==a.state.tradeData&&null!==a.state.tradeData.responseMessage&&""!==a.state.tradeData.responseMessage&&a.setState({infoMsg:a.state.tradeData.responseMessage}),null!==a.state.tradeData&&null!==a.state.tradeData.rejectReason&&""!==a.state.tradeData.rejectReason&&a.setState({rejectReason:a.state.tradeData.rejectReason}),a.setState({updateFlag:!0}))}))}}},{key:"submitData",value:function(){var e=!0,t="";"B"===this.props.ticketType?(ej="/saveADNBuyTrade",Wu(np.maturityDate,np.settlementDate)<=0&&(t="MATGRSET",e=!1)):"S"===this.props.ticketType?(ej="/saveADNSellTrade","3"===sessionStorage.getItem("membercatid")&&(np.spLoginId=sessionStorage.getItem("loginid")),Wu(np.maturityDate,np.settlementDate)<=0&&(t="MATGRSET",e=!1),!np.investerCassii&&e&&(e=!1,t="CASSII")):"C"===this.props.ticketType&&(ej="/adnClientInquiry"),"B"===this.props.ticketType&&(np.investerCassii=this.state.tradeData.investerCassii,np.cassii=this.state.tradeData.cassii),e?this.postData(np):"CASSII"===t?this.setState({rejectReason:Mm}):"MATGRSET"===t&&this.setState({rejectReason:jm})}},{key:"postData",value:function(e){var t=this;e.rejectReason="",e.responseMessage="",""!==ej&&w()({method:"POST",url:N.URL+ej,timeout:N.apiTimeOut,data:[e],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.rejectReason?t.setState({rejectReason:e.data.rejectReason}):(t.props.returnMethod(e.data),t.setState({updateFlag:!0})))}))}},{key:"render",value:function(){var e=this,t=this.props.data,a=this.state,s=a.respMessage,n=a.rejectReason,o=a.tradeData,i=a.infoMsg,l=a.holidayData,c=a.productWeekData;return np=t,void 0===this.state.tradeData&&this.setState({tradeData:t}),np&&(np.maturityDate=Yu(np.maturityDate,"MM/DD/YY")),np?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"mt-3 "+wp.a.s_t_title,children:Object(u.jsx)("strong",{className:"cursor",children:np.issuerName+" - "+np.ticker+" - "+np.currencyCode})}),Object(u.jsx)("div",{className:"modal-cls bgc",id:wp.a.SellTicket,children:Object(u.jsxs)("div",{className:wp.a.alert_box,children:[void 0!==s&&s.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center "+wp.a.alert,children:s}):"",void 0!==n&&n.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center "+wp.a.alert,children:n}):"",void 0!==i&&i.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center "+wp.a.alert,children:i}):"",Object(u.jsx)("div",{className:"bgc",children:Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left font-weight-bold",id:"lbl_cuisp",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8 text-left",id:"cuisp",children:np.cusip})]})})}),"B"!==this.props.ticketType?Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Offer"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"amount",className:"form-label col-md-5 col-sm-5 col-xs-5  text-left",children:"$m:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7 text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{name:"lyr-amount",id:"lyr-amount",value:Lo(np.amount),className:"text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"settle",className:"form-label col-md-5 col-sm-5 col-xs-5  text-left",children:"Settle:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-settle",name:"lyr-settle",value:np.settlementDate,className:"form-control input-sm text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"rate",className:"form-label col-md-5 col-sm-5 col-xs-5  text-left",children:"Rate:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{name:"lyr-rate",id:"lyr-rate",value:np.rate,className:"text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"yield",className:"form-label col-md-5 col-sm-5 col-xs-5  text-left",children:"Mat:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-yield",name:"lyr-yield",value:np.maturityDate,className:"form-control input-sm text-right",readOnly:!0})})]})]}):"",Object(u.jsxs)("div",{className:"B"!==this.props.ticketType?"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0":"col-md-12 col-sm-12 col-xs-12 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_amount",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"B"===this.props.ticketType?"$m:":""}),Object(u.jsx)("div",{className:"B"!==this.props.ticketType?"col-md-8 col-sm-8 col-xs-8  text-left":"col-md-4 col-sm-4 col-xs-4  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(pp,{name:"lyr-amunt",id:"lyr-amunt",step:1e3,value:Lo(np.amount),className:"text-right",onBlur:function(t){e.onContentChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_settleDate",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"B"===this.props.ticketType?"$Settle:":""}),Object(u.jsx)("div",{className:"B"!==this.props.ticketType?"col-md-8 col-sm-8 col-xs-8  text-left":"col-md-4 col-sm-4 col-xs-4  text-left",id:"lyr-buy-offer",children:(c.length>0||l.length>0)&&Object(u.jsx)(Ju,{label:"settleDate",dateValue:np.settlementDate?new Date(Yu(np.settlementDate,"MM/DD/YY")):"",onchange:function(t){e.onContentChange(t,"settlementDate")},fromDateFlg:!1,toDateFlg:!1,currency:"USD",product:this.state.tradeData?this.state.tradeData.prodId:np.prodId,holidayData:l,productWeekData:c})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"rate",className:"form-label col-md-4 col-sm-4 col-xs-4  text-right",children:"B"===this.props.ticketType?"$Rate:":""}),Object(u.jsx)("div",{className:"B"!==this.props.ticketType?"col-md-8 col-sm-8 col-xs-8  text-left":"col-md-4 col-sm-4 col-xs-4  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(pp,{name:"lyr-rate",id:"lyr-rate",step:.1,precision:2,value:np.rate,className:"text-right",onBlur:function(t){e.onContentChange(t,"rate")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"yield",className:"form-label col-md-4 col-sm-4 col-xs-4  text-right",children:"B"===this.props.ticketType?"$Mat:":""}),Object(u.jsx)("div",{className:"B"!==this.props.ticketType?"col-md-8 col-sm-8 col-xs-8  text-left":"col-md-4 col-sm-4 col-xs-4  text-left",id:"lyr-buy-offer",children:"B"===this.props.ticketType?Object(u.jsx)(Eu,{id:"lyr-yield",name:"lyr-yield",value:np.maturityDate,className:"form-control input-sm",disabled:!0}):(c.length>0||l.length>0)&&Object(u.jsx)(Ju,{label:"maturityDate",dateValue:np.maturityDate?new Date(Yu(np.maturityDate,"YYYY-MM-DD HH:MM:SS")):"",onchange:function(t){e.onContentChange(t,"maturityDate")},fromDateFlg:!1,toDateFlg:!1,currency:"USD",product:this.state.tradeData?this.state.tradeData.prodId:np.prodId,holidayData:l,productWeekData:c})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lyr_netAmt",className:"B"===this.props.ticketType?"form-label col-md-4 col-sm-4 col-xs-4  text-right font-weight-bold":"form-label col-md-5 col-sm-5 col-xs-5  text-left font-weight-bold",children:"Net $:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)("label",{className:"form-label text-left",id:"netAmt",children:o.netAmt})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lyr_disc",className:"B"===this.props.ticketType?"form-label col-md-4 col-sm-4 col-xs-4  text-right font-weight-bold":"form-label col-md-5 col-sm-5 col-xs-5  text-left font-weight-bold",children:"Disc:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)("label",{className:"form-label text-left",id:"disc",children:o.interestAmount?Lo(o.interestAmount):""})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:["B"!==this.props.ticketType&&"3"!==sessionStorage.getItem("membercatid")?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"sales-person",className:"form-label col-md-6 col-sm-6 col-xs-6  text-left removewrap",children:"Sales Person:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-acctname",children:Object(u.jsx)(Dp,{name:"lyr-sales-person",id:"lyr-sales-person",apiCall:il,reqParams:{userType:"3",All:"true"},onchange:function(t){e.onContentChange(t,"spLoginId")},selected:np.spLoginId})})]}):"","B"!==this.props.ticketType&&"3"===sessionStorage.getItem("membercatid")?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"sales-person",className:"form-label col-md-6 col-sm-6 col-xs-6  text-left removewrap",children:"Sales Person:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left removewrap",id:"l_slesperson",children:localStorage.getItem("firstName")+" "+localStorage.getItem("lastName")})]}):"",Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"acctname",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left removewrap",children:"Account Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",id:"lyr-acctname",children:"B"===this.props.ticketType?Object(u.jsx)(Eu,{name:"lyr-acctname",id:"lyr-acctname",value:o.accountName,className:"text-left",disabled:!0}):Object(u.jsx)(Eu,{name:"lyr-acctname",id:"lyr-acctname",value:np.accountName,className:"text-left",onBlur:function(t){e.accountChange(t,"acctName")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"shortname",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left removewrap",children:"Short  Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-shortname",children:"B"===this.props.ticketType?Object(u.jsx)(Eu,{name:"lyr-shortname",id:"lyr-shortname",value:o.shortAcct,className:"text-left",disabled:!0}):Object(u.jsx)(Eu,{name:"lyr-shortname",id:"lyr-shortname",value:np.shortAcct,className:"text-left",onBlur:function(t){e.accountChange(t,"shortAcct")}})})]}),"B"!==this.props.ticketType?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"voice-trade",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:"Voice Trade:"}),Object(u.jsx)("div",{className:"col-md-6 text-left",children:Object(u.jsx)(mp,{id:"lyr-voice-trade",className:"input-sm",value:"",onClick:function(t){e.onContentChange(t,"voiceTrade")}})})]}):""]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:["B"!==this.props.ticketType?Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"venues",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left removewrap",children:"Venue:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-acctname",children:Object(u.jsx)(Dp,{name:"lyr-venues",id:"lyr-venues",apiCall:Ii,reqParams:{All:"false"},onchange:function(t){e.onContentChange(t,"source")},stateMethod:this.getDefaultVenueValues,selected:np.source})})]}):"",Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"cassii",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",children:"OMS:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",id:"lyr-cassii",children:"B"===this.props.ticketType?Object(u.jsx)(Eu,{name:"lyr-cassii",id:"lyr-cassii",value:o.investerCassii,className:"text-left",disabled:!0}):"C"===this.props.ticketType?Object(u.jsx)(Eu,{name:"lyr-cassii",id:"lyr-cassii",value:"C"===this.props.ticketType?"":np.investerCassii,className:"text-left",onBlur:function(t){e.accountChange(t,"cassii")}}):Object(u.jsx)(Eu,{name:"lyr-cassii",id:"lyr-cassii",value:np.investerCassii,className:"text-left",onBlur:function(t){e.accountChange(t,"cassii")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_note",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",children:"Notes:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-notes",children:Object(u.jsx)(Eu,{name:"lyr-note",id:"lyr-note",value:"",className:"text-left",onChange:function(t){e.onContentChange(t,"notes")}})})]})]}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:Object(u.jsxs)("span",{children:[void 0===n||0===n.length?Object(u.jsx)("button",{id:"lyr-submit",onClick:this.submitData,className:"btn btn-success btn-xs lyrsubmitfocus",children:"Submit"}):"",Object(u.jsx)("button",{onClick:this.props.onHide,className:"btn btn-success btn-xs lyrsubmitfocus ml-1",id:"lyr-close",children:"Close"})]})})]})})]}):"No Data"}}]),a}(o.a.Component),aj=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleSelect=function(e){s.setState({heading:e})},s.state={heading:"launchbuy"},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.show,a=e.onHide,s=e.size,n=e.modalHead;return"B"!==this.props.ticketType?Object(u.jsxs)(P.a,{show:t,onHide:a,size:s,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:n})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsx)(tj,{data:this.props.modalData,returnMethod:this.props.returnMethod,ticketType:this.props.ticketType,prodType:this.props.prodType})})]}):Object(u.jsxs)(P.a,{show:t,onHide:a,dialogClassName:"modal buy-modal",size:s,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:n})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsx)(tj,{data:this.props.modalData,returnMethod:this.props.returnMethod,ticketType:this.props.ticketType,prodType:this.props.prodType})})]})}}]),a}(o.a.Component),sj=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,showSecurityModal:!1,showShowModal:!1,showSellModal:!1,modalDataRow:"",sellModalDataRow:"",sellData:"",showError:!1,actionMessage:"",actionTitle:"",updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkSecurityComponent=s.linkSecurityComponent.bind(Object(O.a)(s)),s.linkShowComponent=s.linkShowComponent.bind(Object(O.a)(s)),s.linkSellComponent=s.linkSellComponent.bind(Object(O.a)(s)),s.openSecurityModal=s.openSecurityModal.bind(Object(O.a)(s)),s.openShowModal=s.openShowModal.bind(Object(O.a)(s)),s.openSellModal=s.openSellModal.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s.returnResponse=s.returnResponse.bind(Object(O.a)(s)),s.amountComponent=s.amountComponent.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"openSecurityModal",value:function(e,t){this.setState({modalDataRow:e,showSecurityModal:!0,updateData:!1})}},{key:"openShowModal",value:function(e,t){this.setState({modalDataRow:e,showShowModal:!0,updateData:!1})}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"openSellModal",value:function(e,t){if(void 0===this.props.message||""===this.props.message){var a=e;a.rate=e.offer,this.setState({sellModalDataRow:a,showSellModal:!0,updateData:!1})}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"hideSecurityModal",value:function(){this.setState({showSecurityModal:!1,updateData:!0})}},{key:"hideShowModal",value:function(){this.setState({showShowModal:!1,updateData:!0})}},{key:"hideSellModal",value:function(){this.setState({showSellModal:!1,updateData:!0})}},{key:"linkSecurityComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:this.openSecurityModal.bind(this,t,e),children:e})}},{key:"linkShowComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:this.openShowModal.bind(this,t,e),children:e})}},{key:"linkSellComponent",value:function(e,t,a,s,n){if("0000"===t.refIssueId)return t.settleDate=t.settlementDate,t.amount=t.offeringlimit,Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:this.openSellModal.bind(this,t,e),children:e})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Exprd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):void 0}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"fieldComponent",value:function(e,t,a,s){var n=s.colId;return"0000"===t.refIssueId||"Issuer"===n||"SD"===n||"Mat"===n||"Offer Rate"===n?"Offer Quant($m)"===n?Lo(e):e:void 0}},{key:"amountComponent",value:function(e,t,a,s){return Lo(e)}},{key:"returnResponse",value:function(e){this.setState({responseMessage:e.responseMessage,showSellModal:!1,updateData:!0})}},{key:"render",value:function(){var e=this,t={};return t.linkSecurityComponent=this.linkSecurityComponent,t.linkShowComponent=this.linkShowComponent,t.linkSellComponent=this.linkSellComponent,t.imgComponent=this.imgComponent,t.fieldComponent=this.fieldComponent,t.amountComponent=this.amountComponent,Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Offerings"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.sellModalDataRow&&this.state.showSellModal&&Object(u.jsx)(W.a,{md:4,className:"pl-0",children:Object(u.jsx)(tj,{data:this.state.sellModalDataRow,returnMethod:this.returnResponse,ticketType:"S",prodType:Jh,onHide:function(){return e.hideSellModal()}})}),Object(u.jsx)(W.a,{md:""!==this.state.sellModalDataRow&&this.state.showSellModal?8:"auto",className:"p-0",children:Object(u.jsx)(Yb,{cprops:ub,apiCall:ar,wsUrl:!0,reqParams:{prodType:Jh,transType:"10",issueType:"O",socketSource:"HOME"},edit:!1,mappings:Hb,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"CP_OFFERINGS",subTitle:"Home ADN ",flagPdf:!0})})]})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Latest Trades"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.modalDataRow&&this.state.showShowModal&&Object(u.jsx)(W.a,{md:4,className:"pl-0",children:Object(u.jsx)(yp,{close:function(){return e.hideShowModal()},prodType:Jh,reqParams:this.state.modalDataRow,apiCall:tl})}),Object(u.jsx)(W.a,{md:""!==this.state.modalDataRow&&this.state.showShowModal?8:"auto",className:"p-0",children:Object(u.jsx)(Yb,{cprops:bb,apiCall:ar,wsUrl:!0,reqParams:{prodType:Jh,transType:"85",issueType:"T",socketSource:"HOME"},edit:!1,mappings:Wb,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"LATEST_TRADES",subTitle:"Home ADN ",flagPdf:!0})})]})}),Object(u.jsx)(rp,{size:"lg",show:this.state.showSecurityModal,onHide:function(){return e.hideSecurityModal()},modalHead:"Security",prodType:Jh,modalDataRow:this.state.modalDataRow,message:this.props.message}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.props.message,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})]})]})}}]),a}(o.a.Component),nj=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleDateChange=function(e){s.setState(Object(g.a)({},e.target.name,e.target.value)),s.props.onchange(e.target.value)},s.state={fromdate:"",todate:"",dateValue:""},s.handleDateChange=s.handleDateChange.bind(),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({fromdate:this.props.fromDate,todate:this.props.toDate,dateValue:this.props.dateValue})}},{key:"componentDidUpdate",value:function(e,t){e!==this.props&&this.setState({fromdate:this.props.fromDate,todate:this.props.toDate,dateValue:this.props.dateValue})}},{key:"render",value:function(){return!0===this.props.fromDateFlg?Object(u.jsx)(k.a.Control,{type:"date",id:this.props.label,name:this.props.label,value:this.state.fromdate,onChange:this.handleDateChange}):!0===this.props.toDateFlg?Object(u.jsx)(k.a.Control,{type:"date",id:this.props.label,name:this.props.label,value:this.state.todate,onChange:this.handleDateChange}):Object(u.jsx)(k.a.Control,{type:"date",id:this.props.label,name:this.props.label,defaultValue:this.state.dateValue,onChange:this.handleDateChange})}}]),a}(o.a.Component),oj=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).onContentChange=function(e,t){s.setState({selectedVal:e.target.value}),op[t]=e.target.value,s.postData(op)},s.onDateChange=function(e,t){op[t]=Yu(e,"MM/DD/YY"),s.postData(op,t)},s.postData=function(e){e.buyPrevPrice=s.state.data.buyPrice,e.sellPrePrice=s.state.data.sellPrice,e.buyPreYield=s.state.data.buyYield,e.sellPreYield=s.state.data.sellYield;var t=e;w()({method:"POST",url:N.URL+Dl,timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e=[],s.setState({data:t.data}),ip=s.state.data,e=s.state.data}))},s.onCDContentChange=function(e,t){s.setState({selectedVal:e.target.value}),ip[t]=e.target.value,s.postCDData(ip)},s.onCDDateChange=function(e,t){ip[t]=Yu(e,"MM/DD/YY"),s.postCDData(ip,t)},s.postCDData=function(e){e.buyPrevPrice=s.state.data.buyPrice,e.sellPrePrice=s.state.data.sellPrice,e.buyPreYield=s.state.data.buyYield,e.sellPreYield=s.state.data.sellYield;var t=e;w()({method:"POST",url:N.URL+Dl,timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){op=[],s.setState({data:t.data}),e=s.state.data,op=s.state.data}))},s.state={data:"",selectedVal:""},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;w()({method:"POST",url:N.URL+Dl,timeout:N.apiTimeOut,data:{},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){op=t.data,e.setState({data:t.data})}))}},{key:"render",value:function(){var e=this,t=this.state.data;return Object(u.jsxs)("div",{className:"modal-cls",id:"DiscountCalculator",children:[Object(u.jsxs)("div",{className:"bgc",children:[Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"lbl_product",children:"Product:"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8 text-left",children:Object(u.jsx)(Dp,{name:"productType",apiCall:"/getDisCalProductTypes",reqParams:{},onchange:function(t){e.onContentChange(t,"productType")},id:"productType"})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_dayscount",children:"Days Count:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"val_dayscount",children:"360"})]})})]}),"2300"!==t.productType?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"col-md-8 col-sm-8 col-xs-8 d-inline-block align-top brwh p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Issuance Discount"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_settledate",children:"Settle Date :"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(nj,{label:"issSettleDate",id:"issSettleDate",dateValue:Yu(Vu(t.issSettleDate),"YYYY-MM-DD"),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"issSettleDate")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_matdate",children:"Maturity Date :"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(nj,{label:"issMaturityDate",id:"issMaturityDate",dateValue:Yu(Vu(t.issMaturityDate),"YYYY-MM-DD"),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"issMaturityDate")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_daysofmat",children:"Days of Maturity :"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-right",id:"val_daysofmat",children:t.issDaysToMaturity})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_discprice",children:"Discount Price :"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{name:"issDiscountPrice",id:"issDiscountPrice",value:t.issDiscountPrice,className:"text-right",onBlur:function(t){e.onContentChange(t,"issDiscountPrice")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_dollerpx",children:"Doller Px :"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-right",id:"val_dollerpx",children:t.issDollerPx})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_size",children:"Size :"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{name:"issSize",id:"issSize",value:t.issSize,className:"text-right",onBlur:function(t){e.onContentChange(t,"issSize")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_proceeds",children:"Proceeds :"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-right",id:"val_proceeds",children:Lo(t.issProceeds)})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_discount",children:"Discount :"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-right",id:"val_discount",children:t.issDiscount})]})]}),Object(u.jsxs)("div",{className:"col-md-4 col-sm-4 col-xs-4 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Sell Discount"}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("div",{className:"col-md-11 col-sm-11 col-xs-11  text-left",children:Object(u.jsx)(nj,{label:"sellSettleDate",id:"sellSettleDate",dateValue:Yu(Vu(t.sellSettleDate),"YYYY-MM-DD"),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"sellSettleDate")}})})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("label",{className:"form-label col-md-11 col-sm-11 col-xs-11 text-right",id:"sell-md",children:t.issMaturityDate})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("label",{className:"form-label col-md-11 col-sm-11 col-xs-11 text-right",id:"sell_daysofmat",children:t.sellDaysToMaturity})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("div",{className:"col-md-11 col-sm-11 col-xs-11  text-left",children:Object(u.jsx)(Eu,{name:"sellDiscountPrice",id:"sellDiscountPrice",value:t.sellDiscountPrice,className:"text-right",onBlur:function(t){e.onContentChange(t,"sellDiscountPrice")}})})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("label",{className:"form-label col-md-11 col-sm-11 col-xs-11 text-right",id:"sell_dollerpx",children:t.sellDollerPx})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("div",{className:"col-md-11 col-sm-11 col-xs-11  text-left",children:Object(u.jsx)(Eu,{name:"sellSize",id:"sellSize",value:t.sellSize,className:"text-right",onBlur:function(t){e.onContentChange(t,"sellSize")}})})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("label",{className:"form-label col-md-11 col-sm-11 col-xs-11 text-right",id:"sell_proceeds",children:Lo(t.sellProceeds)})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("label",{className:"form-label col-md-11 col-sm-11 col-xs-11 text-right",id:"sell_discount",children:t.sellDiscount})})]})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"col-md-8 col-sm-8 col-xs-8 d-inline-block align-top brwh p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Buy"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_settledate",children:"Issue Date :"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(nj,{label:"buyIssueDate",id:"buyIssueDate",dateValue:Yu(Vu(t.buyIssueDate),"YYYY-MM-DD"),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onCDDateChange(t,"buyIssueDate")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_matdate",children:"Maturity Date :"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(nj,{label:"buyMaturityDate",id:"buyMaturityDate",dateValue:Yu(Vu(t.buyMaturityDate),"YYYY-MM-DD"),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onCDDateChange(t,"buyMaturityDate")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_size",children:"Coupon :"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{name:"buyCoupon",id:"buyCoupon",value:t.buyCoupon,className:"text-right",onBlur:function(t){e.onCDContentChange(t,"buyCoupon")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_matdate",children:"Settle Date :"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(nj,{label:"buySettleDate",id:"buySettleDate",dateValue:Yu(Vu(t.buySettleDate),"YYYY-MM-DD"),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onCDDateChange(t,"buySettleDate")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_size",children:"Size :"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{name:"buySize",id:"buySize",value:t.buySize,className:"text-right",onBlur:function(t){e.onCDContentChange(t,"buySize")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_price",children:"Price :"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{name:"buyPrice",id:"buyPrice",value:t.buyPrice,className:"text-right",onBlur:function(t){e.onCDContentChange(t,"buyPrice")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_yield",children:"Yield :"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{name:"buyYield",id:"buyYield",value:t.buyYield,className:"text-right",onBlur:function(t){e.onCDContentChange(t,"buyYield")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",id:"lbl_proceeds",children:"Days to Maturity :"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-right",id:"val_proceeds",children:t.buyDaysToMaturity})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",id:"lbl_discount",children:"Total Days to Maturity :"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-right",id:"val_discount",children:t.buyTotalDaysToMaturity})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",id:"lbl_maturityProceeds",children:"Maturity Proceeds :"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-right",id:"val_maturityProceeds",children:t.buyMaturityProceeds})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",id:"lbl_maturityInterest",children:"Maturity Interest :"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-right",id:"val_maturityInterest",children:t.buyMaturityInt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_baysAccrued",children:"Days Accrued :"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-right",id:"val_buyDaysAccrued",children:t.buyDaysAccrued})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_accruedInterest",children:"Accrued Interest :"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-right",id:"val_buyAccruedInt",children:t.buyAccruedInt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_netPurchase",children:"Net Purchase Cost Paid :"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-right",id:"val_buyNet",children:t.buyNet})]})]}),Object(u.jsxs)("div",{className:"col-md-4 col-sm-4 col-xs-4 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Sell "}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("label",{className:"form-label col-md-11 col-sm-11 col-xs-11 text-right",id:"buyIssueDate-md",children:t.buyIssueDate})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("label",{className:"form-label col-md-11 col-sm-11 col-xs-11 text-right",id:"issMaturityDate-md",children:t.issMaturityDate})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("label",{className:"form-label col-md-11 col-sm-11 col-xs-11 text-right",id:"sellCoupon-md",children:t.sellCoupon})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("div",{className:"col-md-11 col-sm-11 col-xs-11  text-left",children:Object(u.jsx)(nj,{label:"sellSettleDate",id:"sellSettleDate",dateValue:Yu(Vu(t.sellSettleDate),"YYYY-MM-DD"),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onCDDateChange(t,"sellSettleDate")}})})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("div",{className:"col-md-11 col-sm-11 col-xs-11  text-left",children:Object(u.jsx)(Eu,{name:"sellSize",id:"sellSize",value:t.sellSize,className:"text-right",onBlur:function(t){e.onCDContentChange(t,"sellSize")}})})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("div",{className:"col-md-11 col-sm-11 col-xs-11  text-left",children:Object(u.jsx)(Eu,{name:"sellPrice",id:"sellPrice",value:t.sellPrice,className:"text-right",onBlur:function(t){e.onCDContentChange(t,"sellPrice")}})})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("div",{className:"col-md-11 col-sm-11 col-xs-11  text-left",children:Object(u.jsx)(Eu,{name:"sellYield",id:"sellYield",value:t.sellYield,className:"text-right",onBlur:function(t){e.onCDContentChange(t,"sellYield")}})})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("label",{className:"form-label col-md-11 col-sm-11 col-xs-11 text-right",id:"sell_proceeds",children:t.sellDaysToMaturity})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("label",{className:"form-label col-md-11 col-sm-11 col-xs-11 text-right",id:"sell_discount",children:t.sellTotalDaysToMaturity})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("label",{className:"form-label col-md-11 col-sm-11 col-xs-11 text-right",id:"sell_MaturityProceeds",children:t.sellMaturityProceeds})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("label",{className:"form-label col-md-11 col-sm-11 col-xs-11 text-right",id:"sell_sellMaturityInt",children:t.sellMaturityInt})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("label",{className:"form-label col-md-11 col-sm-11 col-xs-11 text-right",id:"sell_sellDaysAccrued",children:t.sellDaysAccrued})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("label",{className:"form-label col-md-11 col-sm-11 col-xs-11 text-right",id:"sell_sellAccruedInt",children:t.sellAccruedInt})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("label",{className:"form-label col-md-11 col-sm-11 col-xs-11 text-right",id:"sell_sellNet",children:t.sellNet})})]})]}),Object(u.jsx)("span",{className:"block-example border-top border-gray d-block"}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-right",id:"lbl_profitloss",children:"Profit/Loss :"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",id:"val_profitAndLoss",children:t.profitAndLoss})]})]})}}]),a}(o.a.Component),ij=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.modalHead;e.modalData;return Object(u.jsxs)(P.a,{size:this.props.size,show:this.props.show,onHide:this.props.onHide,dialogClassName:"modal buy-modal","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:t})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsx)(oj,{})})]})}}]),a}(o.a.Component),lj=ij;function cj(e,t,a,s){var n=[];return Object.keys(t).map((function(a){return Object.keys(e[0]).map((function(e){var s;e===a&&(t[e]&&(s="amount"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1},n.push(s)));return""})),""})),n}function rj(e,t,a,s){var n=[];return Object.keys(t).map((function(s){return Object.keys(e[0]).map((function(e){var o;e===s&&(o="receivedTrades"===e||"pendingTrades"===e||"rejectedTrades"===e||"cancelAccepted"===e||"cancelRejected"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkComponent(t,s,n,o,e)}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1},n.push(o));return""})),""})),n}var dj=[];dj.ipaName=Ht,dj.receivedTrades="Received",dj.pendingTrades=Ja,dj.rejectedTrades=vs,dj.cancelAccepted="Cancel Accepted",dj.cancelRejected="Cancel Rejected",dj.total="Total",dj.lastTrade="Last Trade(Input/Ack.)";var mj=[];mj.ipaName=Ht,mj.isssuerName=ea,mj.ticker=cn,mj.amount="Amount",mj.transTime=xn,mj.receiveTime=fs;var hj=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openModal=function(e,t){s.setState({modalData:e,rowFlag:!0}),"receivedTrades"===t&&s.setState({status:"A"}),"pendingTrades"===t&&s.setState({status:"P"}),"rejectedTrades"===t&&s.setState({status:"R"}),"cancelAccepted"===t&&s.setState({status:"CA"}),"cancelRejected"===t&&s.setState({status:"CR"})},s.state={rowFlag:!1,modalData:"",updateData:!0},s.linkComponent=s.linkComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"linkComponent",value:function(e,t,a,s,n,o,i){return"0"!==e?Object(u.jsx)("div",{className:"dispFlex",children:Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openModal.bind(this,t,n,a,e),children:e})}):"0"===e?Object(u.jsx)("div",{className:"dispFlex",children:e}):void 0}},{key:"render",value:function(){var e={};return e.linkComponent=this.linkComponent,Object(u.jsxs)("div",{children:[Object(u.jsx)(Yb,{cprops:dj,apiCall:cc,wsUrl:!1,reqParams:{actionFlag:"PIMFLAG"},edit:!1,mappings:rj,customComponents:e,updateData:this.state.updateData,keyField:"pims",excelFlag:"true"}),Object(u.jsx)("div",{className:"pdt15",children:!0===this.state.rowFlag&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsx)("div",{children:"Received Trades"})})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(Yb,{cprops:mj,apiCall:rc,wsUrl:!1,reqParams:{ipaNumber:this.state.modalData.ipaNumber,status:this.state.status,actionFlag:"PIMFLAG"},edit:!1,mappings:cj,customComponents:e,keyField:"ipaCode",updateData:this.state.updateData,excelFlag:"true"})})]})})]})}}]),a}(o.a.Component),uj=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openModal=function(e,t){"receivedTrades"===t&&s.setState({status:"A"}),"pendingTrades"===t&&s.setState({status:"P"}),"rejectedTrades"===t&&s.setState({status:"R"}),"cancelAccepted"===t&&s.setState({status:"CA"}),"cancelRejected"===t&&s.setState({status:"CR"}),s.setState({modalData:e,rowFlag:!0})},s.state={rowFlag:!1,updateData:!0},s.linkComponent=s.linkComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"linkComponent",value:function(e,t,a,s,n,o,i){return"0"!==e?Object(u.jsx)("div",{className:"dispFlex",children:Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openModal.bind(this,t,n,a,e),children:e})}):"0"===e?Object(u.jsx)("div",{className:"dispFlex",children:e}):void 0}},{key:"render",value:function(){var e={};return e.linkComponent=this.linkComponent,Object(u.jsxs)("div",{children:[Object(u.jsx)(Yb,{cprops:dj,apiCall:cc,wsUrl:!1,reqParams:{actionFlag:"EPIMFLAG"},edit:!1,mappings:rj,customComponents:e,updateData:this.state.updateData,keyField:"epims",excelFlag:"true"}),!0===this.state.rowFlag&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsx)("div",{children:"Received Trades"})})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(Yb,{cprops:mj,apiCall:rc,wsUrl:!1,reqParams:{ipaNumber:this.state.modalData.ipaNumber,status:this.state.status,actionFlag:"EPIMFLAG"},edit:!1,mappings:cj,customComponents:e,updateData:this.state.updateData,keyField:"ipaCode",excelFlag:"true"})})]})]})}}]),a}(o.a.Component),bj=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).hideDiscountModal=function(){s.setState({showDiscountModal:!1})},s.state={cmodal:!0,heading:"cp",showDiscountModal:!1,modalData:"",message:""},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.handleSelect=s.handleSelect.bind(Object(O.a)(s)),s.discountCalculator=s.discountCalculator.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===dr&&this.setState({cmodal:!0})}},{key:"handleSelect",value:function(e){var t=this,a="";"cp"===e&&(a=Hh),"ecp"===e&&(a=Zh),"mcp"===e&&(a=Wh),"ycd"===e&&(a=zh),"ecd"===e&&(a=qh),"frcp"===e&&(a=Kh),"frcd"===e&&(a=Gh),w()({method:"POST",url:N.URL+ac,timeout:N.apiTimeOut,data:{productType:a},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({message:e.data})})),this.setState({heading:e})}},{key:"discountCalculator",value:function(){this.setState({showDiscountModal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"componentDidMount",value:function(){var e=this;"Trader"===localStorage.getItem("roletype")&&w()({method:"POST",url:N.URL+ac,timeout:N.apiTimeOut,data:{productType:Hh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({message:t.data})}))}},{key:"render",value:function(){var e=this;return Object(u.jsxs)(u.Fragment,{children:[!this.state.cmodal||"Trader"!==localStorage.getItem("roletype")&&"T"!==localStorage.getItem("roletype")&&"S"!==localStorage.getItem("roletype")&&"Sales"!==localStorage.getItem("roletype")?"A"===localStorage.getItem("roletype")||"Admin"===localStorage.getItem("roletype")?Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:["Your Order Management System",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{className:"adminRole",children:"This is the Administrative Portal for Your Order Management System for short term fixed income products. Access to this functionality is strictly limited!"})})]}):Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:["Home",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{className:"mt-3",children:Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{className:"d-inline-block",children:Object(u.jsxs)(hb.a,{activeKey:this.state.heading,onSelect:this.handleSelect,transition:!1,id:"noanim-tab-example",children:[Object(u.jsx)(ei.a,{eventKey:"cp",title:"PIMS Dashboard",children:"cp"===this.state.heading&&Object(u.jsx)(hj,{})}),Object(u.jsx)(ei.a,{eventKey:"ecd",title:"TARL Dashboard",children:"ecd"===this.state.heading&&Object(u.jsx)(uj,{})})]})})})})})]}):Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{children:["cp"===this.state.heading&&Object(u.jsx)(W.a,{xs:12,className:"d-inline-block mt-2 text-right",children:Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-3",onClick:this.discountCalculator,children:"Money Market Calculator"})}),Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{className:"d-inline-block",children:Object(u.jsxs)(hb.a,{defaultActiveKey:this.state.heading,onSelect:this.handleSelect,transition:!1,id:"noanim-tab-example",children:[Object(u.jsx)(ei.a,{eventKey:"cp",title:"CP",children:"cp"==this.state.heading&&Object(u.jsx)(Fp,{message:this.state.message})}),Object(u.jsx)(ei.a,{eventKey:"ecd",title:"ECD",children:"ecd"===this.state.heading&&Object(u.jsx)(qp,{message:this.state.message})}),Object(u.jsx)(ei.a,{eventKey:"ecp",title:"ECP",children:"ecp"===this.state.heading&&Object(u.jsx)(Qp,{message:this.state.message})}),Object(u.jsx)(ei.a,{eventKey:"frcd",title:"FRCD",children:"frcd"===this.state.heading&&Object(u.jsx)(zp,{message:this.state.message})}),Object(u.jsx)(ei.a,{eventKey:"frcp",title:"FRCP",children:"frcp"===this.state.heading&&Object(u.jsx)(Xp,{message:this.state.message})}),Object(u.jsx)(ei.a,{eventKey:"mcp",title:"MCP",children:"mcp"===this.state.heading&&Object(u.jsx)($p,{message:this.state.message})}),Object(u.jsx)(ei.a,{eventKey:"ycd",title:"YCD",children:"ycd"===this.state.heading&&Object(u.jsx)(Gp,{message:this.state.message})}),Object(u.jsx)(ei.a,{eventKey:"adn",title:"ADN",children:"adn"===this.state.heading&&Object(u.jsx)(sj,{message:this.state.message})})]})})})]})})]}),Object(u.jsx)(lj,{show:this.state.showDiscountModal,onHide:function(){return e.hideDiscountModal()},modalHead:"Money Market Calculator",prodType:Hh,modalData:this.state.modalData,size:"lg"})]})}}]),a}(o.a.Component),pj=a(41),jj=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectData:[]},s.getValue=s.getValue.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"getSnapshotBeforeUpdate",value:function(e,t){return JSON.stringify(e.reqParams)!==JSON.stringify(this.props.reqParams)||null}},{key:"componentDidMount",value:function(){var e=this,t=this.props.eData;void 0===t||0==t.length?this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({selectData:t.data})})):this.setState({selectData:t})}},{key:"componentDidUpdate",value:function(e,t,a){var s=this;e!==this.props&&!0===a&&this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){s.setState({selectData:e.data})}))}},{key:"getValue",value:function(e){var t="",a="";this.state.selectData.map((function(s,n){s.value===e[0]&&(t=s.key,a=s.value)})),this.props.onchange(e,t,a)}},{key:"render",value:function(){var e=this.state.selectData;return e&&Object(u.jsx)(q.a,{id:this.props.id,onChange:this.getValue,options:e.map((function(e){return e.value})),selected:this.props.selected})}}]),a}(o.a.Component),xj=[],fj=[],gj=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={updateFlag:!1,respMessage:"",rejectReason:"",actionTitle:"",actionMessage:"",showError:!0,tradeData:[],holidayData:[],productWeekData:[]},s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.submitData=s.submitData.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.accountChange=s.accountChange.bind(Object(O.a)(s)),s.verify=s.verify.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.offerData;e.action="AJAXBUY",e.justSave="N",this.postData(e,Nl)}},{key:"postData",value:function(e,t){var a=this,s=e;e.rejectReason="",e.responseMessage="","SAVEINV"===s.action&&(t=Nl,e.action="AJAXBUY",e.justSave="Y"),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(void 0!==e.data&&void 0!==e.data.rejectReason&&e.data.rejectReason.length>0?a.setState({rejectReason:e.data.rejectReason}):void 0!==e.data&&void 0!==e.data.responseMessage&&e.data.responseMessage.length>0?a.setState({respMessage:e.data.responseMessage}):"Y"===s.justSave?(t=Tl,s.action="SAVEINV",w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(void 0!==e.data&&void 0!==e.data.rejectReason&&e.data.rejectReason.length>0?a.setState({rejectReason:e.data.rejectReason}):void 0!==e.data&&void 0!==e.data.responseMessage&&e.data.responseMessage.length>0&&a.setState({respMessage:e.data.responseMessage}))}))):a.setState({responseMessage:"",rejectReason:""}),a.setState({tradeData:e.data}))})),w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{currency:this.props.currencyCode,productType:this.props.prodType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){xj=e.data.holidayDatesInfo,fj=e.data.productWeekData,a.setState({holidayData:xj,productWeekData:fj})}))}},{key:"accountChange",value:function(e,t){this.state.tradeData[t]=e.target.value}},{key:"onContentChange",value:function(e,t){var a=this.state.tradeData,s=!1;a.calFlag="",void 0!==e.target.value&&e.target.value.length<=0?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):"amount"===t?!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):(Uo(e),a[t]=Po(e.target.value),a.justSave="N",this.postData(a,Nl)):"coupon"===t?!1===Bo(e.target.value,"1234567890.")?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):(a[t]=Po(e.target.value),a.justSave="N",this.postData(a,Nl)):"bidYield"===t?!1===Bo(e.target.value,"-1234567890.")?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):(a.calFlag="price",a[t]=Po(e.target.value),a.justSave="N",this.postData(a,Nl)):"price"===t?!1===Bo(e.target.value,"1234567890.")?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):(a.calFlag="yield",a[t]=Po(e.target.value),a.justSave="N",this.postData(a,Nl)):s||(a[t]=e.target.value,a.justSave="N",this.postData(a,Nl))}},{key:"onDateChange",value:function(e,t){var a=this.state.tradeData;"settlementDate"===t&&null!==e&&"Invalid Date"!==e&&(a[t]=Yu(e,"MM/DD/YY")),a.justSave="N",this.postData(a,Nl)}},{key:"submitData",value:function(){var e=this.state.tradeData;e.action="SAVEINV",this.verify(e)&&this.postData(e,Tl)}},{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"verify",value:function(e){var t="";return""===e.amount||0===parseFloat(e.amount)?t=wm:""===e.coupon||0===parseFloat(e.coupon)?t=eh:""===e.bidYield||0===parseFloat(e.bidYield)?t=$m:""===e.price?t=th:""===e.shortName||void 0===e.shortName?t=Am:""!==e.cassii&&void 0!==e.cassii||(t=Mm),!t||(this.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1)}},{key:"setContent",value:function(){void 0!==this.state.tradeData&&(void 0!==document.getElementById("lyr-bprice")&&null!==document.getElementById("lyr-bprice")&&(document.getElementById("lyr-bprice").value=this.state.tradeData.price),void 0!==document.getElementById("lyr-bbidYield")&&null!==document.getElementById("lyr-bbidYield")&&(document.getElementById("lyr-bbidYield").value=this.state.tradeData.bidYield),void 0!==document.getElementById("lyr-bcoupon")&&null!==document.getElementById("lyr-bcoupon")&&(document.getElementById("lyr-bcoupon").value=this.state.tradeData.coupon))}},{key:"render",value:function(){var e=this,t=this.props.offerData,a=this.state,s=a.holidayData,n=a.productWeekData;return this.setContent(),t?Object(u.jsxs)("div",{className:"modal-cls",id:"BuyTicket",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",Object(u.jsxs)("div",{className:"bgc",id:"buy_cont",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",id:"left_cont",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"issuer_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_issuerName",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left removewrap",id:"issuerName",children:t.issuerName})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",id:"ticker_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left removewrap",id:"ticker",children:t.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"mat_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_maturityDate",children:"MAT:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"maturityDate",children:0===this.state.tradeData.length?t.maturityDate:this.state.tradeData.maturityDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"dtm_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_dtm",children:"DTM:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"v_dtm",children:0===this.state.tradeData.length?t.settle:this.state.tradeData.settle})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",id:"right_cont",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"cusi_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_cusip",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"cusip",children:t.cusip})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",id:"product_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_prodName",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"prodName",children:0===this.state.tradeData.length?t.prodName:this.state.tradeData.prodName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"dated_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_datedDate",children:"DATED:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"datedDate",children:0===this.state.tradeData.length?t.datedDate:this.state.tradeData.datedDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"curr_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_currencyCode",children:"CURRENCY:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"currencyCode",children:t.currencyCode})]})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",id:"off_blk",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"sub_offer",children:"Offer"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"atmt_row",children:[Object(u.jsx)("label",{id:"amount",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold removewrap",children:"Amount ($m) :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_amount",children:Object(u.jsx)(Eu,{id:"lyr-amount",name:"lyr-amount",value:Lo(t.availableToday),className:"form-control input-sm text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",id:"settle_row",children:[Object(u.jsx)("label",{id:"settle",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Settle :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_settle",children:Object(u.jsx)(Eu,{id:"lyr-settle",name:"lyr-settle",value:t.settlementDate,className:"form-control input-sm  text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"coupon_row",children:[Object(u.jsx)("label",{id:"coupon",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Coupon :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_coupon",children:Object(u.jsx)(Eu,{id:"lyr-coupon",name:"lyr-coupon",value:t.coupon,className:"form-control input-sm  text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"yield_row",children:[Object(u.jsx)("label",{id:"yield",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Yield :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_yield",children:Object(u.jsx)(Eu,{id:"lyr-yield",name:"lyr-yield",value:t.coupon,className:"form-control input-sm  text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"price_row",children:[Object(u.jsx)("label",{id:"price",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Price :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_price",children:Object(u.jsx)(Eu,{id:"lyr-price",name:"lyr-price",value:"100.00000",className:"form-control input-sm  text-right",readOnly:!0})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",id:"tradblk_cont",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"tradblk_trade",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"bamt_row",children:[Object(u.jsx)("label",{id:"bamount",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bamount",children:Object(u.jsx)(pp,{name:"lyr-bamount",id:"lyr-bamount",step:1e3,value:0===this.state.tradeData.length?Lo(t.amount):this.state.tradeData.amount,className:"text-right",onBlur:function(t){e.onContentChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",id:"bset_row",children:[Object(u.jsx)("label",{id:"bsettle",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bsettle",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"lyr-bsettle",id:"lyr-bsettle",dateValue:new Date(0===this.state.tradeData.length?t.settlementDate:this.state.tradeData.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"settlementDate")},currency:this.state.tradeData?this.state.tradeData.currencyCode:t.currencyCode,product:this.state.tradeData?this.state.tradeData.prodId:t.prodId,holidayData:s,productWeekData:n})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"bcoup_row",children:[Object(u.jsx)("label",{id:"bcoupon",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bcoupon",children:(t.coupon||this.state.tradeData.coupon)&&Object(u.jsx)(pp,{name:"lyr-bcoupon",id:"lyr-bcoupon",step:.1,precision:2,value:0===this.state.tradeData.length?t.coupon:this.state.tradeData.coupon,className:"text-right",onBlur:function(t){e.onContentChange(t,"coupon")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"bbid_row",children:[Object(u.jsx)("label",{id:"bbidYield",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bbidYield",children:(t.bidYield||this.state.tradeData.bidYield)&&Object(u.jsx)(pp,{name:"lyr-bbidYield",id:"lyr-bbidYield",step:.1,precision:2,value:0===this.state.tradeData.length?t.bidYield:this.state.tradeData.bidYield,className:"text-right",onBlur:function(t){e.onContentChange(t,"bidYield")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"bbpric_row",children:[Object(u.jsx)("label",{id:"bprice",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bprice",children:this.state.tradeData.price&&Object(u.jsx)(pp,{name:"lyr-bprice",id:"lyr-bprice",step:1,value:this.state.tradeData.price,className:"text-right",onBlur:function(t){e.onContentChange(t,"price")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"residual_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_residualAmt",children:"Net :"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8   text-right",id:"residualAmt",children:0===this.state.tradeData.length?t.residualAmt:this.state.tradeData.residualAmt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"accit_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_accruedInterest",children:"Acc Int :"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8  text-right",id:"accruedInterest",children:0===this.state.tradeData.length?t.accruedInterest:this.state.tradeData.accruedInterest})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",id:"acctname_cont",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"acctn_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"acct",children:"Account Name :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_acct",children:Object(u.jsx)(Eu,{id:"lyr-acct",name:"lyr-acct",value:0===this.state.tradeData.length?t.shortName:this.state.tradeData.shortName,onBlur:function(t){e.accountChange(t,"shortName")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"notes_row",children:[Object(u.jsx)("label",{id:"note",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Notes :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_notes",children:Object(u.jsx)(Eu,{id:"lyr-note",name:"lyr-note",value:0===this.state.tradeData.length?t.note:this.state.tradeData.note,className:"form-control input-sm"})})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",id:"oms_cont",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"oms_row",children:[Object(u.jsx)("label",{id:"cassii",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"OMS :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_cassi",children:Object(u.jsx)(Eu,{id:"lyr-cassii",name:"lyr-cassii",value:0===this.state.tradeData.length?t.cassii:this.state.tradeData.cassii,onBlur:function(t){e.accountChange(t,"cassii")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"buysell_row",children:[Object(u.jsx)("label",{id:"lbl_buysell",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"B/S :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_buysell",children:Object(u.jsx)(Eu,{id:"buysell",name:"buysell",value:"B",className:"form-control input-sm"})})]})]}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",id:"bttn_cont",children:0===this.state.respMessage.length&&0===this.state.rejectReason.length?Object(u.jsx)("button",{id:"lyr-submit",onClick:function(t){e.submitData(e)},className:"btn btn-success btn-xs lyrsubmitfocus",children:"Submit"}):""}),Object(u.jsx)("div",{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})})]}):"No data"}}]),a}(o.a.Component),Oj=[],vj=[],yj=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={updateFlag:!1,respMessage:"",rejectReason:"",actionTitle:"",actionMessage:"",showError:!0,tradeData:[],holidayData:[],productWeekData:[]},s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.submitData=s.submitData.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.offerData;e.amount=Po(e.amount),this.postData(e,mc)}},{key:"postData",value:function(e,t){var a=this;this.setState({respMessage:"",rejectReason:""}),e.reason="",w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(a.setState({tradeData:e.data}),void 0!==e.data&&void 0!==e.data.reason&&e.data.reason.length>0?a.setState({rejectReason:e.data.reason}):void 0!==e.data&&void 0!==e.data.responseMessage&&e.data.responseMessage.length>0&&a.setState({respMessage:e.data.responseMessage}))})),w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{currency:this.props.currencyCode,productType:this.props.prodType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){Oj=e.data.holidayDatesInfo,vj=e.data.productWeekData,a.setState({holidayData:Oj,productWeekData:vj})}))}},{key:"onContentChange",value:function(e,t){var a=this.state.tradeData;"amount"===t?!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?(this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):(Uo(e),a[t]=e.target.value,a.action="","price"===t&&(a.calFlag="yield"),"bidYield"===t&&(a.calFlag="price"),a.amount=Po(a.amount),this.postData(a,mc)):!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?(this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):(_o(e),a[t]=e.target.value,a.action="","price"===t&&(a.calFlag="yield"),"bidYield"===t&&(a.calFlag="price"),this.postData(a,mc))}},{key:"onDateChange",value:function(e,t){var a=this.state.tradeData;a[t]=Yu(e,"MM/DD/YY"),a.action="",this.state.tradeData.amount=Po(this.state.tradeData.amount),this.postData(a,mc)}},{key:"submitData",value:function(){var e=this.state.tradeData;e.action="SAVEINV",this.state.tradeData.amount=Po(this.state.tradeData.amount),this.postData(e,mc)}},{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"setContent",value:function(){void 0!==this.state.tradeData&&(void 0!==document.getElementById("lyr-bprice")&&null!==document.getElementById("lyr-bprice")&&(document.getElementById("lyr-bprice").value=this.state.tradeData.price),void 0!==document.getElementById("lyr-bbidYield")&&null!==document.getElementById("lyr-bbidYield")&&(document.getElementById("lyr-bbidYield").value=this.state.tradeData.bidYield),void 0!==document.getElementById("lyr-bcoupon")&&null!==document.getElementById("lyr-bcoupon")&&(document.getElementById("lyr-bcoupon").value=this.state.tradeData.coupon))}},{key:"render",value:function(){var e=this,t=this.props.offerData;return this.setContent(),t?Object(u.jsxs)("div",{className:"modal-cls",id:"FRBuyTicket",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",Object(u.jsxs)("div",{className:"bgc",id:"main_cont",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",id:"lft_cont",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"issuer_row",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lyr_issuerName",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"issuerName",children:0===this.state.tradeData.length?t.issuerName:this.state.tradeData.issuerName})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",id:"ticker_row",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lyr_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left removewrap",id:"ticker",children:0===this.state.tradeData.length?t.ticker:this.state.tradeData.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"matdate_row",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lyr_maturityDate",children:"MAT:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"maturityDate",children:0===this.state.tradeData.length?t.maturityDate:this.state.tradeData.maturityDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"rolldate_row",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"rollDate",children:"Roll Date:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"maturityDateStr",children:0===this.state.tradeData.length?t.maturityDateStr:this.state.tradeData.maturityDateStr})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"currency_row",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"currency",children:"Currency:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"currencyCode",children:0===this.state.tradeData.length?t.currencyCode:this.state.tradeData.currencyCode})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",id:"rgt_cont",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"inty_row",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",id:"indexType",children:"INDEX TYPE:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",id:"settleDateStr",children:0===this.state.tradeData.length?t.settleDateStr:this.state.tradeData.settleDateStr})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",id:"prd_row",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"product",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"prodName",children:0===this.state.tradeData.length?t.prodName:this.state.tradeData.prodName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"dtm_row",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lyr_settle",children:"DTM*:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"settle",children:0===this.state.tradeData.length?t.settle:this.state.tradeData.settle})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"sofr_row",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lobor",children:"SOFR:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"v_sofr",children:0===this.state.tradeData.length?t.coupon:this.state.tradeData.coupon})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"emptunused",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lbl_empty",children:"\xa0"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"val_empty",children:"\xa0"})]})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",id:"trablk_cont",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"subtrade",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"ammt_row",children:[Object(u.jsx)("label",{id:"bamount",className:"form-label col-md-4 col-sm-4 col-xs-4  text-right font-weight-bold",children:"Amount ($m) :"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4  text-right",id:"v_bamt",children:Object(u.jsx)(Eu,{name:"lyr-bamount",id:"lyr-bamount",value:0===this.state.tradeData.length?Lo(t.amount):Lo(this.state.tradeData.amount),className:"text-right",onBlur:function(t){e.onContentChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"settle_row",children:[Object(u.jsx)("label",{id:"bsettle",className:"form-label col-md-4 col-sm-4 col-xs-4  text-right font-weight-bold ",children:"Settle :"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4  text-right",id:"v_bsettl",children:(this.state.productWeekData&&this.state.productWeekData.length>0||this.state.holidayData&&this.state.holidayData.length>0)&&Object(u.jsx)(Ju,{label:"lyr-bsettle",id:"lyr-bsettle",dateValue:new Date(0===this.state.tradeData.length?t.settlementDate:this.state.tradeData.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"settlementDate")},currency:this.state.tradeData?this.state.tradeData.currencyCode:t.currencyCode,product:this.state.tradeData?this.state.tradeData.prodId:t.prodId,holidayData:this.state.holidayData,productWeekData:this.state.productWeekData})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"coupn_row",children:[Object(u.jsx)("label",{id:"bcoupon",className:"form-label col-md-4 col-sm-4 col-xs-4  text-right font-weight-bold ",children:"Coupon :"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4  text-right",id:"v_coupon",children:Object(u.jsx)(Eu,{name:"lyr-bcoupon",id:"lyr-bcoupon",value:this.state.tradeData.coupon,className:"text-right",onBlur:function(t){e.onContentChange(t,"coupon")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"yield_row",children:[Object(u.jsx)("label",{id:"bbidYield",className:"form-label col-md-4 col-sm-4 col-xs-4  text-right font-weight-bold",children:"Yield :"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4  text-right",id:"v_bbidyi",children:Object(u.jsx)(Eu,{name:"lyr-bbidYield",id:"lyr-bbidYield",value:this.state.tradeData.bidYield,className:"text-right",onBlur:function(t){e.onContentChange(t,"bidYield")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"prc_row",children:[Object(u.jsx)("label",{id:"bprice",className:"form-label col-md-4 col-sm-4 col-xs-4  text-right font-weight-bold",children:"Price :"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4  text-right",id:"v_prc",children:Object(u.jsx)(Eu,{name:"lyr-bprice",id:"lyr-bprice",value:this.state.tradeData.price,className:"text-right",onBlur:function(t){e.onContentChange(t,"price")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"net_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-right font-weight-bold ",id:"lyr_netAmt",children:"Net :"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",id:"netAmt",children:0===this.state.tradeData.length?Lo(t.netAmt):Lo(this.state.tradeData.netAmt)})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"accint_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-right font-weight-bold ",id:"lyr_accruedInterest",children:"Acc Int :"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",id:"accruedInterest",children:0===this.state.tradeData.length?Lo(t.accruedInterest):Lo(this.state.tradeData.accruedInterest)})]})]}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",id:"unused_row",children:"\xa0"}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",id:"acctname_cont",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",id:"acctleft_cont",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"acctn_row",children:[Object(u.jsx)("label",{id:"investorId",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold removewrap",children:"Account Name :"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_acctname",children:Object(u.jsx)(Eu,{name:"lyr-investorId",id:"lyr-investorId",value:0===this.state.tradeData.length?t.investorId:this.state.tradeData.investorId,className:"text-left",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"notes_row",children:[Object(u.jsx)("label",{id:"note",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Notes :"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-note",children:Object(u.jsx)(Eu,{name:"lyr-note",id:"lyr-note",value:0===this.state.tradeData.length?t.note:this.state.tradeData.note,className:"text-left",onBlur:function(t){e.onContentChange(t,"note")}})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",id:"omsrt_cont",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"accoms_row",children:[Object(u.jsx)("label",{id:"accountNbr",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"OMS :"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_accoms",children:Object(u.jsx)(Eu,{name:"lyr-accountNbr",id:"lyr-accountNbr",value:0===this.state.tradeData.length?t.cassii:this.state.tradeData.cassii,className:"text-left",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"buy_row",children:[Object(u.jsx)("label",{id:"buy",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"B/S :"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_bsell",children:Object(u.jsx)(Eu,{name:"lyr-buy",id:"lyr-buy",value:"B",className:"text-left",readOnly:!0})})]})]})]}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",id:"uned_div"}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",id:"bttn_cont",children:0===this.state.respMessage.length&&0===this.state.rejectReason.length?Object(u.jsx)("button",{id:"submit",onClick:function(t){e.submitData(e)},className:"btn btn-success btn-xs lyrsubmitfocus",children:"Submit"}):""}),Object(u.jsx)("div",{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})})]}):"No data"}}]),a}(o.a.Component),kj=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectData:""},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.modalData;return e?Object(u.jsxs)(P.a,{size:"md",show:this.props.show,onHide:this.props.onHide,dialogClassName:"modal buy-modal","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:"Buy Ticket"})}),Object(u.jsxs)(P.a.Body,{children:[(e.productType===zh||e.productType===qh)&&Object(u.jsx)(gj,{offerData:e}),(e.productType===Kh||e.productType===Gh)&&Object(u.jsx)(yj,{offerData:e})]})]}):""}}]),a}(o.a.Component);function Dj(e,t,a){var s,n=[],o=0;return Object.keys(t).map((function(i){return Object.keys(e[0]).map((function(l){var c;l===i?t[l]&&(c="settlementDate"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return a.dateComponent(Vu(e),t,s,n,l)}}:"issueId"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:a.checkBoxComponent}:"ticker"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return void 0!==e&&"new"===e?a.tickerListComponent(e,t,s,n):a.tickerDropComponent(e,t,s,n)}}:"oneWeek"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,i){if(void 0!==e[n]&&void 0!==e[n].oneWeek){o=e[n].oneWeek.split(":")[0];var c=e[n].oneWeek.split(":")[2];0==o&&(o="")}else o="";return a.rateBoxComponent(o,s,n,i,l,c)}}:{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return a.textBoxComponent(e,t,s,n,l)}},n.push(c)):"rateMap"===l&&n.length>6&&(null===s||s!==e[0].rateMap)&&(s=e[0].rateMap,o=0,Object.keys(e[0].rateMap).map((function(s){c={dataField:s,text:t[s],filter:Object(Ao.textFilter)(),csvFormatter:function(t,a,n,i){if(void 0!==e[n]&&void 0!==e[n].rateMap&&void 0!==e[n].rateMap[s]){o=e[n].rateMap[s].split(":")[0];e[n].rateMap[s].split(":")[2];0==o&&(o="")}else o="";return o},formatter:function(t,n,i,l){if(void 0!==e[i]&&void 0!==e[i].rateMap&&void 0!==e[i].rateMap[s]){o=e[i].rateMap[s].split(":")[0];var c=e[i].rateMap[s].split(":")[2];0==o&&(o="")}else o="";return a.rateBoxComponent(o,n,i,l,s,c)}},n.push(c)})));return""})),""})),n}function Cj(e,t,a){var s,n=[],o=0;return Object.keys(t).map((function(i){return Object.keys(e[0]).map((function(l){if(l===i){if(t[l]){if("availableCredit"===l||"minimumPiece"===l)c={dataField:l,text:t[l],filter:Object(Ao.textFilter)(),align:"right"};else if("offeringlimit"===l)var c={dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"};else c="oneWeek"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(t,a,s,n){return void 0!==e[s]&&void 0!==e[s].oneWeek?0==(o=e[s].oneWeek.split(":")[0])&&(o=""):o="",o}}:{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),editable:!1,formatter:a.fieldComponent,formatExtraData:{colId:t[l]}};n.push(c)}}else if("rateMap"===l&&n.length>5&&(null===s||s!==e[0].rateMap)){s=e[0].rateMap,o=0,Object.keys(e[0].rateMap).map((function(a){c={dataField:a,text:t[a],filter:Object(Ao.textFilter)(),csvFormatter:function(t,s,n,i){return void 0!==e[n]&&void 0!==e[n].rateMap&&void 0!==e[n].rateMap[a]?0==(o=e[n].rateMap[a].split(":")[0])&&(o=""):o="",o},formatter:function(t,s,n,i){return void 0!==e[n]&&void 0!==e[n].rateMap&&void 0!==e[n].rateMap[a]?0==(o=e[n].rateMap[a].split(":")[0])&&(o=""):o="",o}},n.push(c)}))}return""})),""})),n}var Nj=[];Nj.yankeecd="Yankee CD",Nj.issueId=Ue,Nj.ticker=cn,Nj.availableCredit=de,Nj.offeringlimit=Ia,Nj.minimumPiece=ua,Nj.settlementDate=Ts,Nj.oneWeek=Ha,Nj[lu]=Va,Nj[mu]=vn,Nj[hu]=an,Nj[uu]=Et,Nj[bu]=Mt,Nj[pu]=_s,Nj[ju]=Ps,Nj[xu]=vt,Nj[fu]=Da,Nj[cu]=tn,Nj[ru]=yt,Nj[du]=fn,Nj.templates=en;var Sj=[];Sj.ticker=cn,Sj.availableCredit=de,Sj.offeringlimit=Ia,Sj.minimumPiece=ua,Sj.settlementDate=Ts,Sj.oneWeek=Ha,Sj[lu]=Va,Sj[mu]=vn,Sj[hu]=an,Sj[uu]=Et,Sj[bu]=Mt,Sj[pu]=_s,Sj[ju]=Ps,Sj[xu]=vt,Sj[fu]=Da,Sj[cu]=tn,Sj[ru]=yt,Sj[du]=fn;var wj,Tj,Ij,Mj=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getDate=function(e){s.setState({matDate:Yu(e,"M/D/YY")})},s.handleClose=function(){s.props.onHide()},s.state={matDate:"",respMessage:"",rejectReason:""},s.postData=s.postData.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"handleSave",value:function(e){""!==this.state.matDate&&(e.maturityDate=this.state.matDate),e.check=!0,this.postData(e)}},{key:"removeSpecialDate",value:function(e){e.check=!1,this.postData(e)}},{key:"postData",value:function(e){var t,a,s=this;e.rejectReason="",e.responseMessage="",e.productType===zh?a="/alterMaturityDate":e.productType===qh?a="/alterECDMaturityDate":e.productType===Zh&&(a="/alterECPMaturityDate"),w()({method:"POST",url:N.URL+a,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(void 0!==(t=e.data)&&void 0!==t.errorMessage&&t.errorMessage.length>0?s.setState({rejectReason:t.errorMessage}):void 0!==t&&void 0!==t.successMessage&&t.successMessage.length>0&&s.setState({respMessage:t.successMessage}))}))}},{key:"render",value:function(){var e=this,t=this.props.rateData;return Object(u.jsxs)(u.Fragment,{children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block",id:"oneday_cont",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"setdate_row",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lyr_settlementDate",children:"Settle Date:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"settlementDate",children:t.settlementDate})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",id:"rate_row",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lyr_coupon",children:"Rate:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"coupon",children:t.coupon})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"maturity_row",children:[Object(u.jsx)("label",{id:"lyr_matdate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Maturity Date:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",id:"va_matdate",children:Object(u.jsx)(Ju,{minDate:new Date,label:"matdate",name:"matdate",id:"matdate",dateValue:""===this.state.matDate?new Date(t.maturityDate):new Date(this.state.matDate),onchange:this.getDate,fromDateFlg:!1,toDateFlg:!1,currency:t.currencyCode,dateUpdateFlag:t.dateUpdateFlag,holidayData:t.holidayData,productWeekData:t.productWeekData})})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 mt-1 mb-1",id:"bttn_cont",children:[Object(u.jsx)("button",{onClick:function(a){e.handleSave(t)},className:"btn btn-primary btn-xs mr-1",id:"save",children:"Save"}),Object(u.jsx)("button",{onClick:this.handleClose,className:"btn btn-primary btn-xs  mr-1",id:"cancel",children:"Cancel"}),void 0!==t.matDateFlag&&"Y"===t.matDateFlag?Object(u.jsx)("button",{id:"removeSplDates",onClick:function(a){e.removeSpecialDate(t)},className:"btn btn-primary btn-xs",children:"Remove Special Date"}):""]})]})}}]),a}(o.a.Component),Aj=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.modalData;return e?Object(u.jsxs)(P.a,{size:"sm",show:this.props.show,onHide:this.props.onHide,dialogClassName:"modal rate","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:e.maturityColName.replace("RATE","")})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsx)(Mj,{onHide:this.props.onHide,rateData:e})})]}):""}}]),a}(o.a.Component),Rj=Aj,Ej=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleFocus=function(e){document.getElementById(e)&&(document.getElementById(e).style.display="block")},s.hideAlert=function(){s.setState({alertShow:!1,updateData:!0})},s.state={cmodal:!0,mainApiCall:qi,updateFlag:!1,showModal:!1,plusFlag:!1,showRate:!1,respMessage:"",rejectReason:"",rowCnt:0,actionTitle:"",actionMessage:"",updateData:!0,holidayData:[],productWeekData:[],dateUpdateFlag:!0,rateVar:""},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.copySaveGridClick=s.copySaveGridClick.bind(Object(O.a)(s)),s.saveGridClick=s.saveGridClick.bind(Object(O.a)(s)),s.addClick=s.addClick.bind(Object(O.a)(s)),s.checkBoxComponent=s.checkBoxComponent.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.rateBoxComponent=s.rateBoxComponent.bind(Object(O.a)(s)),s.tickerListComponent=s.tickerListComponent.bind(Object(O.a)(s)),s.dateComponent=s.dateComponent.bind(Object(O.a)(s)),s.onCheckboxClick=s.onCheckboxClick.bind(Object(O.a)(s)),s.setScreenData=s.setScreenData.bind(Object(O.a)(s)),s.postData=s.postData.bind(Object(O.a)(s)),s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.tickerDropComponent=s.tickerDropComponent.bind(Object(O.a)(s)),s.handleRateClick=s.handleRateClick.bind(Object(O.a)(s)),s.deleteGrid=s.deleteGrid.bind(Object(O.a)(s)),s.copyDataGrid=s.copyDataGrid.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;wj=[];var t=[],a=[];w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:zh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(s){t=s.data.holidayDatesInfo,a=s.data.productWeekData,e.setState({holidayData:t,productWeekData:a})})),w()({method:"POST",url:N.URL+ac,timeout:N.apiTimeOut,data:{productType:zh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({message:t.data,updateData:!0})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(!1===t.cmodal&&this.props.linkname===Vr){this.setState({cmodal:!0,updateData:!1});var s=[],n=[];w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:zh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){s=e.data.holidayDatesInfo,n=e.data.productWeekData,a.setState({holidayData:s,productWeekData:n})}))}}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!1})}},{key:"openModal",value:function(e,t){if(void 0===this.state.message||""===this.state.message){var a,s,n,o,i;if(e===Ya)null!==(a=wj[t][e])&&(i=a.split(":"));else null!==(a=wj[t].rateMap[e])&&(i=a.split(":")),e+="M";void 0!==i&&i.length>2&&(s=i[0],n=i[1],o=i[2]),(Tj=wj[t]).coupon=s,Tj.maturityDate=n,Tj.maturityFlag=o,Tj.tenorType=e,Tj.transType="10",Tj.issueType="I",Tj.amount=Tj.availableToday,Tj.refIssueId=Tj.issueId,this.setState({showModal:!0,updateData:!1})}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"hideModal",value:function(){wj=[],this.setState({showModal:!1,showRate:!1,updateData:!0})}},{key:"checkBoxComponent",value:function(e,t,a,s){var n=this,o=qt+a;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,defaultChecked:void 0!==wj[a]&&void 0!==wj[a].published&&"Y"===wj[a].published&&void 0!==wj[a].offerFlag&&"Y"===wj[a].offerFlag,onClick:function(t){n.onCheckboxClick(e,a,t)},disabled:""===e})})}},{key:"textBoxComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(Eu,{name:n+a,id:n+a,value:e,onBlur:function(e){o.onFieldChange(e,n,a)},className:"text-right"})}},{key:"rateBoxComponent",value:function(e,t,a,s,n,o,i){var l=this,c=t.rateMap,r=t.oneWeek;return Object(u.jsxs)("div",{className:"dispFlex",children:[Object(u.jsx)(Eu,{name:n+"M"+a,id:n+"M"+a,value:e,onFocus:function(e){l.handleFocus("span"+n+a)},onKeyPress:function(e){l.onKeyDownHandler(e,n,a,n+"M"+a)},onBlur:function(e){l.onRateChange(e,t,n,a,"span"+n+a)}}),"N"===o&&""!==e&&Object(u.jsx)("span",{id:"span"+n+a,onClick:function(e){return l.handleRateClick(e,n,a)},style:{display:"none"},children:Object(u.jsx)(B.v,{})}),"Y"===o&&Object(u.jsx)("span",{id:"span"+n+a,onClick:function(e){return l.handleRateClick(e,n,a)},children:Object(u.jsx)(Hp,{mat:c&&void 0!==c[n]?Yu(c[n].split(":")[1],"M/D"):Yu(r.split(":")[1],"M/D"),children:Object(u.jsx)(B.B,{})})})]})}},{key:"handleRateClick",value:function(e,t,a){var s,n,o,i,l;(Ij={},t===Ya)?null!==(s=wj[a][t])&&(l=s.split(":")):(null!==(s=wj[a].rateMap[t])&&(l=s.split(":")),t="RATE"+t+"M");void 0!==l&&l.length>2&&(n=l[0],o=l[1],i=l[2]),Ij.settlementDate=wj[a].settlementDate,Ij.issueId=wj[a].issueId,Ij.currencyCode=wj[a].currencyCode,Ij.productType=wj[a].productType,Ij.coupon=n,Ij.tenorRate=n,Ij.matDateFlag=i,Ij.maturityColName=t,Ij.maturityDate=o,Ij.holidayData=this.state.holidayData,Ij.productWeekData=this.state.productWeekData,Ij.dateUpdateFlag=this.state.dateUpdateFlag,this.setState({showRate:!0,updateData:!1})}},{key:"onKeyDownHandler",value:function(e,t,a){13===e.charCode&&this.openModal(t,a)}},{key:"dateComponent",value:function(e,t,a,s,n){var o=this,i=this.state,l=i.holidayData,c=i.productWeekData,r=[];return l.map((function(e){e.currency===t.currencyCode&&r.push(e)})),Object(u.jsx)(Ju,{minDate:new Date,label:n+a,id:n+a,dateValue:new Date(e),fromDateFlg:!1,toDateFlg:!1,onchange:function(e){o.onDateChange(e,n,a)},dateUpdateFlag:this.state.dateUpdateFlag,currency:t.currencyCode,holidayData:r,productWeekData:c})}},{key:"tickerListComponent",value:function(e,t,a,s){var n=this;return Object(u.jsx)("div",{className:"outPosition",children:Object(u.jsx)(jj,{id:ln+a,name:ln+a,apiCall:ji,reqParams:{productType:zh,All:"false",loginId:sessionStorage.getItem("loginid")},onchange:function(e,t){n.tickerChange(e,t,a,ln)},selected:void 0!==wj[a]&&void 0!==wj[a].ticker&&"new"!==wj[a].ticker?wj[a].ticker:""})})}},{key:"onDateChange",value:function(e,t,a){this.setState({updateData:!0});var s="";wj.map((function(t,n){"new"!==t.ticker&&n!==a&&wj[a].programId===t.programId&&Yu(e,"M/D/YY")===t.settlementDate&&(s="Ticker, Currency and Settle Date already exist")})),s?this.setState({actionTitle:"Alert",actionMessage:s,showError:!0,dateUpdateFlag:!1,updateData:!0}):(wj[a][t]=Yu(e,"M/D/YY"),this.setState({settlementDate:Yu(e,"M/D/YY"),dateUpdateFlag:!0}))}},{key:"onFieldChange",value:function(e,t,a){wj[a][t]=e.target.value;var s="";if(!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?s="Row"+(a+1)+":"+wm:(""!==e.target.value&&Uo(e),wj[a][t]=Po(e.target.value)),s)return this.setState({actionTitle:"Alert",actionMessage:s,showError:!0,updateData:!1}),e.target.value="",e.target.focus(),!1}},{key:"onRateChange",value:function(e,t,a,s,n){var o=this;this.setState({rateVar:e.target.value});var i,l;("oneWeek"===a&&(i=t[a].split(":")[0]),t.rateMap)&&(t.rateMap,Object.keys(t.rateMap).map((function(n){t.rateMap&&a===n&&(i=t.rateMap[n].split(":")[0]),(!1===Bo(e.target.value,"1234567890.")||e.target.value.split(".").length>2)&&(o.setState({actionTitle:"Alert",actionMessage:"Row"+(s+1)+":"+Ym,showError:!0,updateData:!1}),e.target.value=i,e.target.focus(),o.setState({showModal:!1,updateData:!1}))})));if(document.getElementById(n)&&(document.getElementById(n).style.display="none"),void 0!==e.target.value&&""!==e.target.value)if(a===Ya){if(null!==(l=wj[s][a])){var c=l.split(":");c[0]=e.target.value,wj[s][a]=c.join(":")}}else{var r=wj[s].rateMap;if(null!==(l=r[a])){var d=l.split(":");d[0]=e.target.value,r[a]=d.join(":"),wj[s].rateMap=r}}}},{key:"tickerChange",value:function(e,t,a,s){var n=this;wj[a][s]=t,wj[a].programId=t,this.setState({programId:t,updateData:!1});var o={issuerId:t,productType:zh,ticker:e[0]};w()({method:"POST",url:N.URL+yl,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(wj[a].minimumPiece=e.data.minSize,wj[a].ticker=e.data.ticker,wj[a].currencyCode=e.data.currencyCode,wj[a].productType=e.data.productType,document.getElementById("minimumPiece"+a).value=e.data.minSize,n.setState({updateFlag:!0,updateData:!1}))}))}},{key:"setScreenData",value:function(e){wj=e}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1}),this.props.onRemove(this.props.linkname)}},{key:"copySaveGridClick",value:function(e){if(void 0===this.state.message||""===this.state.message){this.verifyAll(wj)&&this.postData("/saveAndCopyGridDetails","","SAVE")}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"saveGridClick",value:function(e){if(void 0===this.state.message||""===this.state.message){this.verifyAll(wj)&&this.postData("/saveGridDetails","","SAVE")}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"verifyAll",value:function(e){for(var t=!0,a=0;a<e.length;a++){if(!1===this.verify(wj[a],a)){t=!1;break}}return t}},{key:"verify",value:function(e,t){var a=this,s=e.oneWeek.split(":")[0],n="",o=0;return""!==e.availableCredit&&(e.availableCredit=e.availableCredit.trim(),o=Po(e.availableCredit)),""===o||0===parseFloat(o)?n="Row"+(t+1)+":"+ch:""===e.offeringlimit||0===parseFloat(e.offeringlimit)?n="Row"+(t+1)+":"+Em:""===e.minimumPiece||0===parseFloat(e.minimumPiece)?n="Row"+(t+1)+":"+Fm:parseFloat(e.offeringlimit)>o?n="Row"+(t+1)+":"+rr:parseFloat(e.offeringlimit)<e.minimumPiece?n="Row"+(t+1)+":"+Nm:0===parseFloat(s)&&(n="Row"+(t+1)+":Please Enter Valid One Week Rate"),wj.map((function(e,t){a.state.programId===(""!==e.issueId&&e.programId)&&(void 0===a.state.settlementDate?Yu(new Date,"M/D/YY"):a.state.settlementDate)===(""!==e.issueId&&e.settlementDate)&&(n="Ticker and Settle Date already exist")})),!n||(this.setState({actionTitle:"Alert",actionMessage:n,showError:!0,updateData:!1}),!1)}},{key:"addClick",value:function(e){void 0===this.state.message||""===this.state.message?(void 0!==wj?this.setState({rowCnt:wj.length+1,updateData:!1,rejectReason:"",respMessage:""}):this.setState({rowCnt:1,updateData:!1,rejectReason:"",respMessage:""}),wj=[],this.setState({mainApiCall:ci,updateData:!0})):this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"onCheckboxClick",value:function(e,t,a){if(void 0===this.state.message||""===this.state.message){var s={check:!1};a.target.checked&&(s.check=!0),s.issueId=e,s.productType=zh,wj=[],this.postData("/publishGridDetails",s,"PUBLISH")}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"postData",value:function(e,t,a){var s,n=this;this.setState({rejectReason:"",respMessage:"",updateData:!1}),"PUBLISH"===a||"DELETE"===a||"COPY"===a?s=t:"SAVE"===a&&(s=wj,wj=[]),w()({method:"POST",url:N.URL+e,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){void 0!==e.data?"COPY"===a?(n.setScreenData(e.data),n.setState({updateData:!0})):"DELETE"===a?void 0!==e.data.successMessage&&e.data.successMessage.length>0&&("Delete Successful."===e.data.successMessage?n.setState({respMessage:e.data.successMessage,updateData:!0}):n.setState({rejectReason:e.data.errorMessage,updateData:!0})):void 0!==e.data.errorMessage&&e.data.errorMessage.length>0?n.setState({rejectReason:e.data.errorMessage,updateData:!0}):void 0!==e.data.successMessage&&e.data.successMessage.length>0&&n.setState({respMessage:e.data.successMessage,updateData:!0}):n.setState({rejectReason:"",respMessage:"",updateData:!0}),n.setState({mainApiCall:qi,updateData:!0})}))}},{key:"tickerDropComponent",value:function(e,t,a){var s=this;return this.setState({modalData:t,updateData:!1}),Object(u.jsxs)(pj.a,{className:"positioninitial",drop:"down",children:[Object(u.jsx)(pj.a.Toggle,{id:ln+a,variant:"link",children:e}),Object(u.jsxs)(pj.a.Menu,{children:[Object(u.jsx)(pj.a.Item,{onClick:function(e){return s.copyDataGrid(a)},children:"Copy"}),Object(u.jsx)(pj.a.Item,{onClick:function(e){return s.deleteGrid(a)},children:"Delete"})]})]})}},{key:"deleteGrid",value:function(e){this.setState({actionTitle:"Delete",actionMessage:"Are you sure, you want to delete the data ?",alertShow:!0,actionFlag:"DELETE",deleteData:e,updateData:!1,respMessage:""})}},{key:"confirmAction",value:function(e,t){if("DELETE"===e)if(this.setState({alertShow:!1}),void 0===this.state.message||""===this.state.message){var a=wj[this.state.deleteData],s={};s.issueId=a.issueId,wj=[],this.postData("/deleteGridDetails",s,"DELETE")}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"copyDataGrid",value:function(e){if(void 0===this.state.message||""===this.state.message){var t=wj[e],a={};a.issueId=t.issueId,a.productType=zh,a.stmtType="S";wj=[],this.postData(ci,a,"COPY")}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"fieldComponent",value:function(e,t,a,s){return"Offer Lmt($m)"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t=this.state,a=t.holidayData,s=t.productWeekData,n={};return n.checkBoxComponent=this.checkBoxComponent,n.textBoxComponent=this.textBoxComponent,n.dateComponent=this.dateComponent,n.rateBoxComponent=this.rateBoxComponent,n.tickerListComponent=this.tickerListComponent,n.tickerDropComponent=this.tickerDropComponent,n.fieldComponent=this.fieldComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsxs)("h6",{children:[Nj.yankeecd,void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",void 0!==this.state.message&&this.state.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.state.message}):""]}),(s.length>0||a.length>0)&&Object(u.jsx)(Yb,{cprops:Nj,apiCall:this.state.mainApiCall,wsUrl:!1,updateData:this.state.updateData,reqParams:{rowCnt:this.state.rowCnt,productType:zh,stmtType:"S"},edit:!1,mappings:Dj,customComponents:n,calBack:this.setScreenData,mapdata:wj,fixedTable:!0,keyField:qt,excelFlag:"true"})]})}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{className:"d-inline-block mt-2 text-center",children:[wj&&Object(u.jsx)(D.a,{id:"copySave",className:"btn btn-primary btn-xs",onClick:this.copySaveGridClick,children:"Copy & Save Grid"}),wj&&Object(u.jsx)(D.a,{id:"saveGrid",className:"btn btn-primary btn-xs ml-1",onClick:this.saveGridClick,children:"Save Grid"}),Object(u.jsx)(D.a,{id:"add",className:"btn btn-primary btn-xs ml-1",onClick:this.addClick,children:"Add"})]})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)("h6",{children:Nj.templates}),Object(u.jsx)(Yb,{cprops:Sj,apiCall:qi,updateData:this.state.updateData,wsUrl:!1,reqParams:{productType:zh,stmtType:"F"},mappings:Cj,customComponents:n,keyField:"1",excelFlag:"true"})]})})]}),Object(u.jsx)(kj,{show:this.state.showModal,onHide:function(){return e.hideModal()},modalData:Tj}),Object(u.jsx)(Rj,{show:this.state.showRate,onHide:function(){return e.hideModal()},modalData:Ij}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})})}}]),a}(o.a.Component),Fj=[];function Pj(e,t,a,s){var n=[];return Object.keys(t).map((function(a){return Object.keys(e[0]).map((function(e){var s;e===a&&(t[e]&&(s="transType"===e?{dataField:e,text:t[e],formatter:function(e,t,a,s){return"B"==e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"S"==e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):void 0}}:"amount"===e?{dataField:e,text:t[e],formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:e,text:t[e],editable:!1},n.push(s)));return""})),""})),n}Fj.transType=Te,Fj.settleDate=Rs,Fj.maturityDate=ra,Fj.days=st,Fj.amount=Vs,Fj.price=es,Fj.pandL=js,Fj.buySellList=Me,Fj.pandList=cs;var Bj=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleChange=function(e){var t,a={};s.setState((t={},Object(g.a)(t,e.target.id,e.target.value),Object(g.a)(t,"isLoading",!1),t)),"ticker"===e.target.id&&(a.ticker=e.target.value,a.inventory=s.state.inventory,s.setState({securitySelection:[]})),w()({method:"POST",url:N.URL+xi,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.buySellList&&(s.setState({buySellList:e.data.buySellList}),e.data.buySellList.length>0&&s.setState({columns:Pj(e.data.buySellList,Fj)})),e.data.pandList&&s.setState({pandList:e.data.pandList}),s.setState({isLoading:!0}))}))},s.state={cmodal:!0,tickerValue:"",inventoryValue:"",ticker:"",buySellList:[],pandList:[],columns:[],securitySelection:[],singleSelections:[],isLoading:!1},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.setSingleSelections=s.setSingleSelections.bind(Object(O.a)(s)),s.inventoryChange=s.inventoryChange.bind(Object(O.a)(s)),s.setSecuritySelection=s.setSecuritySelection.bind(Object(O.a)(s)),s.getDefaultValues=s.getDefaultValues.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!1}),w()({method:"POST",url:N.URL+Ec,timeout:N.apiTimeOut,data:{issuerId:"",productType:"2300"},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&w()({method:"POST",url:N.URL+xi,timeout:N.apiTimeOut,data:{inventory:t.data[0]?t.data[0].key:""},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(a){a.data&&(a.data.issueId&&e.setState({issueId:a.data.issueId,isLoading:!0}),a.data.pandList&&e.setState({pandList:a.data.pandList,isLoading:!0}),a.data.inventory&&e.setState({securitySelection:[t.data.find((function(e){return e.key===a.data.inventory})).value],isLoading:!0}),a.data.buySellList&&(e.setState({buySellList:a.data.buySellList,isLoading:!0}),a.data.buySellList.length>0&&e.setState({columns:Pj(a.data.buySellList,Fj),isLoading:!0}),a.data.pandList&&e.setState({pandList:a.data.pandList,isLoading:!0})))}))}))}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Tr&&this.setState({cmodal:!0,isLoading:!0})}},{key:"tickerChange",value:function(e){this.setState({tickerValue:e.target.value})}},{key:"inventoryChange",value:function(e){this.setState({inventoryValue:e.target.value})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"setSingleSelections",value:function(e,t){var a=this,s={};this.setState({singleSelections:e,securitySelection:[],isLoading:!1}),this.setState({ticker:t}),s.ticker=t,w()({method:"POST",url:N.URL+Ec,timeout:N.apiTimeOut,data:{issuerId:"",productType:"2300"},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(s.inventory=e.data[0]?e.data[0].key:"",w()({method:"POST",url:N.URL+xi,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&(t.data.buySellList&&(a.setState({buySellList:t.data.buySellList}),t.data.buySellList.length>0&&a.setState({columns:Pj(t.data.buySellList,Fj)})),t.data.pandList&&a.setState({pandList:t.data.pandList}),t.data.inventory&&a.setState({securitySelection:[e.data.find((function(e){return e.key===t.data.inventory})).value]}))})),a.setState({isLoading:!0}))}))}},{key:"setSecuritySelection",value:function(e,t){var a=this,s={};this.setState({securitySelection:e}),s.inventory=t,s.ticker=this.state.ticker,s.book=this.state.bookId,w()({method:"POST",url:N.URL+xi,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.ticker&&a.setState({ticker:e.data.ticker}),e.data.buySellList&&(a.setState({buySellList:e.data.buySellList}),e.data.buySellList.length>0&&a.setState({columns:Pj(e.data.buySellList,Fj)})),e.data.pandList&&a.setState({pandList:e.data.pandList}))})),this.setState({isLoading:!0})}},{key:"getDefaultValues",value:function(e,t){this.setState({tickerValue:"All"})}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsx)(u.Fragment,{children:this.state.isLoading?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:1,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Ticker",id:"lbl_ticker"})}),Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(jj,{id:"basic-typeahead-single",apiCall:ji,reqParams:{productType:zh},onchange:this.setSingleSelections,selected:this.state.singleSelections})}),Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:ji,reqParams:{productType:zh},onchange:this.handleChange,selected:this.state.ticker,stateMethod:this.getDefaultValues,id:"ticker"})}),Object(u.jsx)(W.a,{xs:1,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Security",id:"lbl_security"})}),Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(jj,{id:"security",apiCall:Ec,reqParams:{issuerId:this.state.ticker,productType:"2300"},onchange:this.setSecuritySelection,selected:this.state.securitySelection})})]})}),Object(u.jsx)("div",{className:"float-right pd8 clrSp",children:Object(u.jsx)(Vb,{tableColumns:this.state.columns,tableData:this.state.buySellList,screenTitle:"CD_PROFITLOSS_HISTORY_REPORT",subTitle:""})}),Object(u.jsx)(ai.a.Header,{as:"h5",className:"mt-3",children:Object(u.jsx)("strong",{className:"cursor",children:"Buys/Sells"})}),this.state.columns&&this.state.columns.length>0?Object(u.jsx)(Z.a,{keyField:"1",striped:!0,hover:!0,wrapperClasses:"fo2table table-responsive",data:this.state.buySellList,columns:this.state.columns}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."}),Object(u.jsx)("div",{className:"pt10",children:" "}),Object(u.jsx)(ai.a.Header,{as:"h5",style:{width:"80%",margin:"0 auto"},children:Object(u.jsx)("strong",{className:"cursor",children:"Profit/Loss Data"})}),Object(u.jsx)("div",{style:{width:"80%",margin:"0 auto",overflow:"auto"},children:this.state.pandList.length>0?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("table",{class:"table table-hover table-bordered",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("th",{className:"text-left bold",children:"Date"}),this.state.pandList.map((function(e){return Object(u.jsx)("th",{className:"text-right bold",children:e.settleDate})}))]})}),Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{style:{backgroundColor:"#cfe6fd"},children:[Object(u.jsx)("td",{className:"text-left bold removewrap",children:"Days To Maturity"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:e.days})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"SOD Position"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:Lo(e.currentAmount)})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#cfe6fd"},children:[Object(u.jsx)("td",{className:"text-left bold removewrap",children:"EOD Position"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:Lo(e.originalAmount)})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"Sell Amount"}),this.state.pandList.map((function(e){return Object(u.jsx)(u.Fragment,{children:void 0!==e.amount&&0===e.amount.toString().indexOf("-")?Object(u.jsxs)("td",{className:"text-right text-danger",children:["(",Lo(e.amount.toString().replace("-","")),")"]}):Object(u.jsx)("td",{className:"text-right",children:Lo(e.amount)})})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#cfe6fd"},children:[Object(u.jsx)("td",{className:"text-left bold removewrap",children:"Sell Weighted Avg Px"}),this.state.pandList.map((function(e){return Object(u.jsx)("th",{className:"text-right",children:""})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"EOD Bid Px"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:e.currentBid})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#cfe6fd"},children:[Object(u.jsx)("td",{className:"text-left bold ",children:"EOD Dollar Px"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:e.dollarPx})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"Accretion"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:Lo(e.accumulativeAccrued)})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#cfe6fd"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"Marking P or L"}),this.state.pandList.map((function(e){return Object(u.jsx)(u.Fragment,{children:void 0!==e.markingPl&&0===e.markingPl.toString().indexOf("-")?Object(u.jsxs)("td",{className:"text-right text-danger",children:["(",Lo(e.markingPl.toString().replace("-","")),")"]}):Object(u.jsx)("td",{className:"text-right",children:Lo(e.markingPl)})})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("td",{className:"text-left bold removewrap",children:"Cost of Funding"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:""})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#cfe6fd"},children:[Object(u.jsx)("td",{className:"text-left bold removewrap",children:"Total Unrealized"}),this.state.pandList.map((function(e){return Object(u.jsx)(u.Fragment,{children:void 0!==e.accumulativeUnReal&&0===e.accumulativeUnReal.toString().indexOf("-")?Object(u.jsxs)("td",{className:"text-right text-danger",children:["(",Lo(e.accumulativeUnReal.toString().replace("-","")),")"]}):Object(u.jsx)("td",{className:"text-right",children:Lo(e.accumulativeUnReal)})})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("td",{className:"text-left bold removewrap",children:"Realized from Sell"}),this.state.pandList.map((function(e){return Object(u.jsx)(u.Fragment,{children:void 0!==e.accumulativeRealUnreal&&0===e.realizedPandLfromSell.toString().indexOf("-")?Object(u.jsxs)("td",{className:"text-right text-danger",children:["(",Lo(e.realizedPandLfromSell.toString().replace("-","")),")"]}):Object(u.jsx)("td",{className:"text-right",children:Lo(e.realizedPandLfromSell)})})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#cfe6fd"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"Total Realized"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:e.prodGrandTotal})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"Sum of Real and Unreal"}),this.state.pandList.map((function(e){return Object(u.jsx)(u.Fragment,{children:void 0!==e.accumulativeRealUnreal&&0===e.accumulativeRealUnreal.toString().indexOf("-")?Object(u.jsxs)("td",{className:"text-right text-danger",children:["(",Lo(e.accumulativeRealUnreal.toString().replace("-","")),")"]}):Object(u.jsx)("td",{className:"text-right",children:Lo(e.accumulativeRealUnreal)})})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#cfe6fd"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"Net Interest Income"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:""})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"Accumulative Unreal"}),this.state.pandList.map((function(e){return Object(u.jsx)(u.Fragment,{children:void 0!==e.accumulativeUnReal&&0===e.accumulativeUnReal.toString().indexOf("-")?Object(u.jsxs)("td",{className:"text-right text-danger",children:["(",Lo(e.accumulativeUnReal.toString().replace("-","")),")"]}):Object(u.jsx)("td",{className:"text-right",children:Lo(e.accumulativeUnReal)})})}))]})]})]})}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."})})]})]})}):Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})})})})}}]),a}(o.a.Component),Lj=[];function _j(e,t,a,s){var n=[];return Object.keys(t).map((function(a){return Object.keys(e[0]).map((function(e){var s;e===a&&(t[e]&&(s="transType"===e?{dataField:e,text:t[e],formatter:function(e,t,a,s){return"B"==e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"S"==e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):void 0}}:"amount"===e?{dataField:e,text:t[e],formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:e,text:t[e],editable:!1},n.push(s)));return""})),""})),n}Lj.transType=Te,Lj.settleDate=Rs,Lj.maturityDate=ra,Lj.days=st,Lj.amount=Vs,Lj.price=es,Lj.pandL=js,Lj.buySellList=Me,Lj.pandList=cs;var Uj=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleChange=function(e){var t={};s.setState({isLoading:!1}),"ticker"===e.target.id?(t.ticker=e.target.value,t.book=s.state.bookId,s.setState({ticker:e.target.value,securitySelection:[]})):"bookId"===e.target.id&&(t.ticker=s.state.ticker,t.book=e.target.value,s.setState({bookId:e.target.value})),t.inventory=s.state.inventory,w()({method:"POST",url:N.URL+Pc,timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.buySellList&&(s.setState({buySellList:e.data.buySellList}),e.data.buySellList.length>0&&s.setState({columns:_j(e.data.buySellList,Lj)})),e.data.pandList&&s.setState({pandList:e.data.pandList}),s.setState({isLoading:!0}))}))},s.state={cmodal:!0,bookId:"",issueId:"",ticker:"",security:"",buySellList:[],columns:[],pandList:[],singleSelections:[],securitySelection:[],isLoading:!1},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.setSingleSelections=s.setSingleSelections.bind(Object(O.a)(s)),s.setSecuritySelection=s.setSecuritySelection.bind(Object(O.a)(s)),s.getDefaultValues=s.getDefaultValues.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!1}),w()({method:"POST",url:N.URL+Ec,timeout:N.apiTimeOut,data:{issuerId:"",productType:"1200"},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&w()({method:"POST",url:N.URL+Pc,timeout:N.apiTimeOut,data:{inventory:t.data[0]?t.data[0].key:""},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(a){a.data&&(a.data.issueId&&e.setState({issueId:a.data.issueId,isLoading:!0}),a.data.pandList&&e.setState({pandList:a.data.pandList,isLoading:!0}),a.data.inventory&&e.setState({securitySelection:[t.data.find((function(e){return e.key===a.data.inventory})).value],isLoading:!0}),a.data.buySellList&&(e.setState({buySellList:a.data.buySellList}),a.data.buySellList.length>0&&e.setState({columns:_j(a.data.buySellList,Lj),isLoading:!0}),a.data.pandList&&e.setState({pandList:a.data.pandList,isLoading:!0})))}))}))}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===wr&&this.setState({cmodal:!0,isLoading:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"setSingleSelections",value:function(e,t){var a=this;this.setState({securitySelection:[]});var s={};this.setState({singleSelections:e}),this.setState({ticker:t}),s.ticker=t,s.book=this.state.bookId,w()({method:"POST",url:N.URL+Ec,timeout:N.apiTimeOut,data:{issuerId:t,productType:"1200"},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(s.inventory=e.data[0]?e.data[0].key:"",w()({method:"POST",url:N.URL+Pc,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&(t.data.buySellList&&(a.setState({buySellList:t.data.buySellList}),t.data.buySellList.length>0&&a.setState({columns:_j(t.data.buySellList,Lj)})),t.data.pandList&&a.setState({pandList:t.data.pandList}),t.data.inventory&&a.setState({securitySelection:[e.data.find((function(e){return e.key===t.data.inventory})).value]}),a.setState({isLoading:!0}))})))}))}},{key:"setSecuritySelection",value:function(e,t){var a=this,s={};this.setState({securitySelection:e}),s.inventory=t,s.ticker=this.state.ticker,s.book=this.state.bookId,w()({method:"POST",url:N.URL+Pc,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.ticker&&a.setState({ticker:e.data.ticker}),e.data.buySellList&&(a.setState({buySellList:e.data.buySellList}),e.data.buySellList.length>0&&a.setState({columns:_j(e.data.buySellList,Lj)})),e.data.pandList&&a.setState({pandList:e.data.pandList}),a.setState({ticker:e.data.ticker,isLoading:!0}))}))}},{key:"getDefaultValues",value:function(e,t){this.setState({tickerValue:"All"})}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&!0===this.state.isLoading?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:1,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Books",id:"lbl_Books"})}),Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,onchange:this.handleChange,selected:this.state.bookId,id:"bookId",reqParams:{productType:Hh}})}),Object(u.jsx)(W.a,{xs:1,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Ticker",id:"lbl_ticker"})}),Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(jj,{id:"basic-typeahead-single",apiCall:ji,reqParams:{productType:Hh},onchange:this.setSingleSelections,selected:this.state.singleSelections})}),Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:ji,reqParams:{productType:Hh},onchange:this.handleChange,selected:this.state.ticker,stateMethod:this.getDefaultValues,id:"ticker"})}),Object(u.jsx)(W.a,{xs:1,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Security",id:"lbl_security"})}),Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(jj,{id:"inventory",apiCall:Ec,reqParams:{issuerId:this.state.ticker,productType:"1200"},onchange:this.setSecuritySelection,selected:this.state.securitySelection})})]})}),this.state.columns&&this.state.columns.length>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(ai.a.Header,{as:"h5",className:"mt-3",children:Object(u.jsx)("strong",{className:"cursor",children:"Buys/Sells"})}),this.state.columns&&this.state.columns.length>0?Object(u.jsx)(H.a,{children:Object(u.jsx)(Z.a,{keyField:"1",striped:!0,hover:!0,wrapperClasses:"fo2table table-responsive",data:this.state.buySellList,columns:this.state.columns})}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."})]}),Object(u.jsxs)("div",{className:"pt10",children:[Object(u.jsx)(ai.a.Header,{as:"h5",style:{width:"80%",margin:"0 auto"},children:Object(u.jsx)("strong",{className:"cursor",children:"Profit/Loss Data"})}),Object(u.jsx)("div",{style:{width:"80%",margin:"0 auto",overflow:"auto"},children:this.state.pandList.length>0?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("table",{class:"table table-hover table-bordered",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("th",{className:"text-left bold",children:"Date"}),this.state.pandList.map((function(e){return Object(u.jsx)("th",{className:"text-right bold",children:e.settleDate})}))]})}),Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{style:{backgroundColor:"#cfe6fd"},children:[Object(u.jsx)("td",{className:"text-left bold removewrap",children:"Days To Maturity"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:e.days})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"SOD Position"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:e.currentAmount})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#cfe6fd"},children:[Object(u.jsx)("td",{className:"text-left bold removewrap",children:"EOD Position"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:e.originalAmount})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"Sell Amount"}),this.state.pandList.map((function(e){return Object(u.jsx)(u.Fragment,{children:void 0!==e.amount&&0===e.amount.toString().indexOf("-")?Object(u.jsxs)("td",{className:"text-right text-danger",children:["(",Lo(e.amount.toString().replace("-","")),")"]}):Object(u.jsx)("td",{className:"text-right",children:Lo(e.amount)})})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#cfe6fd"},children:[Object(u.jsx)("td",{className:"text-left bold removewrap",children:"Sell Weighted Avg Px"}),this.state.pandList.map((function(e){return Object(u.jsx)("th",{className:"text-right",children:""})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"EOD Bid Px"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:e.currentBid})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#cfe6fd"},children:[Object(u.jsx)("td",{className:"text-left bold ",children:"EOD Dollar Px"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:e.dollarPx})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"Accretion"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:Lo(e.accumulativeAccrued)})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#cfe6fd"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"Marking P or L"}),this.state.pandList.map((function(e){return Object(u.jsx)(u.Fragment,{children:void 0!==e.markingPl&&0===e.markingPl.toString().indexOf("-")?Object(u.jsxs)("td",{className:"text-right text-danger",children:["(",Lo(e.markingPl.toString().replace("-","")),")"]}):Object(u.jsx)("td",{className:"text-right",children:Lo(e.markingPl)})})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("td",{className:"text-left bold removewrap",children:"Cost of Funding"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:""})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#cfe6fd"},children:[Object(u.jsx)("td",{className:"text-left bold removewrap",children:"Total Unrealized"}),this.state.pandList.map((function(e){return Object(u.jsx)(u.Fragment,{children:void 0!==e.accumulativeUnReal&&0===e.accumulativeUnReal.toString().indexOf("-")?Object(u.jsxs)("td",{className:"text-right text-danger",children:["(",Lo(e.accumulativeUnReal.toString().replace("-","")),")"]}):Object(u.jsx)("td",{className:"text-right",children:Lo(e.accumulativeUnReal)})})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("td",{className:"text-left bold removewrap",children:"Realized from Sell"}),this.state.pandList.map((function(e){return Object(u.jsx)(u.Fragment,{children:void 0!==e.accumulativeRealUnreal&&0===e.realizedPandLfromSell.toString().indexOf("-")?Object(u.jsxs)("td",{className:"text-right text-danger",children:["(",Lo(e.realizedPandLfromSell.toString().replace("-","")),")"]}):Object(u.jsx)("td",{className:"text-right",children:Lo(e.realizedPandLfromSell)})})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#cfe6fd"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"Total Realized"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:e.prodGrandTotal})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"Sum of Real and Unreal"}),this.state.pandList.map((function(e){return Object(u.jsx)(u.Fragment,{children:void 0!==e.accumulativeRealUnreal&&0===e.accumulativeRealUnreal.toString().indexOf("-")?Object(u.jsxs)("td",{className:"text-right text-danger",children:["(",Lo(e.accumulativeRealUnreal.toString().replace("-","")),")"]}):Object(u.jsx)("td",{className:"text-right",children:Lo(e.accumulativeRealUnreal)})})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#cfe6fd"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"Net Interest Income"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:""})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"Accumulative Unreal"}),this.state.pandList.map((function(e){return Object(u.jsx)(u.Fragment,{children:void 0!==e.accumulativeUnReal&&0===e.accumulativeUnReal.toString().indexOf("-")?Object(u.jsxs)("td",{className:"text-right text-danger",children:["(",Lo(e.accumulativeUnReal.toString().replace("-","")),")"]}):Object(u.jsx)("td",{className:"text-right",children:Lo(e.accumulativeUnReal)})})}))]})]})]})}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."})})]})]})]})}):Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})})})}}]),a}(o.a.Component),Vj=[];Vj.cusip=Ze,Vj.issuerName=Kt,Vj.tickerCode=cn,Vj.prodType=ls,Vj.amount=Us,Vj.price=es,Vj.tradeDate=$s,Vj.settleDate=Rs,Vj.maturityDate=da,Vj.salesPersonName=Ns,Vj.bookName=jn,Vj.investorAcctName=Ut,Vj.cassiiNbr=Q,Vj.buySellFlag=Te;var Yj=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).hideError=function(){s.setState({showError:!1})},s.state={cmodal:!0,cusipsValue:"",ticketTypeValue:"",formDateValue:new Date,toDateValue:new Date},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.cusipsChange=s.cusipsChange.bind(Object(O.a)(s)),s.ticketTypeChange=s.ticketTypeChange.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Ir&&this.setState({cmodal:!0})}},{key:"cusipsChange",value:function(e){this.setState({cusipsValue:e.target.options[e.target.selectedIndex].text,cusip:e.target.value})}},{key:"ticketTypeChange",value:function(e){this.setState({ticketTypeValue:e.target.value})}},{key:"fromDateChange",value:function(e){var t="",a=new Date;if(a=Yu(this.state.toDateValue,"MM/DD/YYYY"),Yu(e,"MM/DD/YYYY")>a&&(t="From Date should be less than To Date "),t)return this.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1;this.setState({formDateValue:e})}},{key:"toDateChange",value:function(e){var t="",a=new Date;if(a=Yu(this.state.formDateValue,"MM/DD/YYYY"),Yu(e,"MM/DD/YYYY")<a&&(t="To Date Should be Greater than From Date"),t)return this.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1;this.setState({toDateValue:e})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"render",value:function(){var e=this;return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"CUSIP",id:"lbl_cusip"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:fi,reqParams:{fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue),prodId:"All",issuerId:"All",fromPage:"",All:"true"},onchange:this.cusipsChange,selected:this.state.cusip,id:"cuisp"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Ticket Type",id:"lbl_ticketType:"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:gi,reqParams:{},onchange:this.ticketTypeChange,selected:this.state.ticketTypeValue,id:"ticketType"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_stmttype"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_stmttype"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(lp,{cprops:Vj,apiCall:"/getCusipHistoryReport",reqParams:{cusip:""===this.state.cusipsValue?"ALL":this.state.cusipsValue,ticket:""===this.state.ticketTypeValue?"ALL":this.state.ticketTypeValue,fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue)},keyField:"1",screenName:"CUSIP_HISTORY_REPORT",flagPdf:!0})}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})]})})}}]),a}(o.a.Component),Hj=[];Hj.prodType=is,Hj.uploadId="Upload Id",Hj.fileName="File Name",Hj.exceptionfile="Exception File Name",Hj.traderId="Uploaded by",Hj.tradeDate="Upload Date",Hj.totalCount="Total Count",Hj.approvedCount="Success Count",Hj.rejectedCount="Exception Count",Hj.status=qs,Hj.reason=xs;var Wj=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).hideError=function(){s.setState({showError:!1})},s.state={cmodal:!0,productTypeValue:"",statusValue:"",formDateValue:new Date,toDateValue:new Date},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.productTypeChange=s.productTypeChange.bind(Object(O.a)(s)),s.statusChange=s.statusChange.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Br&&this.setState({cmodal:!0})}},{key:"productTypeChange",value:function(e){this.setState({productTypeValue:e.target.value})}},{key:"statusChange",value:function(e){this.setState({statusValue:e.target.value})}},{key:"fromDateChange",value:function(e){var t="",a=new Date;if(a=Yu(this.state.toDateValue,"MM/DD/YYYY"),Yu(e,"MM/DD/YYYY")>a&&(t="From Date should be less than To Date "),t)return this.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1;this.setState({formDateValue:e})}},{key:"toDateChange",value:function(e){var t="",a=new Date;if(a=Yu(this.state.formDateValue,"MM/DD/YYYY"),Yu(e,"MM/DD/YYYY")<a&&(t="To Date Should be Greater than From Date"),t)return this.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1;this.setState({toDateValue:e})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"render",value:function(){var e=this;return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Product",id:"lbl_product"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:vi,reqParams:{},onchange:this.productTypeChange,selected:this.state.productTypeValue,id:"product"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Status",id:"lbl_status"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:"/getStatus",reqParams:{},onchange:this.statusChange,selected:this.state.statusValue,id:"status"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_stmttype"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_stmttype"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(lp,{cprops:Hj,apiCall:"/getGridUploadReport",reqParams:{product:""===this.state.productTypeValue?"ALL":this.state.productTypeValue,status:""===this.state.statusValue?"ALL":this.state.statusValue,fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue)},keyField:"uploadId",screenName:"GRID_UPLOAD_REPORT",flagPdf:!0})}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})]})})}}]),a}(o.a.Component),qj=[];function zj(e,t,a,s){var n=[];return Object.keys(t).map((function(s){return Object.keys(e[0]).map((function(e){var o;e===s&&(t[e]&&(o=a&&"buySellFlag"===e?{dataField:e,text:t[e],formatter:a.imgComponent}:"amount"===e?{dataField:e,text:t[e],formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:e,text:t[e],editable:!1},n.push(o)));return""})),""})),n}qj.investorAcctName=Ut,qj.issuerName=Kt,qj.tickerCode=cn,qj.prodCode=ls,qj.amount=Us,qj.price=es,qj.tradeDate=$s,qj.settleDate=Rs,qj.maturityDate=da,qj.cusip=Ze,qj.salesPersonName=Ns,qj.bookName=jn,qj.cassiiNbr=Le;var Gj=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).onChange=function(e){var t,a={};s.setState((t={},Object(g.a)(t,e.target.id,e.target.value),Object(g.a)(t,"isLoading",!1),t)),"countryCode"===e.target.id?(a.countryCode=e.target.value,a.investorId=s.state.investorId):"investorId"===e.target.id&&(a.countryCode=s.state.countryCode,a.investorId=e.target.value),a.fromDate=s.state.fromDate,a.toDate=s.state.toDate,w()({method:"POST",url:N.URL+Ci,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.countryCode&&s.setState({countryCode:e.data.countryCode}),e.data.investorId&&s.setState({investorId:e.data.investorId}),e.data.fromDate&&s.setState({fromDate:e.data.fromDate}),e.data.toDate&&s.setState({toDate:e.data.toDate}),e.data.reportData&&(s.setState({reportData:e.data.reportData}),e.data.reportData.length>0&&s.setState({columns:zj(e.data.reportData,qj)})),s.setState({isLoading:!0}))}))},s.onDateChange=function(e,t){var a={};if(s.setState({isLoading:!1}),"fromDate"===t){var n=new Date;n=Yu(s.state.toDate,"MM/DD/YYYY"),Yu(e,"MM/DD/YYYY")>n?s.setState({actionTitle:"Alert",actionMessage:"From Date should be less than To Date ",showError:!0}):(s.setState({fromDate:e}),a.fromDate=Vu(e),a.toDate=s.state.toDate,a.countryCode=s.state.countryCode,a.investorId=s.state.investorId)}else if("toDate"===t){var o=new Date;o=Yu(s.state.fromDate,"MM/DD/YYYY"),Yu(e,"MM/DD/YYYY")<o?s.setState({actionTitle:"Alert",actionMessage:"To Date Should be Greater than From Date",showError:!0}):(a.fromDate=s.state.fromDate,a.toDate=Vu(e),s.setState({toDate:e}),a.countryCode=s.state.countryCode,a.investorId=s.state.investorId)}w()({method:"POST",url:N.URL+Ci,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.countryCode&&s.setState({countryCode:e.data.countryCode}),e.data.investorId&&s.setState({investorId:e.data.investorId}),e.data.fromDate&&s.setState({fromDate:e.data.fromDate}),e.data.toDate&&s.setState({toDate:e.data.toDate}),e.data.reportData&&(s.setState({reportData:e.data.reportData}),e.data.reportData.length>0&&s.setState({columns:zj(e.data.reportData,qj)})),s.setState({isLoading:!0}))}))},s.hideError=function(){s.setState({showError:!1})},s.state={cmodal:!0,investorId:"",fromDate:"",toDate:"",reportData:[],columns:[],countryCode:"",isLoading:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!1}),w()({method:"POST",url:N.URL+Ci,timeout:N.apiTimeOut,data:{countryCode:""===this.state.countryCode?"ALL":this.state.countryCode},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&(t.data.countryCode&&e.setState({countryCode:t.data.countryCode}),t.data.investorId&&e.setState({investorId:t.data.investorId}),t.data.fromDate&&e.setState({fromDate:t.data.fromDate}),t.data.toDate&&e.setState({toDate:t.data.toDate}),t.data.reportData&&(e.setState({reportData:t.data.reportData}),t.data.reportData.length>0&&e.setState({columns:zj(t.data.reportData,qj)})),e.setState({isLoading:!0}))}))}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Dr&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"render",value:function(){var e=this;return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[this.state.isLoading?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Country",id:"lbl_country"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:wc,reqParams:{},onchange:this.onChange,selected:this.state.countryCode,id:"countryCode"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Investor",id:"lbl_investor"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:"/getInvestors",reqParams:{},onchange:this.onChange,selected:this.state.investorId,id:"investorId"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",id:"fromDate",fromDate:new Date(this.state.fromDate),fromDateFlg:!0,onchange:function(t){e.onDateChange(t,"fromDate")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"toDate",id:"fromDate",toDate:new Date(this.state.toDate),toDateFlg:!0,onchange:function(t){e.onDateChange(t,"toDate")}})})]})]}),this.state.reportData.length>0&&Object(u.jsx)(W.a,{className:"text-right pdAd",children:Object(u.jsx)(Vb,{tableColumns:this.state.columns,tableData:this.state.reportData,screenTitle:"INVESTOR_BUY_RUN",subTitle:""})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{className:"d-inline-block p-0",children:this.state.reportData.length>0?Object(u.jsx)("div",{style:{width:"100%"},children:Object(u.jsx)(Z.a,{data:this.state.reportData,keyField:"rowNo",columns:this.state.columns,striped:!0,hover:!0,wrapperClasses:"fo2table table-responsive"})}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."})})})})]}):Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})]})})}}]),a}(o.a.Component),Kj=[];Kj.issuerName=Kt,Kj.tickerCode=cn,Kj.prodType=ls,Kj.amount=Us,Kj.price=es,Kj.tradeDate=$s,Kj.settleDate=Rs,Kj.maturityDate=da,Kj.cusip=Ze,Kj.salesPersonName=Ns,Kj.bookName=jn,Kj.investorAcctName=Ut,Kj.cassiiNbr=Le,Kj.buySellFlag=Te;var Zj=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).countryChange=function(e){s.setState({countryCode:e.target.value})},s.tickerChange=function(e){s.setState({ticker:e.target.value})},s.hideError=function(){s.setState({showError:!1})},s.state={cmodal:!0,issuerValue:"",ticketTypeValue:"",countryCode:"",formDateValue:new Date,toDateValue:new Date},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.ticketTypeChange=s.ticketTypeChange.bind(Object(O.a)(s)),s.issuerChange=s.issuerChange.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Er&&this.setState({cmodal:!0})}},{key:"issuerChange",value:function(e){this.setState({issuerValue:e.target.value})}},{key:"ticketTypeChange",value:function(e){this.setState({ticketTypeValue:e.target.value})}},{key:"fromDateChange",value:function(e){var t="",a=new Date;if(a=Yu(this.state.toDateValue,"MM/DD/YYYY"),Yu(e,"MM/DD/YYYY")>a&&(t="From Date should be less than To Date "),t)return this.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1;this.setState({formDateValue:e})}},{key:"toDateChange",value:function(e){var t="",a=new Date;if(a=Yu(this.state.formDateValue,"MM/DD/YYYY"),Yu(e,"MM/DD/YYYY")<a&&(t="To Date Should be Greater than From Date"),t)return this.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1;this.setState({toDateValue:e})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"render",value:function(){var e=this;return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Country",id:"lbl_country"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:wc,reqParams:{},onchange:this.countryChange,selected:this.state.countryCode,id:"countryCode"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:5,className:"d-inline-block removewrap",children:Object(u.jsx)(ni,{label:"Issuer",id:"lbl_issuer"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:wi,reqParams:{allFlag:"false"},onchange:this.issuerChange,selected:this.state.issuerValue,id:"issuer"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Ticker",id:"lbl_ticker"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:ji,reqParams:{},onchange:this.tickerChange,selected:this.state.ticker,id:"ticker"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:5,className:"d-inline-block removewrap",children:Object(u.jsx)(ni,{label:"Ticket Type",id:"lbl_ticketType:"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:gi,reqParams:{},onchange:this.ticketTypeChange,selected:this.state.ticketTypeValue,id:"ticketType"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:5,className:"d-inline-block removewrap",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_stmttype"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange,id:"stmttype"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(lp,{cprops:Kj,apiCall:"/getIssuerHistoryReportData",reqParams:{issuerId:""===this.state.issuerValue?"ALL":this.state.issuerValue,countryCode:""===this.state.countryCode?"ALL":this.state.countryCode,ticket:""===this.state.ticketTypeValue?"ALL":this.state.ticketTypeValue,ticker:""===this.state.ticker?"ALL":this.state.ticker,fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue)},keyField:"1",screenName:"ISSUER_HISTORY_REPORT",flagPdf:!0})}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})]})})}}]),a}(o.a.Component),Jj=[],Qj=[],Xj=[],$j=[],ex=[],tx=[],ax=(Pb.CSVExport.ExportCSVButton,function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={columns:[],data:[],isLoading:!1},s}return Object(l.a)(a,[{key:"getSnapshotBeforeUpdate",value:function(e,t){return JSON.stringify(e.reqParams)!==JSON.stringify(this.props.reqParams)||null}},{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0,data:[],columns:[]}),Jj=[],Qj=[],Xj=[],$j=[],this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){var a,s=[];a=t.data,t.data.length>0&&(s=e.props.mappings(t.data,e.props.cprops,e.props.customComponents)),"RISK_BYPRODUCT"===e.props.screenName&&(t.data&&t.data.forEach((function(e){Jj.push(e.prodCode),Qj.push(e.weightAvg)})),e.props.loaddonutdata(Jj,Qj)),"RISK_BYDEPARTMENT"===e.props.screenName&&(t.data&&t.data.forEach((function(e){Xj.push(e.prodCode),$j.push(e.weightAvg)})),e.props.loaddeptdata(Xj,$j)),"RISKBYBOOK"===e.props.screenName&&(t.data&&t.data.forEach((function(e){ex.push(e.bookName+"-"+e.prodCode),tx.push(e.weightAvg)})),e.props.loadbookdata(ex,tx)),e.setState({isLoading:!1,data:a,columns:s})}))}},{key:"componentDidUpdate",value:function(e,t,a){var s=this;e!==this.props&&!0===a&&this.props.apiCall&&(this.setState({isLoading:!0,data:[],columns:[]}),Jj=[],Qj=[],Xj=[],$j=[],w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){var t,a=[];t=e.data,e.data.length>0&&(a=s.props.mappings(e.data,s.props.cprops,s.props.customComponents)),s.setState({isLoading:!1,data:t,columns:a})})))}},{key:"render",value:function(){var e=this,t=function(t){return Object(u.jsx)("div",{className:"col-md-12 text-right",children:Object(u.jsx)("button",{className:"btn btn-primary mb-1",onClick:function(){t.onExport(e.state.data)},children:Object(u.jsx)(B.p,{})})})};return Object(u.jsx)(u.Fragment,{children:!1===this.state.isLoading?this.state.columns&&this.state.columns.length>0?Object(u.jsxs)("div",{className:"sidebarwrap",children:[Object(u.jsx)("div",{className:"text-right",children:Object(u.jsx)(Vb,{tableColumns:this.state.columns,tableData:this.state.data,screenTitle:this.props.screenName,subTitle:void 0!==this.props.subTitle?this.props.subTitle:""})}),Object(u.jsx)(Bb.a,{keyField:this.props.keyField,data:this.state.data,columns:this.state.columns,exportCSV:{fileName:s[this.props.screenName]+" "+(void 0!==this.props.subTitle?this.props.subTitle:"")+".csv"},children:function(a){return Object(u.jsxs)("div",{children:[Object(u.jsx)(t,Object(m.a)({},a.csvProps)),Object(u.jsx)(Z.a,Object(m.a)(Object(m.a)({},a.baseProps),{},{headers:e.state.headers,filter:Ro()(),striped:!0,hover:!0,wrapperClasses:e.props.fixedTable?"fo2table table-responsive mht":e.props.noMaxHt?"fo2table table-responsive nomht":"fo2table table-responsive"}))]})}})]}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."}):Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})})})}}]),a}(o.a.Component));function sx(e,t,a){var s,n=[];return Object.keys(t).map((function(o){return Object.keys(e[0]).map((function(i){if(i===o){if("grandTotal"===i){var l={dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"};n.push(l)}else if(e[0][i]){l={dataField:i,text:t[i],filter:Object(Ao.textFilter)(),editable:!1},n.push(l)}}else a.reportMapComponent&&"reportMap"===i&&n.length>1&&(null===s||s!==e[0].reportMap)&&(s=e[0].reportMap,Object.keys(e[0].reportMap).map((function(e){l={dataField:e,text:e,filter:Object(Ao.textFilter)(),filterValue:function(t,a){return a.reportMap[e]},csvFormatter:function(t,a,s,n){return a.reportMap[e]},formatter:function(t,s,n,o){return t=s.reportMap[e],a.reportMapComponent(t,s,n,o,e)},align:"right"},n.push(l)})));return""})),""})),n}function nx(e,t,a){var s,n=[],o=[],i=[];return Object.keys(t).map((function(i){return Object.keys(e[0]).map((function(l){if(l===i){if("grandTotal"===l){var c={dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"};n.push(c)}n.push(l),o.push(t[l])}else a.reportMapComponent&&"reportMap"===l&&n.length>1&&(null===s||s!==e[0].reportMap)&&(s=e[0].reportMap,Object.keys(e[0].reportMap).map((function(e){n.push(e),o.push(e)})));return""})),""})),e.map((function(e,t){var a=[];n.map((function(t,s){e[t]?a.push(e[t]):e.reportMap[t]&&a.push(e.reportMap[t])})),i.push(a)})),{columns:new Array(o),data:i}}var ox=[];ox.tickerCode=cn,ox.issuerName=Kt,ox.grandTotal=Bt;var ix=[];ix.ticket=dn,ix.prodCode=ls,ix.ticker=cn,ix.bid=He,ix.maturityDate=da,ix.settlementDate=Fs,ix.amount=ga,ix.bidYield=In,ix.price=es,ix.cassii=Le,ix.net=Na,ix[Oe]=fe,ix.msgType=Te,ix.notes=Ca,ix.actionId=ie;var lx=[];lx.programId=os,lx.ticket=dn,lx.ticker=cn,lx.cassii=X,lx.prodCode=ls,lx.currencyCode=Ge,lx.amount=Za,lx.settle=$s,lx.settlementDate=Ms,lx.maturityDateStr=da,lx.bid=ps,lx.bidYield=In,lx.afr=le,lx.price=es,lx.msgType=Te,lx.bookNo=Se,lx.dispDescr=qs,lx.amendType=be,lx[bt]=pt;var cx=[];cx.ticketId=dn,cx.ticketAmount=ga,cx.salesPerson=Ns;var rx=[];rx.ticketId=dn,rx.ticketAmount=ga,rx.settleDate=Ms,rx.maturityDate=ma,rx.ticketRate=ps,rx.currency=ze,rx.yield=In,rx.tradeSource=Gs,rx.salesPerson=Ns,rx.msgType=Te,rx.status=qs;var dx=[];dx.modifiedDate=at,dx.settleDate=Ts,dx.maturityDate=la,dx.amount=Vs,dx.bid=Ne,dx.accretion=ge,dx.realizedpl=no,dx.unrealizedpl=oo,dx.pandl=Gn;var mx=[];mx.ticket=dn,mx.prodCode=ls,mx.ticker=cn,mx.amount=ga,mx.settlementDate=Fs,mx.maturityDate=da,mx.bid=ps,mx.cassii=Le,mx.net=Na,mx[Yt]=mt,mx.msgType=Te,mx.notes=Ca,mx.actionId=ie;var hx=[];hx.issuerName=Kt,hx.netAmount=Us;var ux=[];ux.cassii=Vt,ux.netAmount=Us;var bx=[];bx.cassii=Vt,bx.issuerName=Kt,bx.netAmount=Us;var px=[];px.cassii=Vt,px.issuerName=Kt,px.traderName=is,px.netAmount=Us,px.price=es,px.maturityDate=la,px.settleDate=Ts,px.cusip=Ze,px.salesPerson=Ns;var jx=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.modalData,a=e.prodType,s=e.matDate,n=e.stmtType,o=e.viewBy,i=e.timeLineFlag,l=e.fromPage,c=e.fromDate,r=e.toDate,d=e.status;return Object(u.jsx)("div",{className:"tab-pane mt-1",children:Object(u.jsx)("div",{className:"react-bootstrap-table fo2table table-responsive",children:i?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(lp,{cprops:this.props.type&&"amount"===this.props.type?"I"===o?ux:"C"===o?hx:bx:px,apiCall:this.props.apiCall,reqParams:{maturityDate:s,issuerId:t.programId,productType:a,stmtType:n,viewBy:o},keyField:"1",excelFlag:"true"})}):Object(u.jsx)(lp,{cprops:this.props.type&&"amount"===this.props.type?So:wo,apiCall:this.props.apiCall,reqParams:{maturityDate:s,programId:t.programId,productType:a,transType:"85",source:t.venue,stmtType:n,fromPage:l,fromDate:c,status:d,toDate:r},keyField:"1",excelFlag:"true",venue:this.props.venue})})})}}]),a}(o.a.Component),xx=jx,fx=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.modalData,a=e.prodType,s=e.matDate,n=e.stmtType,o=e.viewBy;return t?Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,size:this.props.size,dialogClassName:"modal rate","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,id:this.props.venue,children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:Object(u.jsx)(u.Fragment,{children:"Metrics By Venue"===this.props.modalHead?Object(u.jsx)(u.Fragment,{children:this.props.type&&"amount"===this.props.type?"I"===o?"Investor Details":"C"===o?"Issuer Details":"Trader Detalis":"Venue: "+this.props.venue+" Tickets"}):Object(u.jsx)(u.Fragment,{children:this.props.type&&"amount"===this.props.type?"I"===o?"Investor Details":"C"===o?"Issuer Details":"Trader Detalis":this.props.modalHead})})})}),Object(u.jsx)(P.a.Body,{children:this.props.timeLineFlag?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(xx,{modalData:t,prodType:a,apiCall:"/getTimelineLayerData",matDate:s,type:this.props.type,stmtType:n,viewBy:o,timeLineFlag:this.props.timeLineFlag})}):this.props.venueFlag?Object(u.jsx)(xx,{modalData:t,prodType:a,apiCall:"/getVenueMetricTradeDetails",matDate:s,status:this.props.status,type:this.props.type,fromDate:this.props.fromDate,toDate:this.props.toDate,venue:this.props.venue}):Object(u.jsx)(xx,{modalData:t,prodType:a,apiCall:nl,matDate:s,type:this.props.type,stmtType:this.props.stmtType,fromPage:this.props.fromPage})})]}):""}}]),a}(o.a.Component),gx=fx,Ox=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openModal=function(e,t){s.setState({modalData:e,matDate:t,showModal:!0})},s.openPdf1=function(e){s.getPDFData(e,"Maturity Forecast")},s.numberWithCommas=function(e){return parseFloat(e).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},s.state={tickerValue:"",stmtValue:"",formDateValue:new Date(_u()),toDateValue:new Date(zu(_u(),"6")),singleSelections:"",showModal:!1,matDate:"",modalData:""},s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.stmtChange=s.stmtChange.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.setSingleSelections=s.setSingleSelections.bind(Object(O.a)(s)),s.reportMapComponent=s.reportMapComponent.bind(Object(O.a)(s)),s.getDefaultValues=s.getDefaultValues.bind(Object(O.a)(s)),s.getPDFData=s.getPDFData.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"tickerChange",value:function(e){this.setState({tickerValue:e.target.value})}},{key:"stmtChange",value:function(e,t){var a=this;this.setState({stmtValue:e.target.value}),w()({method:"POST",url:N.URL+Gl,timeout:N.apiTimeOut,data:{fromDate:Yu(new Date,"MM/DD/YY"),stmtType:e.target.value},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({formDateValue:new Date(e.data.fromDate),toDateValue:new Date(e.data.toDate)})}))}},{key:"fromDateChange",value:function(e){var t=this;this.setState({formDateValue:e}),w()({method:"POST",url:N.URL+Gl,timeout:N.apiTimeOut,data:{fromDate:Vu(e),stmtType:this.state.stmtValue},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({formDateValue:new Date(e.data.fromDate),toDateValue:new Date(e.data.toDate)})}))}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e})}},{key:"setSingleSelections",value:function(e,t){this.setState({singleSelections:e,tickerValue:t})}},{key:"getDefaultValues",value:function(e,t){}},{key:"reportMapComponent",value:function(e,t,a,s,n){var o=this;return"0"!==e?Object(u.jsx)("div",{className:"dispFlex",children:Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:function(e){return o.openModal(t,n)},children:e},a)}):e}},{key:"hideModal",value:function(){this.setState({showModal:!1,matDate:"",modalData:""})}},{key:"getPDFData",value:function(){var e=Object(f.a)(y.a.mark((function e(t,a){var s,n,o,i,l,c,r,d,m=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={productType:Hh,fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue),stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,ticker:""===this.state.tickerValue?"ALL":this.state.tickerValue},e.next=3,w()({method:"POST",url:N.URL+Mi,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}});case 3:n=e.sent,o=nx(n.data,ox,t),"pt","A4","landscape",40,(i=new Lb.default("landscape","pt","A4")).setFontSize(15),l=a,c=o.columns,r=o.data,d={startY:50,head:c,body:r},r&&r.map((function(e,t){e[7]&&e[7]&&(e[7]=m.numberWithCommas(e[7]))})),i.text(l,40,40),i.autoTable(d),i.save(a+".pdf");case 19:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t={};return t.reportMapComponent=this.reportMapComponent,t.getFilter=this.getFilter,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(H.a,{className:"mt-1",children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:1,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Ticker",id:"lbl_ticker"})}),Object(u.jsx)(W.a,{xs:1.5,className:"d-inline-block",children:Object(u.jsx)(jj,{id:"basic-typeahead-single",apiCall:ji,reqParams:{productType:Hh},onchange:this.setSingleSelections,selected:this.state.singleSelections})}),Object(u.jsx)(W.a,{xs:1.5,className:"d-inline-block ml5",children:Object(u.jsx)(Dp,{apiCall:ji,reqParams:{productType:Hh},onchange:this.tickerChange,selected:this.state.tickerValue,stateMethod:this.getDefaultValues,id:"ticker"})}),Object(u.jsx)(W.a,{xs:1,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Stmt Type",id:"lbl_stmttype"})}),Object(u.jsx)(W.a,{xs:1.5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:pi,reqParams:{},onchange:this.stmtChange,selected:this.state.stmtValue,id:"stmtType"})}),Object(u.jsxs)(u.Fragment,{children:[(this.state.stmtValue,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(W.a,{xs:1,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:1.5,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]})),(this.state.stmtValue,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(W.a,{xs:1,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:1.5,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange,disabled:!0})})]}))]})]})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ax,{cprops:ox,apiCall:Mi,reqParams:{productType:Hh,fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue),stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,ticker:""===this.state.tickerValue?"ALL":this.state.tickerValue},mappings:sx,maturityfcFlag:"true",keyField:"1",customComponents:t,screenName:"MATURITY_FORECAST",subTitle:" CP"})}),Object(u.jsx)(gx,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Trade Details",prodType:Hh,modalData:this.state.modalData,matDate:this.state.matDate,stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,fromPage:"ISRINDRT"})]})}}]),a}(o.a.Component),vx=Ox,yx=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openModal=function(e,t){s.setState({modalData:e,matDate:t,showModal:!0})},s.numberWithCommas=function(e){return parseFloat(e).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},s.openPdf1=function(e){s.getPDFData(e,"Maturity Forecast")},s.state={tickerValue:"",stmtValue:"",formDateValue:new Date(_u()),toDateValue:new Date(zu(_u(),"6")),singleSelections:"",showModal:!1,matDate:"",modalData:""},s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.stmtChange=s.stmtChange.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.setSingleSelections=s.setSingleSelections.bind(Object(O.a)(s)),s.reportMapComponent=s.reportMapComponent.bind(Object(O.a)(s)),s.getDefaultValues=s.getDefaultValues.bind(Object(O.a)(s)),s.getPDFData=s.getPDFData.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"tickerChange",value:function(e){this.setState({tickerValue:e.target.value})}},{key:"stmtChange",value:function(e,t){var a=this;this.setState({stmtValue:e.target.value}),w()({method:"POST",url:N.URL+Gl,timeout:N.apiTimeOut,data:{fromDate:Yu(new Date,"MM/DD/YY"),stmtType:e.target.value},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({formDateValue:new Date(e.data.fromDate),toDateValue:new Date(e.data.toDate)})}))}},{key:"fromDateChange",value:function(e){var t=this;this.setState({formDateValue:e}),w()({method:"POST",url:N.URL+Gl,timeout:N.apiTimeOut,data:{fromDate:Vu(e),stmtType:this.state.stmtValue},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({formDateValue:new Date(e.data.fromDate),toDateValue:new Date(e.data.toDate)})}))}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e})}},{key:"setSingleSelections",value:function(e,t){this.setState({singleSelections:e,tickerValue:t})}},{key:"getDefaultValues",value:function(e,t){}},{key:"reportMapComponent",value:function(e,t,a,s,n,o){var i=this;return"0"!==e?Object(u.jsx)("div",{className:"dispFlex",children:Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:function(e){return i.openModal(t,n)},children:e},a)}):e}},{key:"hideModal",value:function(){this.setState({showModal:!1,matDate:"",modalData:""})}},{key:"getPDFData",value:function(){var e=Object(f.a)(y.a.mark((function e(t,a){var s,n,o,i,l,c,r,d,m=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={productType:qh,fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue),stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,ticker:""===this.state.tickerValue?"ALL":this.state.tickerValue},e.next=3,w()({method:"POST",url:N.URL+Mi,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}});case 3:n=e.sent,o=nx(n.data,ox,t),"pt","A4","landscape",40,(i=new Lb.default("landscape","pt","A4")).setFontSize(15),l=a,c=o.columns,r=o.data,d={startY:50,head:c,body:r},r&&r.map((function(e,t){e[7]&&e[7]&&(e[7]=m.numberWithCommas(e[7]))})),i.text(l,40,40),i.autoTable(d),i.save(a+".pdf");case 19:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t={};return t.reportMapComponent=this.reportMapComponent,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Ticker",id:"lbl_ticker"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(jj,{id:"basic-typeahead-single",apiCall:ji,reqParams:{productType:qh},onchange:this.setSingleSelections,selected:this.state.singleSelections})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:ji,reqParams:{productType:qh},onchange:this.tickerChange,selected:this.state.tickerValue,stateMethod:this.getDefaultValues,id:"ticker"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Stmt Type",id:"lbl_stmttype"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:pi,reqParams:{},onchange:this.stmtChange,selected:this.state.stmtValue,id:"stmtType"})})]}),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]})}),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange,disabled:!0})})]})})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ax,{cprops:ox,apiCall:Mi,reqParams:{productType:qh,fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue),stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,ticker:""===this.state.tickerValue?"ALL":this.state.tickerValue},mappings:sx,maturityfcFlag:"true",keyField:"1",customComponents:t,screenName:"MATURITY_FORECAST",subTitle:" ECD"})}),Object(u.jsx)(gx,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Trade Details",prodType:qh,modalData:this.state.modalData,matDate:this.state.matDate,stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,fromPage:"ISRINDRT"})]})}}]),a}(o.a.Component),kx=yx,Dx=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openModal=function(e,t){s.setState({modalData:e,matDate:t,showModal:!0})},s.openPdf1=function(e){s.getPDFData(e,"Maturity Forecast")},s.numberWithCommas=function(e){return parseFloat(e).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},s.state={tickerValue:"",stmtValue:"",formDateValue:new Date(_u()),toDateValue:new Date(zu(_u(),"6")),singleSelections:"",showModal:!1,matDate:"",modalData:""},s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.stmtChange=s.stmtChange.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.setSingleSelections=s.setSingleSelections.bind(Object(O.a)(s)),s.reportMapComponent=s.reportMapComponent.bind(Object(O.a)(s)),s.getDefaultValues=s.getDefaultValues.bind(Object(O.a)(s)),s.getPDFData=s.getPDFData.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"tickerChange",value:function(e){this.setState({tickerValue:e.target.value})}},{key:"stmtChange",value:function(e,t){var a=this;this.setState({stmtValue:e.target.value}),w()({method:"POST",url:N.URL+Gl,timeout:N.apiTimeOut,data:{fromDate:Yu(new Date,"MM/DD/YY"),stmtType:e.target.value},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({formDateValue:new Date(e.data.fromDate),toDateValue:new Date(e.data.toDate)})}))}},{key:"fromDateChange",value:function(e){var t=this;this.setState({formDateValue:e}),w()({method:"POST",url:N.URL+Gl,timeout:N.apiTimeOut,data:{fromDate:Vu(e),stmtType:this.state.stmtValue},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({formDateValue:new Date(e.data.fromDate),toDateValue:new Date(e.data.toDate)})}))}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e})}},{key:"setSingleSelections",value:function(e,t){this.setState({singleSelections:e,tickerValue:t})}},{key:"getDefaultValues",value:function(e,t){}},{key:"reportMapComponent",value:function(e,t,a,s,n,o){var i=this;return"0"!==e?Object(u.jsx)("div",{className:"dispFlex",children:Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:function(e){return i.openModal(t,n)},children:e},a)}):e}},{key:"hideModal",value:function(){this.setState({showModal:!1,matDate:"",modalData:""})}},{key:"getPDFData",value:function(){var e=Object(f.a)(y.a.mark((function e(t,a){var s,n,o,i,l,c,r,d,m=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={productType:Zh,fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue),stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,ticker:""===this.state.tickerValue?"ALL":this.state.tickerValue},e.next=3,w()({method:"POST",url:N.URL+Mi,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}});case 3:n=e.sent,o=nx(n.data,ox,t),"pt","A3","landscape",40,(i=new Lb.default("landscape","pt","A3")).setFontSize(15),l=a,c=o.columns,r=o.data,d={startY:50,head:c,body:r},r&&r.map((function(e,t){e[9]&&e[9]&&(e[9]=m.numberWithCommas(e[9]))})),i.text(l,40,40),i.autoTable(d),i.save(a+".pdf");case 19:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t={};return t.reportMapComponent=this.reportMapComponent,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Ticker",id:"lbl_ticker"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(jj,{id:"basic-typeahead-single",apiCall:ji,reqParams:{productType:Zh},onchange:this.setSingleSelections,selected:this.state.singleSelections})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:ji,reqParams:{productType:Zh},onchange:this.tickerChange,selected:this.state.tickerValue,stateMethod:this.getDefaultValues,id:"ticker"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Stmt Type",id:"lbl_stmttype"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:pi,reqParams:{},onchange:this.stmtChange,selected:this.state.stmtValue,id:"stmtType"})})]}),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]})}),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange,disabled:!0})})]})})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ax,{cprops:ox,apiCall:Mi,reqParams:{productType:Zh,fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue),stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,ticker:""===this.state.tickerValue?"ALL":this.state.tickerValue},mappings:sx,maturityfcFlag:"true",keyField:"1",customComponents:t,screenName:"MATURITY_FORECAST",subTitle:" ECP"})}),Object(u.jsx)(gx,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Trade Details",prodType:Zh,modalData:this.state.modalData,matDate:this.state.matDate,stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,fromPage:"ISRINDRT"})]})}}]),a}(o.a.Component),Cx=Dx,Nx=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openModal=function(e,t){s.setState({modalData:e,matDate:t,showModal:!0})},s.state={tickerValue:"",stmtValue:"",formDateValue:new Date(_u()),toDateValue:new Date(zu(_u(),"6")),singleSelections:"",showModal:!1,matDate:"",modalData:""},s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.stmtChange=s.stmtChange.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.setSingleSelections=s.setSingleSelections.bind(Object(O.a)(s)),s.reportMapComponent=s.reportMapComponent.bind(Object(O.a)(s)),s.getDefaultValues=s.getDefaultValues.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"tickerChange",value:function(e){this.setState({tickerValue:e.target.value})}},{key:"stmtChange",value:function(e,t){var a=this;this.setState({stmtValue:e.target.value}),w()({method:"POST",url:N.URL+Gl,timeout:N.apiTimeOut,data:{fromDate:Yu(new Date,"MM/DD/YY"),stmtType:e.target.value},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({formDateValue:new Date(e.data.fromDate),toDateValue:new Date(e.data.toDate)})}))}},{key:"fromDateChange",value:function(e){var t=this;this.setState({formDateValue:e}),w()({method:"POST",url:N.URL+Gl,timeout:N.apiTimeOut,data:{fromDate:Vu(e),stmtType:this.state.stmtValue},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({formDateValue:new Date(e.data.fromDate),toDateValue:new Date(e.data.toDate)})}))}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e})}},{key:"setSingleSelections",value:function(e,t){this.setState({singleSelections:e,tickerValue:t})}},{key:"getDefaultValues",value:function(e,t){}},{key:"reportMapComponent",value:function(e,t,a,s,n,o){var i=this;return"0"!==e?Object(u.jsx)("div",{className:"dispFlex",children:Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:function(e){return i.openModal(t,n)},children:e},a)}):e}},{key:"hideModal",value:function(){this.setState({showModal:!1,matDate:"",modalData:""})}},{key:"render",value:function(){var e=this,t={};return t.reportMapComponent=this.reportMapComponent,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Ticker",id:"lbl_ticker"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(jj,{id:"basic-typeahead-single",apiCall:ji,reqParams:{productType:Gh},onchange:this.setSingleSelections,selected:this.state.singleSelections})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:ji,reqParams:{productType:Gh},onchange:this.tickerChange,selected:this.state.tickerValue,stateMethod:this.getDefaultValues,id:"ticker"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Stmt Type",id:"lbl_stmttype"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:pi,reqParams:{},onchange:this.stmtChange,selected:this.state.stmtValue,id:"stmtType"})})]}),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]})}),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange,disabled:!0})})]})})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ax,{cprops:ox,apiCall:Mi,reqParams:{productType:Gh,fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue),stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,ticker:""===this.state.tickerValue?"ALL":this.state.tickerValue},mappings:sx,maturityfcFlag:"true",keyField:"1",customComponents:t,screenName:"MATURITY_FORECAST",subTitle:" FRCD"})}),Object(u.jsx)(gx,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Trade Details",prodType:Gh,modalData:this.state.modalData,matDate:this.state.matDate,stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,fromPage:"ISRINDRT"})]})}}]),a}(o.a.Component),Sx=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openModal=function(e,t){s.setState({modalData:e,matDate:t,showModal:!0})},s.openPdf1=function(e){s.getPDFData(e,"Maturity Forecast")},s.state={tickerValue:"",stmtValue:"",formDateValue:new Date(_u()),toDateValue:new Date(zu(_u(),"6")),singleSelections:"",showModal:!1,matDate:"",modalData:""},s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.stmtChange=s.stmtChange.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.setSingleSelections=s.setSingleSelections.bind(Object(O.a)(s)),s.reportMapComponent=s.reportMapComponent.bind(Object(O.a)(s)),s.getDefaultValues=s.getDefaultValues.bind(Object(O.a)(s)),s.getPDFData=s.getPDFData.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"tickerChange",value:function(e){this.setState({tickerValue:e.target.value})}},{key:"stmtChange",value:function(e,t){var a=this;this.setState({stmtValue:e.target.value}),w()({method:"POST",url:N.URL+Gl,timeout:N.apiTimeOut,data:{fromDate:Yu(new Date,"MM/DD/YY"),stmtType:e.target.value},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({formDateValue:new Date(e.data.fromDate),toDateValue:new Date(e.data.toDate)})}))}},{key:"fromDateChange",value:function(e){var t=this;this.setState({formDateValue:e}),w()({method:"POST",url:N.URL+Gl,timeout:N.apiTimeOut,data:{fromDate:Vu(e),stmtType:this.state.stmtValue},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({formDateValue:new Date(e.data.fromDate),toDateValue:new Date(e.data.toDate)})}))}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e})}},{key:"setSingleSelections",value:function(e,t){this.setState({singleSelections:e,tickerValue:t})}},{key:"getDefaultValues",value:function(e,t){}},{key:"reportMapComponent",value:function(e,t,a,s,n,o){var i=this;return"0"!==e?Object(u.jsx)("div",{className:"dispFlex",children:Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:function(e){return i.openModal(t,n)},children:e},a)}):e}},{key:"hideModal",value:function(){this.setState({showModal:!1,matDate:"",modalData:""})}},{key:"getPDFData",value:function(){var e=Object(f.a)(y.a.mark((function e(t,a){var s,n,o,i,l,c,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={productType:Kh,fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue),stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,ticker:""===this.state.tickerValue?"ALL":this.state.tickerValue},e.next=3,w()({method:"POST",url:N.URL+Mi,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}});case 3:n=e.sent,o=nx(n.data,ox,t),"pt","A4","landscape",40,(i=new Lb.default("landscape","pt","A4")).setFontSize(15),l=a,c=o.columns,r=o.data,{startY:50,head:c,body:r},i.text(l,40,40),i.autoTable(["Ticker","Issuer","Week 22 (5/30/22)","Week 23 (6/6/22)","Week 24 (6/13/22)","Week 25 (6/20/22)","Week 26 (6/27/22)","Grand Total"],r,{startY:50,columnStyles:[{halign:"left"},{halign:"left"},{halign:"left"},{halign:"left"},{halign:"left"},{halign:"left"},{halign:"left"},{halign:"right"}]}),i.save(a+".pdf");case 18:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t={};return t.reportMapComponent=this.reportMapComponent,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Ticker",id:"lbl_ticker"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(jj,{id:"basic-typeahead-single",apiCall:ji,reqParams:{productType:Kh},onchange:this.setSingleSelections,selected:this.state.singleSelections})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:ji,reqParams:{productType:Kh},onchange:this.tickerChange,selected:this.state.tickerValue,stateMethod:this.getDefaultValues,id:"ticker"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Stmt Type",id:"lbl_stmttype"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:pi,reqParams:{},onchange:this.stmtChange,selected:this.state.stmtValue,id:"stmtType"})})]}),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]})}),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange,disabled:!0})})]})})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ax,{cprops:ox,apiCall:Mi,reqParams:{productType:Kh,fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue),stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,ticker:""===this.state.tickerValue?"ALL":this.state.tickerValue},mappings:sx,maturityfcFlag:"true",keyField:"1",customComponents:t,screenName:"MATURITY_FORECAST",subTitle:" FRCP"})}),Object(u.jsx)(gx,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Trade Details",prodType:Kh,modalData:this.state.modalData,matDate:this.state.matDate,stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,fromPage:"ISRINDRT"})]})}}]),a}(o.a.Component),wx=Sx,Tx=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openModal=function(e,t){s.setState({modalData:e,matDate:t,showModal:!0})},s.openPdf1=function(e){s.getPDFData(e,"Maturity Forecast")},s.numberWithCommas=function(e){return parseFloat(e).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},s.state={tickerValue:"",stmtValue:"",formDateValue:new Date(_u()),toDateValue:new Date(zu(_u(),"6")),singleSelections:"",showModal:!1,matDate:"",modalData:""},s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.stmtChange=s.stmtChange.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.setSingleSelections=s.setSingleSelections.bind(Object(O.a)(s)),s.reportMapComponent=s.reportMapComponent.bind(Object(O.a)(s)),s.getDefaultValues=s.getDefaultValues.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"tickerChange",value:function(e){this.setState({tickerValue:e.target.value})}},{key:"stmtChange",value:function(e,t){var a=this;this.setState({stmtValue:e.target.value}),w()({method:"POST",url:N.URL+Gl,timeout:N.apiTimeOut,data:{fromDate:Yu(new Date,"MM/DD/YY"),stmtType:e.target.value},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({formDateValue:new Date(e.data.fromDate),toDateValue:new Date(e.data.toDate)})}))}},{key:"fromDateChange",value:function(e){var t=this;this.setState({formDateValue:e}),w()({method:"POST",url:N.URL+Gl,timeout:N.apiTimeOut,data:{fromDate:Vu(e),stmtType:this.state.stmtValue},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({formDateValue:new Date(e.data.fromDate),toDateValue:new Date(e.data.toDate)})}))}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e})}},{key:"setSingleSelections",value:function(e,t){this.setState({singleSelections:e,tickerValue:t})}},{key:"getDefaultValues",value:function(e,t){}},{key:"reportMapComponent",value:function(e,t,a,s,n,o){var i=this;return"0"!==e?Object(u.jsx)("div",{className:"dispFlex",children:Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:function(e){return i.openModal(t,n)},children:e},a)}):e}},{key:"hideModal",value:function(){this.setState({showModal:!1,matDate:"",modalData:""})}},{key:"getPDFData",value:function(){var e=Object(f.a)(y.a.mark((function e(t,a){var s,n,o,i,l,c,r,d,m=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={productType:Wh,fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue),stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,ticker:""===this.state.tickerValue?"ALL":this.state.tickerValue},e.next=3,w()({method:"POST",url:N.URL+Mi,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}});case 3:n=e.sent,o=nx(n.data,ox,t),"pt","A4","landscape",40,(i=new Lb.default("landscape","pt","A4")).setFontSize(15),l=a,c=o.columns,r=o.data,d={startY:50,head:c,body:r},r&&r.map((function(e,t){e[7]&&e[7]&&(e[7]=m.numberWithCommas(e[7]))})),i.text(l,40,40),i.autoTable(d),i.save(a+".pdf");case 19:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t={};return t.reportMapComponent=this.reportMapComponent,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Ticker",id:"lbl_ticker"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(jj,{id:"basic-typeahead-single",apiCall:ji,reqParams:{productType:Wh},onchange:this.setSingleSelections,selected:this.state.singleSelections})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:ji,reqParams:{productType:Wh},onchange:this.tickerChange,selected:this.state.tickerValue,stateMethod:this.getDefaultValues,id:"ticker"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Stmt Type",id:"lbl_stmttype"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:pi,reqParams:{},onchange:this.stmtChange,selected:this.state.stmtValue,id:"stmtType"})})]}),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]})}),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange,disabled:!0})})]})})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ax,{cprops:ox,apiCall:Mi,reqParams:{productType:Wh,fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue),stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,ticker:""===this.state.tickerValue?"ALL":this.state.tickerValue},mappings:sx,maturityfcFlag:"true",keyField:"1",customComponents:t,screenName:"MATURITY_FORECAST",subTitle:" MCP"})}),Object(u.jsx)(gx,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Trade Details",prodType:Wh,modalData:this.state.modalData,matDate:this.state.matDate,stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,fromPage:"ISRINDRT"})]})}}]),a}(o.a.Component),Ix=Tx,Mx=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openModal=function(e,t){s.setState({modalData:e,matDate:t,showModal:!0})},s.openPdf1=function(e){s.getPDFData(e,"Maturity Forecast")},s.numberWithCommas=function(e){return parseFloat(e).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},s.state={tickerValue:"",stmtValue:"",formDateValue:new Date(_u()),toDateValue:new Date(zu(_u(),"6")),singleSelections:"",showModal:!1,matDate:"",modalData:""},s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.stmtChange=s.stmtChange.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.setSingleSelections=s.setSingleSelections.bind(Object(O.a)(s)),s.reportMapComponent=s.reportMapComponent.bind(Object(O.a)(s)),s.getDefaultValues=s.getDefaultValues.bind(Object(O.a)(s)),s.getPDFData=s.getPDFData.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"tickerChange",value:function(e){this.setState({tickerValue:e.target.value})}},{key:"stmtChange",value:function(e,t){var a=this;this.setState({stmtValue:e.target.value}),w()({method:"POST",url:N.URL+Gl,timeout:N.apiTimeOut,data:{fromDate:Yu(new Date,"MM/DD/YY"),stmtType:e.target.value},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({formDateValue:new Date(e.data.fromDate),toDateValue:new Date(e.data.toDate)})}))}},{key:"fromDateChange",value:function(e){var t=this;this.setState({formDateValue:e}),w()({method:"POST",url:N.URL+Gl,timeout:N.apiTimeOut,data:{fromDate:Vu(e),stmtType:this.state.stmtValue},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({formDateValue:new Date(e.data.fromDate),toDateValue:new Date(e.data.toDate)})}))}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e})}},{key:"setSingleSelections",value:function(e,t){this.setState({singleSelections:e,tickerValue:t})}},{key:"getDefaultValues",value:function(e,t){}},{key:"reportMapComponent",value:function(e,t,a,s,n,o){var i=this;return"0"!==e?Object(u.jsx)("div",{className:"dispFlex",children:Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:function(e){return i.openModal(t,n)},children:e},a)}):e}},{key:"hideModal",value:function(){this.setState({showModal:!1,matDate:"",modalData:""})}},{key:"getPDFData",value:function(){var e=Object(f.a)(y.a.mark((function e(t,a){var s,n,o,i,l,c,r,d,m=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={productType:zh,fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue),stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,ticker:""===this.state.tickerValue?"ALL":this.state.tickerValue},e.next=3,w()({method:"POST",url:N.URL+Mi,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}});case 3:n=e.sent,o=nx(n.data,ox,t),"pt","A4","landscape",40,(i=new Lb.default("landscape","pt","A4")).setFontSize(15),l=a,c=o.columns,r=o.data,d={startY:50,head:c,body:r},r&&r.map((function(e,t){e[6]&&e[6]&&(e[6]=m.numberWithCommas(e[6]))})),i.text(l,40,40),i.autoTable(d),i.save(a+".pdf");case 19:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t={};return t.reportMapComponent=this.reportMapComponent,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Ticker",id:"lbl_ticker"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(jj,{id:"basic-typeahead-single",apiCall:ji,reqParams:{productType:zh},onchange:this.setSingleSelections,selected:this.state.singleSelections})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:ji,reqParams:{productType:zh},onchange:this.tickerChange,selected:this.state.tickerValue,stateMethod:this.getDefaultValues,id:"ticker"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Stmt Type",id:"lbl_stmttype"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:pi,reqParams:{},onchange:this.stmtChange,selected:this.state.stmtValue,id:"stmtType"})})]}),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]})}),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange,disabled:!0})})]})})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ax,{cprops:ox,apiCall:Mi,reqParams:{productType:zh,fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue),stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,ticker:""===this.state.tickerValue?"ALL":this.state.tickerValue},mappings:sx,maturityfcFlag:"true",keyField:"1",customComponents:t,screenName:"MATURITY_FORECAST",subTitle:" YCD"})}),Object(u.jsx)(gx,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Trade Details",prodType:zh,modalData:this.state.modalData,matDate:this.state.matDate,stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,fromPage:"ISRINDRT"})]})}}]),a}(o.a.Component),Ax=Mx,Rx=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openModal=function(e,t){s.setState({modalData:e,matDate:t,showModal:!0})},s.openPdf1=function(e){s.getPDFData(e,"Maturity Forecast")},s.numberWithCommas=function(e){return parseFloat(e).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},s.state={tickerValue:"",stmtValue:"",formDateValue:new Date(_u()),toDateValue:new Date(zu(_u(),"6")),singleSelections:"",showModal:!1,matDate:"",modalData:""},s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.stmtChange=s.stmtChange.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.setSingleSelections=s.setSingleSelections.bind(Object(O.a)(s)),s.reportMapComponent=s.reportMapComponent.bind(Object(O.a)(s)),s.getDefaultValues=s.getDefaultValues.bind(Object(O.a)(s)),s.getPDFData=s.getPDFData.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"tickerChange",value:function(e){this.setState({tickerValue:e.target.value})}},{key:"stmtChange",value:function(e,t){var a=this;this.setState({stmtValue:e.target.value}),w()({method:"POST",url:N.URL+Gl,timeout:N.apiTimeOut,data:{fromDate:Yu(new Date,"MM/DD/YY"),stmtType:e.target.value},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({formDateValue:new Date(e.data.fromDate),toDateValue:new Date(e.data.toDate)})}))}},{key:"fromDateChange",value:function(e){var t=this;this.setState({formDateValue:e}),w()({method:"POST",url:N.URL+Gl,timeout:N.apiTimeOut,data:{fromDate:Vu(e),stmtType:this.state.stmtValue},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({formDateValue:new Date(e.data.fromDate),toDateValue:new Date(e.data.toDate)})}))}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e})}},{key:"setSingleSelections",value:function(e,t){this.setState({singleSelections:e,tickerValue:t})}},{key:"getDefaultValues",value:function(e,t){}},{key:"reportMapComponent",value:function(e,t,a,s,n){var o=this;return"0"!==e?Object(u.jsx)("div",{className:"dispFlex",children:Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:function(e){return o.openModal(t,n)},children:e},a)}):e}},{key:"hideModal",value:function(){this.setState({showModal:!1,matDate:"",modalData:""})}},{key:"getPDFData",value:function(){var e=Object(f.a)(y.a.mark((function e(t,a){var s,n,o,i,l,c,r,d,m=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={productType:Jh,fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue),stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,ticker:""===this.state.tickerValue?"ALL":this.state.tickerValue},e.next=3,w()({method:"POST",url:N.URL+Mi,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}});case 3:n=e.sent,o=nx(n.data,ox,t),"pt","A4","landscape",40,(i=new Lb.default("landscape","pt","A4")).setFontSize(15),l=a,c=o.columns,r=o.data,d={startY:50,head:c,body:r},r&&r.map((function(e,t){e[7]&&e[7]&&(e[7]=m.numberWithCommas(e[7]))})),i.text(l,40,40),i.autoTable(d),i.save(a+".pdf");case 19:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t={};return t.reportMapComponent=this.reportMapComponent,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Ticker",id:"lbl_ticker"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(jj,{id:"basic-typeahead-single",apiCall:ji,reqParams:{productType:Jh},onchange:this.setSingleSelections,selected:this.state.singleSelections})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:ji,reqParams:{productType:Jh},onchange:this.tickerChange,selected:this.state.tickerValue,stateMethod:this.getDefaultValues,id:"ticker"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Stmt Type",id:"lbl_stmttype"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:pi,reqParams:{},onchange:this.stmtChange,selected:this.state.stmtValue,id:"stmtType"})})]}),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]})}),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange,disabled:!0})})]})})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ax,{cprops:ox,apiCall:Mi,reqParams:{productType:Jh,fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue),stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,ticker:""===this.state.tickerValue?"ALL":this.state.tickerValue},mappings:sx,maturityfcFlag:"true",keyField:"1",customComponents:t,screenName:"MATURITY_FORECAST",subTitle:" CP"})}),Object(u.jsx)(gx,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Trade Details",prodType:Jh,modalData:this.state.modalData,matDate:this.state.matDate,stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,fromPage:"ISRINDRT"})]})}}]),a}(o.a.Component),Ex=Rx,Fx=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,heading:"cp"},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.handleSelect=s.handleSelect.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===gr&&this.setState({cmodal:!0})}},{key:"handleSelect",value:function(e){this.setState({heading:e})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{className:"d-inline-block",children:Object(u.jsxs)(hb.a,{defaultActiveKey:"cp",onSelect:this.handleSelect,transition:!1,id:"noanim-tab-example",children:[Object(u.jsx)(ei.a,{eventKey:"cp",title:"CP",children:"cp"===this.state.heading&&Object(u.jsx)(vx,{})}),Object(u.jsx)(ei.a,{eventKey:"ecd",title:"ECD",children:"ecd"===this.state.heading&&Object(u.jsx)(kx,{})}),Object(u.jsx)(ei.a,{eventKey:"ecp",title:"ECP",children:"ecp"===this.state.heading&&Object(u.jsx)(Cx,{})}),Object(u.jsx)(ei.a,{eventKey:"frcd",title:"FRCD",children:"frcd"===this.state.heading&&Object(u.jsx)(Nx,{})}),Object(u.jsx)(ei.a,{eventKey:"frcp",title:"FRCP",children:"frcp"===this.state.heading&&Object(u.jsx)(wx,{})}),Object(u.jsx)(ei.a,{eventKey:"mcp",title:"MCP",children:"mcp"===this.state.heading&&Object(u.jsx)(Ix,{})}),Object(u.jsx)(ei.a,{eventKey:"ycd",title:"YCD",children:"ycd"===this.state.heading&&Object(u.jsx)(Ax,{})}),Object(u.jsx)(ei.a,{eventKey:"adn",title:"ADN",children:"adn"===this.state.heading&&Object(u.jsx)(Ex,{})})]})})})})]})})}}]),a}(o.a.Component),Px=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={columns:[],data:[],isLoading:!1},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.apiCall&&(this.setState({isLoading:!1}),w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({data:t.data.buySellList}),t.data.buySellList&&t.data.buySellList.length>0&&e.setState({columns:Jo(t.data.buySellList,e.props.cprops),data:t.data.buySellList,isLoading:!0}),e.setState({isLoading:!0})})))}},{key:"componentDidUpdate",value:function(e,t){var a=this;e!==this.props&&(this.setState({isLoading:!1}),this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({data:e.data.buySellList}),e.data.buySellList&&e.data.buySellList.length>0&&a.setState({columns:Jo(e.data.buySellList,a.props.cprops),data:e.data.buySellList,isLoading:!0}),a.setState({isLoading:!0})})))}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.columns;this.props.cprops;return Object(u.jsx)(u.Fragment,{children:!0===this.state.isLoading?a&&a.length>0?t&&t.length>0?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(Z.a,{keyField:"key",data:t,columns:a,filter:Ro()(),striped:!0,hover:!0,wrapperClasses:"fo2table table-responsive"})}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."}):"":Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})})})}}]),a}(o.a.Component),Bx=[];Bx.buySellFlag=Te,Bx.settleDate=Rs,Bx.maturityDate=ra,Bx.days=st,Bx.amount=Vs,Bx.price=es,Bx.pandL=js;var Lx=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={columns:[],data:[]},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({data:t.data}),t.data.length>0&&e.setState({columns:Jo(t.data,e.props.cprops)})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;e!==this.props&&this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({data:e.data}),e.data.length>0&&a.setState({columns:Jo(e.data,a.props.cprops)})}))}},{key:"render",value:function(){var e=this,t=this.state.data;return Object(u.jsx)(u.Fragment,{children:t?Object.keys(t).map((function(a,s){return a===e.props.getList&&t[a].map((function(t,a){return 0===a&&"buySellList"===e.props.getList?Object(u.jsx)("div",{class:"react-bootstrap-table fo2table table-responsive",style:{maxHeight:"300px"},children:Object(u.jsx)("table",{class:"table table-striped table-hover table-bordered",children:Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-left bold",children:"Issuer:"}),Object(u.jsx)("td",{className:"text-left",children:t.issuerName}),Object(u.jsx)("td",{className:"text-left bold",children:"CUSIP:"}),Object(u.jsx)("td",{className:"text-left",children:t.cusip})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-left bold",children:"Ticker:"}),Object(u.jsx)("td",{className:"text-left",children:t.ticker}),Object(u.jsx)("td",{className:"text-left bold",children:"Product:"}),Object(u.jsx)("td",{className:"text-left",children:t.prodName})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-left bold",children:"Size(m):"}),Object(u.jsx)("td",{className:"text-left",children:Lo(t.amount)}),Object(u.jsx)("td",{className:"text-left bold",children:"Original Settlement Date:"}),Object(u.jsx)("td",{className:"text-left",children:t.originalSettlementDate})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-left bold",children:"Current Position:"}),Object(u.jsx)("td",{className:"text-left",children:Lo(t.availableAmount)}),Object(u.jsx)("td",{className:"text-left bold",children:"Settlement Date:"}),Object(u.jsx)("td",{className:"text-left",children:t.settleDate})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-left bold",children:"Rate:"}),Object(u.jsx)("td",{className:"text-left",children:t.price}),Object(u.jsx)("td",{className:"text-left bold",children:"Maturity Date:"}),Object(u.jsx)("td",{className:"text-left",children:t.maturityDate})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-left bold",children:"Book:"}),Object(u.jsx)("td",{className:"text-left",children:t.bookName}),Object(u.jsx)("td",{className:"text-left bold",children:"Currency:"}),Object(u.jsx)("td",{className:"text-left",children:t.currency})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-left bold",children:"Venue:"}),Object(u.jsx)("td",{className:"text-left",children:t.source}),Object(u.jsx)("td",{className:"text-left bold",children:"Trader:"}),Object(u.jsx)("td",{className:"text-left",children:t.tradeName})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-left bold",children:"Status:"}),Object(u.jsx)("td",{className:"text-left",children:"A"===t.status?"Accepted":"R"===t.status?"Rejected":"M"===t.status?"M":"S"}),Object(u.jsx)("td",{className:"text-left bold",children:"Ticket Number:"}),Object(u.jsx)("td",{className:"text-left",children:t.ticketNumber})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-left bold",children:"Date/Time:"}),Object(u.jsx)("td",{className:"text-left",children:t.tradeDate}),Object(u.jsx)("td",{className:"text-left bold"}),Object(u.jsx)("td",{className:"text-left"})]})]})})}):"pandList"===e.props.getList?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("table",{children:Object(u.jsx)("tr",{children:Object(u.jsx)("td",{})})}),Object(u.jsx)("div",{class:"react-bootstrap-table fo2table table-responsive",children:Object(u.jsxs)("table",{class:"table table-striped table-hover table-bordered",children:[Object(u.jsx)("thead",{children:Object(u.jsx)("tr",{children:Object(u.jsx)("th",{colspan:"6",className:"text-left bold",children:"Profit/Loss"})})}),Object(u.jsx)("tbody",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-left bold",style:{width:"18%"},children:"Accumulative Real :"}),Object(u.jsx)("td",{className:"text-right",style:{width:"18%"},children:Lo(t.accumulativeReal)}),Object(u.jsx)("td",{className:"text-left bold",style:{width:"18%"},children:"Accumulative UnReal :"}),Object(u.jsx)("td",{className:"text-right",style:{width:"18%"},children:Lo(t.accumulativeUnReal)}),Object(u.jsx)("td",{className:"text-left bold",style:{width:"18%"},children:"P&L  :"}),Object(u.jsx)("td",{className:"text-right",style:{width:"18%"},children:Lo(t.accumulativeRealUnreal)})]})})]})})]}):void 0}))})):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."})})}}]),a}(o.a.Component),_x=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,tickerValue:"All",stmtValue:"",issuerValue:"All",productValue:"1200",maturityValue:"All",formDateValue:new Date(_u()),toDateValue:new Date(zu(_u(),"90")),cusipsValue:"",issueVal:"All",issuerText:"All",productText:"All",maturityText:"All",cusipsText:"",tickerText:"All"},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.stmtChange=s.stmtChange.bind(Object(O.a)(s)),s.issuerChange=s.issuerChange.bind(Object(O.a)(s)),s.productChange=s.productChange.bind(Object(O.a)(s)),s.maturityChange=s.maturityChange.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.cusipsChange=s.cusipsChange.bind(Object(O.a)(s)),s.getProdDefaults=s.getProdDefaults.bind(Object(O.a)(s)),s.getIssuerDefaults=s.getIssuerDefaults.bind(Object(O.a)(s)),s.getTickerDefaults=s.getTickerDefaults.bind(Object(O.a)(s)),s.getCusipDefaults=s.getCusipDefaults.bind(Object(O.a)(s)),s.getMDDefaults=s.getMDDefaults.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"getProdDefaults",value:function(e,t){}},{key:"getIssuerDefaults",value:function(e,t){}},{key:"getTickerDefaults",value:function(e,t){}},{key:"getCusipDefaults",value:function(e,t){this.setState({cusipsText:t,issueVal:e})}},{key:"getMDDefaults",value:function(e,t){}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Fr&&this.setState({cmodal:!0})}},{key:"tickerChange",value:function(e){this.setState({tickerValue:e.target.value,tickerText:e.target.options[e.target.options.selectedIndex].text})}},{key:"stmtChange",value:function(e){this.setState({stmtValue:e.target.value})}},{key:"issuerChange",value:function(e){this.setState({issuerValue:e.target.value,issuerText:e.target.options[e.target.options.selectedIndex].text})}},{key:"productChange",value:function(e){this.setState({productValue:e.target.value,productText:e.target.options[e.target.options.selectedIndex].text})}},{key:"maturityChange",value:function(e){this.setState({maturityValue:e.target.value,issueVal:e.target.value,maturityText:e.target.options[e.target.options.selectedIndex].text})}},{key:"fromDateChange",value:function(e){this.setState({formDateValue:e})}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e})}},{key:"cusipsChange",value:function(e){this.setState({cusipsValue:e.target.value,issueVal:e.target.value,cusipsText:e.target.options[e.target.options.selectedIndex].text})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Product",id:"lbl_product"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(Eu,{value:this.state.productText,id:"lbl_product_in"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:vi,reqParams:{},onchange:this.productChange,selected:this.state.productValue,stateMethod:this.getProdDefaults,fromPage:"secSearch"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Issuer",id:"lbl_issuer"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(Eu,{value:this.state.issuerText,id:"lbl_issuer_in"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Si,reqParams:{prodId:this.state.productValue},onchange:this.issuerChange,selected:this.state.issuerValue,stateMethod:this.getIssuerDefaults})})]})]}),Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Ticker",id:"lbl_ticker"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(Eu,{value:this.state.tickerText,id:"lbl_ticker_in"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:ji,reqParams:{productType:this.state.productValue,issuerId:this.state.issuerValue},onchange:this.tickerChange,selected:this.state.tickerValue,stateMethod:this.getTickerDefaults})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Maturity Date From",id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange})}),Object(u.jsx)(W.a,{xs:1,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To",id:"lbl_to"})}),Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"CUSIP",id:"lbl_cusip"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(Eu,{value:this.state.cusipsText,labelType:"cusip"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:fi,reqParams:{All:"false",fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue),prodId:this.state.productValue,issuerId:this.state.issuerValue,ticker:this.state.tickerValue,fromPage:"secSearch"},onchange:this.cusipsChange,selected:this.state.cusipsValue,stateMethod:this.getCusipDefaults})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Maturity Date",id:"lbl_maturity_date"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(Eu,{value:this.state.maturityText,id:"lbl_maturity_date_in"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:"/getMaturityDates",reqParams:{productType:this.state.productValue,issuerId:this.state.issuerValue,fromPage:"MATURITYDATE",fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue),ticker:this.state.tickerValue},onchange:this.maturityChange,selected:this.state.maturityValue,stateMethod:this.getMDDefaults})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:"All"!==this.state.issueVal&&Object(u.jsx)(Lx,{getList:"buySellList",apiCall:Ri,reqParams:{productType:this.state.productValue,issueId:this.state.issueVal,actionFlag:""}})})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:"\xa0"})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:"All"!==this.state.issueVal&&Object(u.jsx)(Lx,{getList:"pandList",apiCall:Ri,reqParams:{productType:this.state.productValue,issueId:this.state.issueVal,actionFlag:""}})})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:"\xa0"})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:this.state.issueVal&&"All"!==this.state.issueVal&&Object(u.jsx)(Px,{cprops:Bx,apiCall:Ri,reqParams:{productType:this.state.productValue,issueId:this.state.issueVal,actionFlag:"buyList"},keyField:"1"})})})]})]})})}}]),a}(o.a.Component),Ux=[];function Vx(e,t,a,s){var n=[];return Object.keys(t).map((function(s){return Object.keys(e[0]).map((function(e){var o;e===s&&(t[e]&&(o=a&&"buySellFlag"===e?{dataField:e,text:t[e],formatter:a.imgComponent}:"amount"===e?{dataField:e,text:t[e],formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:e,text:t[e],editable:!1},n.push(o)));return""})),""})),n}Ux.issuerName=Jt,Ux.prodCode=ls,Ux.tradeDate=$s,Ux.settleDate=Rs,Ux.maturityDate=da,Ux.amount=Us,Ux.price=es,Ux.salesPersonName=Ns,Ux.cusip=Ze,Ux.cassiiNbr=Le;var Yx=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).onChange=function(e){var t,a={};s.setState((t={},Object(g.a)(t,e.target.id,e.target.value),Object(g.a)(t,"isLoading",!1),t)),"countryCode"===e.target.id?(a.countryCode=e.target.value,a.issuerId=s.state.issuerId):"issuerId"===e.target.id&&(a.countryCode=s.state.countryCode,a.issuerId=e.target.value),a.fromDate=s.state.fromDate,a.toDate=s.state.toDate,w()({method:"POST",url:N.URL+Ti,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.countryCode&&s.setState({countryCode:e.data.countryCode}),e.data.issuerId&&s.setState({issuerId:e.data.issuerId}),e.data.fromDate&&s.setState({fromDate:e.data.fromDate}),e.data.toDate&&s.setState({toDate:e.data.toDate}),e.data.reportData&&(s.setState({reportData:e.data.reportData}),e.data.reportData.length>0&&s.setState({columns:Vx(e.data.reportData,Ux)})),s.setState({isLoading:!0}))}))},s.onDateChange=function(e,t){var a={};if(s.setState({isLoading:!1}),"fromDate"===t){var n=new Date;n=Yu(s.state.toDate,"MM/DD/YYYY"),Yu(e,"MM/DD/YYYY")>n?s.setState({actionTitle:"Alert",actionMessage:"From Date should be less than To Date ",showError:!0}):(s.setState({fromDate:e}),a.fromDate=Vu(e),a.toDate=s.state.toDate,a.countryCode=s.state.countryCode,a.investorId=s.state.investorId)}else if("toDate"===t){var o=new Date;o=Yu(s.state.fromDate,"MM/DD/YYYY"),Yu(e,"MM/DD/YYYY")<o?s.setState({actionTitle:"Alert",actionMessage:"To Date Should be Greater than From Date",showError:!0}):(a.fromDate=s.state.fromDate,a.toDate=Vu(e),s.setState({toDate:e}),a.countryCode=s.state.countryCode,a.investorId=s.state.investorId)}w()({method:"POST",url:N.URL+Ti,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.countryCode&&s.setState({countryCode:e.data.countryCode}),e.data.issuerId&&s.setState({issuerId:e.data.issuerId}),e.data.fromDate&&s.setState({fromDate:e.data.fromDate}),e.data.toDate&&s.setState({toDate:e.data.toDate}),e.data.reportData&&(s.setState({reportData:e.data.reportData}),e.data.reportData.length>0&&s.setState({columns:Vx(e.data.reportData,Ux)})),s.setState({isLoading:!0}))}))},s.hideError=function(){s.setState({showError:!1})},s.state={cmodal:!0,issuerId:"",countryCode:"",fromDate:"",toDate:"",reportData:[],columns:[],isLoading:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!1}),w()({method:"POST",url:N.URL+Ti,timeout:N.apiTimeOut,data:{countryCode:""===this.state.countryCode?"ALL":this.state.countryCode},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&(t.data.countryCode&&e.setState({countryCode:t.data.countryCode}),t.data.issuerId&&e.setState({issuerId:t.data.issuerId}),t.data.fromDate&&e.setState({fromDate:t.data.fromDate}),t.data.toDate&&e.setState({toDate:t.data.toDate}),t.data.reportData&&(e.setState({reportData:t.data.reportData}),t.data.reportData.length>0&&e.setState({columns:Vx(t.data.reportData,Ux)})),e.setState({isLoading:!0}))}))}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===kr&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"render",value:function(){var e=this;return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[this.state.isLoading?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Country",id:"lbl_country"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:wc,reqParams:{},onchange:this.onChange,selected:this.state.countryCode,id:"countryCode"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Issuer",id:"lbl_issuer"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:wi,reqParams:{countryCode:this.state.countryCode},onchange:this.onChange,selected:this.state.issuerId,id:"issuerId"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",id:"fromDate",fromDate:new Date(this.state.fromDate),fromDateFlg:!0,onchange:function(t){e.onDateChange(t,"fromDate")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"toDate",id:"fromDate",toDate:new Date(this.state.toDate),toDateFlg:!0,onchange:function(t){e.onDateChange(t,"toDate")}})})]})]}),this.state.reportData.length>0&&Object(u.jsx)(W.a,{className:"text-right pdAd",children:Object(u.jsx)(Vb,{tableColumns:this.state.columns,tableData:this.state.reportData,screenTitle:"ISSUER_BUY_RUN",subTitle:""})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{className:"d-inline-block p-0",children:this.state.reportData.length>0?Object(u.jsx)("div",{style:{width:"100%"},children:Object(u.jsx)(Z.a,{data:this.state.reportData,keyField:"rowNo",columns:this.state.columns,striped:!0,hover:!0,wrapperClasses:"fo2table table-responsive"})}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."})})})})]}):Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})]})})}}]),a}(o.a.Component),Hx=[];Hx.issuerId=kt,Hx.issuerName=Kt,Hx.issuerAmount=fo;var Wx=[];Wx.investorId=kt,Wx.investor=Vt,Wx.investorAmount=fo;var qx,zx,Gx,Kx=[];Kx.tradeDate=bn,Kx.settleDate=Ts,Kx.maturityDate=la,Kx.amount=de,Kx.price=es,Kx.cassiiNbr=Le,Kx.prodName=ls;var Zx,Jx,Qx={showExpandColumn:!0,expandByColumnOnly:!0,onlyOneExpanding:!0,renderer:function(e,t){return Object(u.jsx)("div",{children:Object(u.jsx)(lp,{cprops:Kx,apiCall:Ni,reqParams:{issuerId:qx,investorId:Gx[t].investorId,productType:zx},keyField:"1",excelFlag:"true"})})}},Xx=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={columns:[],data:[]},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({data:t.data}),t.data.length>0&&e.setState({columns:Qo(t.data,Wx)})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;e!==this.props&&this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({data:e.data}),e.data.length>0&&a.setState({columns:Qo(e.data,Wx)})}))}},{key:"render",value:function(){return qx=this.props.issuerId,zx=this.props.productType,Gx=this.state.data,Object(u.jsx)(u.Fragment,{children:this.state.columns.length>0?Object(u.jsx)(Z.a,{data:this.state.data,expandRow:Qx,keyField:this.props.keyField,columns:this.state.columns,striped:!0,hover:!0,wrapperClasses:"fo2table table-responsive"}):Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})})})}}]),a}(o.a.Component),$x={showExpandColumn:!0,expandByColumnOnly:!0,onlyOneExpanding:!0,renderer:function(e,t){return Object(u.jsx)("div",{children:Object(u.jsx)(Xx,{apiCall:"/getIssuersInvestorCurrentHolder",reqParams:{issuerId:void 0!==Zx[t]?Zx[t].issuerId:"",productType:Jx},keyField:"investorId",issuerId:void 0!==Zx[t]?Zx[t].issuerId:"",productType:Jx})})}},ef=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={columns:[],data:[],isLoading:!1},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({data:t.data}),t.data.length>0&&e.setState({columns:Qo(t.data,Hx),data:t.data,isLoading:!0})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;e!==this.props&&this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({data:e.data}),e.data.length>0&&a.setState({columns:Qo(e.data,Hx),data:e.data,isLoading:!0})}))}},{key:"render",value:function(){return Zx=this.state.data,Jx=this.props.reqParams.productType,Object(u.jsx)(u.Fragment,{children:!0===this.state.isLoading?this.state.columns.length>0&&this.state.data.length>0?Object(u.jsxs)("div",{style:{width:"100%"},children:[this.state.data.length>0&&Object(u.jsx)("div",{className:"text-right pdAd",children:Object(u.jsx)(Vb,{tableColumns:this.state.columns,tableData:this.state.data,screenTitle:"ISSUER_CURRENT_HOLDER",subTitle:""})}),Object(u.jsx)(Z.a,{data:this.state.data,expandRow:$x,keyField:this.props.keyField,columns:this.state.columns,filter:Ro()(),striped:!0,hover:!0,wrapperClasses:"fo2table table-responsive"}),Zx.length>0&&Object(u.jsx)("div",{class:"react-bootstrap-table fo2table",children:Object(u.jsx)("table",{class:"table table-striped table-hover table-bordered",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-right bold"}),Object(u.jsx)("td",{className:"text-center bold",style:{width:"50%"},children:"Grand Total ($m) :"}),Object(u.jsx)("td",{className:"text-right bold",children:Lo(Zx[0].grandTotal)})]})})})]}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."}):Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})})})}}]),a}(o.a.Component),tf=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).countryChange=function(e){s.setState(Object(g.a)({},e.target.id,e.target.value))},s.getDefaultValues=function(e,t){s.setState({countryCode:"All"})},s.getDefaultPrdValues=function(){s.setState({productValue:"All"})},s.productChange=function(e){s.setState({productValue:e.target.value})},s.state={cmodal:!0,countryCode:"",productValue:""},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===vr&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("div",{className:"d-inline-block cross col-md-7",children:Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(ni,{label:bo,id:"lbl_Country",className:"text-white"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:wc,reqParams:{All:"true"},onchange:this.countryChange,selected:this.state.countryCode,stateMethod:this.getDefaultValues,id:"countryCode"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{className:"text-white",label:"Product Type",id:"lbl_prod"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:vi,reqParams:{All:"true"},onchange:this.productChange,stateMethod:this.getDefaultPrdValues,selected:this.state.productValue,id:"product"})})]})]})}),Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:""!==this.state.countryCode&&""!==this.state.productValue&&Object(u.jsx)(ef,{apiCall:"/getIssuerCurrentHolderData",reqParams:{countryCode:this.state.countryCode,productType:this.state.productValue},keyField:"issuerId"})})})]})})}}]),a}(o.a.Component),af=[];af.investorId=kt,af.investor=Vt,af.investorAmount=fo;var sf=[];sf.issuerId=kt,sf.issuerName=Kt,sf.issuerAmount=fo;var nf,of,lf,cf=[];cf.tradeDate=bn,cf.settleDate=Ts,cf.maturityDate=la,cf.amount=de,cf.price=es,cf.cassiiNbr=Le,cf.prodName=ls;var rf,df,mf={showExpandColumn:!0,expandByColumnOnly:!0,onlyOneExpanding:!0,renderer:function(e,t){return Object(u.jsx)("div",{children:Object(u.jsx)(lp,{cprops:cf,apiCall:Ni,reqParams:{issuerId:void 0!==nf[t]?nf[t].issuerId:"",investorId:of,productType:lf},keyField:"1",excelFlag:"true"})})}},hf=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={columns:[],data:[]},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({data:t.data}),t.data.length>0&&e.setState({columns:Qo(t.data,sf)})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;e!==this.props&&this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({data:e.data}),e.data.length>0&&a.setState({columns:Qo(e.data,sf)})}))}},{key:"render",value:function(){return nf=this.state.data,of=this.props.investorId,lf=this.props.productType,Object(u.jsx)(u.Fragment,{children:this.state.columns.length>0?Object(u.jsx)(Z.a,{data:this.state.data,expandRow:mf,keyField:this.props.keyField,columns:this.state.columns,filter:Ro()(),striped:!0,hover:!0,wrapperClasses:"fo2table table-responsive"}):Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})})})}}]),a}(o.a.Component),uf={showExpandColumn:!0,expandByColumnOnly:!0,onlyOneExpanding:!0,renderer:function(e,t){return Object(u.jsx)("div",{children:Object(u.jsx)(hf,{apiCall:"/getInvestorsIssuerCurrentHolder",reqParams:{investorId:rf[t].investorId,productType:df},keyField:"issuerId",investorId:rf[t].investorId,productType:df})})}},bf=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={columns:[],data:[],isLoading:!1},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({data:t.data}),t.data.length>0&&e.setState({columns:Qo(t.data,af),isLoading:!0})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;e!==this.props&&this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({data:e.data}),e.data.length>0&&a.setState({columns:Qo(e.data,af),isLoading:!0})}))}},{key:"render",value:function(){return rf=this.state.data,df=this.props.reqParams.productType,Object(u.jsx)(u.Fragment,{children:!0===this.state.isLoading?this.state.columns.length>0&&this.state.data.length>0?Object(u.jsxs)("div",{style:{width:"100%"},children:[this.state.data.length>0&&Object(u.jsx)("div",{className:"text-right pdAd",children:Object(u.jsx)(Vb,{tableColumns:this.state.columns,tableData:this.state.data,screenTitle:"INVESTOR_CURRENT_HOLDER",subTitle:""})}),Object(u.jsx)(Z.a,{data:this.state.data,expandRow:uf,keyField:this.props.keyField,columns:this.state.columns,filter:Ro()(),striped:!0,hover:!0,wrapperClasses:"fo2table table-responsive"}),Object(u.jsx)("div",{class:"react-bootstrap-table fo2table",children:Object(u.jsx)("table",{class:"table table-striped table-hover table-bordered",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-center"}),Object(u.jsx)("td",{className:"text-center bold",style:{width:"45%"},children:"Grand Total ($m) :"}),Object(u.jsx)("td",{className:"text-right bold",children:Lo(rf[0].grandTotal)})]})})})]}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."}):Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})})})}}]),a}(o.a.Component),pf=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getDefaultPrdValues=function(){s.setState({productValue:"All"})},s.state={cmodal:!0,productValue:""},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.productChange=s.productChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===yr&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"productChange",value:function(e){this.setState({productValue:e.target.value,updateData:!0})}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("div",{className:"d-inline-block cross col-md-7",children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(ni,{className:"text-white",label:bs,id:"lbl_prod"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:vi,reqParams:{All:"true"},onchange:this.productChange,stateMethod:this.getDefaultPrdValues,selected:this.state.productValue,id:"product"})})]})}),"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:""!==this.state.productValue&&Object(u.jsx)(bf,{apiCall:"/geInvestorCurrentHolderData",reqParams:{productType:this.state.productValue},keyField:"investorId"})})})]})})}}]),a}(o.a.Component),jf=[];jf.issuerName=Kt,jf.availableAmount="Available",jf.settleDate=Rs,jf.maturityDate=ra,jf.days="Days Left",jf.bidPrice=Ne,jf.offerPrice=Fa,jf.traderId=pn;var xf=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,eodDateValue:new Date,avgTenor:"",grandTotal:"",ninetyDayEq:""},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.eodDateChange=s.eodDateChange.bind(Object(O.a)(s)),s.gosubmit=s.gosubmit.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({avgTenor:"",grandTotal:"",ninetyDayEq:""}),w()({method:"POST",url:N.URL+Oi,timeout:N.apiTimeOut,data:{Date:Vu(this.state.eodDateValue)},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&(e.setState({data:t.data}),e.state.data&&e.state.data.forEach((function(t,a){t.grandTotalMap&&e.setState({grandTotal:t.grandTotalMap.grandTotal,avgTenor:t.grandTotalMap.avgTenor,ninetyDayEq:t.grandTotalMap.ninetyDayEq})})))}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;t.eodDateValue!==this.state.eodDateValue&&(this.setState({avgTenor:"",grandTotal:"",ninetyDayEq:""}),w()({method:"POST",url:N.URL+Oi,timeout:N.apiTimeOut,data:{Date:Vu(this.state.eodDateValue)},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(a.setState({data:e.data}),a.state.data&&a.state.data.forEach((function(e,t){e.grandTotalMap&&a.setState({grandTotal:e.grandTotalMap.grandTotal,avgTenor:e.grandTotalMap.avgTenor,ninetyDayEq:e.grandTotalMap.ninetyDayEq})})))})))}},{key:"eodDateChange",value:function(e){this.setState({eodDateValue:e})}},{key:"gosubmit",value:function(e){this.setState({go:e})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.data&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"EOD Date",id:"lbl_eoddate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.eodDateValue,fromDateFlg:!0,onchange:this.eodDateChange})})]}),Object(u.jsx)(W.a,{})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(lp,{cprops:jf,apiCall:Oi,reqParams:{Date:Vu(this.state.eodDateValue)},keyField:"1",screenName:"EOD_POSITION_REPORT",flagPdf:!0})}),Object(u.jsx)("table",{class:"table table-striped table-hover table-bordered",children:Object(u.jsx)("tbody",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-left bold",children:"Total Par:"}),Object(u.jsx)("td",{className:"text-left",children:Lo(this.state.grandTotal)}),Object(u.jsx)("td",{className:"text-left bold",children:"90 day equivalent:"}),Object(u.jsx)("td",{className:"text-left",children:Lo(this.state.ninetyDayEq)}),Object(u.jsx)("td",{className:"text-left bold",children:"Weighted Avg Tenor:"}),Object(u.jsx)("td",{className:"text-left",children:this.state.avgTenor})]})})})]})]})})}}]),a}(o.a.Component),ff=[];ff.managementtradereport="Management Trade Report",ff.venue=Tn,ff.totalCount="Total Trades",ff.approvedCount="Approved Trades",ff.rejectedCount=vs,ff.pendingCount=Ja,ff.amount="Total Volume",ff.buySellFlag=Te,ff.bookName="Booked By";var gf=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,venueValue:"",formDateValue:new Date,toDateValue:new Date},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.venueChange=s.venueChange.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Ar&&this.setState({cmodal:!0})}},{key:"venueChange",value:function(e){this.setState({venueValue:e.target.value})}},{key:"fromDateChange",value:function(e){this.setState({formDateValue:e})}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Venue",id:"lbl_venue"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Ii,reqParams:{venueCode:"All"},onchange:this.venueChange,selected:this.state.venueValue,id:"venue"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(lp,{cprops:ff,apiCall:"/getManagementTradeReport",reqParams:{venueCode:""===this.state.venueValue?"All":this.state.venueValue,fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue)},keyField:"1"})})]})]})})}}]),a}(o.a.Component),Of=[];Of.forwardingTradesReport="Forward Trades Report",Of.prodName=is,Of.amount="Total Par ($m)";var vf,yf=[];yf.tickerCode=cn,yf.issuerName=Kt,yf.amount=Ka,yf.settleDate=Ts,yf.maturityDate=la,yf.price=es,yf.buySellFlag=Te;var kf={showExpandColumn:!0,expandByColumnOnly:!0,onlyOneExpanding:!0,renderer:function(e,t){return Object(u.jsx)("div",{children:Object(u.jsx)(lp,{cprops:yf,apiCall:"/getForwardTradesData",reqParams:{productType:e.productType},keyField:"productType",excelFlag:"true"})})}},Df=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={columns:[],data:[],isLoading:!1},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({data:t.data,isLoading:!0}),t.data.length>0&&e.setState({columns:Qo(t.data,Of),isLoading:!0})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;e!==this.props&&this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({data:e.data,isLoading:!0}),e.data.length>0&&a.setState({columns:Qo(e.data,Of),isLoading:!0})}))}},{key:"render",value:function(){return vf=this.state.data,Object(u.jsx)(u.Fragment,{children:!0===this.state.isLoading?this.state.columns.length>0?Object(u.jsxs)("div",{style:{width:"100%"},children:[this.state.data.length>0&&Object(u.jsx)("div",{className:"text-right pdAd",children:Object(u.jsx)(Vb,{tableColumns:this.state.columns,tableData:this.state.data,screenTitle:"FORWARD_TRADES_REPORT",subTitle:""})}),Object(u.jsx)(Z.a,{data:this.state.data,expandRow:kf,keyField:this.props.keyField,columns:this.state.columns,filter:Ro()(),striped:!0,hover:!0,wrapperClasses:"fo2table table-responsive"}),Object(u.jsx)("div",{class:"react-bootstrap-table fo2table",children:Object(u.jsx)("table",{class:"table table-striped table-hover table-bordered",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-right bold"}),Object(u.jsx)("td",{className:"text-center bold",style:{width:"60%"},children:"Grand Total ($m) :"}),Object(u.jsx)("td",{className:"text-right bold",children:Lo(vf[0].stringGrandTotal)})]})})})]}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."}):Object(u.jsx)(Fb,{})})}}]),a}(o.a.Component),Cf=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Nr&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Df,{apiCall:"/getForwardTradeProductData",reqParams:{"":""},keyField:"productType"})})})]})})}}]),a}(o.a.Component),Nf=[];Nf.liborRates="Libor Rates",Nf.liborName="Libor Description",Nf["Jan 10, 2021"]="Libor Rate ( Sep 27, 2020 )",Nf["Jan 09, 2021"]="Libor Rate ( Sep 26, 2020 )",Nf["Jan 13, 2021"]="Libor Rate ( Sep 25, 2020 )",Nf["Jan 14, 2021"]="Libor Rate ( Sep 24, 2020 )";var Sf=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,currencyValue:"",dateValue:new Date},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.currencyChange=s.currencyChange.bind(Object(O.a)(s)),s.dateChange=s.dateChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===fr&&this.setState({cmodal:!0})}},{key:"currencyChange",value:function(e){this.setState({currencyValue:e.target.value})}},{key:"dateChange",value:function(e){this.setState({dateValue:e})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Currency",id:"lbl_currency"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Ei,reqParams:{},onchange:this.currencyChange,selected:this.state.currencyValue,id:"currency"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Date",id:"lbl_date"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"date",fromDate:this.state.dateValue,fromDateFlg:!0,onchange:this.dateChange})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(lp,{cprops:Nf,apiCall:"/getLiborRates",reqParams:{date:Vu(this.state.dateValue),currency:""===this.state.currencyValue?"USD":this.state.currencyValue},keyField:"1"})})]})]})})}}]),a}(o.a.Component),wf=[];wf.bookDesc=Se,wf.issueId=it,wf.ticker=cn,wf.issuerShortName=Kt,wf.settle=Rs,wf.settleDateStr=Ms,wf.maturityDateStr=ia,wf.prodCode=Dn,wf.availableCredit=wn,wf.offer=Fa,wf.availableToday=aa,wf.amount=Aa,wf.trader=pn,wf.issuer=Kt;var Tf=[];Tf.issueId=it,Tf.issuerName=Kt,Tf.ticker=cn,Tf.settle=Rs,Tf.settleDateStr=Ms,Tf.maturityDateStr=ia,Tf.prodCode=Dn,Tf.availableCredit=wn,Tf.offer=Fa,Tf.offeringlimit=aa,Tf.amount=Aa,Tf.actionId=ie;var If=[];If.amount=za,If.offer=Ra,If.bid=Ie,If.fromDate=ca,If.toDate=ca,If.fromDays=ca,If.toDays=ca;var Mf=[];Mf.offeringDate=at,Mf.offeringRate=ps,Mf.offeringAmount=ga;var Af=[];Af.maturityDate=fa,Af.amount=ga,Af.bid=Ye;var Rf=[];Rf.shortName=Vt,Rf.availableCredit=de,Rf.originalSettlementDate=rs,Rf.bid=ps;var Ef=[];Ef.availableCredit=de,Ef.maturityDate=la,Ef.bid=Ne,Ef.offerRate=Fa;var Ff=[];function Pf(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){if(e===n&&t[e]){if("availableCredit"===e)o={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),align:"right"};else if("amount"===e)var o={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"};else o="offer"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.offerTextBoxComponent}:"offeringlimit"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.limitTextBoxComponent}:"issueId"===e?{dataField:e,text:t[e],formatter:a.checkBoxComponent}:"actionId"===e?{dataField:e,text:t[e],formatter:a.actionComponent,editable:!1}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.fieldComponent,editable:!1,formatExtraData:{colId:t[e]}};s.push(o)}return""})),""})),s}function Bf(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&("amount"===e?o={dataField:e,text:t[e],formatter:a.quantityTextComponent,formatExtraData:{quantityFlag:a.quantityFlag}}:"offer"===e?o={dataField:e,text:t[e],formatter:a.offerRateTextComponent}:"bid"===e?o={dataField:e,text:t[e],formatter:a.bidRateTextComponent}:"fromDate"===e?o={dataField:e,text:t[e],formatter:a.maturityRangeComponent,headerAttrs:{colSpan:5,width:300},formatExtraData:{colId:e}}:("toDate"===e||"fromDays"===e||"toDays"===e)&&(o={dataField:e,text:t[e],formatter:a.maturityRangeComponent,headerAttrs:{hidden:!0},formatExtraData:{colId:e}}),s.push(o)));return""})),""})),s}function Lf(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&("offeringDate"===e?o={dataField:e,text:t[e],formatter:a.offeringDateComponent,headerAttrs:{width:170}}:"offeringRate"===e?o={dataField:e,text:t[e],formatter:a.offeringRateComponent,headerAttrs:{width:140}}:"offeringAmount"===e&&(o={dataField:e,text:t[e],formatter:a.offeringAmountComponent,headerAttrs:{width:140}}),s.push(o)));return""})),""})),s}function _f(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&("maturityDate"===e?o={dataField:e,text:t[e],headerAttrs:{width:100}}:"amount"===e?o={dataField:e,text:t[e],formatter:a.salesAmountComponent,headerAttrs:{width:150}}:"bid"===e&&(o={dataField:e,text:t[e],formatter:a.salesRateComponent,headerAttrs:{width:150}}),s.push(o)));return""})),""})),s}function Uf(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&("shortName"===e?o={dataField:e,text:t[e],formatter:a.investorComponent,headerAttrs:{width:100}}:"originalSettlementDate"===e?o={dataField:e,text:t[e],headerAttrs:{width:150}}:"availableCredit"===e?o={dataField:e,text:t[e],formatter:a.matAmountComponent,headerAttrs:{width:150}}:"bid"===e&&(o={dataField:e,text:t[e],headerAttrs:{width:150}}),s.push(o)));return""})),""})),s}function Vf(e,t){var a=[];return Object.keys(t).map((function(e){var s={dataField:e,text:t[e]};return a.push(s),""})),a}function Yf(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&("maturityDate"===e?o={dataField:e,text:t[e],headerAttrs:{width:100}}:"amount"===e?o={dataField:e,text:t[e],formatter:a.salesAmountComponent,headerAttrs:{width:150}}:"issueId"===e?o={dataField:e,text:t[e],formatter:a.convCheckBoxComponent,headerAttrs:{width:50}}:"bid"===e&&(o={dataField:e,text:t[e],headerAttrs:{width:150}}),s.push(o)));return""})),""})),s}Ff.issueId=Ve,Ff.maturityDate=fa,Ff.amount=ga,Ff.bid=Ye;var Hf=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,book:"",ticker:"",bookId:"",tickerId:"",payload:{},screenName:"Offerings"},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.goBack=s.goBack.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.linkname!==e.linkname&&"Grid Report"===this.props.linkname&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"goBack",value:function(){(0,this.props.returnMethod)()}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",id:"cls_commit",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:Tf,apiCall:Qi,wsUrl:!1,reqParams:{issueId:"75769987",productType:Hh},edit:!0,mappings:Pf,keyField:"issueId"})})}),Object(u.jsx)(ai.a.Footer,{children:Object(u.jsx)(W.a,{className:"d-inline-block text-center",children:Object(u.jsx)(D.a,{size:"sm",onClick:this.goBack,children:"Return"})})})]})})}}]),a}(o.a.Component),Wf=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(u.jsx)(k.a.Control,{as:"textarea",defaultValue:this.props.value,onBlur:this.props.onBlur,onChange:this.props.onChange,name:this.props.name,id:this.props.id,readOnly:this.props.readOnly,rows:4})}}]),a}(o.a.Component),qf=Wf,zf=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={exceptionRowCnt:s.props.exceptionRowCnt},s.exceptionDateChange=s.exceptionDateChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.linkname,e.linkname}},{key:"componentDidMount",value:function(){}},{key:"exceptionDateChange",value:function(e,t){this.props.onChange(e,t)}},{key:"render",value:function(){var e=this,t=this.state.exceptionRowCnt,a=this.props.exceptionDatesList;return Object(u.jsxs)(W.a,{className:"d-flex",children:[Object(u.jsx)("div",{className:"d-inline-block pl-3 pr-1 w150",children:Object(u.jsx)(Ju,{minDate:new Date,label:"exceptionDate"+t,dateValue:a&&a[t]?new Date(a[t].exceptionDate):"",onchange:function(a){e.exceptionDateChange(a,t)},fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:this.props.holidayData,productWeekData:this.props.productWeekData})}),Object(u.jsx)("div",{className:"d-inline-block pl-3 pr-1 w150",children:Object(u.jsx)(Ju,{minDate:new Date,label:"exceptionDate"+(t+1),dateValue:a&&a[t+1]?new Date(a[t+1].exceptionDate):"",onchange:function(a){e.exceptionDateChange(a,t+1)},fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:this.props.holidayData,productWeekData:this.props.productWeekData})}),Object(u.jsx)("div",{className:"d-inline-block pl-3 pr-1 w150",children:Object(u.jsx)(Ju,{minDate:new Date,label:"exceptionDate"+(t+2),dateValue:a&&a[t+2]?new Date(a[t+2].exceptionDate):"",onchange:function(a){e.exceptionDateChange(a,t+2)},fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:this.props.holidayData,productWeekData:this.props.productWeekData})}),Object(u.jsx)("div",{className:"d-inline-block pl-3 pr-1 w150",children:Object(u.jsx)(Ju,{minDate:new Date,label:"exceptionDate"+(t+3),dateValue:a&&a[t+3]?new Date(a[t+3].exceptionDate):"",onchange:function(a){e.exceptionDateChange(a,t+3)},fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:this.props.holidayData,productWeekData:this.props.productWeekData})}),Object(u.jsx)("div",{className:"d-inline-block pl-3 pr-1 w150",children:Object(u.jsx)(Ju,{minDate:new Date,label:"exceptionDate"+(t+4),dateValue:a&&a[t+4]?new Date(a[t+4].exceptionDate):"",onchange:function(a){e.exceptionDateChange(a,t+4)},fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:this.props.holidayData,productWeekData:this.props.productWeekData})}),Object(u.jsx)("div",{className:"d-inline-block pl-3 pr-1 w150",children:Object(u.jsx)(Ju,{minDate:new Date,label:"exceptionDate"+(t+5),dateValue:a&&a[t+5]?new Date(a[t+5].exceptionDate):"",onchange:function(a){e.exceptionDateChange(a,t+5)},fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:this.props.holidayData,productWeekData:this.props.productWeekData})}),0===t?Object(u.jsx)("div",{className:"d-inline-block",children:Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",size:"sm",onClick:this.props.rowAdd,id:"rowadd",children:"(+)"})}):""]})}}]),a}(o.a.Component),Gf=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,book:"",ticker:"",bookId:"",tickerId:"",payload:{},screenName:"C",quantityFlag:"Y",settleDate:"",quantity:"",exceptionRowCnt:1,offeringsList:[{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:0},{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:1},{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:2},{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:3},{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:4},{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:5},{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:6},{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:7},{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:8}],offeringLimit:"",minimumPieceSize:"",notes:"",exceptionDatesList:[],firm:"N",proceeds:"N",issueId:"",actionResponse:"",singleSelections:"",issuerId:"",templateName:"",templateId:"",showError:!1,actionTitle:"",actionMessage:"",issuerName:"",trader:"",minAmount:"",maxAmount:"",increment:"",totalAmount:"",maxNoOfDays:"",responseMessage:"",matDates:[],spread:"",allIn:"",updateData:!0,holidayData:[],productWeekData:[]},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.goBack=s.goBack.bind(Object(O.a)(s)),s.quantityChanges=s.quantityChanges.bind(Object(O.a)(s)),s.settleDataChange=s.settleDataChange.bind(Object(O.a)(s)),s.quantityTextComponent=s.quantityTextComponent.bind(Object(O.a)(s)),s.offerRateTextComponent=s.offerRateTextComponent.bind(Object(O.a)(s)),s.bidRateTextComponent=s.bidRateTextComponent.bind(Object(O.a)(s)),s.maturityRangeComponent=s.maturityRangeComponent.bind(Object(O.a)(s)),s.onRowQuantity=s.onRowQuantity.bind(Object(O.a)(s)),s.onOfferRateChange=s.onOfferRateChange.bind(Object(O.a)(s)),s.onBidRateChange=s.onBidRateChange.bind(Object(O.a)(s)),s.doAdd=s.doAdd.bind(Object(O.a)(s)),s.onNotesChange=s.onNotesChange.bind(Object(O.a)(s)),s.offeringLimitChange=s.offeringLimitChange.bind(Object(O.a)(s)),s.minPieceChange=s.minPieceChange.bind(Object(O.a)(s)),s.onDateChange=s.onDateChange.bind(Object(O.a)(s)),s.onDaysChange=s.onDaysChange.bind(Object(O.a)(s)),s.doExceptionDataChange=s.doExceptionDataChange.bind(Object(O.a)(s)),s.onSave=s.onSave.bind(Object(O.a)(s)),s.onCheckChange=s.onCheckChange.bind(Object(O.a)(s)),s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.doSaveCopy=s.doSaveCopy.bind(Object(O.a)(s)),s.changeTemplate=s.changeTemplate.bind(Object(O.a)(s)),s.templateNameChange=s.templateNameChange.bind(Object(O.a)(s)),s.deteteTemplate=s.deteteTemplate.bind(Object(O.a)(s)),s.doSaveTemplate=s.doSaveTemplate.bind(Object(O.a)(s)),s.matAmountComponent=s.matAmountComponent.bind(Object(O.a)(s)),s.investorComponent=s.investorComponent.bind(Object(O.a)(s)),s.verifyParams=s.verifyParams.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.doRenameTemplate=s.doRenameTemplate.bind(Object(O.a)(s)),s.getDefaultValues=s.getDefaultValues.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.linkname!==e.linkname&&"Grid Report"===this.props.linkname&&this.setState({cmodal:!0,updateData:!1}),e!==this.props){var a=this.state,s=a.offeringsList,n=a.data,o=[],i=[];if(n){for(var l=0;l<n.length;l++){var c={};n[l].maturityDate&&(c.fromDate=Yu(n[l].maturityDate,"YYYY-MM-DD"),c.fromDays=Wu(n[l].maturityDate,n[l].settlementDate)),n[l].maturityEndDate&&(c.toDate=Yu(n[l].maturityEndDate,"YYYY-MM-DD"),c.toDays=Wu(n[l].maturityEndDate,n[l].settlementDate)),c.offer=n[l].offerRate,c.bid=n[l].bidRate,"N"===n[l].quantityFlag?c.amount=Lo(n[l].amount):c.amount="",c.issueId=n[l].issueId,c.rowId=l,c.quantityFlag=n[l].quantityFlag,n[l].maturityDate&&n[l].maturityEndDate&&(s[l]=c)}for(var r=0;r<s.length;r++)s[r].amount||(s[r].quantityFlag=s[0].quantityFlag),s[r].rowId=r;if(n[0].exdates){for(var d=n[0].exdates.split(" "),m=[],h=0;h<d.length;h++){var u={};u.exceptionDate=Yu(Lu()().year()+"/"+d[h],"YYYY-MM-DD"),m[h]=u}this.setState({exceptionDatesList:m})}this.setState({settleDate:new Date(this.state.data[0].settlementDate),quantity:Lo(n[0].amount),offeringLimit:Lo(n[0].offeringlimit),minimumPieceSize:Lo(n[0].minimumPieceSize),notes:n[0].notes,firm:n[0].subjectFlag,proceeds:n[0].proceedsFlag,ticker:n[0].ticker,offeringsList:s,issueId:n[0].issueId,issuerId:n[0].programId,quantityFlag:n[0].quantityFlag,issuerName:n[0].issuerName,trader:n[0].trader,updateData:!1})}w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{currency:"USD",productType:Hh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){o=e.data.holidayDatesInfo,i=e.data.productWeekData,t.setState({holidayData:o,productWeekData:i})}))}}},{key:"componentDidMount",value:function(){var e=this,t=[],a=[];if(this.props.apiCall)w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){if(t.data){for(var a=e.state.offeringsList,s=0;s<t.data.length;s++){var n={};t.data[s].maturityDate&&(n.fromDate=Yu(t.data[s].maturityDate,"YYYY-MM-DD"),n.fromDays=Wu(t.data[s].maturityDate,t.data[s].settlementDate)),t.data[s].maturityEndDate&&(n.toDate=Yu(t.data[s].maturityEndDate,"YYYY-MM-DD"),n.toDays=Wu(t.data[s].maturityEndDate,t.data[s].settlementDate)),n.offer=t.data[s].offerRate,n.bid=t.data[s].bidRate,"N"===t.data[s].quantityFlag?n.amount=t.data[s].amount:n.amount="",n.issueId=t.data[s].issueId,n.rowId=s,n.quantityFlag=t.data[s].quantityFlag,t.data[s].maturityDate&&t.data[s].maturityEndDate&&(a[s]=n)}for(var o=0;o<a.length;o++)a[o].amount||(a[o].quantityFlag=a[0].quantityFlag),a[o].rowId=o;if(t.data[0].exdates){var i=t.data[0].exdates.split(" "),l=[],c=0;c=i.length<=6?1:Math.floor(i.length/6)+1;for(var r=0;r<i.length;r++){var d={};d.exceptionDate=Yu(Lu()().year()+"/"+i[r],"YYYY-MM-DD HH:MM:SS"),l[r]=d}e.setState({exceptionDatesList:l,exceptionRowCnt:c,updateData:!0})}e.setState({data:t.data,updateData:!0}),e.setState({settleDate:new Date(e.state.data[0].settlementDate),quantity:Lo(e.state.data[0].amount),offeringLimit:Lo(e.state.data[0].offeringlimit),minimumPieceSize:Lo(e.state.data[0].minimumPieceSize),notes:e.state.data[0].notes,firm:e.state.data[0].subjectFlag,proceeds:e.state.data[0].proceedsFlag,ticker:e.state.data[0].ticker,offeringsList:a,issueId:e.state.data[0].issueId,issuerId:e.state.data[0].programId,quantityFlag:e.state.data[0].quantityFlag,issuerName:e.state.data[0].issuerName,trader:e.state.data[0].trader,matDates:e.state.data[0].matDates,spread:e.state.data[0].spread,allIn:e.state.data[0].allIn,updateData:!0})}}));else{this.setState({settleDate:new Date,updateData:!1});for(var s=this.state.offeringsList,n=0;n<s.length;n++)s[n].amount||(s[n].quantityFlag=s[0].quantityFlag),s[n].rowId=n}w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{currency:"USD",productType:Hh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(s){t=s.data.holidayDatesInfo,a=s.data.productWeekData,e.setState({holidayData:t,productWeekData:a})}))}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1}),void 0!==this.props.onRemove?this.props.onRemove(this.props.linkname):this.props.closemodel()}},{key:"tickerChange",value:function(e,t){var a=this;this.setState({singleSelections:e}),this.setState({tickerId:t,ticker:e[0]}),w()({method:"POST",url:N.URL+yl,timeout:N.apiTimeOut,data:{ticker:e[0],issuerId:t,productType:Hh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({issuerName:e.data.issuerName,trader:e.data.trader,minAmount:e.data.minSize,maxAmount:e.data.maxAmount,increment:e.data.incAmount,maxNoOfDays:e.data.maxNoOfDays,matDates:e.data.matDatesList,issuerId:t,minimumPieceSize:e.data.minSize,spread:e.data.spread,allIn:e.data.allIn,updateData:!0})}))}},{key:"goBack",value:function(){(0,this.props.returnMethod)()}},{key:"quantityChanges",value:function(e){var t=this.state,a=t.offeringsList,s=t.quantity;if(!1===Bo(e.target.value,"1234567890.,mmMMkkKK"))this.setState({actionTitle:"Alert",actionMessage:Jm,showError:!0,updateData:!1}),e.target.value=s,e.target.focus();else{var n="N";null!=e.target.value&&e.target.value.length>0?(Uo(e),n="Y",this.setState({quantity:e.target.value,quantityFlag:"Y",offeringLimit:e.target.value,updateData:!1})):(this.setState({quantityFlag:"N",updateData:!1}),n="N");for(var o=0;o<a.length;o++)a[o].quantityFlag=n;this.setState({offeringsList:a,updateData:!1})}}},{key:"settleDataChange",value:function(e){for(var t,a=this.state.offeringsList,s=0;s<a.length;s++)a[s]&&((t=a[s]).fromDays||t.toDays)&&(t.fromDate=Yu(zu(e,t.fromDays),"YYYY-MM-DD"),t.toDate=Yu(zu(e,t.toDays),"YYYY-MM-DD"),t.rowId="0"+t.rowId,a[s]=t);this.setState({settleDate:e,offeringsList:a,updateData:!1})}},{key:"minPieceChange",value:function(e){var t=this.state.minimumPieceSize;!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?(this.setState({actionTitle:"Alert",actionMessage:_m,showError:!0,updateData:!1}),e.target.value=t,e.target.focus()):(e.target.value.length>0&&Uo(e),this.setState({minimumPieceSize:e.target.value,updateData:!1}))}},{key:"offeringLimitChange",value:function(e){var t=this.state.offeringLimit;!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?(this.setState({actionTitle:"Alert",actionMessage:Um,showError:!0,updateData:!1}),e.target.value=t,e.target.focus()):(e.target.value.length>0&&Uo(e),this.setState({offeringLimit:e.target.value,updateData:!1}))}},{key:"onDateChange",value:function(e,t,a,s){var n=this.state,o=n.settleDate,i=n.offeringsList;n.holidayData,n.productWeekData;if(i){var l,c=Wu(e,o)+1;i[a]?(l=i[a],"fromDate"===t?(l.fromDate=e,l.fromDays=c):(l.toDate=e,l.toDays=c),l.issueId=s,l.rowId="0"+l.rowId,i[a]=l):(l={},"fromDate"===t?(l.fromDate=e,l.fromDays=c):(l.toDate=e,l.toDays=c),l.issueId=s,l.rowId="0"+l.rowId,i[a]=l)}this.setState({offeringsList:i,updateData:!1})}},{key:"onDaysChange",value:function(e,t,a,s){var n=this.state,o=n.settleDate,i=n.holidayData,l=n.productWeekData;if(!1===Bo(e.target.value,"1234567890")){this.setState({actionTitle:"Alert",actionMessage:"fromDays"===t?Bm:Zm,showError:!0,updateData:!1});var c="";if(this.state.offeringsList&&this.state.offeringsList[a]){var r=this.state.offeringsList[a];c="fromDays"===t?r.fromDays?r.fromDays:"":r.toDays?r.toDays:""}e.target.value=c,e.target.focus()}else if(""!==e.target.value){var d=e.target.value,m="";if(void 0!==d&&""!==d&&(m=Gu(o,i,l,parseInt(d))),this.state.offeringsList&&this.state.offeringsList[a]){if("fromDays"===t){this.state.offeringsList[a].fromDays=e.target.value,this.state.offeringsList[a].fromDate=Yu(m,"YYYY-MM-DD"),document.getElementById("fromDate"+a).value=Yu(m,"M/D/YY");var h=!1,u="";this.props.offerData&&this.props.offerData.map((function(e,t){var a=new Date(e.fromDate),s=new Date(e.toDate),n=new Date(Yu(m,"M/D/YYYY"));n>a&&n<s&&(h=!0)})),h&&(u="Maturity Date already exist in previous saved ranges.",this.setState({actionTitle:"Alert",actionMessage:u,showError:!0,updateData:!0})),document.getElementById("toDays"+a).focus()}else this.state.offeringsList[a].toDays=e.target.value,this.state.offeringsList[a].toDate=Yu(m,"YYYY-MM-DD"),document.getElementById("toDate"+a).value=Yu(m,"M/D/YYYY");this.state.offeringsList[a].issueId=s}}this.setState({updateData:!0})}},{key:"onRowQuantity",value:function(e,t,a){var s=this.state.offeringsList;if(!1===Bo(e.target.value,"1234567890.,mmMMkkKK")){this.setState({actionTitle:"Alert",actionMessage:Jm,showError:!0,updateData:!1});var n,o="";if(s)s[a]&&(o=(n=s[a]).amount?n.amount:"");e.target.value=o,e.target.focus()}else{if(e.target.value.length>0&&_o(e),s){var i;if((i=s[a]?s[a]:{}).amount=e.target.value,i.issueId=t,i.rowId=a,e.target.value.length>0)i.quantityFlag="N",this.setState({quantityFlag:"N",updateData:!1});else{for(var l=!0,c=0;c<s.length;c++)if(s[c].amount&&s[c].amount.length>0){l=!1;break}if(l){for(var r=0;r<s.length;r++)s[r].amount&&s[r].amount.length>0&&(s[r].quantityFlag="N");this.setState({quantityFlag:"Y",updateData:!1})}else this.setState({quantityFlag:"N",updateData:!1}),i.quantityFlag="N"}s[a]=i}for(var d=0,m=0;m<s.length;m++)s[m].amount&&s[m].amount.length>0&&(d+=parseFloat(Po(s[m].amount)));parseFloat(d)>0?this.setState({offeringsList:s,offeringLimit:Lo(d.toString()),minimumPieceSize:Lo((Po(d)/10).toString()),totalAmount:d,updateData:!1}):this.setState({offeringsList:s,totalAmount:d,updateData:!1})}}},{key:"onOfferRateChange",value:function(e,t,a){var s=this.state.spread,n=this.state.allIn;if(!1===Bo(e.target.value,"1234567890.")){this.setState({actionTitle:"Alert",actionMessage:Vm,showError:!0,updateData:!1});var o,i="";if(this.state.offeringsList)this.state.offeringsList[a]&&(i=(o=this.state.offeringsList[a]).offer?o.offer:"");e.target.value=i,e.target.focus()}else if(_o(e),this.state.offeringsList&&(this.state.offeringsList[a].offer=e.target.value,this.state.offeringsList[a].issueId=t,null!=n&&"N"===n))if(s&&s.length>0){if(this.state.offeringsList[a].offer.length>0&&0!==this.state.offeringsList[a].offer&&(0===this.state.offeringsList[a].bid||void 0===this.state.offeringsList[a].bid||""===this.state.offeringsList[a].bid)){var l=parseFloat(this.state.offeringsList[a].offer)+parseFloat(s/100);l=l.toFixed(parseInt("2")),this.state.offeringsList[a].bid=l,document.getElementById("bidRate"+a).value=l,document.getElementById("fromDays"+a).focus()}}else this.state.offeringsList[a].bid=this.state.offeringsList[a].offer}},{key:"onBidRateChange",value:function(e,t,a){var s=this.state.spread,n=this.state.allIn;if(!1===Bo(e.target.value,"1234567890.")){this.setState({actionTitle:"Alert",actionMessage:Im,showError:!0,updateData:!1});var o,i="";if(this.state.offeringsList)this.state.offeringsList[a]&&(i=(o=this.state.offeringsList[a]).bid?o.bid:"");e.target.value=i,e.target.focus()}else if(this.state.offeringsList&&""!==e.target.value&&(this.state.offeringsList[a].bid=e.target.value,this.state.offeringsList[a].issueId=t,null!=n&&"N"===n))if(s&&s.length>0){if(this.state.offeringsList[a].bid.length>0&&0!==this.state.offeringsList[a].bid&&(0===this.state.offeringsList[a].offer||void 0===this.state.offeringsList[a].offer||""===this.state.offeringsList[a].offer)){var l=parseFloat(this.state.offeringsList[a].bid)-parseFloat(s/100);l=l.toFixed(parseInt("2")),this.state.offeringsList[a].offer=l,document.getElementById("offerRate"+a).value=l,document.getElementById("fromDays"+a).focus()}}else this.state.offeringsList[a].offer=this.state.offeringsList[a].bid}},{key:"quantityTextComponent",value:function(e,t,a,s){var n,o=this,i="orQuantity"+a,l=this.state.offeringsList[a];return n=t.quantityFlag?t.quantityFlag:"Y",Object(u.jsx)(Eu,{name:i,id:i,value:"Y"===n?"":l.amount,onBlur:function(e){o.onRowQuantity(e,t.issueId,a)},readOnly:"Y"===n})}},{key:"offerRateTextComponent",value:function(e,t,a,s){var n=this;return Object(u.jsx)(Eu,{name:"offerRate"+a,id:"offerRate"+a,value:this.state.offeringsList?this.state.offeringsList[a].offer:"",onBlur:function(e){n.onOfferRateChange(e,t.issueId,a)}})}},{key:"bidRateTextComponent",value:function(e,t,a,s){var n=this;return Object(u.jsx)(Eu,{name:"bidRate"+a,id:"bidRate"+a,value:this.state.offeringsList?this.state.offeringsList[a].bid:"",onBlur:function(e){n.onBidRateChange(e,t.issueId,a)}})}},{key:"maturityRangeComponent",value:function(e,t,a,s){var n=this,o=this.state,i=o.holidayData,l=o.productWeekData,c=s.colId,r=t;return Object(u.jsx)("div",{style:{width:"130px"},children:"fromDate"===c?Object(u.jsx)(Ju,{minDate:new Date,label:"fromDate"+a,onchange:function(e){n.onDateChange(e,"fromDate",a,t.issueId)},dateValue:r.fromDate?new Date(Yu(r.fromDate,"YYYY-MM-DD HH:MM:SS")):"",fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:i,productWeekData:l}):"toDate"===c?Object(u.jsx)(Ju,{minDate:new Date,label:"toDate"+a,onchange:function(e){n.onDateChange(e,"toDate",a,t.issueId)},fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:i,productWeekData:l}):"fromDays"===c?Object(u.jsxs)("div",{style:{display:"inline-flex",width:"120px"},children:[Object(u.jsx)(Eu,{name:"fromDays"+a,id:"fromDays"+a,onBlur:function(e){n.onDaysChange(e,"fromDays",a,t.issueId)},value:r.fromDays?r.fromDays:""})," \xa0",Object(u.jsx)("div",{className:"labelStyle",children:"DAYS"})]}):"toDays"===c?Object(u.jsxs)("div",{style:{display:"inline-flex",width:"120px"},children:[Object(u.jsx)(Eu,{name:"toDays"+a,id:"toDays"+a,onBlur:function(e){n.onDaysChange(e,"toDays",a,t.issueId)},value:r.toDays?r.toDays:""})," \xa0 ",Object(u.jsx)("div",{className:"labelStyle",children:"DAYS"})]}):""})}},{key:"matAmountComponent",value:function(e,t,a,s){return"10"===t.transType?e:t.trMarkUpAmount}},{key:"investorComponent",value:function(e,t,a,s){return"10"===t.transType?"Unsold":e}},{key:"doAdd",value:function(){var e=this.state.exceptionRowCnt;e+=1,this.setState({exceptionRowCnt:e,updateData:!1})}},{key:"onNotesChange",value:function(e){this.setState({notes:e.target.value,updateData:!1})}},{key:"doExceptionDataChange",value:function(e,t){var a,s=this.state.exceptionDatesList,n=!1,o="";this.state.offeringsList&&this.state.offeringsList.map((function(t,a){e>t.fromDate&&e<t.toDate&&(n=!0)})),n||(o="Ex Date should between Start Date and End Date.",this.setState({actionTitle:"Alert",actionMessage:o,showError:!0,updateData:!1})),s&&(s[t]?(a=s[t]).exceptionDate=e:((a={}).exceptionDate=e,s[t]=a)),this.setState({exceptionDatesList:s,updateData:!1})}},{key:"onCheckChange",value:function(e,t){"firm"===e?this.setState({firm:t.target.checked?"Y":"N",updateData:!1}):this.setState({proceeds:t.target.checked?"Y":"N",updateData:!1})}},{key:"verifyParams",value:function(e,t){var a=e[0],s=this.state,n=(s.quantityFlag,s.minAmount),o=s.maxAmount,i=s.increment,l=s.totalAmount,c=s.maxNoOfDays,r=s.matDates,d="";if(a.ticker&&0!==a.ticker.length||(d=Lh),a.amount)0===a.amount.length&&0===d.length&&(d=Jm),a.amount.length>0&&0===d.length&&(parseFloat(a.amount)<parseFloat(n)&&(d=lr+Lo(n)),parseFloat(a.amount)>parseFloat(o)&&0===d.length&&(d=ir+Lo(o)));else for(var m=m;m<a.offeringsList.length;m++)if(a.offeringList[m].amount){if(0===a.offeringList[m].amount.length&&0===d.length){d=Jm;break}a.offeringList[m].amount.length>0&&0===d.length&&(parseFloat(a.offeringList[m].amount)<parseFloat(n)&&(d=lr+Lo(n)),parseFloat(a.offeringList[m].amount)>parseFloat(o)&&0===d.length&&(d=ir+Lo(o)))}if("Invalid date"===a.settlementDate&&0===d.length&&(d=qm),0===a.minimumPieceSize.length&&0===d.length&&(d=_m),0===a.offeringlimit.length&&0===d.length&&(d=Um),a.offeringlimit.length>0&&0===d.length&&(0!==i&&parseInt(a.offeringlimit)%parseInt(i)&&(d=Dm+Lo(i)),a.amount.length>0?parseInt(a.offeringlimit)>parseFloat(a.amount)&&0===d.length&&(d=Cm):parseInt(a.offeringlimit)>parseFloat(l)&&0===d.length&&(d=Cm)),a.minimumPieceSize.length>0&&0===d.length&&(0!==i&&parseInt(a.minimumPieceSize)%parseInt(i)&&(d=Om+Lo(i)),a.amount.length>0?parseInt(a.minimumPieceSize)>parseFloat(a.amount)&&0===d.length&&(d=vm):parseInt(a.minimumPieceSize)>parseFloat(l)&&0===d.length&&(d=vm),parseInt(a.minimumPieceSize)%parseInt(a.offeringLimit)&&0===d.length&&(d=ym+Lo(i)),parseInt(a.minimumPieceSize)<parseFloat(n)&&0===d.length&&(d=km)),0===a.offeringsList.length&&0===d.length&&(d=Ym),0===d.length&&a.offeringsList.length>0)for(var h=0;h<a.offeringsList.length;h++){var u=a.offeringsList[h];if("{}"!==JSON.stringify(u)){if(u.offerRate&&0===u.offerRate.length&&0===d.length){d=Vm;break}if(u.bidRate&&0===u.bidRate.length&&0===d.length){d=Im;break}if(u.fromDate){if("Invalid date"===u.fromDate&&0===d.length){d=Pm;break}if(0===d.length&&Wu(u.fromDate,a.settlementDate)<=0){d=bm;break}if(0===d.length&&Wu(u.fromDate,u.toDate)>0){d=pm;break}if(0===d.length&&r&&r.length>0)for(var b=0;b<r.length;b++){var p=r[b],j=p.substring(0,p.indexOf("-")),x=p.substring(p.indexOf("-")+1,p.length),f=Wu(u.fromDate,j);if(0!==f&&(f=Wu(u.fromDate,x)),0===f){d=xm;break}}}if(u.toDate){if("Invalid date"===u.toDate&&0===d.length){d=Km;break}if(0===d.length&&Wu(u.toDate,a.settlementDate)<=0){d=au;break}if(0===d.length&&Wu(u.fromDate,u.toDate)>0){d=pm;break}if(0===d.length&&r&&r.length>0)for(var g=0;g<r.length;g++){var O=r[g],v=O.substring(0,O.indexOf("-")),y=O.substring(O.indexOf("-")+1,O.length),k=Wu(u.toDate,v);if(0!==k&&(k=Wu(u.toDate,y)),0===k){d=xm;break}}}if(u.fromDays){if(0===u.fromDays.length&&0===d.length){d=Bm;break}if(u.fromDays.length>0&&0===d.length&&parseInt(u.fromDays)>parseInt(c)){d=gm;break}}if(u.todays){if(0===u.toDays.length&&0===d.length){d=Zm;break}if(u.toDays.length>0&&0===d.length&&parseInt(u.toDays)>parseInt(c)){d=gm;break}}}}return"New Template"!==t&&"UPDATETEMPLATE"!==t||0===a.templateName.length&&0===d.length&&(d=zm),"UPDATETEMPLATE"===t&&0===a.templateId.length&&0===d.length&&(d=Gm),0===d.length||(this.setState({actionTitle:t,actionMessage:d,showError:!0,updateData:!1}),!1)}},{key:"onSave",value:function(){var e,t=this,a={},s=[],n=this.state,o=n.offeringsList,i=n.exceptionDatesList,l=n.quantityFlag,c=[],r=[],d=0;if(o)for(var m=0;m<o.length;m++)if(o[m]&&o[m].fromDate){var h={};h.fromDate=Yu(o[m].fromDate,"MM/DD/YY"),h.toDate=Yu(o[m].toDate,"MM/DD/YY"),h.fromDays=o[m].fromDays,h.toDays=o[m].toDays,h.offerRate=o[m].offer,h.bidRate=o[m].bid,h.issueId=o[m].issueId,o[m].amount&&(h.amount=Po(o[m].amount),d=parseFloat(d)+parseFloat(Po(h.amount))),c.push(h)}if(i)for(var u=0;u<i.length;u++)if(i[u]&&i[u].exceptionDate){var b={};b.exceptionDate=Yu(i[u].exceptionDate,"MM/DD/YY"),r.push(b)}a.amount="Y"===l?Po(this.state.quantity):"",a.minimumPieceSize=this.state.minimumPieceSize?Po(this.state.minimumPieceSize):"",a.offeringlimit=this.state.offeringLimit?Po(this.state.offeringLimit):"",a.subjectFlag=this.state.firm,a.proceedsFlag=this.state.proceeds,a.offeringsList=c,r.length>0&&(a.exceptionDatesList=r),a.settlementDate=Yu(this.state.settleDate,"MM/DD/YY"),a.notes=this.state.notes,a.ticker=this.state.ticker,a.issueId=this.state.issueId,a.quantityFlag="Y"===l?"N":"Y",s.push(a),this.verifyParams(s,"Save")&&(e="NEW"===this.props.fromPage?fl:Ol,w()({method:"POST",url:N.URL+e,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data.responseMessage?(t.setState({actionResponse:"Save & "+e.data.responseMessage,updateData:!0}),t.props.handleLink?(t.props.onRemove(t.props.linkname),t.props.handleLink(t.props.linkname,e.data.responseMessage)):(0,t.props.returnMethod)(e.data.responseMessage)):(t.setState({actionResponse:"Save & "+e.data.responseMessage,updateData:!0}),(0,t.props.returnMethod)(e.data))})))}},{key:"doSaveCopy",value:function(){var e,t=this,a={},s=[],n=this.state,o=n.offeringsList,i=n.exceptionDatesList,l=n.quantityFlag,c=[],r=[],d=0;if(o)for(var m=0;m<o.length;m++)if(o[m]&&o[m].fromDate){var h={};h.fromDate=Yu(o[m].fromDate,"MM/DD/YY"),h.toDate=Yu(o[m].toDate,"MM/DD/YY"),h.fromDays=o[m].fromDays,h.toDays=o[m].toDays,h.offerRate=o[m].offer,h.bidRate=o[m].bid,h.issueId=o[m].issueId,o[m].amount&&(h.amount=Po(o[m].amount),d=parseFloat(d)+parseFloat(Po(h.amount))),c.push(h)}if(i)for(var u=0;u<i.length;u++)if(i[u]&&i[u].exceptionDate){var b={};b.exceptionDate=Yu(i[u].exceptionDate,"MM/DD/YY"),r.push(b)}a.amount="Y"===l?Po(this.state.quantity):"",a.minimumPieceSize=this.state.minimumPieceSize?Po(this.state.minimumPieceSize):"",a.offeringlimit=this.state.offeringLimit?Po(this.state.offeringLimit):"",a.subjectFlag=this.state.firm,a.proceedsFlag=this.state.proceeds,a.offeringsList=c,r.length>0&&(a.exceptionDatesList=r),a.settlementDate=Yu(this.state.settleDate,"MM/DD/YY"),a.notes=this.state.notes,a.ticker=this.state.ticker,a.issueId=this.state.issueId,a.quantityFlag="Y"===l?"N":"Y",s.push(a),this.verifyParams(s,"SaveCopy")&&(e="NEW"===this.props.fromPage?fl:Ol,w()({method:"POST",url:N.URL+e,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){var a=e.data.issueId;w()({method:"POST",url:N.URL+"/copyCPCommitments",timeout:N.apiTimeOut,data:{issueId:a},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(t.setState({actionResponse:"Save & "+e.data.responseMessage,updateData:!0}),t.props.handleLink?(t.props.onRemove(t.props.linkname),t.props.handleLink(t.props.linkname)):(0,t.props.returnMethod)(e.data.responseMessage))}))})))}},{key:"changeTemplate",value:function(e){var t=this;this.setState({templateId:e.target.value}),"NEW"!==e.target.value&&(this.setState({templateName:e.target.options[e.target.options.selectedIndex].text}),w()({method:"POST",url:N.URL+"/getTemplateDetails",timeout:N.apiTimeOut,data:{templateId:e.target.value},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){(t.setState({data:e.data,updateData:!0}),t.props.handleLink)?(t.props.onRemove(t.props.linkname),t.props.handleLink(t.props.linkname)):(0,t.props.returnMethod)(e.data.responseMessage)})))}},{key:"templateNameChange",value:function(e){this.setState({templateName:e.target.value,updateData:!1})}},{key:"doRenameTemplate",value:function(){var e=this,t=[],a={},s=this.state,n=s.templateId,o=s.templateName;o&&o.length>0?(a.templateName=o,a.templateId=n,t.push(a),w()({method:"POST",url:N.URL+"/renameTemplate",timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({responseMessage:t.data.responseMessage,updateData:!0})}))):this.setState({actionTitle:$h,actionMessage:zm,showError:!0,updateData:!1})}},{key:"doSaveTemplate",value:function(){var e,t,a=this,s={},n=[],o=this.state,i=o.offeringsList,l=o.exceptionDatesList,c=o.quantityFlag,r=[],d=[],m=0;if(i)for(var h=0;h<i.length;h++)if(i[h]&&i[h].fromDate){var u={};u.fromDate=Yu(i[h].fromDate,"MM/DD/YY"),u.toDate=Yu(i[h].toDate,"MM/DD/YY"),u.fromDays=i[h].fromDays,u.toDays=i[h].toDays,u.offerRate=i[h].offer,u.bidRate=i[h].bid,u.issueId=i[h].issueId,i[h].amount&&(u.amount=Po(i[h].amount),m=parseFloat(m)+parseFloat(Po(u.amount))),r.push(u)}if(l)for(var b=0;b<l.length;b++)if(l[b]&&l[b].exceptionDate){var p={};p.exceptionDate=Yu(l[b].exceptionDate,"MM/DD/YY"),d.push(p)}s.amount="Y"===c?Po(this.state.quantity):"",s.minimumPieceSize=this.state.minimumPieceSize?Po(this.state.minimumPieceSize):"",s.offeringlimit=this.state.offeringLimit?Po(this.state.offeringLimit):"",s.subjectFlag=this.state.firm,s.proceedsFlag=this.state.proceeds,s.offeringsList=r,d.length>0&&(s.exceptionDatesList=d),s.settlementDate=Yu(this.state.settleDate,"MM/DD/YY"),s.notes=this.state.notes,s.ticker=this.state.ticker,s.issueId=this.state.issueId,s.templateName=this.state.templateName,s.templateId=this.state.templateId,s.quantityFlag="Y"===c?"N":"Y",n.push(s),"NEW"===this.props.fromPage?(e=fl,t="New Template"):(e=Ol,t="UPDATETEMPLATE"),this.verifyParams(n,t)&&w()({method:"POST",url:N.URL+e,timeout:N.apiTimeOut,data:n,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e=a.state.templateId&&"NEW"!==a.state.templateId?"/updateCPTemplate":"/saveCPTemplate",w()({method:"POST",url:N.URL+e,timeout:N.apiTimeOut,data:n,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({actionResponse:"Save CP & "+e.data.responseMessage,updateData:!0});var t=a.props.returnMethod;void 0!==a.props.returnMethod?t(e.data&&e.data.responseMessage):(a.props.onRemove(a.props.linkname),a.props.handleLink(a.props.linkname))}))}))}},{key:"deteteTemplate",value:function(){var e=this;w()({method:"POST",url:N.URL+"/deleteTemplate",timeout:N.apiTimeOut,data:{templateId:this.state.templateId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({actionResponse:t.data.responseMessage,updateData:!0}),(0,e.props.returnMethod)(t.data.responseMessage)}))}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"getDefaultValues",value:function(e,t){"NEW"!==e?this.setState({templateName:t.value,updateData:!1}):this.setState({templateId:"",updateData:!1})}},{key:"render",value:function(){for(var e=this,t=this.state,a=t.exceptionRowCnt,s=t.holidayData,n=t.productWeekData,o=this.state.offeringsList,i=[],l=0;l<a;l++)0===l?i.push(Object(u.jsx)(zf,{exceptionRowCnt:6*l,rowAdd:this.doAdd,onChange:this.doExceptionDataChange,exceptionDatesList:this.state.exceptionDatesList,holidayData:s,productWeekData:n})):i.push(Object(u.jsx)(zf,{exceptionRowCnt:6*l,onChange:this.doExceptionDataChange,exceptionDatesList:this.state.exceptionDatesList,holidayData:s,productWeekData:n}));var c={};return c.quantityTextComponent=this.quantityTextComponent,c.offerRateTextComponent=this.offerRateTextComponent,c.bidRateTextComponent=this.bidRateTextComponent,c.maturityRangeComponent=this.maturityRangeComponent,c.investorComponent=this.investorComponent,c.matAmountComponent=this.matAmountComponent,c.quantityFlag=this.state.quantityFlag,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",id:"cpcomm_grid",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",Object(u.jsxs)(H.a,{xs:"4",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"TICKER",id:"lbl_ticker",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:this.props.issueId?Object(u.jsx)("div",{id:"ticker",children:this.state.data?this.state.data[0].ticker:""}):Object(u.jsx)(jj,{apiCall:ji,reqParams:{tickerId:this.state.tickerId,productType:Hh,All:"false"},onchange:this.tickerChange,selected:this.state.singleSelections,id:"ticker"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"ISSUER",id:"lbl_issuer",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block removewrap",id:"issuerName",children:this.state.issuerName?this.state.issuerName:""})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"TRADER",id:"lbl_trader"}),":"]}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",id:"trader",children:this.state.trader?this.state.trader:""})]})]}),Object(u.jsxs)(H.a,{xs:"4",children:["NEW"===this.props.fromPage?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block removewrap",children:[Object(u.jsx)(ni,{label:"QUANTITY",id:"lbl_quantity",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"quantity",id:"quantity",value:"Y"===this.state.quantityFlag?this.state.quantity:"",onBlur:function(t){e.quantityChanges(t)}})})]})}):Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block removewrap",children:[Object(u.jsx)(ni,{label:"QUANTITY",id:"lbl_quantity",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"quantity",id:"quantity",value:"Y"===this.state.quantityFlag?this.state.quantity:"",onBlur:function(t){e.quantityChanges(t)},readOnly:"Y"!==this.state.quantityFlag})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"SETTLE",id:"lbl_settle",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{minDate:new Date,label:"settleDate",dateValue:this.state.settleDate,onchange:function(t){e.settleDataChange(t)},fromDateFlg:!1,toDateFlg:!1,currency:"USD",product:Hh,holidayData:s,productWeekData:n})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:2,className:"d-inline-block"}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block"})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{xs:12,className:"d-inline-block"})})}),Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:(n.length>0||s.length>0)&&Object(u.jsx)(Yb,{cprops:If,mapdata:o,updateData:this.state.updateData,edit:!1,wsUrl:!1,noMaxHt:!0,mappings:Bf,customComponents:c,keyField:"rowId",excelFlag:"true"})}),Object(u.jsxs)(W.a,{xs:3,className:"d-inline-block",children:[this.state.issuerId&&"NEW"===this.props.fromPage?Object(u.jsx)("div",{className:"tableCaption text-center",children:"Todays Maturities"}):"",this.state.issuerId&&"NEW"===this.props.fromPage?Object(u.jsx)(Yb,{cprops:Rf,apiCall:el,wsUrl:!1,updateData:this.state.updateData,reqParams:[{issuerId:this.state.issuerId,productType:Hh}],edit:!1,mappings:Uf,customComponents:c,keyField:"rowId",excelFlag:"true"}):""]})]}),Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{xs:1,className:"d-inline-block"}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block"})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{xs:12,className:"d-inline-block"})})}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:1,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"FIRM",id:"lbl_firm",className:"labelStyle"}),":\xa0",Object(u.jsx)(mp,{id:"firm",name:"firm",value:this.state.firm,checked:"Y"===this.state.firm,onChange:function(t){e.onCheckChange("firm",t)}})]}),Object(u.jsxs)(W.a,{xs:1.5,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"PROCEEDS",id:"lbl_proceeds",className:"labelStyle"}),":\xa0",Object(u.jsx)(mp,{id:"proceeds",name:"proceeds",value:this.state.proceeds,checked:"Y"===this.state.proceeds,onChange:function(t){e.onCheckChange("proceeds",t)}})]}),Object(u.jsxs)(W.a,{xs:4.5,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"OFFERING LIMIT",id:"lbl_offerlimit",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"offeringLimit",id:"offeringLimit",value:this.state.offeringLimit,onBlur:function(t){e.offeringLimitChange(t)}})}),Object(u.jsxs)(W.a,{xs:1.8,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"MINIMUM PIECE SIZE",id:"lbl_minpeicesize",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"minPieceSize",id:"minPieceSize",value:this.state.minimumPieceSize,onBlur:function(t){e.minPieceChange(t)}})})]})}),Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{xs:1,className:"d-inline-block",style:{whiteSpace:"nowrap",marginLeft:"15px"},children:[Object(u.jsx)(ni,{label:"EXCEPTION DATES",id:"lbl_exceptiondate",className:"labelStyle"}),":"]}),(n.length>0||s.length>0)&&Object(u.jsx)(W.a,{xs:10,className:"d-inline-block p-0",children:i})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{xs:12,className:"d-inline-block"})})}),Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{md:6,children:[Object(u.jsxs)(W.a,{xs:2,className:"d-inline-block valign-top",children:[Object(u.jsx)(ni,{label:"MESSAGE",id:"lbl_message",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(qf,{name:"message",id:"message",value:this.state.notes,onBlur:function(t){e.onNotesChange(t)}})})]}),Object(u.jsxs)(W.a,{md:6,children:[Object(u.jsxs)(W.a,{xs:.5,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"TEMPLATE",id:"lbl_template",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(Dp,{id:"template",apiCall:"/getTemplates",reqParams:{issuerId:this.state.issuerId},onchange:function(t){e.changeTemplate(t)},selected:this.state.templateId,stateMethod:this.getDefaultValues})}),Object(u.jsx)(W.a,{xs:1.5,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"templateName",id:"templateName",value:"New Template"===this.state.templateName?"":this.state.templateName,onBlur:function(t){e.templateNameChange(t)}})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block text-left",children:"NEW"!==this.state.templateId?Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",size:"sm",id:"rename_btn",onClick:this.doRenameTemplate,children:"Rename Template"}):""})]})]}),Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{xs:2,className:"d-inline-block"}),Object(u.jsxs)(W.a,{className:"d-inline-block mt-2 text-left",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",size:"sm",onClick:this.onSave,id:"post",children:"Post"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs ml-1",size:"sm",onClick:this.doSaveCopy,id:"postsave",children:"Post & Copy"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs ml-1",size:"sm",onClick:this.doSaveTemplate,id:"postsavetemplate",children:"Post & Save Template"}),void 0===this.props.fromWidget&&Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.issueId&&Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs ml-1",size:"sm",onClick:this.deteteTemplate,id:"deletetemplate",children:"Delete Template"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs ml-1",size:"sm",onClick:this.goBack,id:"return",children:"Return"})]})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})})]})]})})}}]),a}(o.a.Component),Kf=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectData:"",actSalesData:"",actionTitle:"",actionMessage:"",showError:!1,payload:[]},s.salesRateComponent=s.salesRateComponent.bind(Object(O.a)(s)),s.onSalesRateChange=s.onSalesRateChange.bind(Object(O.a)(s)),s.salesAmountComponent=s.salesAmountComponent.bind(Object(O.a)(s)),s.convCheckBoxComponent=s.convCheckBoxComponent.bind(Object(O.a)(s)),s.onConvCheckboxClick=s.onConvCheckboxClick.bind(Object(O.a)(s)),s.hideAlert=s.hideAlert.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s.onConvert=s.onConvert.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({actSalesData:this.props.data})}},{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState({actSalesData:this.props.data})}},{key:"confirmAction",value:function(e){var t=this.state.payload;this.setState({alertShow:!1}),this.props.returnMethod(t)}},{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"onConvert",value:function(){this.state.payload.length>0?this.setState({actionTitle:im,actionMessage:lm,alertShow:!0,actionFlag:"DELETE"}):this.setState({actionTitle:"Conversion",actionMessage:"Please Select At Least one Sale to Convert",showError:!0})}},{key:"convCheckBoxComponent",value:function(e,t,a,s){var n=this,o="issueId"+a;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,value:e,onClick:function(s){n.onConvCheckboxClick(e,a,t,s)}})})}},{key:"onConvCheckboxClick",value:function(e,t,a,s){var n={},o=this.state.payload,i=this.state.actSalesData[t];if(n.issueId=e,n.maturityDate=i.maturityDate,n.bid=i.bid,n.amount=i.amount,s.target.checked)o.push(n),this.setState({payload:o});else for(var l=0;l<o.length;l++)if(o[l].issueId===e){o.splice(l,1);break}this.setState({payload:o})}},{key:"salesRateComponent",value:function(e,t,a,s){var n=this,o="rate"+a,i=this.state.actSalesData[a];return i.bid&&i.bid.length>0?i?Object(u.jsx)(Eu,{name:o,value:i?i.bid:"",onBlur:function(e){n.onSalesRateChange(e,t,a)}}):"":Object(u.jsx)(ni,{})}},{key:"salesAmountComponent",value:function(e,t,a,s){var n=this.state.actSalesData[a];return n.amount?Lo(n.amount):Object(u.jsx)(ni,{})}},{key:"onSalesRateChange",value:function(e,t,a){var s=this.state.actSalesData,n=s[t.gridIndex];if(!1===Bo(e.target.value,"1234567890.")){this.setState({actionTitle:"Conversion",actionMessage:Ym,showError:!0});var o,i="";if(s)n[a]&&(i=(o=n[a]).bid?o.bid:"");e.target.value=i,e.target.focus()}else n[a].bid=e.target.value,s[t.gridIndex]=n,this.setState({actSalesData:s})}},{key:"hideAlert",value:function(){this.setState({alertShow:!1})}},{key:"render",value:function(){var e=this,t=this.props.data,a={};return a.salesRateComponent=this.salesRateComponent.bind(this),a.salesAmountComponent=this.salesAmountComponent.bind(this),a.convCheckBoxComponent=this.convCheckBoxComponent.bind(this),t?Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,dialogClassName:"buy-modal","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.title})}),Object(u.jsxs)(P.a.Body,{children:[Object(u.jsx)(Yb,{cprops:this.props.cprops,data:this.props.data,edit:!1,fixedTable:!0,mappings:this.props.mappings,keyField:this.props.keyField,customComponents:a}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]}),Object(u.jsxs)(P.a.Footer,{children:[Object(u.jsx)(D.a,{onClick:this.onConvert,children:"Convert"}),Object(u.jsx)(D.a,{onClick:this.props.onHide,children:"Close"})]})]}):""}}]),a}(o.a.Component),Zf=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s,n;return Object(i.a)(this,a),(n=t.call(this,e)).state=(s={book:"",ticker:"",bookId:"",tickerId:"",payload:{},screenName:"C",quantityFlag:"N",settleDate:"",quantity:"",exceptionRowCnt:1,offeringsList:[{},{},{},{},{},{},{},{},{}],offeringLimit:"",minimumPieceSize:"",notes:"",unsold:"",firm:"N",proceeds:"N",issueId:"",actionResponse:"",singleSelections:"",issuerId:"",templateName:"",templateId:"",newOfferings:[],salesData:[],actSalesData:[],cmodal:!0,disRegard:"Y",buyUnsold:"N"},Object(g.a)(s,"proceeds","N"),Object(g.a)(s,"transType",""),Object(g.a)(s,"responseMessage",""),Object(g.a)(s,"showModal",!1),Object(g.a)(s,"buyAmount",""),Object(g.a)(s,"buyRate",""),Object(g.a)(s,"actionMessage",""),Object(g.a)(s,"showError",!1),Object(g.a)(s,"proceedsAmount",""),Object(g.a)(s,"origSalesData",[]),Object(g.a)(s,"updateData",!0),Object(g.a)(s,"holidayData",[]),Object(g.a)(s,"productWeekData",[]),s),n.closemodel=n.closemodel.bind(Object(O.a)(n)),n.goBack=n.goBack.bind(Object(O.a)(n)),n.offeringDateComponent=n.offeringDateComponent.bind(Object(O.a)(n)),n.offeringRateComponent=n.offeringRateComponent.bind(Object(O.a)(n)),n.offeringAmountComponent=n.offeringAmountComponent.bind(Object(O.a)(n)),n.salesRateComponent=n.salesRateComponent.bind(Object(O.a)(n)),n.onSalesRateChange=n.onSalesRateChange.bind(Object(O.a)(n)),n.onDateChange=n.onDateChange.bind(Object(O.a)(n)),n.onOfferAmountChange=n.onOfferAmountChange.bind(Object(O.a)(n)),n.onOfferRateChange=n.onOfferRateChange.bind(Object(O.a)(n)),n.doConvert=n.doConvert.bind(Object(O.a)(n)),n.doCheck=n.doCheck.bind(Object(O.a)(n)),n.openModal=n.openModal.bind(Object(O.a)(n)),n.hideModal=n.hideModal.bind(Object(O.a)(n)),n.onBuyAmountChange=n.onBuyAmountChange.bind(Object(O.a)(n)),n.onBuyRateChange=n.onBuyRateChange.bind(Object(O.a)(n)),n.verifyParams=n.verifyParams.bind(Object(O.a)(n)),n.hideError=n.hideError.bind(Object(O.a)(n)),n.salesAmountComponent=n.salesAmountComponent.bind(Object(O.a)(n)),n.doSingleConvert=n.doSingleConvert.bind(Object(O.a)(n)),n}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.linkname!==e.linkname){"CP Commitment Conversion"===this.props.linkname&&this.setState({cmodal:!0,updateData:!1});var a=[],s=[];w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{currency:"USD",productType:Hh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a=e.data.holidayDatesInfo,s=e.data.productWeekData,t.setState({holidayData:a,productWeekData:s})}))}}},{key:"componentDidMount",value:function(){var e=this;if(this.props.apiCall){var t=[],a=[];w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{currency:"USD",productType:Hh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(s){t=s.data.holidayDatesInfo,a=s.data.productWeekData,e.setState({holidayData:t,productWeekData:a})})),w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){if(t.data){for(var a,s=e.state.offeringsList,n=t.data.data,o=0;o<n.length;o++){var i={};n[o].maturityDate&&(i.fromDate=Yu(n[o].maturityDate,"YYYY-MM-DD"),i.fromDays=Wu(n[o].maturityDate,n[o].settlementDate)),n[o].maturityEndDate&&(i.toDate=Yu(n[o].maturityEndDate,"YYYY-MM-DD"),i.toDays=Wu(n[o].maturityEndDate,n[o].settlementDate)),i.offer=n[o].offerRate,i.bid=n[o].bidRate,"N"===n[o].quantityFlag?i.amount=n[o].amount:i.amount="",i.issueId=n[o].issueId,i.rowId=o,n[o].maturityDate&&n[o].maturityEndDate&&(s[o]=i)}e.setState({data:t.data,updateData:!0}),e.setState((a={settleDate:Yu(n[0].settlementDate,"YYYY-MM-DD"),quantity:n[0].amount,offeringLimit:n[0].offeringlimit,minimumPieceSize:n[0].minimumPieceSize,notes:n[0].notes,firm:n[0].subjectFlag,proceeds:n[0].proceedsFlag,ticker:n[0].ticker,offeringsList:s,issueId:n[0].issueId,issuerId:n[0].programId,unsold:n[0].availableCredit},Object(g.a)(a,"ticker",n[0].ticker),Object(g.a)(a,"bookId",n[0].bookId),Object(g.a)(a,"transType",n[0].transType),Object(g.a)(a,"proceedsAmount",parseFloat(t.data.proceedsAmount).toFixed(2)),Object(g.a)(a,"origSalesData",t.data.salesData),Object(g.a)(a,"updateData",!0),a));for(var l=[],c=0;c<3;c++){var r={offeringDate:"",offeringAmount:"",offeringRate:""};l.push(r)}e.setState({newOfferings:l,updateData:!0});var d=[];if(t.data.salesData&&t.data.salesData.length>0){for(var m=t.data.salesData,h=[],u=0;u<m.length;u++){var b={};b.maturityDate=m[u].maturityDate,b.amount=m[u].amount,b.bid=m[u].bid,b.issueId=m[u].issueId,b.gridIndex=0,h.push(b)}for(var p=0,j=0;j<4;j++){for(var x=[],f=0;f<4;f++){if(h.length>p)x.push(h[p]);else{var O={maturityDate:"",amount:"",bid:""};O.gridIndex=j,x.push(O)}p++}d[j]=x}}e.setState({actSalesData:d,updateData:!0})}}))}}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1})}},{key:"onSalesRateChange",value:function(e,t,a){var s=this.state.actSalesData,n=s[t.gridIndex];if(!1===Bo(e.target.value,"1234567890.")){this.setState({actionTitle:"Conversion",actionMessage:Ym,showError:!0,updateData:!1});var o,i="";if(s)n[a]&&(i=(o=n[a]).bid?o.bid:"");e.target.value=i,e.target.focus()}else n[a].bid=e.target.value,s[t.gridIndex]=n,this.setState({actSalesData:s,updateData:!1})}},{key:"onDateChange",value:function(e,t,a){var s=this.state.newOfferings,n=s[a];e=Yu(e,"MM/DD/YY"),n.maturityDate=e,this.setState({newOfferings:s,updateData:!1})}},{key:"onOfferAmountChange",value:function(e,t,a,s){var n=this.state,o=n.newOfferings,i=n.unsold;if(!1===Bo(e.target.value,"1234567890.,mmMMkkKK")){this.setState({actionTitle:"Conversion",actionMessage:wm,showError:!0,updateData:!1});var l,c="";if(o)o[a]&&(c=(l=o[a]).amount?l.amount:"");e.target.value=c,e.target.focus()}else{var r=o[a];e.target.value.length>0&&"BLUR"===s&&_o(e),r.amount=e.target.value;for(var d=0,m=0,h=0;h<o.length;h++)h!==a?o[h].amount&&o[h].amount.length>0&&(d=parseFloat(d)+parseFloat(Po(o[h].amount))):d=parseFloat(d)+parseFloat(Po(e.target.value));m=parseFloat(Po(i))-parseFloat(Po(d)),this.setState({newOfferings:o,buyAmount:Lo(m.toString()),updateData:!1}),document.getElementById("buyAmount")&&(document.getElementById("buyAmount").value=Lo(m.toString()))}}},{key:"onOfferRateChange",value:function(e,t,a){var s=this.state.newOfferings;if(!1===Bo(e.target.value,"1234567890.")){this.setState({actionTitle:"Conversion",actionMessage:Ym,showError:!0,updateData:!1});var n,o="";if(s)s[a]&&(o=(n=s[a]).rate?n.rate:"");e.target.value=o,e.target.focus()}else{s[a].rate=e.target.value,this.setState({newOfferings:s,updateData:!1})}}},{key:"offeringAmountComponent",value:function(e,t,a,s){var n=this,o="offeringAmount"+a,i=this.state.newOfferings[a];return Object(u.jsx)(Eu,{name:o,id:o,value:i?i.offeringAmount:"",style:{width:"100px !important;"},onBlur:function(e){n.onOfferAmountChange(e,t,a,"BLUR")},onChange:function(e){n.onOfferAmountChange(e,t,a,"")}})}},{key:"offeringRateComponent",value:function(e,t,a,s){var n=this,o="offeringRate"+a,i=this.state.newOfferings[a];return Object(u.jsx)(Eu,{name:o,id:o,value:i?i.offeringRate:"",onBlur:function(e){n.onOfferRateChange(e,t,a)}})}},{key:"offeringDateComponent",value:function(e,t,a,s){var n=this,o=this.state.newOfferings[a],i=this.state,l=i.holidayData,c=i.productWeekData;return Object(u.jsx)(Ju,{label:"offerDate"+a,onchange:function(e){n.onDateChange(e,t,a)},dateValue:o.toDate?Yu(o.offeringDate,"YYYY-MM-DD"):"",fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:l,productWeekData:c})}},{key:"salesRateComponent",value:function(e,t,a,s){var n=this,o="rate"+a,i=this.state.actSalesData[t.gridIndex][a];return i.bid&&i.bid.length>0?i?Object(u.jsx)(Eu,{name:o,id:o,value:i?i.bid:"",onBlur:function(e){n.onSalesRateChange(e,t,a)}}):"":Object(u.jsx)(ni,{})}},{key:"salesAmountComponent",value:function(e,t,a,s){var n=this.state.actSalesData[t.gridIndex][a];return n.amount?Lo(n.amount):Object(u.jsx)(ni,{})}},{key:"goBack",value:function(){(0,this.props.returnMethod)()}},{key:"doCheck",value:function(e,t){if("DISREGARD"===e)t.target.checked?this.setState({disRegard:"Y",buyUnsold:"N",proceeds:"N"}):this.setState({disRegard:"N"});else if("UNSOLD"===e){for(var a=this.state,s=a.unsold,n=a.newOfferings,o=0,i=0,l=0;l<n.length;l++)n[l].amount&&n[l].amount.length>0&&(o=parseFloat(o)+parseFloat(Po(n[l].amount)));i=parseFloat(Po(s))-parseFloat(o),t.target.checked?this.setState({buyUnsold:"Y",disRegard:"N",buyAmount:Lo(i.toString()),updateData:!1}):this.setState({buyUnsold:"N",updateData:!1})}else"PROCEED"===e&&(t.target.checked?this.setState({proceeds:"Y",disRegard:"N",updateData:!1}):this.setState({proceeds:"N",updateData:!1}))}},{key:"doSingleConvert",value:function(e){for(var t=this,a=this.state,s=a.newOfferings,n=a.disRegard,o=a.buyUnsold,i=a.proceeds,l=a.issueId,c=a.issuerId,r=a.ticker,d=a.bookId,m=a.transType,h=(a.buyAmount,a.buyRate,a.unsold),u=this.props.returnMethod,b=[],p=[],j=0;j<s.length;j++){var x=s[j],f={};"{}"!==JSON.stringify(x)&&(x.maturityDate||x.rate||x.amount)&&(f.maturityDate=Yu(x.maturityDate,"MM/DD/YY"),f.bid=x.rate,x.amount?f.amount=Po(x.amount):f.amount="",p.push(f))}var g={};g.disRegard=n,g.buyUnSold=o,g.proceeds=i,g.salesData=e,g.offeringsList=p,g.issueId=l,g.issuerId=c,g.ticker=r,g.bookId=d,g.transType=m,g.unsoldQuantity=Po(h),b.push(g),this.verifyParams(b)&&w()({method:"POST",url:N.URL+"/savePartialCPConversion",timeout:N.apiTimeOut,data:b,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){u(e.data.responseMessage),t.setState({updateData:!0})}))}},{key:"doConvert",value:function(){for(var e=this,t=this.state,a=t.actSalesData,s=t.newOfferings,n=t.disRegard,o=t.buyUnsold,i=t.proceeds,l=t.issueId,c=t.issuerId,r=t.ticker,d=t.bookId,m=t.transType,h=t.buyAmount,u=t.buyRate,b=t.unsold,p=this.props.returnMethod,j=[],x=[],f=[],g=0;g<s.length;g++){var O=s[g],v={};"{}"!==JSON.stringify(O)&&(O.maturityDate||O.rate||O.amount)&&(v.maturityDate=Yu(O.maturityDate,"MM/DD/YY"),v.bid=O.rate,O.amount?v.amount=Po(O.amount):v.amount="",x.push(v))}for(var y=0,k=0;k<a.length;k++)for(var D=a[k],C=0;C<D.length;C++)D[C].issueId&&(f[y]=D[C],y++);var S={};S.disRegard=n,S.buyUnSold=o,S.proceeds=i,S.salesData=f,S.offeringsList=x,S.issueId=l,S.issuerId=c,S.ticker=r,S.bookId=d,S.transType=m,S.residualBid=u,S.residualAmt=Po(h),S.unsoldQuantity=Po(b),j.push(S),this.verifyParams(j)&&w()({method:"POST",url:N.URL+"/saveConversionDetails",timeout:N.apiTimeOut,data:j,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){p(t.data.responseMessage),e.setState({updateData:!0})}))}},{key:"verifyParams",value:function(e){var t=e[0],a="",s=0,n=this.state,o=n.data,i=n.unsold;if("Y"===t.buyUnSold&&(0===t.residualAmt.length&&0===a.length&&(a=Hm),0===t.residualBid.length&&0===a.length&&(a=Wm)),"N"===t.disRegard&&"N"===t.buyUnSold&&"N"===t.proceeds&&0===a.length&&(a=Sm),t.offeringsList&&0===a.length&&t.offeringsList.length>0){for(var l=0;l<t.offeringsList.length;l++){var c=t.offeringsList[l];if(c.maturityDate||c.bid||c.amount){if(0===c.maturityDate.length&&0===a.length&&(a=Lm),c.maturityDate.length>0&&0===a.length){for(var r=!1,d=0;d<o.data.length;d++){var m=o.data[d];if(r=Hu(c.maturityDate,m.fromDate,m.toDate))break}r||(a=tu)}c.bid&&0===c.bid.length&&0===a.length&&(a=Tm),c.bid||0!==a.length||(a=Tm),c.amount&&0===c.amount.length&&0===a.length&&(a=Jm),c.amount.length>0&&0===a.length&&(parseFloat(c.amount)<0&&(a=wm),parseFloat(c.amount)>parseFloat(Po(i))&&0===a.length&&(a=nr),0===a.length&&(s=parseFloat(s)+parseFloat(c.amount)))}}parseFloat(s)>parseFloat(Po(i))&&0===a.length&&(a=nr)}return 0===a.length||(this.setState({actionTitle:"Conversion",actionMessage:a,showError:!0,updateData:!1}),!1)}},{key:"openModal",value:function(){this.setState({showModal:!0,updateData:!1})}},{key:"hideModal",value:function(){this.setState({showModal:!1,updateData:!0})}},{key:"onBuyRateChange",value:function(e){var t=this.state.buyRate;0==Bo(e.target.value,"1234567890.")?(this.setState({actionTitle:"Conversion",actionMessage:Xm,showError:!0,updateData:!1}),e.target.value=t,e.target.focus()):this.setState({buyRate:e.target.value,updateData:!1})}},{key:"onBuyAmountChange",value:function(e,t){var a=this.state.buyAmount;!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?(this.setState({actionTitle:"Conversion",actionMessage:Qm,showError:!0,updateData:!1}),e.target.value=a):(e.target.value.length>0&&0===t.length&&_o(e),this.setState({buyAmount:e.target.value,updateData:!1}))}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"render",value:function(){var e,t,a=this,s={},n=this.state,o=n.newOfferings,i=n.disRegard,l=n.buyUnsold,c=n.proceeds,r=n.proceedsAmount;s.offeringDateComponent=this.offeringDateComponent,s.offeringRateComponent=this.offeringRateComponent,s.offeringAmountComponent=this.offeringAmountComponent;var d={};d.salesRateComponent=this.salesRateComponent.bind(this),d.salesAmountComponent=this.salesAmountComponent.bind(this);var m=this.state.data&&this.state.data.data?this.state.data.data:[];e=m?m.map((function(e){return Object(u.jsx)(W.a,{xs:2,className:"d-inline-block mt-2",id:"val_maturity",children:Object(u.jsx)("div",{className:"matuirtyLabels minmaxwid labelStyle",id:"val_matranges",children:e.maturityDateStr})})})):"",t=m?m.map((function(e){return Object(u.jsx)(W.a,{xs:2,className:"d-inline-block mt-2",id:"col_bidrate",children:Object(u.jsxs)("div",{className:"minmaxwid matuirtyLabels labelStyle",id:"val_bidrate",children:["\xa0",e.bid,"\xa0"]})})})):"";var h=this.state.actSalesData?this.state.actSalesData:[];return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",id:"cls_convsion",onClick:this.closemodel})]})})}),Object(u.jsxs)(ai.a.Body,{children:[this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:1.5,className:"d-inline-block",id:"lbl_commitdata",style:{marginRight:"5px",color:"#5D27AB",fontWeight:"bold",fontSize:"12px"},children:m&&m[0]?m[0].issuerName:""}),Object(u.jsxs)(W.a,{xs:.5,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"TRADER",id:"lbl_trader",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",id:"trader",children:m&&m[0]?m[0].trader:""})]})}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:1.5,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"QUANTITY",id:"lbl_quantity",className:"labelStyle"}),":"]}),Object(u.jsxs)(W.a,{xs:2,className:"d-inline-block",id:"quantity",children:[Lo(this.state.quantity),"(m)"]}),Object(u.jsxs)(W.a,{xs:.5,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"UNSOLD",id:"lbl_unsold",className:"labelStyle"}),":"]}),Object(u.jsxs)(W.a,{xs:2,className:"d-inline-block",id:"unsold",children:[this.state.unsold,"(m)"]}),Object(u.jsxs)(W.a,{xs:.5,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"SOLD",id:"lbl_sold",className:"labelStyle"}),":"]}),Object(u.jsxs)(W.a,{xs:2,className:"d-inline-block",id:"val_sold",children:[m?Lo(parseFloat(Po(this.state.quantity))-parseFloat(Po(this.state.unsold))):this.state.quantity,"(m)"]}),Object(u.jsxs)(W.a,{xs:1.5,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"MIN PIECE",id:"lbl_minpiece",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:1,className:"d-inline-block",id:"minpiece",children:Lo(this.state.minimumPieceSize)}),Object(u.jsxs)(W.a,{xs:1.9,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"SETTLEMENT",id:"lbl_settlement",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:1.5,className:"d-inline-block",id:"settlement",children:Yu(this.state.settleDate,"MM/DD/YY")})]})})]}),Object(u.jsxs)(W.a,{xs:3,className:"d-inline-block",children:[this.state.issuerId&&this.state.bookId?Object(u.jsx)("div",{className:"tableCaption",id:"screentitle",style:{textAlign:"center"},children:"Inventory"}):"",this.state.issuerId&&this.state.bookId?Object(u.jsx)(Yb,{cprops:Ef,apiCall:"/getInventories",updateData:this.state.updateData,wsUrl:!1,reqParams:[{issuerId:this.state.issuerId,productType:"CP",transType:"10",bookId:this.state.bookId,currencyCode:"USD"}],edit:!1,mappings:Vf,keyField:"issueId",excelFlag:"true"}):""]})]}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{style:{background:"#eafcff",marginTop:"10px",marginLeft:"20px",marginRight:"20px"},children:[Object(u.jsx)(W.a,{xs:2,className:"d-inline-block mt-2 labelStyle",id:"lbl_matranges",children:"Maturity Ranges :"}),e]})}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{style:{background:"#eafcff",marginLeft:"20px",marginRight:"20px"},children:[Object(u.jsx)(W.a,{xs:2,className:"d-inline-block mt-2 labelStyle",id:"lbl_rate",children:"Rate :"}),t]})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{xs:12,className:"d-inline-block"})})}),Object(u.jsx)(H.a,{xs:"12",children:Object(u.jsxs)(ai.a,{className:"mt-3",style:{marginLeft:"15px"},children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"labelStyle",children:Object(u.jsx)("div",{id:"lbl_sales",children:"Sales "})})}),Object(u.jsx)(ai.a.Body,{children:h&&h.length>0?Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{children:Object(u.jsx)(Yb,{cprops:Af,data:h[0],updateData:this.state.updateData,edit:!1,fixedTable:!0,mappings:_f,customComponents:d,keyField:"issueId",excelFlag:"true"})}),Object(u.jsx)(W.a,{children:Object(u.jsx)(Yb,{updateData:this.state.updateData,cprops:Af,data:h[1],edit:!1,fixedTable:!0,mappings:_f,customComponents:d,keyField:"issueId",excelFlag:"true"})}),Object(u.jsx)(W.a,{children:Object(u.jsx)(Yb,{updateData:this.state.updateData,cprops:Af,data:h[2],edit:!1,fixedTable:!0,mappings:_f,customComponents:d,keyField:"issueId",excelFlag:"true"})}),Object(u.jsx)(W.a,{children:Object(u.jsx)(Yb,{cprops:Af,mapdata:h[3],updateData:this.state.updateData,edit:!1,fixedTable:!0,mappings:_f,customComponents:d,keyField:"issueId",excelFlag:"true"})})]}):Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:Af,updateData:this.state.updateData,data:[],edit:!1,fixedTable:!0,mappings:_f,customComponents:d,keyField:"issueId",excelFlag:"true"})})}),h&&h.length>0?Object(u.jsx)(ai.a.Footer,{children:Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{xs:"12",children:[Object(u.jsxs)(W.a,{xs:1,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Proceeds",id:"lbl_proceeds",className:"labelStyle"}),":"]}),Object(u.jsxs)(W.a,{xs:2,className:"d-inline-block",id:"v_proceedammt",children:[Lo(r)," (m)"]})]})})}):""]})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{xs:12,className:"d-inline-block"})})}),Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{xs:6,children:[Object(u.jsx)("div",{className:"tableCaption",id:"lbl_newoffer",children:"\xa0\xa0\xa0\xa0New Offerings"}),Object(u.jsx)(Yb,{cprops:Mf,updateData:this.state.updateData,mapdata:o,edit:!1,fixedTable:!0,mappings:Lf,customComponents:s,keyField:"offeringDate",excelFlag:"true"})]}),Object(u.jsxs)(W.a,{xs:6,children:[Object(u.jsxs)(W.a,{xs:12,style:{border:"1px solid #D3DEB5",background:"#F5FBE4"},children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block mt-2",id:"lbl_disunsold",children:"Disregard Unsold Quantity"}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block mt-2",children:"Y"===i?Object(u.jsx)("input",{type:"checkbox",id:"disRegard",name:"disRegard",checked:!0,onClick:function(e){a.doCheck("DISREGARD",e)}}):Object(u.jsx)("input",{type:"checkbox",id:"disRegard",name:"disRegard",checked:!1,onClick:function(e){a.doCheck("DISREGARD",e)}})})]}),Object(u.jsxs)(W.a,{xs:12,style:{border:"1px solid #D3DEB5",background:"#F5FBE4"},children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block mt-2",id:"lbl_unsoldQnty",children:"Buy Unsold Quantity Overnight"}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block mt-2",children:"Y"===l?Object(u.jsx)("input",{type:"checkbox",id:"buyUnsold",name:"buyUnsold",checked:!0,onClick:function(e){a.doCheck("UNSOLD",e)}}):Object(u.jsx)("input",{type:"checkbox",id:"buyUnsold",name:"buyUnsold",checked:!1,onClick:function(e){a.doCheck("UNSOLD",e)}})})]}),Object(u.jsxs)(W.a,{xs:12,style:{border:"1px solid #D3DEB5",background:"#F5FBE4"},children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block mt-2",id:"lbl_prceeds",children:"Proceeds"}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block mt-2",children:"Y"===c?Object(u.jsx)("input",{type:"checkbox",id:"proceedschk",name:"proceeds",checked:!0,onClick:function(e){a.doCheck("PROCEED",e)}}):Object(u.jsx)("input",{type:"checkbox",id:"proceedschk",name:"proceeds",checked:!1,onClick:function(e){a.doCheck("PROCEED",e)}})})]}),"Y"===l?Object(u.jsxs)(W.a,{xs:12,style:{border:"1px solid #D3DEB5",background:"#F5FBE4"},children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block mt-2",id:"lbl_ammt",children:"Amount ($m)"}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block mt-2",children:Object(u.jsx)(Eu,{id:"buyAmount",name:"buyAmount",value:this.state.buyAmount,onBlur:function(e){a.onBuyAmountChange(e,"")},onChange:function(e){a.onBuyAmountChange(e,"CHANGE")}})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block mt-2"}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block mt-2",id:"lbl_byrate",children:"Rate"}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block mt-2",children:Object(u.jsx)(Eu,{name:"buyRate",id:"buyRate",value:this.state.buyRate,placeholder:"Enter Rate",onBlur:function(e){a.onBuyRateChange(e)}})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block mt-2"})]}):""]})]}),Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{xs:2,className:"d-inline-block"}),Object(u.jsxs)(W.a,{className:"d-inline-block mt-2 text-left",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",size:"sm",onClick:this.doConvert,id:"convert",children:"Convert"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs ml-1",size:"sm",onClick:this.openModal,id:"partial",children:"Partial"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs ml-1",size:"sm",onClick:this.goBack,id:"return",children:"Return"})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(Kf,{show:this.state.showModal,onHide:function(){return a.hideModal()},title:"Commitment Partial Conversion",cprops:Ff,data:this.state.origSalesData,mappings:Yf,keyField:"maturityDate",returnMethod:this.doSingleConvert})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return a.hideError()},messageType:um})})]})]})})}}]),a}(o.a.Component),Jf={},Qf=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).msgTimeOut=function(e){setTimeout((function(){s.setState({responseMessage:"",updateData:!1})}),5e3),s.setState({updateData:!0})},s.state={cmodal:!0,book:"",ticker:"",bookId:"",tickerId:"",screenName:"Offerings",issueId:"",issuerId:"",selectedBookId:"",responseMessage:"",actionTitle:{},actionMessage:{},alertShow:!1,actionFlag:"",mapData:[],showError:!1,updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.newCommitment=s.newCommitment.bind(Object(O.a)(s)),s.bookChange=s.bookChange.bind(Object(O.a)(s)),s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.checkBoxComponent=s.checkBoxComponent.bind(Object(O.a)(s)),s.onCheckboxClick=s.onCheckboxClick.bind(Object(O.a)(s)),s.offerTextBoxComponent=s.offerTextBoxComponent.bind(Object(O.a)(s)),s.limitTextBoxComponent=s.limitTextBoxComponent.bind(Object(O.a)(s)),s.actionComponent=s.actionComponent.bind(Object(O.a)(s)),s.onOfferChange=s.onOfferChange.bind(Object(O.a)(s)),s.onLimitChange=s.onLimitChange.bind(Object(O.a)(s)),s.editCommitment=s.editCommitment.bind(Object(O.a)(s)),s.convert=s.convert.bind(Object(O.a)(s)),s.noWebSocket=s.noWebSocket.bind(Object(O.a)(s)),s.returnMethod=s.returnMethod.bind(Object(O.a)(s)),s.onAmountKey=s.onAmountKey.bind(Object(O.a)(s)),s.openAlert=s.openAlert.bind(Object(O.a)(s)),s.hideAlert=s.hideAlert.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s.getDefaultBookValues=s.getDefaultBookValues.bind(Object(O.a)(s)),s.getDefaultTickerValues=s.getDefaultTickerValues.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Lr&&this.setState({cmodal:!0,updateData:!1})}},{key:"componentDidMount",value:function(){var e=this;this.props.msgObj&&this.setState({responseMessage:this.props.msgObj}),w()({method:"POST",url:N.URL+ac,timeout:N.apiTimeOut,data:{productType:Hh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({message:t.data,updateData:!0})}))}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1}),this.props.onRemove(this.props.linkname)}},{key:"newCommitment",value:function(){void 0===this.state.message||""===this.state.message?this.setState({screenName:"NEW",updateData:!1}):this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"bookChange",value:function(e){this.setState({responseMessage:"",bookId:e.target.value,updateData:!0})}},{key:"tickerChange",value:function(e){var t=document.getElementById("ticker"),a=t.options[t.selectedIndex].text;"All Tickers"===a&&(a="All"),this.setState({responseMessage:"",ticker:a,tickerId:e.target.value,updateData:!0})}},{key:"onCheckboxClick",value:function(e,t,a,s){void 0===this.state.message||""===this.state.message?(Jf={ticker:a.ticker,issueId:e,bookId:a.bookId,offer:Po(a.offer),offerRate:Po(document.getElementById("offer"+t).value),offeringlimit:Po(document.getElementById("limit"+t).value)},s.target.checked&&this.setState({actionTitle:rm,actionMessage:hm,alertShow:!0,actionFlag:"DELETE",updateData:!1})):this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"onOfferChange",value:function(e,t,a,s,n){!1===Bo(e.target.value,"1234567890.")?(this.setState({actionTitle:"Alert",actionMessage:Vm,showError:!0,updateData:!1}),e.target.value=a,e.target.focus()):(_o(e),Jf={ticker:s.ticker,issueId:t,bookId:s.bookId,offer:Po(s.offer),offerRate:Po(e.target.value),offeringlimit:Po(document.getElementById("limit"+n).value)})}},{key:"onLimitChange",value:function(e,t,a,s,n){!1===Bo(e.target.value,"1234567890.,mmMMkkKK")||e.target.value<0?(this.setState({actionTitle:"Alert",actionMessage:Um,showError:!0,updateData:!1}),e.target.value=a,e.target.value>0&&e.target.focus()):(Uo(e),Jf={ticker:s.ticker,issueId:t,bookId:s.bookId,offer:Po(s.offer),offerRate:Po(document.getElementById("offer"+n).value),offeringlimit:Po(e.target.value)})}},{key:"fieldComponent",value:function(e,t,a,s){var n=s.colId;return"0000"===t.refIssueId||"Issuer"===n||"SD"===n||"Range"===n?"Offer Quant($m)"===n?Lo(e):e:void 0}},{key:"checkBoxComponent",value:function(e,t,a,s){var n=this,o="issueId"+a;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(s){n.onCheckboxClick(e,a,t,s)}})})}},{key:"offerTextBoxComponent",value:function(e,t,a,s){var n=this,o="offer"+a;return Object(u.jsx)(Eu,{name:o,id:o,value:e,onBlur:function(e){n.onOfferChange(e,t.issueId,t.offer,t,a)},onKeyPress:function(e){n.onAmountKey(e,t.issueId,"Offer",t,a)},className:"text-right"})}},{key:"limitTextBoxComponent",value:function(e,t,a,s){var n=this,o="limit"+a;return e=Lo(e),"0000"===t.refIssueId?Object(u.jsx)(Eu,{name:o,id:o,value:e,onBlur:function(e){n.onLimitChange(e,t.issueId,t.offeringlimit,t,a)},onKeyPress:function(e){n.onAmountKey(e,t.issueId,"Limit",t,a)},className:"text-right"}):void 0}},{key:"actionComponent",value:function(e,t,a,s){var n=this;if("0000"===t.refIssueId)return Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{className:"btn btn-link",id:"edit"+a,onClick:function(){n.editCommitment(e)},style:{marginRight:"0.5em",marginLeft:"1em"},children:Object(u.jsx)("img",{src:"/omsservice/images/edit-icon.png",alt:"edit"})}),Object(u.jsx)("button",{className:"btn btn-link",id:"convert"+a,onClick:function(){n.convert(e,t.programId,t.bookId)},style:{marginRight:"0.5em"},children:Object(u.jsx)("img",{src:"/omsservice/images/convert-icon.png",alt:"convert"})})]},a)}},{key:"editCommitment",value:function(e){void 0===this.state.message||""===this.state.message?this.setState({screenName:"Edit",issueId:e,updateData:!1}):this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"convert",value:function(e,t,a){void 0===this.state.message||""===this.state.message?this.setState({screenName:"Convert",issueId:e,issuerId:t,selectedBookId:a,updateData:!1}):this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"noWebSocket",value:function(e){this.setState({screenName:"NoWebSocket",issueId:e,updateData:!1})}},{key:"returnMethod",value:function(e){this.msgTimeOut(),this.setState({screenName:"Offerings",responseMessage:e,updateData:!1})}},{key:"onAmountKey",value:function(e,t,a,s,n){if(void 0===this.state.message||""===this.state.message){var o=this.state;o.bookId,o.ticker;if("Enter"===e.key){var i,l=!0;(0===(Jf={ticker:s.ticker,issueId:t,bookId:s.bookId,offer:Po(s.offer),offerRate:Po(document.getElementById("offer"+n).value),offeringlimit:Po(document.getElementById("limit"+n).value)}).offeringlimit.length||0===parseFloat(Jf.offeringlimit)||parseFloat(Jf.offeringlimit)<0)&&(l=!1,i=Um),0!==Jf.offerRate.length&&0!==parseFloat(Jf.offerRate)||(l=!1,i=Vm),parseFloat(Po(e.target.value))>=parseFloat(s.minimumPieceSize)&&parseFloat(Po(e.target.value))<=parseFloat(Po(s.availableCredit))?l?this.setState({actionTitle:"Publish",actionMessage:"Are you sure, you want to Publish the Commitment ?",alertShow:!0,actionFlag:"PUBLISH",updateData:!1}):this.setState({actionTitle:"Alert",actionMessage:i,showError:!0,updateData:!1}):(!1,i="Amount Should be greater than or equal to ("+s.minimumPieceSize+") and less than or equal to Unsold Amount",this.setState({actionTitle:"Alert",actionMessage:i,showError:!0,updateData:!1}))}}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"openAlert",value:function(){this.setState({alertShow:!0,updateData:!1})}},{key:"hideAlert",value:function(){this.setState({alertShow:!1,updateData:!0})}},{key:"confirmAction",value:function(e){var t=this;if("DELETE"===e){this.setState({alertShow:!1});var a=[{}];a[0]=Jf.issueId;var s=[{}];s[0]=Jf.bookId;var n=[{}];n[0]=Jf.ticker,w()({method:"POST",url:N.URL+hi,timeout:N.apiTimeOut,data:{issues:a,bookId:s,ticker:n},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){void 0!==e.data[0].responseMessage&&e.data[0].responseMessage.length>0&&(t.msgTimeOut(),t.setState({responseMessage:e.data[0].responseMessage,updateData:!0})),t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}))}else"PUBLISH"===e&&(this.setState({alertShow:!1}),w()({method:"POST",url:N.URL+ml,timeout:N.apiTimeOut,data:Jf,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){void 0!==e.data[0].responseMessage&&e.data[0].responseMessage.length>0&&(t.msgTimeOut(),t.setState({responseMessage:e.data[0].responseMessage,updateData:!0})),t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})})))}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All",updateData:!1})}},{key:"getDefaultTickerValues",value:function(e,t){this.setState({tickerId:"All",updateData:!1})}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"render",value:function(){var e=this,t={};return t.checkBoxComponent=this.checkBoxComponent,t.offerTextBoxComponent=this.offerTextBoxComponent,t.limitTextBoxComponent=this.limitTextBoxComponent,t.actionComponent=this.actionComponent,t.fieldComponent=this.fieldComponent,Object(u.jsx)(u.Fragment,{children:"Offerings"===this.state.screenName?Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",id:"cls_grid",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[void 0!==this.state.message&&this.state.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.state.message}):"",Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:3,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:Se,id:"lbl_book"}),":"]}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Hh},onchange:this.bookChange,selected:this.state.bookId,id:"book",stateMethod:this.getDefaultBookValues})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:3,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:cn,id:"lbl_ticker"}),":"]}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:ji,reqParams:{tickerId:this.state.tickerId,bookId:this.state.bookId,productType:Hh,allFlag:"true"},onchange:this.tickerChange,selected:this.state.tickerId,id:"ticker",stateMethod:this.getDefaultTickerValues})})]}),Object(u.jsx)(W.a,{className:"d-inline-block text-center",children:Object(u.jsx)(D.a,{id:"newcommitment",size:"sm",onClick:this.newCommitment,children:"New Commitment"})})]}),this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:Tf,apiCall:ar,wsUrl:!0,updateData:this.state.updateData,reqParams:{ticker:this.state.ticker,book:this.state.bookId,productType:Hh,socketSource:"OFFERINGS"},edit:!0,fixedTable:!0,mappings:Pf,customComponents:t,mapdata:this.state.data,keyField:"issueId",fromPage:"Offerings",excelFlag:"true"})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})})]})]}):"Edit"===this.state.screenName?Object(u.jsx)(Gf,{issueId:this.state.issueId,apiCall:Qi,reqParams:{issueId:this.state.issueId,productType:Hh},returnMethod:this.returnMethod,closemodel:this.closemodel,fromPage:this.state.screenName,linkname:"Edit CP Commitment"}):"NEW"===this.state.screenName?Object(u.jsx)(Gf,{returnMethod:this.returnMethod,closemodel:this.closemodel,fromPage:this.state.screenName,linkname:"New CP Commitment"}):"Convert"===this.state.screenName?Object(u.jsx)(Zf,{apiCall:$i,reqParams:{issueId:this.state.issueId,prodType:Hh,issuerId:this.state.issuerId,bookId:this.state.selectedBookId},returnMethod:this.returnMethod,fromPage:this.state.screenName,linkname:"CP Commitment Conversion"}):Object(u.jsx)(Hf,{issueId:this.state.issueId,returnMethod:this.returnMethod})})}}]),a}(o.a.Component);function Xf(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&(o="durationFrom"===e||"durationTo"===e?{dataField:e,text:t[e],editable:!1}:"pimsType"===e?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.pimsTypeBoxComponent(t,s,n,o,e)}}:"status"===e?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.statusBoxComponent(t,s,n,o,e)}}:"pimsId"===e?{dataField:e,text:t[e],formatter:a.checkBoxComponent}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.textBoxComponent(t,s,n,o,e)}},s.push(o)));return""})),""})),s}var $f,eg,tg=[];tg.pimsId=Qa,tg.messageType=as,tg.pimsType=ns,tg.externalFolder=ts,tg[St]=wt,tg.durationFrom=ht,tg.durationTo=ut,tg.processTime=ss,tg.status=qs;var ag=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,payload:{},screenName:"PIMSScheduler",pimsId:"",statusValue:"",checkValue:"",fileTypeValue:"",updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.savePimsClick=s.savePimsClick.bind(Object(O.a)(s)),s.checkBoxComponent=s.checkBoxComponent.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.pimsTypeBoxComponent=s.pimsTypeBoxComponent.bind(Object(O.a)(s)),s.statusBoxComponent=s.statusBoxComponent.bind(Object(O.a)(s)),s.pimsStatusChange=s.pimsStatusChange.bind(Object(O.a)(s)),s.pimsFTChange=s.pimsFTChange.bind(Object(O.a)(s)),s.onCheckboxClick=s.onCheckboxClick.bind(Object(O.a)(s)),s.setScreenData=s.setScreenData.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===sd&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"onCheckboxClick",value:function(e,t,a){eg[t].tname=e.target,this.setState({checkValue:e.target})}},{key:"savePimsClick",value:function(){$f={SAVE_PIMS_SCHEDULER_DATA_API:"/savePimsSchedulerData"};var e=[],t={},a=!1;eg&&eg.map((function(t,s){var n=document.getElementById("check"+s);if(null!=n&&!0===n.checked){a=!0,!1,{};var o=document.getElementById("messageType"+s).value,i=document.getElementById("pimsType"+s).value,l=document.getElementById("externalFolder"+s).value,c=document.getElementById("filenameStartWith"+s).value,r=document.getElementById("processTime"+s).value,d=document.getElementById("status"+s).value,m={pimsId:n.value,messageType:o,pimsType:i,externalFolder:l,filenameStartWith:c,processTime:r,status:d};e.push(m)}})),t.reportData=e,a?this.postData($f,t):alert("Please check atleast once checkbox")}},{key:"postData",value:function(e,t){var a=this;w()({method:"POST",url:N.URL+e,timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({respMessage:e.data.responseMessage,updateData:!0})}))}},{key:"pimsStatusChange",value:function(e,t,a){eg[t].status=e.target.value,this.setState({updateData:!0})}},{key:"pimsFTChange",value:function(e,t,a){eg[t].pimsType=e.target.value}},{key:"checkBoxComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",id:"check"+a,name:"check"+a,value:e,onClick:function(t){o.onCheckboxClick(e,a,t)}})})}},{key:"textBoxComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(Eu,{name:n+a,id:n+a,value:e,onBlur:function(e){o.onFieldChange(e,n,a,t.issueId)}})}},{key:"statusBoxComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(Dp,{apiCall:Vi,name:n+a,id:n+a,reqParams:{statusValue:this.state.statusValue},onchange:function(e){o.pimsStatusChange(e,a,n)},selected:eg[a].status})}},{key:"pimsTypeBoxComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(Dp,{apiCall:"/getPimsFileTypeMap",name:n+a,id:n+a,reqParams:{},onchange:function(e){o.pimsFTChange(e,a,n)},selected:eg[a].tname})}},{key:"setScreenData",value:function(e){eg=e}},{key:"onFieldChange",value:function(e,t,a,s){eg[a].tname=e.target.value}},{key:"render",value:function(){var e={};return e.checkBoxComponent=this.checkBoxComponent,e.textBoxComponent=this.textBoxComponent,e.statusBoxComponent=this.statusBoxComponent,e.pimsTypeBoxComponent=this.pimsTypeBoxComponent,Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[this.state.respMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",dismissible:!0,children:this.state.respMessage})}):"",Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:tg,apiCall:Yi,wsUrl:!1,reqParams:{pimsId:""},edit:!0,mappings:Xf,mapdata:eg,updateData:this.state.updateData,checkBoxComponent:this.checkBoxComponent,customComponents:e,calBack:this.setScreenData,keyField:"pimsId",excelFlag:"true"})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{className:"d-inline-block mt-2 text-center",children:Object(u.jsx)(D.a,{id:"save",className:"btn btn-primary btn-xs",onClick:this.savePimsClick,children:"Save"})})})]})]})})}}]),a}(o.a.Component);function sg(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&(o="durationFrom"===e||"durationTo"===e?{dataField:e,text:t[e],editable:!1}:"status"===e?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.statusBoxComponent(t,s,n,o,e)}}:"pimsId"===e?{dataField:e,text:t[e],formatter:a.checkBoxComponent}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.textBoxComponent(t,s,n,o,e)}},s.push(o)));return""})),""})),s}var ng,og=[];og.pimsId=Qa,og.messageType=as,og.pimsType=ns,og.externalFolder=ts,og[St]=wt,og.durationFrom=ht,og.durationTo=ut,og.processTime=ss,og.status=qs;var ig=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,payload:{},screenName:"EPIMSScheduler",pimsId:"",statusValue:"",fileTypeValue:"",updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.saveEPimsClick=s.saveEPimsClick.bind(Object(O.a)(s)),s.checkBoxComponent=s.checkBoxComponent.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.statusBoxComponent=s.statusBoxComponent.bind(Object(O.a)(s)),s.pimsStatusChange=s.pimsStatusChange.bind(Object(O.a)(s)),s.onCheckboxClick=s.onCheckboxClick.bind(Object(O.a)(s)),s.setScreenData=s.setScreenData.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===od&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"saveEPimsClick",value:function(){;"/saveEPIMSSchedulerData";var e=[],t={},a=!1;ng&&ng.map((function(t,s){var n=document.getElementById("check"+s);if(null!=n&&!0===n.checked){a=!0,!1,{};var o=document.getElementById("messageType"+s).value,i=document.getElementById("processTime"+s).value,l=document.getElementById("status"+s).value,c={pimsId:n.value,messageType:o,processTime:i,status:l};e.push(c)}})),t.reportData=e,a?this.postData("/saveEPIMSSchedulerData",t):alert("Please check atleast once checkbox")}},{key:"postData",value:function(e,t){var a,s=this;a=t,w()({method:"POST",url:N.URL+e,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){s.setState({respMessage:e.data.responseMessage,updateData:!0})}))}},{key:"onCheckboxClick",value:function(e,t,a){ng[t].tname=e.target,this.setState({checkValue:e.target})}},{key:"pimsStatusChange",value:function(e,t,a){ng[t].tname=e.target.value,this.setState({statusValue:e.target.value,updateData:!0})}},{key:"checkBoxComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",id:"check"+a,name:"check"+a,value:e,onClick:function(t){o.onCheckboxClick(e,a,t)}})})}},{key:"textBoxComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(Eu,{name:n,id:n+a,value:e,onBlur:function(e){o.onFieldChange(e,n,a,t.issueId)}})}},{key:"statusBoxComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(Dp,{apiCall:Vi,name:n+a,id:n+a,reqParams:{statusValue:this.state.statusValue},onchange:function(e){o.pimsStatusChange(e,a,n)},selected:this.state.statusValue})}},{key:"setScreenData",value:function(e){ng=e}},{key:"onFieldChange",value:function(e,t,a,s){ng[a].tname=e.target.value}},{key:"render",value:function(){var e={};return e.checkBoxComponent=this.checkBoxComponent,e.textBoxComponent=this.textBoxComponent,e.statusBoxComponent=this.statusBoxComponent,Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[this.state.respMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",dismissible:!0,children:this.state.respMessage})}):"",Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:og,apiCall:Yi,wsUrl:!1,reqParams:{pimsId:""},edit:!0,mappings:sg,checkBoxComponent:this.checkBoxComponent,updateData:this.state.updateData,customComponents:e,calBack:this.setScreenData,keyField:"pimsId",excelFlag:"true"})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{className:"d-inline-block mt-2 text-center",children:Object(u.jsx)(D.a,{id:"save",className:"btn btn-primary btn-xs",onClick:this.saveEPimsClick,children:"Save"})})})]})]})})}}]),a}(o.a.Component),lg=[];lg.ticket=dn,lg.ticker=cn,lg.shortName=X,lg.productType=ls,lg.currencyCode=We,lg.amount=ga,lg.spread=Es,lg.settlementDate=Ms,lg.maturityDate=da,lg.coupon=ps,lg.issuerType=Te,lg.bookId=Se,lg.status=qs,lg.actionId=Ot;var cg,rg=[];function dg(e,t,a){var s=[];return Object.values(t).map((function(e){})),Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&(o="actionId"===e?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.actionComponent(t,s,n,o,e)}}:"productType"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return"1200"===e?"CP":"1600"===e?"MCP":"2200"===e?"ECD":"2300"===e?"YCD":"2400"===e?"FRCD":"2700"===e?"FRCP":"2900"===e&&"ECP","ECP"}}:a&&"ticket"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkShowComponent(t,s,n,o,e)}}:a&&"ticker"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkSecurityComponent(t,s,n,o,e)}}:!a||"issuerType"!==e&&"status"!==e?e===re?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1,formatter:a.fieldComponent,formatExtraData:{colId:t[e]}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.imgComponent(t,s,n,o,e)}},s.push(o)));return""})),""})),s}function mg(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&(o="actionId"===e?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.buttonComponent(t,s,n,o,e)}}:"createdDate"===e||"couponDate"===e||"maxAmount"===e||"fee"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.textBoxComponent(t,s,n,o,e)}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1},s.push(o)));return""})),""})),s}rg.ticker=cn,rg.currencyCode=We,rg.settlementDate=Ts,rg.maturityDate=da,rg.amount=ga,rg.coupon=ps,rg.actionId=ie;var hg,ug,bg,pg,jg,xg=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).onContentChange=function(e,t){s.clearState(),cg[t]=e.target.value,cg.fromPage="CONVER",s.postData(cg,Sl)},s.rateChange=function(e,t){var a={};"rateChange"===t&&(a.tenorRate=e.target.value,a.rateAmount=cg.amount,a.settlementDate=cg.settlementDate,a.maturityDate=cg.maturityDate,w()({method:"POST",url:N.URL+"/getRateCalculation",timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(void 0!==e.data.accruedInterest&&e.data.accruedInterest.length>0&&(cg.traderAcruedInt=e.data.accruedInterest),void 0!==e.data.accruedInterest&&e.data.accruedInterest.length>0&&(cg.netAmt=e.data.netAmt)),s.setState({resultFlag:!0})})))},s.hideAlert=function(){s.setState({alertShow:!1})},s.clearState=function(){s.setState({respMessage:"",rejectReason:"",warningMsg:""})},s.state={resultFlag:!1,updateFlag:!1,respMessage:"",rejectReason:"",warningMsg:""},s.submitData=s.submitData.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.buyInData;cg=[],this.clearState(),t.action="AJAXBUY",t.fromPage="CONVER",w()({method:"POST",url:N.URL+Sl,timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&(void 0!==(cg=t.data)&&void 0!==cg.rejectReason&&cg.rejectReason.length>0?e.setState({rejectReason:cg.rejectReason}):void 0!==cg&&void 0!==cg.responseMessage&&cg.responseMessage.length>0&&e.setState({warningMsg:cg.responseMessage}),e.setState({updateFlag:!0}))}))}},{key:"submitData",value:function(){this.setState({actionTitle:"Submit",actionMessage:"Are you sure, you want to Submit the Trade ?",alertShow:!0,actionFlag:"TRADE"})}},{key:"confirmAction",value:function(e){this.setState({alertShow:!1}),cg.action="SAVEINV",this.postData(cg,"/saveECPConversionDetails")}},{key:"postData",value:function(e,t){var a=this;""!==t&&w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(void 0!==(cg=e.data)&&void 0!==cg.rejectReason&&cg.rejectReason.length>0?a.setState({rejectReason:cg.rejectReason}):void 0!==cg&&void 0!==cg.responseMessage&&cg.responseMessage.length>0&&a.setState({respMessage:cg.responseMessage}),a.setState({updateFlag:!0}))}))}},{key:"render",value:function(){var e=this,t=this.props.buyInData,a=this.state,s=a.respMessage,n=a.rejectReason,o=a.warningMsg;return void 0==cg&&(cg=t),!0===this.state.updateFlag&&cg?Object(u.jsxs)("div",{className:"tab-pane mt-12",id:"BuyInTicket",children:[void 0!==s&&s.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:s}):"",void 0!==o&&o.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:o}):"",void 0!==n&&n.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:n}):"",Object(u.jsx)("table",{width:"100%",border:"0px",children:Object(u.jsx)("tbody",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{valign:"top",width:"50%",children:Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",id:"lyr_issuerName",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7  text-left removewrap",id:"issuerName",children:cg.issuerName})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",id:"lyr_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7  text-left",id:"ticker",children:cg.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",id:"lyr_currencyCode",children:"CURRENCY:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7  text-left",id:"currencyCode",children:cg.currencyCode})]})]})})}),Object(u.jsx)("td",{valign:"top",width:"50%",children:Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",id:"lyr_cusip",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7  text-left",id:"cusip",children:cg.cusip})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",id:"product",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7  text-left",id:"productType",children:cg.prodName})]})]})})})]})})}),Object(u.jsx)("table",{width:"100%",border:"0px",children:Object(u.jsx)("tbody",{children:Object(u.jsx)("tr",{children:Object(u.jsx)("td",{valign:"top",width:"100%",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:"subHead",align:"center",children:"Trade"}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"amount",className:"form-label col-md-4 col-sm-4 col-xs-4  text-right",children:"$m:"}),Object(u.jsx)("div",{className:"col-md-5 col-sm-5 col-xs-  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-amount",name:"lyr-amount",value:Lo(cg.amount),className:"form-control input-sm",readOnly:"true"})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"settle",className:"form-label col-md-4 col-sm-4 col-xs-4  text-right",children:"Settle:"}),Object(u.jsx)("div",{className:"col-md-5 col-sm-5 col-xs-5  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-settle",name:"lyr-settle",value:cg.settlementDate,className:"form-control input-sm",readOnly:"true"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"rate",className:"form-label col-md-4 col-sm-4 col-xs-4  text-right",children:"Rate:"}),Object(u.jsx)("div",{className:"col-md-5 col-sm-5 col-xs-5  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{name:"lyr-rate",id:"lyr-rate",value:cg.coupon,className:"text-left",onBlur:function(t){e.rateChange(t,"rateChange")},readOnly:"true"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"yield",className:"form-label col-md-4 col-sm-4 col-xs-4  text-right",children:"Mat:"}),Object(u.jsx)("div",{className:"col-md-5 col-sm-5 col-xs-5  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-yield",name:"lyr-yield",value:cg.maturityDate,className:"form-control input-sm",readOnly:"true"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-right",id:"lyr_netAmount",children:"Net $: "}),Object(u.jsx)("div",{className:"col-md-5 col-sm-5 col-xs-5  text-left",id:"lyr-buy-offer",children:Object(u.jsx)("label",{className:"form-label text-left",id:"netAmount",children:Lo(cg.netAmt)})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-right",id:"lyr_accrInterest",children:"Disc: "}),Object(u.jsx)("div",{className:"col-md-5 col-sm-5 col-xs-5  text-left",id:"lyr-buy-offer",children:Object(u.jsx)("label",{className:"form-label text-left",id:"accrInterest",children:cg.traderAcruedInt?cg.traderAcruedInt:t.accruedInterest})})]})]})]})})})})}),Object(u.jsxs)("table",{width:"100%",border:"0px",children:[Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{valign:"top",width:"50%",children:Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"note",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"Notes:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-note",name:"lyr-note",value:"",className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"isin",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"CUSIP:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-isin",name:"lyr-isin",value:cg.cusip,className:"form-control input-sm"})})]})]})}),Object(u.jsx)("td",{valign:"top",width:"100%",children:Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"buysell",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"B/S:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-buysell",name:"lyr-buysell",value:"B",className:"form-control input-sm"})})]})})})})]}),Object(u.jsx)("tr",{children:Object(u.jsx)("td",{className:"text-center",colSpan:"2",children:Object(u.jsx)("span",{children:void 0!==this.state.respMessage&&0!==this.state.respMessage.length||void 0!==this.state.rejectReason&&0!==this.state.rejectReason.length?"":Object(u.jsx)("button",{id:"ok",onClick:this.submitData,className:"btn btn-success btn-xs lyrsubmitfocus",children:"Submit"})})})})]}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})]}):"No data"}}]),a}(o.a.Component),fg=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectData:""},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.buyInModalData;return e?Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,dialogClassName:"buy-modal",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:Object(u.jsx)("div",{style:{textAlign:"center"},children:"Buy In"})})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsx)(xg,{buyInData:e,onHide:this.props.onHide})})]}):""}}]),a}(o.a.Component),gg=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={showModal:!1,updateData:!0},s.buttonComponent=s.buttonComponent.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.buyAction=s.buyAction.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.buyInData;this.postData(e,Wi)}},{key:"postData",value:function(e,t){var a=this;w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&a.setState({data:e.data,updateData:!0})}))}},{key:"hideModal",value:function(){this.setState({showModal:!1,updateData:!0})}},{key:"buttonComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(D.a,{size:"sm",id:n+a,onClick:function(s){o.buyAction(e,t,a,s)},children:"Buy"})}},{key:"textBoxComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(Eu,{name:n+a,id:n+a,value:e,onBlur:function(e){o.onFieldChange(e,n,a)}})}},{key:"buyAction",value:function(e,t,a,s){hg=t,this.setState({showModal:!0,updateData:!1})}},{key:"onFieldChange",value:function(e,t,a){hg[a][t]=e.target.value}},{key:"render",value:function(){var e=this,t={};t.buttonComponent=this.buttonComponent,t.textBoxComponent=this.textBoxComponent;this.props.buyInData;return Object(u.jsx)("div",{className:"modal-content modal-lyr-cnt",children:Object(u.jsx)("div",{className:"modal-body1 text-center",children:Object(u.jsx)("div",{className:"col-md-12 col-sm-12",children:Object(u.jsxs)("div",{className:"react-bootstrap-table fo2table table-responsive",children:[Object(u.jsx)(Yb,{cprops:rg,updateData:this.state.updateData,mappings:mg,mapdata:this.state.data,customComponents:t,keyField:"1",excelFlag:"true"}),Object(u.jsx)(fg,{show:this.state.showModal,onHide:function(){return e.hideModal()},buyInModalData:hg})]})})})})}}]),a}(o.a.Component),Og=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectData:""},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.buyInModalData;return e?Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,dialogClassName:"buyIn-modal",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:Object(u.jsx)("div",{style:{textAlign:"center"},children:"Buy In"})})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsx)(gg,{buyInData:e})}),Object(u.jsx)(P.a.Footer,{})]}):""}}]),a}(o.a.Component),vg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAB7CAAAewgFu0HU+AAAGVWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTA4LTI0VDExOjQyOjE1KzA1OjMwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE4LTA4LTI0VDExOjQyOjE1KzA1OjMwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0wOC0yNFQxMTo0MjoxNSswNTozMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3ZTc3NjU5NC01N2M4LTA2NDQtYTFkNi0xMmJkMjQ0MzYyZGEiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpkMjhmMzJhOS1mODk3LTc3NGMtYThhNi1mYTNjMDc2NDY5ODUiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozMGU2OThjYS05ZDQ3LTU5NDktOTFlYi02ZDA4ODY3NGJjNzIiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDozMGU2OThjYS05ZDQ3LTU5NDktOTFlYi02ZDA4ODY3NGJjNzIiIHN0RXZ0OndoZW49IjIwMTgtMDgtMjRUMTE6NDI6MTUrMDU6MzAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6N2U3NzY1OTQtNTdjOC0wNjQ0LWExZDYtMTJiZDI0NDM2MmRhIiBzdEV2dDp3aGVuPSIyMDE4LTA4LTI0VDExOjQyOjE1KzA1OjMwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPjRBQkJCNTNGMDJDRkMyRDAzMzM4OEQ4RUUwNzcwODgzPC9yZGY6bGk+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Is96bQAAA71JREFUOI2tVG9InVUY/z3nvH/ue73ueufVXE6nW0rp3ITagrHBBgUTF9gGFasg9mmMxTYhhD4U6w/4oSiKWCti1Ydmy0GT2tiHIBmspszdRJkxMXXanXq9V716733f97zn9OFevbo+rGAP/Dic8zzn+Xd+zyGlFB6maJ91XsH+PTuwJUSAlHmNYcK91QtxqQPEOWQojExJMWRqDlCKWaQO+5965gcVLLRVIgZeXIpE6RZo/yks52DzcfgnR+CO34JMJaSAfjwdnTjkO3zsRXDNWTZlAEBEACOAcgAAYlkwngXnQFEp9Lq9oJIqwPLH3b7ulvQ3H56HlCa4ni2ZiGA7LuaSEjpnIAA+jYE5GcBeKlVLiVq4Rj5bxqGVVEMIpxiUhuj//WCG8fMFr556GbqR1nTOMRqdQU8sgWAwCJMzbH4kgLLBbvhGB5vEaN/X0PW1LSC2spJVABG5/nxKiot06pNXGAAoBXhSwfUkGDFMpz3cnFmC5rky24L7oFQWy/4tP9y+a03807Yv2cohAT7DwPTsbEXbB1+c7vhtEJyUDk8A0vs3sIpuwgEVb4iZ+5rPaMipDF1D2nEefefzb68Mj00sPr6n4W3UbRsM/Nl/FsRWbgup4DAOuRA7ANfeCNcBM/1/GyffbeGNu3o1ALBMAwPRqfLOX65fvjsVqw8F/D8PxRfwXYzdCJU9eUO4AiCCVMCmoIWaiQjg2hWw7Y2quCyqjrzZzBp3RRRcaIauYS65WH3m+66uqfj8Vss0Yeq81pbU9v7FXwla/kGE52Hf7u0/taqBgfLFuZDcUHXPd6J9f7Jud7+pYmBQ0Mai9xo6zl3onEks1Fpmlh628GqGJ+Pty2OZYyZsIRCP2zEnXDmgeckIP376dba5rh9eMsdoQLt8raf99sh47fpgIVbPNWe0ylXOWDKQk3EzB1+DWWqdVIGgK+004MtXwZ7d2Xhi62NVf6Qz9prLUil4Uq6BVBJE0HtHkkgL5pIS4Py+oOHQuuH3Wo82vfXx2R+H/rq702/54ONscFN5+CPSGJTMZ+15HlVWlnSnpIcLA1MIFhoIFFjYVl+YpasCNNsRCIeKosdeannu3KWrXZHbd57mOh9Lzc99VV1TCaKcUwKklAgVFcKwNEw7ApNTNooCHhrq881hAGA7DtYXrZtubz3a/ERVRU/accOxmTjuDI3CdUW2fE/C8ySklFAK0IhgcAadszUlr+wcV8BnmrNvHHnhwN4d2zs5ZyyVXEJ0PLpmzB4k9LB/bPZgk/8n/wAP7rJ5N6VQ4AAAAABJRU5ErkJggg==",yg=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).hideModal=function(e){s.setState({msg:e,showModal:!1,updateData:!0})},s.actionComponent=function(e,t,a,n,o){var i="issueId"+a;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:i,id:i,onClick:function(n){s.onCheckboxClick(e,t,a,n)}})})},s.openModal=function(){s.setState({showModal:!0,updateData:!1})},s.openMpModal=function(){s.setState({showMpModal:!0,updateData:!1})},s.state={cmodal:!0,bookId:"",showModal:!1,showMpModal:!1,showShowModal:!1,showSecurityModal:!1,formDateValue:new Date,toDateValue:new Date,modalDataRow:"",updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.bookChange=s.bookChange.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.convertAction=s.convertAction.bind(Object(O.a)(s)),s.linkShowComponent=s.linkShowComponent.bind(Object(O.a)(s)),s.openShowModal=s.openShowModal.bind(Object(O.a)(s)),s.getDefaultBookValues=s.getDefaultBookValues.bind(Object(O.a)(s)),s.linkSecurityComponent=s.linkSecurityComponent.bind(Object(O.a)(s)),s.openSecurityModal=s.openSecurityModal.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"openSecurityModal",value:function(e,t){this.setState({modalDataRow:e,showSecurityModal:!0,updateData:!1})}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Zr&&this.setState({cmodal:!0,updateData:!1})}},{key:"componentDidMount",value:function(){[],ug=[],jg=[],pg=[]}},{key:"hideMpModal",value:function(){this.setState({showMpModal:!1,updateData:!0})}},{key:"onCheckboxClick",value:function(e,t,a,s){var n=this;!0===s.target.checked?pg.push(t.actionId):pg.splice(pg.indexOf(t.actionId),1);var o=document.getElementById("ecpconvert");o&&pg.length>0?o.src=vg:o.src=J,null!==o&&pg.length>0?o.addEventListener("click",(function(e){return n.convertAction(pg)})):o.removeEventListener("click",(function(e){return n.convertAction(pg)}))}},{key:"convertAction",value:function(e){if(jg=[],!(e.length>0))return!1;e.map((function(e,t){var a=bg.find((function(t){return t.actionId===e}));a.issueIdList=[bg.find((function(t){return t.actionId===e})).issueId],jg.push(a)})),e.length>1?(ug=jg,this.openMpModal()):(ug=jg[0],this.openModal())}},{key:"linkComponent",value:function(e,t,a){return Object(u.jsx)("button",{className:"btn btn-link",onClick:this.openModal.bind(this,t,e),children:e})}},{key:"bookChange",value:function(e){this.setState({bookId:e.target.value,updateData:!0})}},{key:"fromDateChange",value:function(e){this.setState({formDateValue:e,updateData:!0})}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e,updateData:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1}),this.props.onRemove(this.props.linkname)}},{key:"setScreenData",value:function(e){bg=e}},{key:"linkShowComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openShowModal.bind(this,t,e),children:e})}},{key:"openShowModal",value:function(e,t){this.setState({modalDataRow:e,showShowModal:!0,updateData:!1})}},{key:"hideShowModal",value:function(){this.setState({showShowModal:!1,updateData:!0})}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All",updateData:!1})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):void 0}},{key:"linkSecurityComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openSecurityModal.bind(this,t,e),children:e})}},{key:"hideSecurityModal",value:function(){this.setState({showSecurityModal:!1,updateData:!0})}},{key:"fieldComponent",value:function(e,t,a,s){return"$m"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t={};return t.actionComponent=this.actionComponent,t.linkComponent=this.linkComponent,t.linkShowComponent=this.linkShowComponent,t.imgComponent=this.imgComponent,t.linkSecurityComponent=this.linkSecurityComponent,t.fieldComponent=this.fieldComponent,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h6",{children:void 0!==this.state.msg&&""!==this.state.msg?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.msg}):""}),this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Book",id:"lbl_bookid"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Zh},onchange:this.bookChange,selected:this.state.bookId,stateMethod:this.getDefaultBookValues,id:"bookId"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:lg,apiCall:Zi,updateData:this.state.updateData,wsUrl:!1,reqParams:{fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue),bookId:this.state.bookId,productType:Zh},mappings:dg,calBack:this.setScreenData,customComponents:t,keyField:"1",excelFlag:"true"})})]}),Object(u.jsx)(rp,{size:"lg",show:this.state.showSecurityModal,onHide:function(){return e.hideSecurityModal()},modalHead:"Security",prodType:Zh,modalDataRow:this.state.modalDataRow}),Object(u.jsx)(fg,{show:this.state.showModal,onHide:this.hideModal,buyInModalData:ug}),Object(u.jsx)(Og,{show:this.state.showMpModal,onHide:function(){return e.hideMpModal()},buyInModalData:ug}),Object(u.jsx)(kp,{size:"md",show:this.state.showShowModal,onHide:function(){return e.hideShowModal()},modalHead:"Show Ticket",prodType:Zh,modalDataRow:this.state.modalDataRow})]})]})}}]),a}(o.a.Component);function kg(e,t,a){var s,n=[],o=0;return Object.keys(t).map((function(i){return Object.keys(e[0]).map((function(l){var c;l===i?t[l]&&(c="settlementDate"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return a.dateComponent(Vu(e),t,s,n,l)}}:"ticker"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return void 0!==e&&"new"===e?a.tickerListComponent(e,t,s,n):a.tickerDropComponent(e,t,s,n)}}:"currencyCode"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return void 0!==e&&"new"===e?a.currencyListComponent(e,t,s,n):e}}:"oneWeek"===l||"twoWeek"===l||"threeWeek"===l||"oneday"===l||"twoday"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,i){if(void 0!==e[n]&&void 0!==e[n][l]){o=e[n][l].split(":")[0];var c=e[n][l].split(":")[2];0==o&&(o="")}else o="";return a.rateBoxComponent(o,s,n,i,l,c)}}:{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return a.textBoxComponent(e,t,s,n,l)}},n.push(c)):"rateMap"===l&&n.length>10&&(null===s||s!==e[0].rateMap)&&(s=e[0].rateMap,o=0,Object.keys(e[0].rateMap).map((function(s){if(e[0][l]){if("7"===s||"8"===s||"10"===s||"11"===s)return;c={dataField:s,text:t[s],filter:Object(Ao.textFilter)(),editable:!1,csvFormatter:function(t,a,n,i){if(void 0!==e[n]&&void 0!==e[n].rateMap&&void 0!==e[n].rateMap[s]){o=e[n].rateMap[s].split(":")[0];e[n].rateMap[s].split(":")[2];0==o&&(o="")}else o="";return o},formatter:function(t,n,i,l){if(void 0!==e[i]&&void 0!==e[i].rateMap&&void 0!==e[i].rateMap[s]){o=e[i].rateMap[s].split(":")[0];var c=e[i].rateMap[s].split(":")[2];0==o&&(o="")}else o="";return a.rateBoxComponent(o,n,i,l,s,c)}},n.push(c)}})));return""})),""})),n}function Dg(e,t,a){var s,n=[],o=0;return Object.keys(t).map((function(i){return Object.keys(e[0]).map((function(l){if(l===i){if(t[l]){if("availableCredit"===l||"minimumPiece"===l)c={dataField:l,text:t[l],filter:Object(Ao.textFilter)(),align:"right"};else if("offeringlimit"===l)var c={dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"};else c=a&&"ticker"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:a.linkComponent}:"oneWeek"===l||"twoWeek"===l||"threeWeek"===l||"oneday"===l||"twoday"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(t,a,s,n){return void 0!==e[s]&&void 0!==e[s][l]?(0===(o=e[s][l].split(":")[0]).indexOf(".")&&(o="0"+o),0==o&&(o="")):o="",o}}:{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),editable:!1,formatter:a.fieldComponent,formatExtraData:{colId:t[l]}};n.push(c)}}else"rateMap"===l&&n.length>10&&(null===s||s!==e[0].rateMap)&&(s=e[0].rateMap,o=0,Object.keys(e[0].rateMap).map((function(a){if(e[0][l]){if("7"===a||"8"===a||"10"===a||"11"===a)return;c={dataField:a,text:t[a],filter:Object(Ao.textFilter)(),csvFormatter:function(t,s,n,i){return void 0!==e[n]&&void 0!==e[n].rateMap&&void 0!==e[n].rateMap[a]?0==(o=e[n].rateMap[a].split(":")[0])&&(o=""):o="",o},formatter:function(t,s,n,i){return void 0!==e[n]&&void 0!==e[n].rateMap&&void 0!==e[n].rateMap[a]?0==(o=e[n].rateMap[a].split(":")[0])&&(o=""):o="",o}},n.push(c)}})));return""})),""})),n}var Cg=[];Cg.ticker=cn,Cg.currencyCode=We,Cg.availableCredit=de,Cg.offeringlimit=Ma,Cg.minimumPiece=pa,Cg.settlementDate=Ts,Cg.oneday=Ua,Cg.twoday=On,Cg.oneWeek=Ha,Cg.twoWeek=kn,Cg.threeWeek=nn,Cg[lu]=Va,Cg[mu]=vn,Cg[hu]=an,Cg[uu]=Et,Cg[bu]=Mt,Cg[pu]=_s,Cg[fu]=Da,Cg[du]=Wa;var Ng=[];Ng.ticker=cn,Ng.currencyCode=We,Ng.availableCredit=de,Ng.offeringlimit=Ma,Ng.minimumPiece=pa,Ng.settlementDate=Ts,Ng.oneday=Ua,Ng.twoday=On,Ng.oneWeek=Ha,Ng.twoWeek=kn,Ng.threeWeek=nn,Ng[lu]=Va,Ng[mu]=vn,Ng[hu]=an,Ng[uu]=Et,Ng[bu]=Mt,Ng[pu]=_s,Ng[fu]=Da,Ng[du]=Wa;var Sg,wg,Tg,Ig=a(121),Mg=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleClose=function(){s.props.onHide()},s.onFileChange=function(e){s.setState({selectedFile:e.target.files[0],selectedFileName:e.target.files[0].name})},s.onFileUpload=function(){var e=new FormData;null!==s.state.selectedFile&&null!==s.state.selectedFile.name&&void 0!==s.state.selectedFile.name&&(e.append("file",s.state.selectedFile,s.state.selectedFile.name),e.append("prodType","ECD"),w()({method:"POST",url:N.URL+"/uploadGrids",timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"multipart/mixed",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){})))},s.hideAlert=function(){s.setState({alertShow:!1})},s.state={respMessage:"",rejectMsg:"",actionTitle:"",actionMessage:"",showError:!1,alertShow:!1,isLoading:!0,selectedFile:null,selectedFileName:""},s.hideError=s.hideError.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s.doDownLoad=s.doDownLoad.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({respMessage:[],rejectReason:[]})}},{key:"confirmAction",value:function(e){this.setState({alertShow:!1}),this.onFileUpload()}},{key:"doDownLoad",value:function(e){var t={};this.setState({actionMsgs:[]}),t.fileType=document.getElementById("fileType").value,w()({method:"POST",url:N.URL+"/gridTemplate",timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),Accept:"multipart/form-data"},responseType:"arraybuffer"}).then((function(e){var t=new Blob([e.data],{type:"multipart/form-data"});Ig.saveAs(t,e.headers.expires)}))}},{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"render",value:function(){var e=this;return Object(u.jsx)(u.Fragment,{children:!0===this.state.isLoading?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectMsg&&this.state.rejectMsg.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectMsg}):"",Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left font-weight-bold",children:"Template Type:"}),Object(u.jsx)("label",{className:"form-label col-md-2 col-sm-2 col-xs-2 text-left",children:Object(u.jsxs)("select",{className:"custom-select",id:"fileType",children:[Object(u.jsx)("option",{value:"xls",children:"XLS"}),Object(u.jsx)("option",{value:"xlsx",children:"XLSX"}),Object(u.jsx)("option",{value:"csv",children:"CSV"})]})}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(D.a,{id:"download",className:"btn btn-warning btn-xs wclr",onClick:function(t){e.doDownLoad(e)},children:"Download Template"})})]})}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",children:[Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("label",{className:"form-label col-md-12 col-sm-12 col-xs-12 text-left font-weight-bold",children:"Click on Choose File and select a file to upload (Bulk Upload function requires .xls or .xlsx or .csv files)"})}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left font-weight-bold ",id:"lbl_upload",children:"Attach File:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4",children:Object(u.jsx)("input",{type:"file",id:"uploadFile",name:"uploadFile",onChange:this.onFileChange})})]})]}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0 text-center ",children:Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs ml-1 ",onClick:this.confirmAction,children:"Upload"})})]}):""})}}]),a}(o.a.Component),Ag=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.show,a=e.onHide,s=e.size,n=e.modalHead;return e.prodType&&Object(u.jsxs)(P.a,{show:t,onHide:a,size:s,id:"sellintry","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:n})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsx)(Mg,{prodType:this.props.prodType})})]})}}]),a}(o.a.Component),Rg=Ag,Eg=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleFocus=function(e){document.getElementById(e)&&(document.getElementById(e).style.display="block")},s.hideAlert=function(){s.setState({alertShow:!1,updateData:!0})},s.state={cmodal:!0,mainApiCall:zi,updateFlag:!1,showModal:!1,plusFlag:!1,showRate:!1,showupLoad:!1,respMessage:"",rejectReason:"",programId:"",rowCnt:0,actionTitle:"",actionMessage:"",showError:!1,updateData:!0,holidayData:[],productWeekData:[],dateUpdateFlag:!0,rateVar:""},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.copySaveGridClick=s.copySaveGridClick.bind(Object(O.a)(s)),s.saveGridClick=s.saveGridClick.bind(Object(O.a)(s)),s.addClick=s.addClick.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.rateBoxComponent=s.rateBoxComponent.bind(Object(O.a)(s)),s.tickerListComponent=s.tickerListComponent.bind(Object(O.a)(s)),s.currencyListComponent=s.currencyListComponent.bind(Object(O.a)(s)),s.dateComponent=s.dateComponent.bind(Object(O.a)(s)),s.setScreenData=s.setScreenData.bind(Object(O.a)(s)),s.postData=s.postData.bind(Object(O.a)(s)),s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.tickerDropComponent=s.tickerDropComponent.bind(Object(O.a)(s)),s.handleRateClick=s.handleRateClick.bind(Object(O.a)(s)),s.deleteGrid=s.deleteGrid.bind(Object(O.a)(s)),s.copyDataGrid=s.copyDataGrid.bind(Object(O.a)(s)),s.currencyChange=s.currencyChange.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s.bulkUpload=s.bulkUpload.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;Sg=[];var t=[],a=[];w()({method:"POST",url:N.URL+ac,timeout:N.apiTimeOut,data:{productType:qh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({message:t.data,updateData:!0})})),w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:qh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(s){t=s.data.holidayDatesInfo,a=s.data.productWeekData,e.setState({holidayData:t,productWeekData:a})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(!1===t.cmodal&&this.props.linkname===Hr){this.setState({cmodal:!0,updateData:!1});var s=[],n=[];w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:qh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){s=e.data.holidayDatesInfo,n=e.data.productWeekData,a.setState({holidayData:s,productWeekData:n})}))}}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!1})}},{key:"openModal",value:function(e,t){if(void 0===this.state.message||""===this.state.message){var a,s,n,o,i;if(e===_a||e===gn||e===Ya||e===yn||e===sn)null!==(a=Sg[t][e])&&(i=a.split(":"));else null!==(a=Sg[t].rateMap[e])&&(i=a.split(":")),e+="M";void 0!==i&&i.length>2&&(s=i[0],n=i[1],o=i[2]),(wg=Sg[t]).coupon=s,wg.maturityDate=n,wg.maturityFlag=o,wg.tenorType=e,wg.transType="10",wg.issueType="I",wg.amount=wg.availableToday,this.setState({showModal:!0,updateData:!1})}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"hideModal",value:function(){Sg=[],this.setState({showModal:!1,showRate:!1,updateData:!0,showupLoad:!1})}},{key:"textBoxComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(Eu,{name:n+a,id:n+a,value:e,onBlur:function(e){o.onFieldChange(e,t,n,a)},className:"text-right"})}},{key:"rateBoxComponent",value:function(e,t,a,s,n,o,i){var l=this,c=t.rateMap,r=t.oneday,d=t.twoday,m=t.oneWeek,h=t.twoWeek,b=t.threeWeek;return 0===e.indexOf(".")&&(e="0"+e),Object(u.jsxs)("div",{className:"dispFlex",children:[Object(u.jsx)(Eu,{name:n+"M"+a,id:n+"M"+a,value:e,onFocus:function(e){l.handleFocus("span"+n+a)},onKeyPress:function(e){l.onKeyDownHandler(e,n,a,n+"M"+a)},onBlur:function(e){l.onRateChange(e,t,n,a,"span"+n+a)}}),"N"===o&&""!==e&&Object(u.jsx)("span",{id:"span"+n+a,onClick:function(e){return l.handleRateClick(e,n,a)},style:{display:"none"},children:Object(u.jsx)(B.v,{})}),"Y"===o&&Object(u.jsx)("span",{id:"span"+n+a,onClick:function(e){return l.handleRateClick(e,n,a)},children:Object(u.jsx)(Hp,{mat:c&&void 0!==c[n]?Yu(c[n].split(":")[1],"M/D"):"oneday"===n&&Yu(r&&r.split(":")[1],"M/D")||"twoday"===n&&Yu(d&&d.split(":")[1],"M/D")||"oneWeek"===n&&Yu(m&&m.split(":")[1],"M/D")||"twoWeek"===n&&Yu(h&&h.split(":")[1],"M/D")||"threeWeek"===n&&Yu(b&&b.split(":")[1],"M/D"),children:Object(u.jsx)(B.B,{})})})]})}},{key:"handleRateClick",value:function(e,t,a){var s,n,o,i,l;(Tg={},t===_a||t===gn||t===Ya||t===yn||t===sn)?null!==(s=Sg[a][t])&&(l=s.split(":")):(null!==(s=Sg[a].rateMap[t])&&(l=s.split(":")),t="RATE"+t+"M");void 0!==l&&l.length>2&&(n=l[0],o=l[1],i=l[2]),Tg.settlementDate=Sg[a].settlementDate,Tg.issueId=Sg[a].issueId,Tg.currencyCode=Sg[a].currencyCode,Tg.productType=Sg[a].productType,Tg.coupon=n,Tg.tenorRate=n,Tg.matDateFlag=i,Tg.maturityColName=t,Tg.maturityDate=o,Tg.holidayData=this.state.holidayData,Tg.productWeekData=this.state.productWeekData,Tg.dateUpdateFlag=this.state.dateUpdateFlag,this.setState({showRate:!0,updateData:!1})}},{key:"onKeyDownHandler",value:function(e,t,a){13===e.charCode&&this.openModal(t,a)}},{key:"dateComponent",value:function(e,t,a,s,n){var o=this,i=this.state,l=i.holidayData,c=i.productWeekData,r=[];return l.map((function(e){e.currency===t.currencyCode&&r.push(e)})),Object(u.jsx)(Ju,{minDate:(new Date).setDate((new Date).getDate()+1),label:n+a,id:n+a,dateValue:new Date(e),fromDateFlg:!1,toDateFlg:!1,onchange:function(e){o.onDateChange(e,n,a)},dateUpdateFlag:this.state.dateUpdateFlag,currency:t.currencyCode,holidayData:r,productWeekData:c})}},{key:"tickerListComponent",value:function(e,t,a,s){var n=this;return Object(u.jsx)("div",{className:"outPosition",children:Object(u.jsx)(jj,{id:ln+a,name:ln+a,apiCall:ji,reqParams:{productType:qh,All:"false"},onchange:function(e,t){n.tickerChange(e,t,a,ln)},selected:void 0!==Sg[a]&&void 0!==Sg[a].ticker&&"new"!==Sg[a].ticker?this.state.programId:""})})}},{key:"currencyListComponent",value:function(e,t,a,s){var n=this,o=[],i=Yl;return void 0!==this.state.programId&&this.state.programId.trim().length>0&&(t.programId=this.state.programId),w()({method:"POST",url:N.URL+i,timeout:N.apiTimeOut,data:{programId:this.state.programId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(o=e.data),n.setState({updateData:!0})})),Object(u.jsx)("div",{className:"outPosition",children:Object(u.jsx)(jj,{id:"currencyCode"+a,name:"currencyCode"+a,apiCall:i,eData:o,reqParams:{productType:qh,programId:this.state.programId},onchange:function(e,t){n.currencyChange(e,t,a,"currencyCode")},selected:void 0!==Sg[a]&&void 0!==Sg[a].currencyCode&&"new"!==Sg[a].currencyCode?Sg[a].currencyCode:""})})}},{key:"onDateChange",value:function(e,t,a){this.setState({updateData:!0});var s=Sg,n="";s.map((function(t,o){"new"!==t.ticker&&o!==a&&s[a].programId===t.programId&&s[a].currencyCode===t.currencyCode&&Yu(e,"M/D/YY")===t.settlementDate&&(n="Ticker, Currency and Settle Date already exist")})),n?this.setState({actionTitle:"Alert",actionMessage:n,showError:!0,dateUpdateFlag:!1,updateData:!0}):(s[a][t]=Yu(e,"M/D/YY"),this.setState({settlementDate:Yu(e,"M/D/YY"),currencyCode:s[a].currencyCode,dateUpdateFlag:!0}))}},{key:"onFieldChange",value:function(e,t,a,s){var n="",o=Sg;if(o[s][a]=e.target.value,!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?n="Row"+(s+1)+":"+wm:(""!==e.target.value&&Uo(e),o[s][a]=Po(e.target.value)),n)return this.setState({actionTitle:"Alert",actionMessage:n,showError:!0,updateData:!1}),e.target.value="",e.target.focus(),!1}},{key:"onRateChange",value:function(e,t,a,s,n){var o=this;this.setState({rateVar:e.target.value});var i;("oneWeek"!==a&&"twoWeek"!==a&&"threeWeek"!==a&&"oneday"!==a&&"twoday"!==a&&"rateMap"!==a||(i=t[a].split(":")[0]),t.rateMap)&&(t.rateMap,Object.keys(t.rateMap).map((function(n){t.rateMap&&a===n&&(i=t.rateMap[n].split(":")[0]),(!1===Bo(e.target.value,"1234567890.")||e.target.value.split(".").length>2)&&(o.setState({actionTitle:"Alert",actionMessage:"Row"+(s+1)+":"+Ym,showError:!0,updateData:!1}),e.target.value=i,e.target.focus(),o.setState({showModal:!1,updateData:!1}))})));if(document.getElementById(n)&&(document.getElementById(n).style.display="none"),void 0!==e.target.value&&""!==e.target.value){var l,c=Sg;if(a===_a||a===gn||a===Ya||a===yn||a===sn){if(null!==(l=c[s][a])){var r=l.split(":");r[0]=e.target.value,c[s][a]=r.join(":")}}else{var d=c[s].rateMap;if(null!==(l=d[a])){var m=l.split(":");m[0]=e.target.value,d[a]=m.join(":"),c[s].rateMap=d}}}}},{key:"currencyChange",value:function(e,t,a,s){var n=Sg;n[a][s]=t,Sg[a].programId=this.state.programId,this.setState({currencyCode:t,updateData:!1});var o="";if(n.map((function(e,t){n[a].programId===("new"!==e.ticker&&e.programId)&&n[a].currencyCode===("new"!==e.ticker&&e.currencyCode)&&n[a].settlementDate===("new"!==e.ticker&&e.settlementDate)&&(o="Ticker, Currency and Settle Date already exist")})),o)return this.setState({actionTitle:"Alert",actionMessage:o,showError:!0,updateData:!1}),!1}},{key:"tickerChange",value:function(e,t,a,s){var n=this,o=Sg;o[a][s]=t,o[a].programId=t,this.setState({rowCnt:Sg.length,updateData:!1}),Sg=[],this.setState({programId:t,updateData:!1}),this.setState({mainApiCall:li,updateData:!0});var i={issuerId:t,productType:qh,ticker:e[0]};w()({method:"POST",url:N.URL+yl,timeout:N.apiTimeOut,data:i,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(o[a].minimumPiece=e.data.minSize,o[a].ticker=e.data.ticker,document.getElementById("minimumPiece"+a).value=e.data.minSize,n.setState({updateFlag:!0,updateData:!1}))}))}},{key:"setScreenData",value:function(e){Sg=e}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1}),this.props.onRemove(this.props.linkname)}},{key:"copySaveGridClick",value:function(e){if(void 0===this.state.message||""===this.state.message){this.verifyAll(Sg)&&this.postData("/saveAndCopyECDGridDetails","","SAVE")}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"saveGridClick",value:function(e){if(void 0===this.state.message||""===this.state.message){this.verifyAll(Sg)&&this.postData("/saveECDGridDetails","","SAVE")}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"verifyAll",value:function(e){for(var t=!0,a=0;a<e.length;a++){if(!1===this.verify(Sg[a],a)){t=!1;break}}return t}},{key:"verify",value:function(e,t){var a=this,s=e.oneWeek.split(":")[0],n=e.oneday.split(":")[0],o="",i=0;return""!==e.availableCredit&&(e.availableCredit=e.availableCredit.trim(),i=Po(e.availableCredit)),"new"===e.currencyCode?o="Row"+(t+1)+":"+Vh:""===i||0===parseFloat(i)?o="Row"+(t+1)+":"+ch:""===e.offeringlimit||0===parseFloat(e.offeringlimit)?o="Row"+(t+1)+":"+Em:""===e.minimumPiece||0===parseFloat(e.minimumPiece)?o="Row"+(t+1)+":"+Fm:parseFloat(e.offeringlimit)>i?o="Row"+(t+1)+":"+rr:parseFloat(e.offeringlimit)<e.minimumPiece?o="Row"+(t+1)+":"+Nm:0===parseFloat(n)?o="Row"+(t+1)+":Please Enter Valid One Day Rate":0===parseFloat(s)&&(o="Row"+(t+1)+":Please Enter Valid One Week Rate"),Sg.map((function(e,t){a.state.programId===("new"!==e.ticker&&e.programId)&&a.state.currencyCode===("new"!==e.ticker&&e.currencyCode)&&(void 0===a.state.settlementDate?Yu(new Date,"M/D/YY"):a.state.settlementDate)===("new"!==e.ticker&&e.settlementDate)&&(o="Ticker, Currency and Settle Date already exist")})),!o||(this.setState({actionTitle:"Alert",actionMessage:o,showError:!0,updateData:!1}),!1)}},{key:"addClick",value:function(e){void 0===this.state.message||""===this.state.message?(void 0!==Sg?this.setState({rowCnt:Sg.length+1,updateData:!1,rejectReason:"",respMessage:""}):this.setState({rowCnt:1,updateData:!1,rejectReason:"",respMessage:""}),Sg=[],this.setState({mainApiCall:li,updateData:!0})):this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"postData",value:function(e,t,a){var s,n=this;"PUBLISH"===a||"DELETE"===a||"COPY"===a?s=t:"SAVE"===a&&(s=Sg,Sg=[]),w()({method:"POST",url:N.URL+e,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){void 0!==e.data?"COPY"===a?(n.setScreenData(e.data),n.setState({updateData:!0})):"DELETE"===a?void 0!==e.data&&e.data.length>0&&("Delete Successful."===e.data?n.setState({respMessage:e.data,updateData:!0}):n.setState({rejectReason:e.data,updateData:!0})):void 0!==e.data.errorMessage&&e.data.errorMessage.length>0?n.setState({rejectReason:e.data.errorMessage,updateData:!0}):void 0!==e.data.successMessage&&e.data.successMessage.length>0&&n.setState({respMessage:e.data.successMessage,updateData:!0}):n.setState({respMessage:"",rejectReason:"",updateData:!0}),n.setState({mainApiCall:zi,updateData:!0})}))}},{key:"tickerDropComponent",value:function(e,t,a){var s=this;return this.setState({modalData:t}),Object(u.jsxs)(pj.a,{className:"positioninitial",drop:"down",children:[Object(u.jsx)(pj.a.Toggle,{id:ln+a,variant:"link",children:e}),Object(u.jsxs)(pj.a.Menu,{children:[Object(u.jsx)(pj.a.Item,{onClick:function(e){return s.copyDataGrid(a)},children:"Copy"}),Object(u.jsx)(pj.a.Item,{onClick:function(e){return s.deleteGrid(a)},children:"Delete"})]})]})}},{key:"deleteGrid",value:function(e){this.setState({actionTitle:"Delete",actionMessage:"Are you sure, you want to delete the data ?",alertShow:!0,actionFlag:"DELETE",deleteData:e,updateData:!1,respMessage:""})}},{key:"confirmAction",value:function(e,t){if("DELETE"===e)if(this.setState({alertShow:!1}),void 0===this.state.message||""===this.state.message){var a=Sg[this.state.deleteData],s={};s.issueId=a.issueId,Sg=[],this.postData("/deleteECDGridDetails",s,"DELETE")}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"copyDataGrid",value:function(e){if(void 0===this.state.message||""===this.state.message){var t=Sg[e],a={};a.issueId=t.issueId,a.productType=qh,a.stmtType="S";Sg=[],this.postData(li,a,"COPY")}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"fieldComponent",value:function(e,t,a,s){return"Offer Lmt (m)"===s.colId?Lo(e):e}},{key:"bulkUpload",value:function(e){void 0===this.props.message||""===this.props.message?this.setState({showupLoad:!0}):this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.holidayData,s=t.productWeekData,n={};return n.textBoxComponent=this.textBoxComponent,n.dateComponent=this.dateComponent,n.rateBoxComponent=this.rateBoxComponent,n.tickerListComponent=this.tickerListComponent,n.tickerDropComponent=this.tickerDropComponent,n.currencyListComponent=this.currencyListComponent,n.fieldComponent=this.fieldComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsxs)("h6",{children:[Wr,void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",void 0!==this.state.message&&this.state.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.state.message}):""]}),(s.length>0||a.length>0)&&Object(u.jsx)(Yb,{cprops:Cg,apiCall:this.state.mainApiCall,wsUrl:!1,updateData:this.state.updateData,reqParams:{rowCnt:this.state.rowCnt,productType:qh,stmtType:"S"},edit:!1,mappings:kg,customComponents:n,calBack:this.setScreenData,mapdata:Sg,fixedTable:!0,keyField:qt,excelFlag:"true"})]})}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{className:"d-inline-block mt-2 text-center",children:[Sg&&Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",onClick:this.copySaveGridClick,id:"copyPublishOfferings",children:"Copy & Publish Offerings"}),Sg&&Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs ml-1",onClick:this.saveGridClick,id:"publishOfferings",children:"Publish Offerings"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs ml-1",onClick:this.addClick,id:"add",children:"Add"})]})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)("h6",{children:iu}),Object(u.jsx)(Yb,{cprops:Ng,apiCall:zi,updateData:this.state.updateData,wsUrl:!1,reqParams:{productType:qh,stmtType:"F"},mappings:Dg,customComponents:n,keyField:"1",excelFlag:"true"})]})})]}),Object(u.jsx)(Rg,{size:"md",show:this.state.showupLoad,onHide:function(){return e.hideModal()},modalHead:"Bulk Upload",prodType:qh}),Object(u.jsx)(kj,{show:this.state.showModal,onHide:function(){return e.hideModal()},modalData:wg}),Object(u.jsx)(Rj,{show:this.state.showRate,onHide:function(){return e.hideModal()},modalData:Tg}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})})}}]),a}(o.a.Component);function Fg(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e.toString().trim()===n.toString().trim()&&(o=a&&"ticker"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkComponent(t,s,n,o,e)}}:e===ue?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.textBoxOfferComponent,formatExtraData:{key:e}}:e===Ce||e===Ea?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.textBoxRateComponent,formatExtraData:{key:e}}:e===he?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:"issueId"===e?{dataField:e,text:t[e],style:{width:50},formatter:a.invCheckBoxComponent}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1,formatter:a.invFieldComponent,formatExtraData:{colId:t[e]}},s.push(o));return""})),""})),s}function Pg(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(o=a&&"ticker"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkComponent(t,s,n,o,e)}}:e===ue?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.textBoxOfferComponent(t,s,n,o,e)}}:e===ke||e===rt?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.textBoxComponent(t,s,n,o,e)}}:e===he?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1,formatter:a.invFieldComponent,formatExtraData:{colId:t[e]}},s.push(o));return""})),""})),s}function Bg(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(o=e===ln?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkSecurityComponent(t,s,n,o,e)}}:e===ue?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.textBoxOfferComponent(t,s,n,o,e)}}:e===ke||e===rt?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.textBoxComponent(t,s,n,o,e)}}:e===he?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return e>0?Lo(e):e},align:"right"}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1,formatter:a.invFieldComponent,formatExtraData:{colId:t[e]}},s.push(o));return""})),""})),s}function Lg(e,t,a){var s,n=[];return Object.keys(t).map((function(o){return Object.keys(e[0]).map((function(i){var l;i===o?(l=i===Ya||i===yn||i===sn||i===_a||i===gn?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){e=t[i].split(":")[0];var o=t[i].split(":")[2];return a.linkComponent(e,t,s,n,i,o)}}:i===ue||i===ke||i===Ba?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:a.textBoxComponent}:i===he?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),align:"right"}:i===wa||i===ba?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:Object(g.a)({dataField:i,text:t[i],formatter:a.fieldComponent,editable:!1,formatExtraData:{colId:t[i]},filter:Object(Ao.textFilter)()},"editable",!1),n.push(l)):"rateMap"===i&&n.length>11&&(null===s||s!==e[0].rateMap)&&(s=e[0].rateMap,0,Object.keys(e[0].rateMap).map((function(e){e!==ju&&e!==xu&&e!==cu&&e!==ru&&(l={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),csvFormatter:function(t,a,s,n){t=a.rateMap[e].split(":")[0];a.rateMap[e].split(":")[2];return t},formatter:function(t,s,n,o){t=s.rateMap[e].split(":")[0];var i=s.rateMap[e].split(":")[2];return a.linkComponent(t,s,n,o,e,i)}},n.push(l))})));return""})),""})),n}function _g(e,t,a){var s,n=[];return Object.keys(t).map((function(o){return Object.keys(e[0]).map((function(i){var l;i===o?(l=i===Ya||i===yn||i===sn||i===_a||i===gn?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return e=t[i].split(":")[0],a.linkComponent(e,t,s,n,i)}}:i===ue?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return a.textBoxOfferComponent(e,t,s,n,i)}}:i===ke||i===Ba?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return a.textBoxComponent(e,t,s,n,i)}}:i===he?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),align:"right"}:i===wa||i===ba?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:Object(g.a)({dataField:i,text:t[i],formatter:a.fieldComponent,editable:!1,formatExtraData:{colId:t[i]},filter:Object(Ao.textFilter)()},"editable",!1),n.push(l)):"rateMap"===i&&n.length>11&&(null===s||s!==e[0].rateMap)&&(s=e[0].rateMap,0,Object.keys(e[0].rateMap).map((function(e){e!==ju&&e!==xu&&e!==cu&&e!==ru&&(l={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),csvFormatter:function(t,a,s,n){return a.rateMap[e].split(":")[0]},formatter:function(t,s,n,o){return t=s.rateMap[e].split(":")[0],a.linkComponent(t,s,n,o,e)}},n.push(l))})));return""})),""})),n}function Ug(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(o=e===Ea?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.textBoxComponent}:e===ue?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.textBoxLimitComponent}:e===qt?{dataField:e,text:t[e],formatter:a.checkBoxComponent}:e===te?{dataField:e,text:t[e],formatter:a.actionComponent,editable:!1}:e===he?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),align:"right"}:e===re?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return 0!==e?Lo(e):""},align:"right"}:Object(g.a)({dataField:e,text:t[e],formatter:a.fieldComponent,editable:!1,formatExtraData:{colId:t[e]},filter:Object(Ao.textFilter)()},"editable",!1),s.push(o));return""})),""})),s}function Vg(e,t,a){var s,n=[];return Object.keys(t).map((function(o){return Object.keys(e[0]).map((function(i){var l;i===o?(l="amount"===i?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:Object(g.a)({dataField:i,text:t[i],formatter:a.fieldComponent,editable:!1,formatExtraData:{colId:t[i]},filter:Object(Ao.textFilter)()},"editable",!1),n.push(l)):"rateMap"===i&&n.length>6&&(null===s||s!==e[0].rateMap)&&(s=e[0].rateMap,0,Object.keys(e[0].rateMap).map((function(e){e!==lu&&e!==mu&&(l={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),csvFormatter:function(t,a,s,n){return"0"===(t=a.rateMap[e].split(":")[0])?"":t},formatter:function(t,a,s,n){return"0"===(t=a.rateMap[e].split(":")[0])?"":t}},n.push(l))})));return""})),""})),n}function Yg(e,t,a){var s,n=[];return Object.keys(t).map((function(o){return Object.keys(e[0]).map((function(i){var l;i===o?(l=i===Ya?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){e=t.oneWeek.split(":")[0];var o=t.oneWeek.split(":")[2];return a.linkComponent(e,t,s,n,i,o)}}:i===he?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),align:"right"}:i===ba?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:Object(g.a)({dataField:i,text:t[i],formatter:a.fieldComponent,editable:!1,formatExtraData:{colId:t[i]},filter:Object(Ao.textFilter)()},"editable",!1),n.push(l)):"rateMap"===i&&n.length>6&&(null===s||s!==e[0].rateMap)&&(s=e[0].rateMap,0,Object.keys(e[0].rateMap).map((function(e){l={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),csvFormatter:function(t,a,s,n){t=a.rateMap[e].split(":")[0];a.rateMap[e].split(":")[2];return t},formatter:function(t,s,n,o){t=s.rateMap[e].split(":")[0];var i=s.rateMap[e].split(":")[2];return a.linkComponent(t,s,n,o,e,i)}},n.push(l)})));return""})),""})),n}function Hg(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(o=e===ln?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkSecurityComponent(t,s,n,o,e)}}:e===ue?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.textBoxOfferComponent(t,s,n,o,e)}}:e===ke||e===rt?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.textBoxComponent(t,s,n,o,e)}}:e===he?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1,formatter:a.invFieldComponent,formatExtraData:{colId:t[e]}},s.push(o));return""})),""})),s}function Wg(e,t,a){var s,n=[];return Object.keys(t).map((function(o){return Object.keys(e[0]).map((function(i){var l;i===o?(l=a&&i===ln?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return a.linkSecurityComponent(e,t,s,n,i)}}:i===Ya||i===yn||i===yn||i===_a||i===gn?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return e=t.oneWeek.split(":")[0],a.linkComponent(e,t,s,n,i)}}:i===ue?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return a.textBoxOfferComponent(e,t,s,n,i)}}:i===Ce||i===Ea?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return a.textBoxComponent(e,t,s,n,i)}}:i===he?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),editable:!1,formatter:a.invFieldComponent,formatExtraData:{colId:t[i]}},n.push(l)):"rateMap"===i&&n.length>9&&(null===s||s!==e[0].rateMap)&&(s=e[0].rateMap,0,Object.keys(e[0].rateMap).map((function(e){e!==ju&&e!==xu&&e!==cu&&e!==ru&&(l={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),csvFormatter:function(t,a,s,n){return a.rateMap[e].split(":")[0]},formatter:function(t,s,n,o){return t=s.rateMap[e].split(":")[0],a.linkComponent(t,s,n,o,e)}},n.push(l))})));return""})),""})),n}var qg=[];qg.cusip="CUSIP",qg.issuerName="Issuer",qg.tickerCode="Ticker",qg.prodType="Prod",qg.amount="Size (m)",qg.price="Price",qg.tradeDate="TD",qg.settleDate="Settle",qg.maturityDate="Mat",qg.salesPersonName="Sales Person",qg.bookName="Trading Book",qg.investorAcctName="Investor Top Account",qg.investorAcctName="Account",qg.buySellFlag="B/S",qg.books="Books",qg.totalPosition="Total Position ($m)",qg.net90Day="Net 90 Day",qg.pandl="P&L";var zg=[];zg.issueId=zt,zg.issuerShortName=Kt,zg.ticker=cn,zg.currencyCode=We,zg.settle=Rs,zg.settleDateStr=Ms,zg.maturityDateStr=ia,zg.prodCode=Dn,zg.availableCredit=wn,zg.offer=Fa,zg.availableToday=aa,zg.amount=Aa,zg.actionId=ie;var Gg=[];Gg.issueId=kt,Gg.issuerShortName=Kt,Gg.ticker=cn,Gg.prodCode=ls,Gg.settle=Rs,Gg.settleDateStr=Ms,Gg.maturityDateStr=da,Gg.availableCredit=ga,Gg.bid=Ne,Gg.offer=Fa,Gg.availableToday=Ta,Gg.dispBidYield=lt,Gg.dispOfferYield=dt,Gg.bookDesc=Se;var Kg=[];Kg.issuerShortName=Kt,Kg.ticker=cn,Kg.currencyCode=We,Kg.availableCredit=ka,Kg.offeringlimit=Ma,Kg.minimumPieceSize=pa,Kg.settleDateStr=Ms,Kg.issueDate=tt,Kg.oneday=Ua,Kg.twoday=On,Kg.oneWeek=Ha,Kg.twoWeek=kn,Kg.threeWeek=nn,Kg[lu]=Va,Kg[mu]=vn,Kg[hu]=an,Kg[uu]=Et,Kg[bu]=Mt,Kg[pu]=_s,Kg[fu]=Da,Kg[du]=Wa;var Zg=[];Zg.issuerName=Kt,Zg.ticker=cn,Zg.currencyCode=We,Zg.settle=Rs,Zg.settleDateStr=Ms,Zg.issueDate=tt,Zg.coupon=He,Zg.maturityDateStr=da,Zg.availableCredit=ga,Zg.availableToday=Sa,Zg.bidYield=In,Zg.dispOfferYield=La,Zg.bookDesc=Se;var Jg=[];Jg.issuerShortName=Kt,Jg.ticker=cn,Jg.currencyCode=We,Jg.availableCredit=ka,Jg.offeringlimit=Ta,Jg.availableToday=Ma,Jg.minimumPieceSize=pa,Jg.settleDateStr=Ms,Jg.oneday=Ua,Jg.twoday=On,Jg.oneWeek=Ha,Jg.twoWeek=kn,Jg.threeWeek=nn,Jg[lu]=Va,Jg[mu]=vn,Jg[hu]=an,Jg[uu]=Et,Jg[bu]=Mt,Jg[pu]=_s,Jg[fu]=Da,Jg[du]=Wa;var Qg=[];Qg.ticker=cn,Qg.currencyCode=We,Qg.settle=Rs,Qg.settleDateStr=Ms,Qg.maturityDateStr=da,Qg.availableCredit=ga,Qg.bid=Ne,Qg.offer=Fa,Qg.availableToday=Sa,Qg.yield=In,Qg.dispBidYield=lt,Qg.dispOfferYield=La,Qg.bookNo=Se;var Xg=[];Xg.issuerName=Kt,Xg.ticker=cn,Xg.currencyCode=We,Xg.settle=Rs,Xg.settlementDate=Ms,Xg.issueDate=tt,Xg.coupon=He,Xg.maturityDateStr=da,Xg.availableCredit=ga,Xg.availableToday=Sa,Xg.bidYield=De,Xg.dispOfferYield=dt,Xg.bookNo=Se;var $g=[];$g.issuerName=Kt,$g.ticker=cn,$g.currencyCode=We,$g.settle=Rs,$g.settlementDate=Ms,$g.issueDate=tt,$g.coupon=He,$g.maturityDateStr=da,$g.availableCredit=ga,$g.bidYield=In,$g.availableToday=Sa,$g.dispOfferYield=dt,$g.bookNo=Se;var eO=[];eO.issueId=zt,eO.issuerShortName=Kt,eO.ticker=cn,eO.currencyCode=We,eO.settle=Rs,eO.settleDateStr=Ms,eO.maturityDateStr=Ss,eO.prodCode=Dn,eO.availableCredit=wn,eO.offer=Fa,eO.availableToday=aa,eO.amount=Aa,eO.actionId=ie;var tO=[];tO.issueId=kt,tO.issuerShortName=Kt,tO.ticker=cn,tO.prodCode=ls,tO.settle=Rs,tO.settleDateStr=Ms,tO.maturityDateStr=da,tO.availableCredit=ga,tO.bid=Ne,tO.offer=Fa,tO.availableToday=Ta,tO.dispBidYield=lt,tO.dispOfferYield=dt,tO.bookDesc=Se;var aO=[];aO.issuerShortName=Kt,aO.ticker=cn,aO.productType=ls,aO.availableCredit=ka,aO.availableToday=Ma,aO.minimumPieceSize=pa,aO.settleDateStr=Ms,aO.issueDate=tt,aO.oneday=Ua,aO.twoday=On,aO.oneWeek=Ha,aO.twoWeek=kn,aO.threeWeek=nn,aO[lu]=Va,aO[mu]=vn,aO[hu]=an,aO[uu]=Et,aO[bu]=Mt,aO[pu]=_s,aO[ju]=Ps,aO[xu]=vt,aO[fu]=Da,aO[cu]=tn,aO[ru]=yt,aO[du]=Wa;var sO=[];sO.issuerName=Kt,sO.ticker=cn,sO.currencyCode=We,sO.settle=Rs,sO.settleDate=Ms,sO.issueDate=tt,sO.coupon=He,sO.maturityDateStr=da,sO.availableCredit=ga,sO.availableToday=Sa,sO.bidYield=In,sO.dispOfferYield=La,sO.bookDesc=Se;var nO=[];nO.ticketId=dn,nO.ticketAmount=ga,nO.settleDate=Ms,nO.maturityDate=ma,nO.ticketRate=ps,nO.currency=ze,nO.yield=In,nO.tradeSource=Gs,nO.salesPerson=Ns,nO.msgType=Te,nO.status=qs;var oO,iO,lO,cO,rO,dO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={data:""},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.apiCall){var t=this.props.reqParams,a="";t&&(a={programId:t.programId,productType:this.props.prodType,ticker:t.ticker,issueId:t.issueId}),w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({data:t.data})}))}}},{key:"render",value:function(){var e=this,t=this.state.data;return Object(u.jsx)("div",{className:"mt-2",children:t&&Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",Object(u.jsxs)("div",{className:"modal-cls",id:"details",children:[Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top border-right p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_issinfo",children:"Issuer Information"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_issuerName",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Name:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"issuerName",children:t.issuerName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_industry",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Industry:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"industry",children:t.industry})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_prvlg",children:"Privileging"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)("select",{id:"privileging",className:"custom-select",children:Object(u.jsx)("option",{children:"Firm"})})}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"mastAcctName",children:t.mastAcctName})]})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top border-right p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_prginfo",children:"Program Information"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_ticker",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Ticker (Issuer):"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"ticker",children:t.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"product",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Product:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"prodName",children:t.productType})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_regType",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Reg Type:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"regType",children:t&&t.regType?t.regType:""})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_dayType",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Day Type:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"dayType",children:t&&t.dayType?t.dayType:""})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_calType",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Calc Type:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"calType",children:t&&t.calType?t.calType:""})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_dealer",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Dealer:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"dealer",children:t&&t.dealer?t.dealer:""})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_cassii",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"OMS:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"cassii",children:t&&t.cassii?t.cassii:""})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_identifiers",children:"Identifiers"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_identprogramId",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"ID:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"identprogramId",id:"identprogramId",value:t.programId,onChange:function(t){e.onChange(t,"identprogramId")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_tickerId",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"OMS ID#:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"tickerId",children:t.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_cusip",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"DTC CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"cusip",children:t&&t.cusip?t.cusip:""})]}),"2400"!==this.props.prodType&&"2700"!==this.props.prodType&&"1600"!==this.props.prodType&&Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_rating",children:"Rating"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_ltSandP",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"S&P:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"ltSandP",children:t.ltSandP})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_ltMoody",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"MDY:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"ltMoody",children:t.ltMoody})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_ltFitch",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"FITCH:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"ltFitch",children:t.ltFitch})]})]})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top border-right p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_secinfo",children:"Security Information"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_matrity",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Maturity:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"maturitydate",id:"maturitydate",value:t.maturityDate,onChange:function(t){e.onChange(t,"identprogramId")},className:"text-right"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_series",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Series:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"series",id:"series",value:t.prodCode,readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_announce",children:"Announce:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"announcedate",id:"announcedate",value:t.announceDate,className:"text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_issuedate",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Issue Date:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"issuedate",id:"issuedate",value:t.issueDate,className:"text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_frstsd",children:"1st Settle Date:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"settledate",id:"settledate",value:t.settleDateFirst,className:"text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_Country",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Country:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"Country",id:"Country",value:t.Country,readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_currency",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Currency:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"currency",id:"currency",value:t.currencyCode,readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_coupon",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Coupon:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"coupon",id:"coupon",value:t.coupon,readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_freq",children:"Freq:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"Freq",id:"Freq",value:t.Freq,readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_coupontype",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Coupon Type:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"coupontype",id:"coupontype",value:t.couponType,readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_maturitytype",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Maturity Type:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"maturitytype",id:"maturitytype",value:t.matType,readOnly:!0})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_isstrading",children:"Issuance & Trading"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_issueamount",children:"Issue Amount"}),Object(u.jsx)("label",{className:"form-label  col-md-2 col-sm-2 col-xs-2 text-center font-weight-bold",id:"lbl_slash",children:"/"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lbl_paramount",children:"Available Amount"})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"issueamount",id:"issueamount",value:Lo(t.issueAmount),className:"text-right",readOnly:!0})}),Object(u.jsx)("label",{className:"form-label  col-md-2 col-sm-2 col-xs-2 text-center font-weight-bold",id:"lbl_issslash",children:"/"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"paramount",id:"paramount",value:Lo(t.parAmount),className:"text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_minpiece",children:"Min Piece"}),Object(u.jsx)("label",{className:"form-label col-md-2 col-sm-2 col-xs-2 text-center font-weight-bold",id:"lbl_mpslash",children:"/"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_increment",children:"Increment"})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"minPiece",id:"minPiece",value:Lo(t.minPiece),className:"text-right",readOnly:!0})}),Object(u.jsx)("label",{className:"form-label col-md-2 col-sm-2 col-xs-2 text-center font-weight-bold",id:"lbl_minslash",children:"/"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"incAmount",id:"incAmount",value:Lo(t.incAmount),className:"text-right",readOnly:!0})})]}),("2400"!==this.props.prodType||"2700"!==this.props.prodType)&&Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_notes",children:"Notes"}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:Object(u.jsx)("textarea",{name:"notes",id:"txtarea_notes",className:"form-control input-sm",rows:"3"})})})]})]})]}),("2400"===this.props.prodType||"2700"===this.props.prodType)&&Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top border-right p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"cpnschedpaysId",children:"Cpn Schedule Payments"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_indextype",children:"Index Type:"}),Object(u.jsxs)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"val_indextype",children:["30"===t.couponData[0].indexType&&"1M","90"===t.couponData[0].indexType&&"3M"]})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_rolldate",children:"Roll Date:"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"val_rolldate",children:"1"===t.couponData[0].rollDate&&"1st of the Month"})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_couponpaymentdate",children:"Coupon Payment Dates:"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8 text-left",id:"val_couponpaymentdate",children:t.couponData[4]&&t.couponData[4].map((function(e,t){return e.cpnPaymentDate+", "}))})]}),t.couponData[4]&&Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_coupondeterminationdate",children:"Coupon Determination Dates:"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8 text-left",id:"val_coupondeterminationdate",children:t.couponData[4].map((function(e,t){return e.cpnDetermDate+", "}))})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_accruedinterest",children:"Accrued Interest:"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8 text-left wordbrk",id:"val_accruedinterest",children:t.accruedInt})]}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1 fo2table",children:Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:" Coupon Date"}),Object(u.jsx)("th",{children:" SOFR "}),Object(u.jsx)("th",{children:" Spread "}),Object(u.jsx)("th",{children:" Coupon "})]})}),Object(u.jsx)("tbody",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t.couponData[4]&&t.couponData[4].map((function(e,t){if(0===t)return e.cpnPaymentDate}))}),Object(u.jsx)("td",{children:t.couponData[0].liborRate}),Object(u.jsx)("td",{children:t.couponData[0].spread}),Object(u.jsx)("td",{children:t.couponData[0].coupon})]})})]})})]}),("2400"===this.props.prodType||"2700"===this.props.prodType)&&Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_ntes",children:"Notes"}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:Object(u.jsx)("textarea",{name:"notes",id:"v_txtarea",className:"form-control input-sm",rows:"3"})})})]})]})]})})}}]),a}(o.a.Component),mO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).onChange=function(e,t){s.setState(Object(g.a)({},t,e.target.value))},s.submitData=function(){if(void 0===s.props.message||""===s.props.message){var e=s.state.data,t=s.props.reqParams;t.amount=Po(t.amount),t.refIssueId=t.refissueId;e&&(t.memberCatId="2",t.bid=s.state.bid,t.offer=s.state.offer),w()({method:"POST",url:N.URL+vl,timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){s.setState({data:e.data}),s.props.onHide()}))}else s.setState({actionTitle:"Alert",actionMessage:s.props.message,showError:!0})},s.state={data:"",bid:"",offer:"",showError:!1,actionMessage:"",actionTitle:""},s.hideError=s.hideError.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.apiCall){var t=this.props.reqParams,a="";t&&(a={issueId:t.issueId,productType:t.productType,ticker:t.ticker,bid:t.bid}),w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({data:t.data})}))}}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(e!==this.props&&this.props.apiCall){var s=this.props.reqParams;s&&{programId:s.programId,productType:s.productType,ticker:s.ticker,issueId:s.issueId},w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({data:e.data})}))}}},{key:"render",value:function(){var e=this,t=this.state.data;return Object(u.jsx)("div",{className:"tab-pane mt-2",id:"price",children:t&&Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",Object(u.jsx)("table",{width:"100%",className:"tblbordertop tblborderleft tblborderbottom",children:Object(u.jsx)("tbody",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{valign:"top",width:"40%",children:Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:[Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left font-weight-bold",id:"book",children:"Book:"}),Object(u.jsx)("label",{className:"form-label col-md-3.5 col-sm-3.5 col-xs-3.5  text-left",id:"bookName",children:t?t.bookName:t.bookDesc}),Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-right font-weight-bold ",id:"position",children:"Position(m):"}),Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3  text-left",id:"issueAmount",children:t.issueAmount})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left font-weight-bold",id:"bid ",children:"Bid:"}),Object(u.jsx)("div",{className:"col-md-3 col-sm-3 col-xs-3  text-left",id:"v_bidrate",children:Object(u.jsx)(Eu,{name:"bidRate",id:"bidRate",value:t.bidRate,onChange:function(t){e.onChange(t,"bid")}})}),Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-right font-weight-bold",id:"offer",children:"Offer:"}),Object(u.jsx)("div",{className:"col-md-3 col-sm-3 col-xs-3  text-left",id:"v_offrate",children:Object(u.jsx)(Eu,{name:"offerRate",id:"offerRate",value:t.offerRate,onChange:function(t){e.onChange(t,"offer")}})})]}),Object(u.jsx)("div",{className:"row mt-2",children:Object(u.jsx)("button",{id:"submit",onClick:this.submitData,style:{fontSize:"12px !important;"},className:"marginauto btn btn-success btn-xs lyrsubmitfocus",children:"Submit"})})]})})}),Object(u.jsx)("td",{valign:"top",width:"25%",className:"tblborderleft tblborderright",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:"subHead"}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5  text-left font-weight-bold",id:"lbl_realized",children:"Realized:"}),Object(u.jsx)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"realized",children:t.realized})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5  text-left font-weight-bold",id:"lbl_unrealized",children:"Unrealized:"}),Object(u.jsx)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"unrealized",children:t.unrealized})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5  text-left font-weight-bold",id:"lbl_total",children:"Profit/Loss:"}),Object(u.jsx)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"total",children:t.plAmount})]})]})]})}),Object(u.jsx)("td",{valign:"top",width:"35%",className:"tblborderright",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:"subHead"}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 ",children:[Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6  text-left font-weight-bold",id:"lbl_bidyld",children:"Bid Yield:"}),Object(u.jsx)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"bidyld",children:t.bidRate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6  text-left font-weight-bold",id:"lbl_dv01",children:"DV01:"}),void 0!==t.dv01&&0===t.dv01.indexOf("-")?Object(u.jsxs)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"dv01",children:[" ",Object(u.jsxs)("div",{className:"text-right text-danger",children:["(",t.dv01.replace("-",""),")"]})]}):Object(u.jsx)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"dv01",children:t.dv01})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6  text-left font-weight-bold",id:"lbl_conv01",children:"Convexity01:"}),Object(u.jsx)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"conv01",children:t.convexity})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6  text-left font-weight-bold",id:"lbl_sumofdvandconv01",children:"DV01+Convexity01:"}),void 0!==t.total&&0===t.total.indexOf("-")?Object(u.jsxs)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"sumofdvandconv01",children:[" ",Object(u.jsxs)("div",{className:"text-right text-danger",children:["(",t.total.replace("-",""),")"]})]}):Object(u.jsx)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"sumofdvandconv01",children:t.total})]})]})]})})]})})}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.props.message,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})})}}]),a}(o.a.Component),hO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={data:""},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.reqParams;return Object(u.jsx)("div",{className:"tab-pane mt-1",id:"trdhis",children:Object(u.jsx)("div",{className:"modal-content modal-lyr-cnt",children:Object(u.jsx)("div",{className:"modal-body1 text-center",children:Object(u.jsx)("div",{className:"col-md-12 col-sm-12",children:Object(u.jsxs)("div",{className:"react-bootstrap-table fo2table table-responsive",children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",Object(u.jsx)(lp,{cprops:nO,apiCall:this.props.apiCall,reqParams:{programId:e.programId,productType:this.props.prodType,issueId:e.issueId,loginId:sessionStorage.getItem("loginid"),companyId:sessionStorage.getItem("companyid")},keyField:"1",excelFlag:"true"})]})})})})})}}]),a}(o.a.Component),uO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectData:"",heading:"details"},s.handleSelect=s.handleSelect.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){e!==this.props&&this.setState({heading:"details"})}},{key:"handleSelect",value:function(e){this.setState({heading:e})}},{key:"render",value:function(){return this.props.modalData&&Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,size:this.props.size,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.modalHead})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsxs)(hb.a,{defaultActiveKey:"details",onSelect:this.handleSelect,transition:!1,id:"noanim-tab-example",children:[Object(u.jsx)(ei.a,{eventKey:"details",title:"Details",children:"details"===this.state.heading&&Object(u.jsx)(dO,{prodType:this.props.prodType,message:this.props.message,reqParams:this.props.modalDataRow,apiCall:al})}),Object(u.jsx)(ei.a,{eventKey:"price",title:"Price",children:"price"===this.state.heading&&Object(u.jsx)(mO,{prodType:this.props.prodType,message:this.props.message,reqParams:this.props.modalDataRow,onHide:this.props.onHide,apiCall:sl})}),Object(u.jsx)(ei.a,{eventKey:"tradeHistory",title:"Trade History",children:"tradeHistory"===this.state.heading&&Object(u.jsx)(hO,{prodType:this.props.prodType,message:this.props.message,reqParams:this.props.modalDataRow,apiCall:nl})})]})}),Object(u.jsx)(P.a.Footer,{children:Object(u.jsx)(D.a,{id:"close",onClick:this.props.onHide,children:"Close"})})]})}}]),a}(o.a.Component),bO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleChange=function(e,t){"cusip"===t&&s.setState({cusip:e.target.value}),"amount"===t&&(!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?s.setState({actionTitle:"Client Inquiry",actionMessage:wm,showError:!0}):(""!==e.target.value&&Uo(e),s.setState({amount:Po(e.target.value)}))),"cassii"===t&&s.setState({clientInvestorCassii:e.target.value}),"rate"===t&&(!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?s.setState({actionTitle:"Client Inquiry",actionMessage:Ym,showError:!0}):(""!==e.target.value&&_o(e),s.setState({rate:Po(e.target.value)})))},s.handleCusipChange=function(e,t){w()({method:"POST",url:N.URL+yl,timeout:N.apiTimeOut,data:{ticker:e[0],issuerId:t,productType:s.state.prodId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(a){var n={};n[a.data.productType]=a.data.product,s.setState({issuerName:a.data.issuerName,descr:a.data.descr,minAmount:a.data.minSize,maxAmount:a.data.maxAmount,increment:a.data.incAmount,maxNoOfDays:a.data.maxNoOfDays,matDates:a.data.matDatesList,issuerId:t,productData:n,prodId:a.data.productType,prodName:a.data.product,ticker:a.data.ticker,cassii:a.data.cassii,currencyCode:a.data.currencyCode,cusipSelection:e})}))},s.handleSell=function(){var e={};e.issuerName=s.state.issuerName,e.descr=s.state.descr,e.minAmount=s.state.minSize,e.maxAmount=s.state.maxAmount,e.increment=s.state.incAmount,e.maxNoOfDays=s.state.maxNoOfDays,e.matDates=s.state.matDatesList,e.issuerId=s.state.issuerId,e.cusip=s.state.cusip,e.amount=s.state.amount,e.investerCassii=s.state.cassii,e.clientinvesterCassii=s.state.clientInvestorCassii?s.state.clientInvestorCassii:e.investerCassii,e.rate=s.state.rate,e.maturityDate=s.state.maturityDate,e.settleDate=s.state.settleDate,e.prodName=s.state.prodName,e.prodId=s.state.prodId,e.ticker=s.state.ticker,s.props.returnMethod(e,"C")},s.handleClear=function(){var e;s.setState((e={cusipSelection:"",issuerName:"",descr:"",minAmount:"",maxAmount:"",increment:"",maxNoOfDays:"",matDates:"",issuerId:"",productData:{},cusip:"",payload:{},prodId:"",prodName:""},Object(g.a)(e,"cusipSelection",[]),Object(g.a)(e,"cassii",""),e))},s.onDateChange=function(e,t){"maturityDate"===t?s.setState({maturityDate:e}):s.setState({settleDate:e})},s.onSearchCusip=function(e){var t=Fl;s.state.prodId===Jh&&(t="/getADNCusipDetails"),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:[{cusip:s.state.cusip,productType:s.state.prodId}],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){s.setState({amount:e.data.amount,product:e.data.productType,rate:e.data.bid,maturityDate:e.data.maturityDate,settleDate:e.data.settlementDate})}))},s.state={cusipSelection:"",issuerName:"",descr:"",minAmount:"",maxAmount:"",increment:"",maxNoOfDays:"",matDates:"",issuerId:"",productData:{},cusip:"",payload:{},prodId:"",prodName:"",cassii:"",holidayData:[],productWeekData:[],currencyCode:"USD"},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.prodType;this.setState({prodId:t}),w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:t},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.holidayData,s=t.productWeekData;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block",children:Object(u.jsxs)("div",{className:"row p3 mb-1",children:[Object(u.jsx)("label",{id:"lbl_cusip",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"CUSIP:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6",children:Object(u.jsx)(Eu,{name:"cusip",id:"cusip",value:this.state.cusip,onChange:function(t){e.handleChange(t,"cusip")}})}),Object(u.jsx)("span",{className:"align-middle ml-n2",id:"fa_search",children:Object(u.jsx)(B.z,{onClick:function(t){e.onSearchCusip(t)}})})]})}),Object(u.jsx)("div",{className:"clearfix"}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block",children:[Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_ticker",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Ticker:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:Object(u.jsx)(jj,{id:"basic-typeahead-single",apiCall:ji,reqParams:{productType:this.props.prodType,All:"false"},onchange:this.handleCusipChange,selected:this.state.cusipSelection})})]}),Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_matdate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Maturity Date:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:(s.length>0||a.length>0)&&this.state.currencyCode&&Object(u.jsx)(Ju,{label:"maturirtyDate",onchange:function(t){e.onDateChange(t,"maturityDate")},dateValue:this.state.maturityDate,fromDateFlg:!1,toDateFlg:!1,currency:this.state.currencyCode,holidayData:a,productWeekData:s})})]}),Object(u.jsxs)("div",{className:"row p3",children:[Object(u.jsx)("label",{id:"lbl_amount",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Amount ($m):"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:Object(u.jsx)(Eu,{name:"amount",id:"amount",value:this.state.amount,onBlur:function(t){e.handleChange(t,"amount")}})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block",children:[Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_cassii",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Customer OMS:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:Object(u.jsx)(Eu,{name:"cassii",id:"cassii",value:this.state.cassii,onChange:function(t){e.handleChange(t,"cassii")}})})]}),Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_settledate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Settle Date:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:(s.length>0||a.length>0)&&this.state.currencyCode&&Object(u.jsx)(Ju,{label:"settleDate",onchange:function(t){e.onDateChange(t,"settleDate")},dateValue:this.state.settleDate,fromDateFlg:!1,toDateFlg:!1,currency:this.state.currencyCode,holidayData:a,productWeekData:s})})]}),Object(u.jsxs)("div",{className:"row p3",children:[Object(u.jsx)("label",{id:"lbl_rate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Rate:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:Object(u.jsx)(Eu,{name:"rate",id:"rate",value:this.state.rate,onBlur:function(t){e.handleChange(t,"rate")}})})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:[Object(u.jsx)("button",{id:"sell",onClick:this.handleSell,className:"btn btn-primary btn-xs mr-2",children:"Sell"}),Object(u.jsx)("button",{id:"clear",onClick:this.handleClear,className:"btn btn-primary btn-xs",children:"Clear"})]})]})}}]),a}(o.a.Component),pO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleChange=function(e,t){if("cusip"===t&&s.setState({cusip:e.target.value}),"amount"===t&&(!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?s.setState({actionTitle:"Buy Inventory",actionMessage:wm,showError:!0}):(""!==e.target.value&&Uo(e),s.setState({amount:Po(e.target.value)}))),"product"===t&&s.setState({product:e.target.value}),"rate"===t&&(!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?s.setState({actionTitle:"Buy Inventory",actionMessage:Ym,showError:!0}):(""!==e.target.value&&_o(e),s.setState({rate:Po(e.target.value)}))),"trademessage"===t){var a=e.target.value;s.setState({tradeMessage:a})}},s.verify=function(e){var t="",a=!1;((e.ticker&&0===e.ticker.length||!e.ticker)&&(t=Lh),(e.prodId&&0===e.prodId.length||!e.prodId)&&0===t.length&&(t=_h),(e.maturityDate&&0===e.maturityDate.length||!e.maturityDate)&&0===t.length&&(t=Lm),(e.settleDate&&0===e.settleDate.length||!e.settleDate)&&0===t.length&&(t=qm),e.settleDate&&e.maturityDate)&&(Wu(e.maturityDate,e.settleDate)<=0&&(t=jm));if((e.amount&&0===e.amount.length||!e.amount)&&0===t.length)t=wm;else if(0===t.length){parseFloat(e.amount)<parseFloat(Po(e.minAmount))&&(t=lr+e.minAmount),parseFloat(e.amount)>parseFloat(Po(e.maxAmount))&&0===t.length&&(t=ir+e.maxAmount);parseFloat(e.amount),parseFloat(Po(e.increment));parseFloat(e.amount)%parseFloat(Po(e.increment))!==0&&0===t.length&&(t=or+e.increment)}return(e.rate&&0===e.rate.length||!e.rate)&&0==t.length&&(t=Ym),t.length>0?(a=!1,s.setState({actionTitle:"Buy Inventory",actionMessage:t,showError:!0})):a=!0,a},s.handleEnterTrade=function(){var e=s.state.tradeMessage.split(" "),t=yl,a=e[0],n=e[1],o=e[2],i=e[3],l=e[4],c=e[5];qu("YYYY-MM-DD");s.state.prodId===Jh&&(t=_c),a&&n&&o&&i&&l&&c?w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:{ticker:a,productType:s.state.prodId,issuerId:""},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){var t={};t.issuerName=e.data.issuerName,t.descr=e.data.descr,t.minAmount=e.data.minSize,t.maxAmount=e.data.maxAmount,t.increment=e.data.incAmount,t.maxNoOfDays=e.data.maxNoOfDays,t.matDates=e.data.matDatesList,t.issuerId=e.data.issuerId,t.amount=i,t.cassii=c,t.rate=l,t.maturityDate=o,t.prodId=s.state.prodId,t.ticker=a,t.companyId=e.data.companyId,t.currencyCode=e.data.currencyCode,t.productType=e.data.productType,t.prodName=e.data.product,s.props.returnMethod(t,s.props.ticketType)})):s.setState({actionTitle:"Buy Inventory",actionMessage:"Please Enter Valid Format for Quick Trade",showError:!0})},s.handleBuy=function(){var e={};e.issuerName=s.state.issuerName,e.descr=s.state.descr,e.minAmount=s.state.minAmount,e.maxAmount=s.state.maxAmount,e.increment=s.state.increment,e.maxNoOfDays=s.state.maxNoOfDays,e.matDates=s.state.matDatesList,e.issuerId=s.state.issuerId,e.cusip=s.state.cusip,e.amount=s.state.amount,e.cassii=s.state.cassii,e.rate=s.state.rate,e.maturityDate=s.state.maturityDate,e.settleDate=s.state.settleDate,e.prodName=s.state.prodName,e.prodId=s.state.prodId,e.ticker=s.state.ticker,e.companyId=s.state.companyId,e.currencyCode=s.state.currencyCode,e.productType=s.state.productType,s.verify(e)&&s.props.returnMethod(e,s.props.ticketType)},s.handleCusipChange=function(e,t){w()({method:"POST",url:N.URL+yl,timeout:N.apiTimeOut,data:{ticker:e[0],issuerId:t,productType:s.state.prodId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(a){var n=[],o={};o.key=a.data.productType&&a.data.productType,o.value=a.data.product&&a.data.product,n[0]=o,s.setState({issuerName:a.data.issuerName,descr:a.data.descr,minAmount:a.data.minSize,maxAmount:a.data.maxAmount,increment:a.data.incAmount,maxNoOfDays:a.data.maxNoOfDays,matDates:a.data.matDatesList,issuerId:t,productData:n,prodId:a.data.productType,productType:a.data.productType,prodName:a.data.product,ticker:a.data.ticker,companyId:a.data.companyId,currencyCode:a.data.currencyCode,cusipSelection:e})}))},s.onDateChange=function(e,t){"maturityDate"===t?s.setState({maturityDate:e}):s.setState({settleDate:e})},s.onSearchCusip=function(e){w()({method:"POST",url:N.URL+Fl,timeout:N.apiTimeOut,data:[{cusip:s.state.cusip,productType:s.state.prodId}],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){({})[e.data.programId]=e.data.ticker,s.setState({amount:e.data.amount,rate:e.data.bid,maturityDate:new Date(e.data.maturityDate),settleDate:new Date(e.data.settlementDate),ticker:e.data.ticker,cusipSelection:[e.data.ticker]}),w()({method:"POST",url:N.URL+yl,timeout:N.apiTimeOut,data:{ticker:e.data.ticker,issuerId:e.data.programId,productType:s.state.prodId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){var t=[],a={};a.key=e.data.productType&&e.data.productType,a.value=e.data.product&&e.data.product,t[0]=a,s.setState({issuerName:e.data.issuerName,descr:e.data.descr,minAmount:e.data.minSize,maxAmount:e.data.maxAmount,increment:e.data.incAmount,maxNoOfDays:e.data.maxNoOfDays,matDates:e.data.matDatesList,issuerId:e.data.programId,productData:t,prodId:e.data.productType,productType:e.data.productType,prodName:e.data.product,ticker:e.data.ticker,companyId:e.data.companyId,currencyCode:e.data.currencyCode,cusipSelection:[e.data.ticker]})}))}))},s.state={cusipSelection:"",issuerName:"",descr:"",minAmount:"",maxAmount:"",increment:"",maxNoOfDays:"",matDates:"",issuerId:"",productData:{},cusip:"",payload:{},prodId:"",productType:"",prodName:"",transType:"",tradeMessage:"",actionTitle:"",actionMessage:"",showError:!1,companyId:"",currencyCode:"",holidayData:[],productWeekData:[]},s.handleClear=s.handleClear.bind(Object(O.a)(s)),s.verify=s.verify.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.settleDate,s=t.prodType;this.setState({prodId:s}),w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:s},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})})),a||this.setState({settleDate:new Date})}},{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"handleClear",value:function(){var e;this.setState((e={cusipSelection:"",issuerName:"",descr:"",minAmount:"",maxAmount:"",increment:"",maxNoOfDays:"",matDates:"",issuerId:"",productData:{},cusip:"",payload:{},prodId:"",prodName:"",tradeMessage:"",actionTitle:"",actionMessage:"",showError:!1,responseMessage:"",amount:""},Object(g.a)(e,"cusip",""),Object(g.a)(e,"product",""),Object(g.a)(e,"maturityDate",""),Object(g.a)(e,"settleDate",""),Object(g.a)(e,"cusipSelection",[]),Object(g.a)(e,"rate",""),Object(g.a)(e,"companyId",""),Object(g.a)(e,"currencyCode",""),Object(g.a)(e,"productType",""),e)),document.getElementById("trademessage")&&(document.getElementById("trademessage").value=""),document.getElementById("amount")&&(document.getElementById("amount").value=""),document.getElementById("settleDate")&&(document.getElementById("settleDate").value=qu("YYYY-MM-DD")),document.getElementById("maturityDate")&&(document.getElementById("maturityDate").value=""),document.getElementById("ticker")&&(document.getElementById("ticker").value=""),document.getElementById("rate")&&(document.getElementById("rate").value=""),document.getElementById("cusip")&&(document.getElementById("cusip").value="")}},{key:"render",value:function(){var e=this,t=this.state,a=t.holidayData,s=t.productWeekData;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("label",{id:"lbl_quicktrade",className:"form-label col-md-12 col-sm-12 col-xs-12 text-left mb-0",children:"Quick Trade Input:"}),Object(u.jsx)("div",{className:"col-md-10 col-sm-10 col-xs-10 d-inline-block",children:Object(u.jsxs)("div",{className:"row p3 mb-1",children:[Object(u.jsx)("label",{id:"lbl_input",className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",children:"Input:"}),Object(u.jsxs)("div",{className:"col-md-9 col-sm-9 col-xs-9",children:[Object(u.jsx)(Eu,{name:"trademessage",id:"trademessage",value:"",onChange:function(t){e.handleChange(t,"trademessage")}}),Object(u.jsxs)("label",{id:"lbl_format",className:"form-label col-md-12 col-sm-12 col-xs-12 text-center",children:["Format : ",Object(u.jsx)("span",{className:"font-weight-normal",children:"NETFLX CP 10/20/2022 25000 2.45 40005001"})]})]})]})}),Object(u.jsx)("div",{className:"col-md-2 col-sm-2 col-xs-2 d-inline-block",children:Object(u.jsx)("button",{id:"enterTrade",onClick:this.handleEnterTrade,className:"btn btn-primary btn-xs mt-1",children:"Enter Trade"})}),Object(u.jsx)("div",{className:"clearfix"}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block",children:[Object(u.jsxs)("div",{className:"row p3 mb-1",children:[Object(u.jsx)("label",{id:"lbl_cusip",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"CUSIP:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6",children:Object(u.jsx)(Eu,{name:"cusip",id:"cusip",value:this.state.cusip,onChange:function(t){e.handleChange(t,"cusip")}})}),Object(u.jsx)("span",{className:"align-middle",id:"im_fasearch",children:Object(u.jsx)(B.z,{onClick:function(t){e.onSearchCusip(t)}})})]}),Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_ticker",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Ticker:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:Object(u.jsx)(jj,{id:"basic-typeahead-single",apiCall:ji,reqParams:{productType:this.props.prodType,All:"false"},onchange:this.handleCusipChange,selected:this.state.cusipSelection})})]}),Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_matdate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Maturity Date:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:(s.length>0||a.length>0)&&Object(u.jsx)(Ju,{label:"maturirtyDate",onchange:function(t){e.onDateChange(t,"maturityDate")},dateValue:this.state.maturityDate,fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:a,productWeekData:s})})]}),Object(u.jsxs)("div",{className:"row p3",children:[Object(u.jsx)("label",{id:"lbl_amount",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Amount ($m):"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:Object(u.jsx)(Eu,{name:"amount",id:"amount",value:this.state.amount,onBlur:function(t){e.handleChange(t,"amount")}})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block",children:[Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_cassii",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Product:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:void 0!==this.state.productData&&this.state.productData.length>0?Object(u.jsx)(Dp,{name:"product",id:"product",data:this.state.productData,reqParams:{issuerId:this.state.issuerId},onChange:function(t){e.handleChange(t,"product")}}):Object(u.jsx)(Dp,{name:"product",id:"product",data:[{}],onChange:function(t){e.handleChange(t,"product")}})})]}),Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_settledate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Settle Date:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:(s.length>0||a.length>0)&&Object(u.jsx)(Ju,{label:"settleDate",onchange:function(t){e.onDateChange(t,"settleDate")},dateValue:this.state.settleDate,fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:a,productWeekData:s})})]}),Object(u.jsxs)("div",{className:"row p3",children:[Object(u.jsx)("label",{id:"lbl_rate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Rate:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:Object(u.jsx)(Eu,{name:"rate",id:"rate",value:this.state.rate,onBlur:function(t){e.handleChange(t,"rate")}})})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:[Object(u.jsx)("button",{id:"buy",onClick:this.handleBuy,className:"btn btn-primary btn-xs mr-2",children:"Buy"}),Object(u.jsx)("button",{id:"clear",onClick:this.handleClear,className:"btn btn-primary btn-xs",children:"Clear"})]}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})}}]),a}(o.a.Component),jO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleSelect=function(e){s.setState({heading:e})},s.state={heading:"launchbuy"},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.show,a=e.onHide,s=e.size,n=e.modalHead;return e.prodType&&Object(u.jsxs)(P.a,{show:t,onHide:a,size:s,id:"buyintry","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:n})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsxs)(hb.a,{defaultActiveKey:"launchbuy",onSelect:this.handleSelect,transition:!1,id:"noanim-tab-example",children:[Object(u.jsx)(ei.a,{eventKey:"launchbuy",title:"Launch Buy",children:Object(u.jsx)(pO,{returnMethod:this.props.returnMethod,ticketType:this.props.ticketType,prodType:this.props.prodType})}),Object(u.jsx)(ei.a,{eventKey:"clientinquiry",title:"Client Inquiry",children:Object(u.jsx)(bO,{returnMethod:this.props.returnMethod,ticketType:this.props.ticketType,prodType:this.props.prodType})})]})})]})}}]),a}(o.a.Component),xO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleChange=function(e,t){if("cusip"===t&&s.setState({cusip:e.target.value}),"amount"===t&&(!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?s.setState({actionTitle:"Sell Inventory",actionMessage:wm,showError:!0}):(""!==e.target.value&&Uo(e),s.setState({amount:Po(e.target.value)}))),"product"===t&&s.setState({product:e.target.value}),"rate"===t&&(!1===Bo(e.target.value,"1234567890.")?s.setState({actionTitle:"Sell Inventory",actionMessage:Ym,showError:!0}):(""!==e.target.value&&_o(e),s.setState({rate:Po(e.target.value)}))),"trademessage"===t){var a=e.target.value;s.setState({tradeMessage:a})}},s.handleEnterTrade=function(){var e=s.state.tradeMessage.split(" "),t=e[0],a=e[1],n=e[2],o=e[3],i=e[4],l=e[5],c=e[6];t&&a&&n&&o&i&&l&&c?w()({method:"POST",url:N.URL+yl,timeout:N.apiTimeOut,data:{ticker:t,productType:s.state.prodId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){var a={};a.issuerName=e.data.issuerName,a.descr=e.data.descr,a.minAmount=e.data.minSize,a.maxAmount=e.data.maxAmount,a.increment=e.data.incAmount,a.maxNoOfDays=e.data.maxNoOfDays,a.matDates=e.data.matDatesList,a.issuerId=e.data.issuerId,a.amount=o,a.cassii=l,a.rate=i,a.maturityDate=n,a.prodId=s.state.prodId,a.ticker=t,s.props.returnMethod(a,s.props.ticketType)})):s.setState({actionTitle:"Buy Inventory",actionMessage:"Please Enter Valid Format for Quick Trade",showError:!0})},s.handleSell=function(){var e={};e.issuerName=s.state.issuerName,e.descr=s.state.descr,e.minAmount=s.state.minAmount,e.maxAmount=s.state.maxAmount,e.increment=s.state.increment,e.maxNoOfDays=s.state.maxNoOfDays,e.matDates=s.state.matDatesList,e.issuerId=s.state.issuerId,e.programId=s.state.issuerId,e.cusip=s.state.cusip,e.amount=s.state.amount,e.cassii=s.state.cassii,e.rate=s.state.rate,e.maturityDate=s.state.maturityDate,e.settleDate=s.state.settleDate,e.prodName=s.state.prodName,e.prodId=s.state.prodId,e.productType=s.state.prodId,e.ticker=s.state.ticker,e.maturityDate=Yu(e.maturityDate,"MM/DD/YY"),e.settlementDate=Yu(e.settleDate,"MM/DD/YY"),e.transType="10";var t=N.URL+Ml;s.props.prodType===Jh&&(t=N.URL+zc),s.verify(e)&&w()({method:"POST",url:t,timeout:N.apiTimeOut,data:[e],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&(t.data.rejectReason?s.setState({rejectMessage:t.data.rejectReason}):s.props.returnMethod(e,s.props.ticketType))}))},s.verify=function(e){var t="",a=!1;((e.ticker&&0===e.ticker.length||!e.ticker)&&(t=Lh),(e.prodId&&0===e.prodId.length||!e.prodId)&&0===t.length&&(t=_h),(e.maturityDate&&0===e.maturityDate.length||!e.maturityDate)&&0===t.length&&(t=Lm),(e.settleDate&&0===e.settleDate.length||!e.settleDate)&&0===t.length&&(t=qm),e.settleDate&&e.maturityDate)&&(Wu(e.maturityDate,e.settleDate)<=0&&(t=jm));return(e.amount&&0===e.amount.length||!e.amount)&&0===t.length?t=wm:0===t.length&&(parseFloat(e.amount)<parseFloat(Po(e.minAmount))&&(t=lr+e.minAmount),parseFloat(e.amount)>parseFloat(Po(e.maxAmount))&&0===t.length&&(t=ir+e.maxAmount),parseFloat(e.amount)%parseFloat(Po(e.increment))!==0&&0===t.length&&(t=or+e.increment)),(e.rate&&0===e.rate.length||!e.rate)&&0==t.length&&(t=Ym),t.length>0?(a=!1,s.setState({actionTitle:"Sell Inventory",actionMessage:t,showError:!0})):a=!0,a},s.handleCusipChange=function(e,t){w()({method:"POST",url:N.URL+yl,timeout:N.apiTimeOut,data:{ticker:e[0],issuerId:t,productType:s.state.prodId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(a){var n=[],o={};o.key=a.data.productType&&a.data.productType,o.value=a.data.product&&a.data.product,n[0]=o,s.setState({issuerName:a.data.issuerName,descr:a.data.descr,minAmount:a.data.minSize,maxAmount:a.data.maxAmount,increment:a.data.incAmount,maxNoOfDays:a.data.maxNoOfDays,matDates:a.data.matDatesList,issuerId:t,productData:n,prodId:a.data.productType,prodName:a.data.product,ticker:a.data.ticker,cusipSelection:e})}))},s.onDateChange=function(e,t){"maturityDate"===t?s.setState({maturityDate:e}):s.setState({settleDate:e})},s.state={cusipSelection:"",issuerName:"",descr:"",minAmount:"",maxAmount:"",increment:"",maxNoOfDays:"",matDates:"",issuerId:"",productData:{},cusip:"",payload:{},prodId:"",prodName:"",tradeMessage:"",actionTitle:"",actionMessage:"",showError:!1,responseMessage:"",rejectMessage:"",amount:"",product:"",rate:"",maturityDate:"",settleDate:"",holidayData:[],productWeekData:[]},s.verify=s.verify.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.handleClear=s.handleClear.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.settleDate,s=t.prodType;this.setState({prodId:s}),w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:s},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})})),a||this.setState({settleDate:new Date})}},{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"handleClear",value:function(){var e;this.setState((e={cusipSelection:[],issuerName:"",descr:"",minAmount:"",maxAmount:"",increment:"",maxNoOfDays:"",matDates:"",issuerId:"",productData:{},cusip:"",payload:{},prodId:"",prodName:"",tradeMessage:"",actionTitle:"",actionMessage:"",showError:!1,responseMessage:"",amount:""},Object(g.a)(e,"cusip",""),Object(g.a)(e,"product",""),Object(g.a)(e,"maturityDate",""),Object(g.a)(e,"settleDate",""),Object(g.a)(e,"rate",""),e)),document.getElementById("trademessage")&&(document.getElementById("trademessage").value=""),document.getElementById("amount")&&(document.getElementById("amount").value=""),document.getElementById("settleDate")&&(document.getElementById("settleDate").value=qu("YYYY-MM-DD")),document.getElementById("maturityDate")&&(document.getElementById("maturityDate").value=""),document.getElementById("ticker")&&(document.getElementById("ticker").value=""),document.getElementById("rate")&&(document.getElementById("rate").value="")}},{key:"render",value:function(){var e=this,t=this.state,a=t.holidayData,s=t.productWeekData;return Object(u.jsxs)(u.Fragment,{children:[this.state.responseMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage}):"",this.state.rejectMessage?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectMessage}):"",Object(u.jsx)("label",{id:"lbl_quicktrade",className:"form-label col-md-12 col-sm-12 col-xs-12 text-left mb-0",children:"Quick Trade Input:"}),Object(u.jsx)("div",{className:"col-md-10 col-sm-10 col-xs-10 d-inline-block",children:Object(u.jsxs)("div",{className:"row p3 mb-1",children:[Object(u.jsx)("label",{id:"lbl_input",className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",children:"Input:"}),Object(u.jsxs)("div",{className:"col-md-9 col-sm-9 col-xs-9",children:[Object(u.jsx)(Eu,{name:"trademessage",id:"trademessage",value:0===this.state.tradeMessage.length?"":this.state.tradeMessage,onChange:function(t){e.handleChange(t,"trademessage")}}),Object(u.jsxs)("label",{id:"lbl_format",className:"form-label col-md-12 col-sm-12 col-xs-12 text-center",children:["Format : ",Object(u.jsx)("span",{className:"font-weight-normal",children:"NETFLX CP 10/20/2022 25000 2.45 40005001"})]})]})]})}),Object(u.jsx)("div",{className:"col-md-2 col-sm-2 col-xs-2 d-inline-block",children:Object(u.jsx)("button",{id:"enterTrade",onClick:this.handleEnterTrade,className:"btn btn-primary btn-xs mt-1",children:"Enter Trade"})}),Object(u.jsx)("div",{className:"clearfix"}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block",children:[Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_ticker",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Ticker:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:Object(u.jsx)(jj,{id:"ticker",apiCall:ji,reqParams:{productType:this.props.prodType,All:"false"},onchange:this.handleCusipChange,selected:this.state.cusipSelection})})]}),Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_matdate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Maturity Date:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:(s.length>0||a.length>0)&&Object(u.jsx)(Ju,{label:"maturityDate",onchange:function(t){e.onDateChange(t,"maturityDate")},dateValue:this.state.maturityDate,fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:a,productWeekData:s})})]}),Object(u.jsxs)("div",{className:"row p3",children:[Object(u.jsx)("label",{id:"lbl_amount",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Amount ($m):"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:Object(u.jsx)(Eu,{name:"amount",id:"amount",value:this.state.amount,onBlur:function(t){e.handleChange(t,"amount")}})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block",children:[Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_cassii",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Product:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:this.state.productData&&this.state.productData.length>0?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(Dp,{name:"product",id:"product",reqParams:{issuerId:this.state.issuerId},data:this.state.productData,onChange:function(t){e.handleChange(t,"product")}})}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(Dp,{name:"product",id:"product",data:[{}],onChange:function(t){e.handleChange(t,"product")}})})})]}),Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_settledate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Settle Date:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:(s.length>0||a.length>0)&&Object(u.jsx)(Ju,{label:"settleDate",onchange:function(t){e.onDateChange(t,"settleDate")},dateValue:this.state.settleDate,fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:a,productWeekData:s})})]}),Object(u.jsxs)("div",{className:"row p3",children:[Object(u.jsx)("label",{id:"lbl_rate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Rate:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:Object(u.jsx)(Eu,{name:"rate",id:"rate",value:this.state.rate,onBlur:function(t){e.handleChange(t,"rate")}})})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:[Object(u.jsx)("button",{id:"sell",onClick:this.handleSell,className:"btn btn-primary btn-xs mr-2",children:"Sell"}),Object(u.jsx)("button",{id:"clear",onClick:this.handleClear,className:"btn btn-primary btn-xs",children:"Clear"})]}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})}}]),a}(o.a.Component),fO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.show,a=e.onHide,s=e.size,n=e.modalHead;return e.prodType&&Object(u.jsxs)(P.a,{show:t,onHide:a,size:s,id:"sellintry","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:n})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsx)(xO,{returnMethod:this.props.returnMethod,ticketType:this.props.ticketType,prodType:this.props.prodType})})]})}}]),a}(o.a.Component),gO=fO,OO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectData:""},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(e,t){var a=this;w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({selectData:e.data})}))}},{key:"render",value:function(){var e=this.state.selectData;return e&&Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:Cn,id:"lbl_totposition"}),":",Object(u.jsx)(ni,{label:void 0!==e.totalPositionamt?e.totalPositionamt:"0",id:"val_totposition",classname:"ml-1"})]}),Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Net 90 Day ($m)",id:"lbl_net90day"}),":",Object(u.jsx)(ni,{label:void 0!==e.totalNintydays?e.totalNintydays:"0.0",id:"val_net90day",classname:"ml-1"})]}),Object(u.jsxs)(W.a,{xs:2,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:Gn,id:"lbl_pandl"}),":",Object(u.jsx)(ni,{label:void 0!==e.totalPandl?e.totalPandl:"0.00",id:"val_pandl",classname:"ml-1"})]})]})}}]),a}(o.a.Component),vO={},yO={},kO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s,n;return Object(i.a)(this,a),(n=t.call(this,e)).checkBoxComponent=function(e,t,a,s){var o="issueId"+t.issueId;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(e){n.onCheckboxClick(e,t.issueId,t,a)}})})},n.textBoxComponent=function(e,t,a,s,o){var i="offer"+t.issueId;return Object(u.jsx)(Eu,{name:i,id:i,value:e,onBlur:function(e){n.onFieldChange(e,t.issueId,t.offer,t,a)},onKeyPress:function(e){n.onAmountKey(e,t.issueId,"Offer",t,a)},className:"text-right"})},n.textBoxLimitComponent=function(e,t,a){var s="limit"+t.issueId;if("0000"===t.refIssueId)return Object(u.jsx)(Eu,{name:s,id:s,value:e,onBlur:function(e){n.onLimitChange(e,t.issueId,t.offeringlimit,t,a)},onKeyPress:function(e){n.onAmountKey(e,t.issueId,"Limit",t,a)},className:"text-right"})},n.textBoxOfferComponent=function(e,t,a,s){var o="offeramount"+t.issueId,i=n.state.inventoryData;return s&&(i[a]||(i.push({}),i[a]=t,n.setState({inventoryData:i,updateData:!1}))),Object(u.jsx)(Eu,{name:o,id:o,value:Lo(e),onChange:function(e){n.onOfferChange(e,t.issueId,t.availableToday,t,a,"Offer")},onBlur:function(e){n.onOfferChange(e,t.issueId,t.availableToday,t,a,"")},onKeyPress:function(e){n.onKeyAmount(e,t.issueId,t,"Offer",a)},className:"text-right"})},n.textBoxRateComponent=function(e,t,a,s,o){var i=s.key,l=i+t.issueId;return Object(u.jsx)(Eu,{name:l,id:l,value:e,onChange:function(e){n.onRateChange(e,t.issueId,t.offer,t,i,a,"Offer")},onBlur:function(e){n.onRateChange(e,t.issueId,t.offer,t,i,a,"")},onKeyPress:function(e){n.onKeyAmount(e,t.issueId,t,i,a)},className:"text-right"})},n.onRateChange=function(e,t,a,s,o,i,l){if(!1===Bo(e.target.value,"1234567890.")&&0===l.length)n.setState({actionTitle:"Alert",actionMessage:"offer"===o?Vm:Tm,showError:!0,updateData:!1}),e.target.value=a,e.target.focus();else{""!==e.target.value&&0===l.length&&_o(e);var c=n.state.inventoryData;c[i].offerRate=e.target.value,c[i].bidRate=e.target.value,n.setState({inventoryData:c}),vO={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(e.target.value),offeringlimit:Po(document.getElementById("offeramount"+s.issueId).value)}}},n.onOfferChange=function(e,t,a,s,o,i){if(!1===Bo(e.target.value,"1234567890.,mmMMkkKK")&&0===i.length)n.setState({actionTitle:"Alert",actionMessage:Um,showError:!0,updateData:!1}),e.target.value=s.availableToday;else{""!==e.target.value&&0===i.length&&Uo(e);var l=n.state.inventoryData;l[o].offeringlimit=Po(e.target.value),yO={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(document.getElementById("offer"+s.issueId).value),offeringlimit:Po(e.target.value)},n.setState({inventoryData:l})}},n.onCheckboxClick=function(e,t,a,s){void 0===n.props.message||""===n.props.message?(vO={ticker:a.ticker,issueId:t,bookId:a.bookId,bidRate:Po(a.bid),offerRate:Po(document.getElementById("offer"+a.issueId).value),offeringlimit:Po(document.getElementById("limit"+a.issueId).value)},e.target.checked&&n.setState({actionTitle:rm,actionMessage:hm,alertShow:!0,updateData:!1,actionFlag:"DELETE"})):n.setState({actionTitle:"Alert",actionMessage:n.props.message,showError:!0,updateData:!1})},n.onFieldChange=function(e,t,a,s,o){!1===Bo(e.target.value,"1234567890.")?(n.setState({actionTitle:"Alert",actionMessage:Vm,showError:!0,updateData:!1}),e.target.value=a,e.target.focus()):(""!==e.target.value&&_o(e),vO={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(e.target.value),offeringlimit:null!==document.getElementById("limit"+s.issueId)?Po(document.getElementById("limit"+s.issueId).value):"0000"!==s.refIssueId?s.doubleAvailableCredit:""})},n.buyInventory=function(){void 0===n.props.message||""===n.props.message?n.setState({showBuyInv:!0,updateData:!1}):n.setState({actionTitle:"Alert",actionMessage:n.props.message,updateData:!1,showError:!0})},n.sellInventory=function(){void 0===n.props.message||""===n.props.message?n.setState({showSellInv:!0,updateData:!1}):n.setState({actionTitle:"Alert",actionMessage:n.props.message,updateData:!1,showError:!0})},n.state=(s={cmodal:!0,modalData:"",modalDataRow:"",showBuyInv:!1,BuyInvtData:"",showSellInv:!1,SellInvtData:"",bookId:"",screenName:"Offerings",issueId:"",IssuerId:"",responseMessage:"",actionTitle:"",actionMessage:"",alertShow:!1,actionFlag:"",showError:!1},Object(g.a)(s,"actionTitle",""),Object(g.a)(s,"actionMessage",""),Object(g.a)(s,"showError",!1),Object(g.a)(s,"inventoryData",[]),Object(g.a)(s,"showCPBuy",!1),Object(g.a)(s,"buyConfData",""),Object(g.a)(s,"invType",""),Object(g.a)(s,"updateData",!0),s),n.closemodel=n.closemodel.bind(Object(O.a)(n)),n.linkComponent=n.linkComponent.bind(Object(O.a)(n)),n.openModal=n.openModal.bind(Object(O.a)(n)),n.onLimitChange=n.onLimitChange.bind(Object(O.a)(n)),n.textBoxLimitComponent=n.textBoxLimitComponent.bind(Object(O.a)(n)),n.textBoxComponent=n.textBoxComponent.bind(Object(O.a)(n)),n.textBoxOfferComponent=n.textBoxOfferComponent.bind(Object(O.a)(n)),n.textBoxRateComponent=n.textBoxRateComponent.bind(Object(O.a)(n)),n.bookChange=n.bookChange.bind(Object(O.a)(n)),n.checkBoxComponent=n.checkBoxComponent.bind(Object(O.a)(n)),n.actionComponent=n.actionComponent.bind(Object(O.a)(n)),n.editCommitment=n.editCommitment.bind(Object(O.a)(n)),n.convert=n.convert.bind(Object(O.a)(n)),n.returnMethod=n.returnMethod.bind(Object(O.a)(n)),n.onAmountKey=n.onAmountKey.bind(Object(O.a)(n)),n.hideAlert=n.hideAlert.bind(Object(O.a)(n)),n.confirmAction=n.confirmAction.bind(Object(O.a)(n)),n.hideError=n.hideError.bind(Object(O.a)(n)),n.onOfferChange=n.onOfferChange.bind(Object(O.a)(n)),n.onRateChange=n.onRateChange.bind(Object(O.a)(n)),n.onKeyAmount=n.onKeyAmount.bind(Object(O.a)(n)),n.verify=n.verify.bind(Object(O.a)(n)),n.publishAllInventory=n.publishAllInventory.bind(Object(O.a)(n)),n.verifyAll=n.verifyAll.bind(Object(O.a)(n)),n.getDefaultBookValues=n.getDefaultBookValues.bind(Object(O.a)(n)),n.returnLayerMethod=n.returnLayerMethod.bind(Object(O.a)(n)),n.returnResponse=n.returnResponse.bind(Object(O.a)(n)),n.fieldComponent=n.fieldComponent.bind(Object(O.a)(n)),n.onInvCheckboxClick=n.onInvCheckboxClick.bind(Object(O.a)(n)),n.invCheckBoxComponent=n.invCheckBoxComponent.bind(Object(O.a)(n)),n}return Object(l.a)(a,[{key:"openModal",value:function(e,t){var a;Object.keys(e).map((function(s){e[s]===t&&s===ln&&(a=s)})),this.setState({modalData:a,modalDataRow:e,showModal:!0,updateData:!1})}},{key:"hideModal",value:function(){this.setState({showModal:!1,showBuyInv:!1,showSellInv:!1,showCPBuy:!1,updateData:!0})}},{key:"onLimitChange",value:function(e,t,a,s,n){!1===Bo(e.target.value,"1234567890.,mmMMkkKK")||e.target.value<0?(this.setState({actionTitle:"Alert",actionMessage:Um,showError:!0,updateData:!1}),e.target.value=s.availableToday):(""!==e.target.value&&Uo(e),yO={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(document.getElementById("offer"+s.issueId).value),offeringlimit:Po(e.target.value)})}},{key:"onKeyAmount",value:function(e,t,a,s,n){if(void 0===this.props.message||""===this.props.message){var o=this.state;o.bookId,o.ticker;yO={ticker:a.ticker,issueId:t,bookId:a.bookId,bidRate:Po(a.bid),offerRate:Po(document.getElementById("offer"+a.issueId).value),offeringlimit:Po(document.getElementById("offeramount"+a.issueId).value)},"Enter"===e.key&&this.verify(yO,"PUBLISHINV",n)&&this.setState({actionTitle:"Publish",actionMessage:"Are you sure, you want to Publish the Inventory ?",alertShow:!0,updateData:!1,actionFlag:"PUBLISHINV"})}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"linkComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openModal.bind(this,t,e),children:e})}},{key:"bookChange",value:function(e){this.setState({bookId:e.target.value,updateData:!0,responseMessage:""})}},{key:"editCommitment",value:function(e){void 0===this.props.message||""===this.props.message?this.setState({screenName:"Edit",issueId:e,updateData:!1}):this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"convert",value:function(e,t,a){void 0===this.props.message||""===this.props.message?this.setState({screenName:"Convert",issueId:e,issuerId:t,bookId:a,updateData:!1}):this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"checkBoxComponent",value:function(e,t,a,s){var n=this,o="issueId"+t.issueId;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(e){n.onCheckboxClick(e,t.issueId,t,a)}})})}},{key:"actionComponent",value:function(e,t,a,s){var n=this;if("0000"===t.refIssueId)return Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{className:"btn btn-link",id:"edit"+a,onClick:function(){n.editCommitment(e)},style:{marginRight:"0.5em",marginLeft:"1em"},children:Object(u.jsx)("img",{src:"/omsservice/images/edit-icon.png",alt:"edit"})}),Object(u.jsx)("button",{className:"btn btn-link",id:"convert"+a,onClick:function(){n.convert(e,t.programId,t.bookId)},style:{marginRight:"0.5em"},children:Object(u.jsx)("img",{src:"/omsservice/images/convert-icon.png",alt:"convert"})})]},a)}},{key:"returnMethod",value:function(e){"BACK"===e?this.setState({screenName:"Offerings",responseMessage:"",updateData:!0,bookId:""}):this.setState({screenName:"Offerings",responseMessage:e,updateData:!0})}},{key:"onAmountKey",value:function(e,t,a,s,n){if(void 0===this.props.message||""===this.props.message){var o=this.state;o.bookId,o.ticker;if("Enter"===e.key){vO={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(document.getElementById("offer"+s.issueId).value),offeringlimit:null!==document.getElementById("limit"+s.issueId)?Po(document.getElementById("limit"+s.issueId).value):"0000"!==s.refIssueId?s.doubleAvailableCredit:""};var i;"0000"!==s.refIssueId?this.verifyOnlyRate(vO,"PUBLISH",n)&&this.setState({actionTitle:"Publish",actionMessage:"Are you sure, you want to Publish the Commitment ?",alertShow:!0,updateData:!1,actionFlag:"PUBLISH"}):parseFloat(Po(e.target.value))>=parseFloat(s.minimumPieceSize)&&parseFloat(Po(e.target.value))<=parseFloat(Po(s.availableCredit))?this.verify(vO,"PUBLISH")&&this.setState({actionTitle:"Publish",actionMessage:"Are you sure, you want to Publish the Commitment ?",alertShow:!0,updateData:!1,actionFlag:"PUBLISH"}):(!1,i="Amount Should be greater than or equal to ("+s.minimumPieceSize+") and less than or equal to Unsold Amount",this.setState({actionTitle:"Alert",actionMessage:i,showError:!0,updateData:!1}))}}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"hideAlert",value:function(){this.setState({alertShow:!1,updateData:!0})}},{key:"confirmAction",value:function(e){var t=this;if("DELETE"===e){this.setState({alertShow:!1});var a=[{}];a[0]=vO.issueId;var s=[{}];s[0]=vO.bookId;var n=[{}];n[0]=vO.ticker,w()({method:"POST",url:N.URL+hi,timeout:N.apiTimeOut,data:{issues:a,bookId:s,ticker:n},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}))}else if("PUBLISHINV"===e){this.setState({alertShow:!1});var o=[];o.push(yO),w()({method:"POST",url:N.URL+Il,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}))}else if("PUBLISH"===e)this.setState({alertShow:!1}),w()({method:"POST",url:N.URL+ml,timeout:N.apiTimeOut,data:vO,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}));else if("PUBLISHALLINV"===e){this.setState({alertShow:!1});var i=this.state.paramPayload;w()({method:"POST",url:N.URL+Il,timeout:N.apiTimeOut,data:i,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}))}}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"invCheckBoxComponent",value:function(e,t,a,s){var n=this,o="issueId"+t.issueId;if(t.availableToday>0)return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(s){n.onInvCheckboxClick(e,a,t,s)}})})}},{key:"onInvCheckboxClick",value:function(e,t,a,s){yO={ticker:a.ticker,issueId:e,bookId:a.bookId,bidRate:Po(a.bid),offerRate:Po(document.getElementById("offer"+a.issueId).value),offeringlimit:Po(document.getElementById("offeramount"+a.issueId).value)},s.target.checked&&this.setState({updateData:!1})}},{key:"verifyOnlyRate",value:function(e,t,a){var s="";return"PUBLISH"===t&&(e.offerRate||0!==s.length||(s=Vm)),!s||(this.setState({actionTitle:"Alert",actionMessage:s,showError:!0,updateData:!1}),!1)}},{key:"verify",value:function(e,t,a){var s="";return"DELETE"===t||("PUBLISH"===t?(e.offeringlimit||0!==s.length||(s="Row"+(a+1)+":"+Um),e.offerRate||0!==s.length||(s="Row"+(a+1)+":"+Vm)):"PUBLISHINV"===t&&((e.offeringlimit||0!==s.length)&&(!e.offeringlimit||0!==e.offeringlimit.length&&0!==parseFloat(e.offeringlimit))||(s="Row"+(a+1)+":"+Um),(e.offerRate||0!==s.length)&&(!e.offerRate||0!==e.offerRate.length&&0!==parseFloat(e.offerRate))||(s="Row"+(a+1)+":"+Vm),(e.bidRate||0!==s.length)&&(!e.bidRate||0!==e.bidRate.length&&0!==parseFloat(e.bidRate))||(s="Row"+(a+1)+":"+Tm),e.offerRate&&e.bidRate&&0===s.length&&parseFloat(e.bidRate)<parseFloat(e.offerRate)&&(s="Row"+(a+1)+":"+mh)),!s||(this.setState({actionTitle:"Alert",actionMessage:s,showError:!0,updateData:!1}),!1))}},{key:"verifyAll",value:function(e,t){for(var a=!0,s=0;s<e.length;s++){var n=this.verify(e[s],t,s);if(!1===n){a=n;break}}return a}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All"})}},{key:"publishAllInventory",value:function(){if(void 0===this.props.message||""===this.props.message){for(var e=this.state.inventoryData,t=[],a=0;a<e.length;a++)0===parseFloat(e[a].offerRate)&&(e[a].offerRate=e[a].offer),0===parseFloat(e[a].bidRate)&&(e[a].bidRate=e[a].bid),0===parseFloat(e[a].offeringlimit)&&(e[a].offeringlimit=e[a].availableToday),t.push(e[a]);this.setState({paramPayload:t}),this.verifyAll(t,"PUBLISHINV")&&this.setState({actionTitle:"Publish",actionMessage:"Are you sure, you want to Publish the Inventory ?",alertShow:!0,updateData:!1,actionFlag:"PUBLISHALLINV"})}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"returnLayerMethod",value:function(e,t){this.setState({buyConfData:e,showCPBuy:!0,showBuyInv:!1,showSellInv:!1,invType:t,updateData:!1})}},{key:"returnResponse",value:function(e){this.setState({responseMessage:e.responseMessage,showCPBuy:!1,updateData:!1})}},{key:"fieldComponent",value:function(e,t,a,s){var n=s.colId;return"0000"===t.refIssueId||"Issuer"===n||"SD"===n||"Range"===n?"Offer Quant($m)"===n?Lo(e):e:void 0}},{key:"invFieldComponent",value:function(e,t,a,s){return"Par ($m)"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t={};t.linkComponent=this.linkComponent,t.checkBoxComponent=this.checkBoxComponent,t.textBoxComponent=this.textBoxComponent,t.textBoxLimitComponent=this.textBoxLimitComponent,t.textBoxOfferComponent=this.textBoxOfferComponent,t.checkBoxComponent=this.checkBoxComponent,t.actionComponent=this.actionComponent,t.invCheckBoxComponent=this.invCheckBoxComponent,t.textBoxRateComponent=this.textBoxRateComponent,t.fieldComponent=this.fieldComponent,t.invFieldComponent=this.invFieldComponent;var a=sessionStorage.getItem("loginid");return Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"","Offerings"===this.state.screenName?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{xs:5,children:[Object(u.jsxs)(W.a,{xs:2,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:qg.books,id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Hh},onchange:this.bookChange,selected:this.state.bookId,stateMethod:this.getDefaultBookValues,id:"bookId"})}),Object(u.jsxs)(W.a,{xs:7,className:"d-inline-block mt-2",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",onClick:this.buyInventory,id:"buyInventory",children:"Buy Inventory"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",onClick:this.sellInventory,id:"sellInventory",children:"Sell Inventory"})]})]}),Object(u.jsxs)(W.a,{xs:7,className:"text-right",children:[Object(u.jsx)(OO,{apiCall:Di,reqParams:{productType:Hh}}),Object(u.jsxs)(W.a,{xs:3,className:"d-inline-block mt-2",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"publishOfferings",onClick:this.publishAllInventory,children:"Publish Offerings"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",id:"axe",onClick:this.copySaveGridClick,children:"AXE"})]})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})}),this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",this.state.cmodal?Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",id:"lbl_primary",children:"Primary"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:zg,apiCall:ar,wsUrl:!0,reqParams:{prodType:Hh,transType:"10",issueType:"S",bookid:this.state.bookId?this.state.bookId:"All",loginId:a,socketSource:"BOOKVIEW"},edit:!1,mappings:Ug,keyField:"issueId",customComponents:t,fromPage:"Offerings",screenName:"PRIMARY",updateData:this.state.updateData,subTitle:"Book View CP",flagPdf:!0})})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",id:"inventory",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",id:"lbl_inventory",children:"Inventory"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:Gg,apiCall:ar,wsUrl:!0,reqParams:{prodType:Hh,transType:"10",issueType:"F",bookid:this.state.bookId?this.state.bookId:"All",loginId:a,socketSource:"BOOKVIEW"},edit:!1,mappings:Fg,keyField:1,customComponents:t,fromPage:"Offerings",screenName:"INVENTORY",updateData:this.state.updateData,subTitle:"Book View CP ",flagPdf:!0})})}),this.state.modalData===ln&&Object(u.jsx)(uO,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:Hh,modalData:this.state.modalData,modalDataRow:this.state.modalDataRow,message:this.props.message}),Object(u.jsx)(jO,{size:"md",show:this.state.showBuyInv,onHide:function(){return e.hideModal()},modalHead:"Buy Inventory",prodType:Hh,modalData:this.state.BuyInvtData,returnMethod:this.returnLayerMethod,ticketType:"B"}),Object(u.jsx)(gO,{size:"md",show:this.state.showSellInv,onHide:function(){return e.hideModal()},modalHead:"Sell Inventory",prodType:Hh,modalData:this.state.SellInvtData,returnMethod:this.returnLayerMethod,ticketType:"S"}),Object(u.jsx)(Mp,{size:"md",show:this.state.showCPBuy,onHide:function(){return e.hideModal()},modalHead:"B"===this.state.invType?"Buy Ticket":"Sell Ticket",prodType:Hh,modalData:this.state.buyConfData,returnMethod:this.returnResponse,ticketType:this.state.invType})]})]}):""]}):"Edit"===this.state.screenName?Object(u.jsx)(Gf,{issueId:this.state.issueId,apiCall:Qi,reqParams:{issueId:this.state.issueId,productType:Hh},returnMethod:this.returnMethod,fromPage:this.state.screenName,linkname:"Edit CP Commitment"}):Object(u.jsx)(Zf,{apiCall:$i,reqParams:{issueId:this.state.issueId,prodType:Hh,issuerId:this.state.issuerId,bookId:this.state.bookId},returnMethod:this.returnMethod,fromPage:this.state.screenName,linkname:"CP Commitment Conversion"})]})}}]),a}(o.a.Component),DO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).checkBoxComponent=function(e,t,a,n){var o="issueId"+a;s.state.maindata;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(t){s.onCheckboxClick(e,a,t)}})})},s.rateBoxComponent=function(e,t,a,n,o){return Object(u.jsx)(Eu,{name:o+"M"+a,id:o+"M"+a,value:e,onBlur:function(e){s.onRateChange(e,o,a)}})},s.textBoxOfferComponent=function(e,t,a,n,o){var i=s.state.maindata;i[a]||(i.push({}),i[a]=t);var l=o+a;return Object(u.jsx)(Eu,{name:l,id:l,value:" "!==t.availableToday?e:"0",onChange:function(e){s.onFieldChange(e,o,a,"ONCHANGE")},onBlur:function(e){s.onFieldChange(e,o,a,""),s.onOfferChange(e)},onKeyPress:function(e){s.onAmountKey(e,t,o,a)},className:"text-right"})},s.state={cmodal:!0,showModal:!1,showSecurityModal:!1,modalData:"",modalDataRow:"",maindata:[],showError:!1,actionTitle:"",actionMessage:"",respMessage:"",updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkSecurityComponent=s.linkSecurityComponent.bind(Object(O.a)(s)),s.linkComponent=s.linkComponent.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.openSecurityModal=s.openSecurityModal.bind(Object(O.a)(s)),s.publishClick=s.publishClick.bind(Object(O.a)(s)),s.setScreenData=s.setScreenData.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.onOfferChange=s.onOfferChange.bind(Object(O.a)(s)),s.textBoxOfferComponent=s.textBoxOfferComponent.bind(Object(O.a)(s)),s.verifyAll=s.verifyAll.bind(Object(O.a)(s)),s.verify=s.verify.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s.invFieldComponent=s.invFieldComponent.bind(Object(O.a)(s)),s.onRateChange=s.onRateChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"openSecurityModal",value:function(e,t){var a;Object.keys(e).map((function(s){e[s]===t&&s===ln&&(a=s)})),this.setState({modalData:a,modalDataRow:e,showSecurityModal:!0})}},{key:"linkSecurityComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openSecurityModal.bind(this,t,e),children:e})}},{key:"openModal",value:function(e,t,a){if(void 0===this.props.message||""===this.props.message){var s,n,o,i,l;if(t===Ya||t===yn||t===sn||t===_a||t===gn)null!==(s=e[t])&&(l=s.split(":"));else if(e.rateMap)null!==(s=e.rateMap[t])&&(l=s.split(":")),t+="M";void 0!==l&&l.length>2&&(n=l[0],o=l[1],i=l[2]),(iO=e).coupon=n,iO.maturityDate=o,iO.maturityFlag=i,iO.tenorType=t,iO.transType="10",iO.issueType="I",iO.amount=e.offeringlimit,iO.availableToday=e.offeringlimit,this.setState({showModal:!0,updateData:!1})}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,showError:!0,updateData:!1})}},{key:"hideModal",value:function(){this.setState({showModal:!1,showSecurityModal:!1,updateData:!0})}},{key:"setScreenData",value:function(e){oO=e}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"linkComponent",value:function(e,t,a,s,n,o,i){if(0===e.indexOf(".")&&(e="0"+e),this.setState({modalData:t}),"0"!==e)return Object(u.jsxs)("div",{className:"dispFlex",children:[Object(u.jsx)("button",{className:"btn btn-link",id:n+"M"+a,onClick:this.openModal.bind(this,t,n,a),children:e}),"Y"===o&&Object(u.jsx)("span",{id:"span"+n+a,children:Object(u.jsx)(Hp,{mat:Yu(i,"M/D"),children:Object(u.jsx)(B.B,{})})})]})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{className:"text-warning pdl4",children:e})]}):void 0}},{key:"fieldComponent",value:function(e,t,a,s){var n=s.colId;return"Min Piece($m)"===n||e&&"Offer Lmt (m)"===n?Lo(e):e}},{key:"invFieldComponent",value:function(e,t,a,s){return"Par ($m)"===s.colId?Lo(e):e}},{key:"textBoxComponent",value:function(e,t,a,s,n){var o=this,i=this.state.maindata;return i[a]||(i.push({}),i[a]=t),Object(u.jsx)(Eu,{name:n+a,id:n+a,value:e,onChange:function(e){o.onFieldChange(e,n,a,"ONCHANGE")},onBlur:function(e){o.onFieldChange(e,n,a),o.onRateChange(e)},onKeyPress:function(e){o.onAmountKey(e,t,n,a)},className:"text-right"})}},{key:"onFieldChange",value:function(e,t,a,s){var n="",o="";if(this.state.maindata[a][t]=e.target.value,e.target.value&&(o=e.target.value.trim()),"availableToday"===t&&!1===Bo(o,"1234567890.,mmMMkkKK")&&(n="Row"+(a+1)+":"+ih),"bidYield"===t&&!1===Bo(o,"1234567890.")&&(n="Row"+(a+1)+":"+ah),"dispOfferYield"===t&&(Bo(o,"1234567890.")||(n="Row"+(a+1)+":"+nh)),n)return this.setState({actionTitle:"Alert",actionMessage:n,showError:!0,updateData:!1}),!1}},{key:"onRateChange",value:function(e){if(""!==e.target.value)return _o(e)}},{key:"onOfferChange",value:function(e){if(""!==e.target.value)return Uo(e)}},{key:"publishClick",value:function(){var e=this;void 0===this.props.message||""===this.props.message?(this.setState({mainDet:!0}),this.verifyAll(oO)&&w()({method:"POST",url:N.URL+bl,timeout:N.apiTimeOut,data:oO,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data.length>0&&(" "===t.data?e.setState({respMessage:"",updateData:!0}):e.setState({respMessage:t.data,updateData:!0}),e.setState({updateFlag:!0,updateData:!0}))}))):this.setState({actionTitle:"Alert",actionMessage:this.props.message,showError:!0,updateData:!1})}},{key:"verifyAll",value:function(e,t){for(var a=!0,s=0;s<e.length;s++){if(!1===this.verify(e[s],s,t)){a=!1;break}}return a}},{key:"verify",value:function(e,t,a){var s="",n=0;return""!==e.availableToday&&(e.availableToday=e.availableToday.trim(),n=Po(e.availableToday)),"PUBLISHINV"===a&&(""===e.availableToday||0===parseFloat(n)?s="Row"+(t+1)+":"+oh:""!==e.dispOfferYield&&0!==parseFloat(e.dispOfferYield)||(s="Row"+(t+1)+":"+sh)),""===e.bidYield||0===parseFloat(e.bidYield)?s="Row"+(t+1)+":"+$m:""!==e.availableToday&&parseFloat(n)>0&&(" "===e.dispOfferYield||0===parseFloat(e.dispOfferYield))?s="Row"+(t+1)+":"+sh:""!==e.dispOfferYield&&parseFloat(e.dispOfferYield)>0&&parseFloat(e.bidYield)<parseFloat(e.dispOfferYield)?s="Row"+(t+1)+":"+dh:""!==e.dispOfferYield&&parseFloat(e.dispOfferYield)>0&&(""===e.availableToday||0===parseFloat(n))&&(s="Row"+(t+1)+":"+oh),!s||(this.setState({actionTitle:"Alert",actionMessage:s,showError:!0}),!1)}},{key:"onAmountKey",value:function(e,t,a,s){var n=this;if(void 0===this.props.message||""===this.props.message){if("Enter"===e.key&&(t[a]=e.target.value,this.verify(t,s,"PUBLISHINV"))){var o=[];o[0]=t,w()({method:"POST",url:N.URL+bl,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data.length>0&&(" "===e.data?n.setState({respMessage:"",updateData:!0}):n.setState({respMessage:e.data,updateData:!0}),n.setState({updateFlag:!0,updateData:!0}))}))}}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,showError:!0,updateData:!1})}},{key:"render",value:function(){var e=this,t={};t.linkComponent=this.linkComponent,t.linkSecurityComponent=this.linkSecurityComponent,t.textBoxComponent=this.textBoxComponent,t.textBoxOfferComponent=this.textBoxOfferComponent,t.fieldComponent=this.fieldComponent,t.invFieldComponent=this.invFieldComponent;var a=sessionStorage.getItem("loginid");return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h6",{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",void 0!==this.state.respMessage&&""!==this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):""]}),Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{xs:5}),Object(u.jsxs)(W.a,{xs:7,className:"text-right",children:[Object(u.jsx)(OO,{apiCall:ki,reqParams:{productType:qh}}),Object(u.jsx)(W.a,{xs:3,className:"d-inline-block mt-2",children:Object(u.jsx)(D.a,{id:"publishOfferings",className:"btn btn-primary btn-xs mr-1",onClick:this.publishClick,children:"Publish Offerings"})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})}),this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Primary Offerings"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:Kg,apiCall:ar,wsUrl:!0,reqParams:{prodType:qh,transType:"10",issueType:"S",loginId:a,socketSource:"BOOKVIEW"},edit:!1,mappings:Lg,keyField:"issueId",updateData:this.state.updateData,customComponents:t,screenName:"PRIM_OFFER",subTitle:"Book View ECD ",flagPdf:!0})})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",id:"inventory",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Inventory"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:Zg,apiCall:ar,wsUrl:!0,reqParams:{prodType:qh,transType:"10",issueType:"F",loginId:a,socketSource:"BOOKVIEW"},edit:!1,mappings:Bg,calBack:this.setScreenData,mapdata:oO,updateData:this.state.updateData,customComponents:t,keyField:"issueId",screenName:"INVENTORY",subTitle:"Book View ECD ",flagPdf:!0})})}),this.state.modalData===ln&&Object(u.jsx)(uO,{size:"lg",show:this.state.showSecurityModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:qh,modalData:this.state.modalData,modalDataRow:this.state.modalDataRow,message:this.props.message}),Object(u.jsx)(kj,{show:this.state.showModal,onHide:function(){return e.hideModal()},modalData:iO})]})]})]})}}]),a}(o.a.Component),CO=a(266),NO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).clearState=function(){s.setState({respMessage:"",rejectReason:"",warningMsg:""})},s.state={updateFlag:!1,respMessage:"",rejectReason:"",actionTitle:"",actionMessage:"",showError:!0,tradeData:[],warningMsg:""},s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.submitData=s.submitData.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.verify=s.verify.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.offerData;t.action="AJAXBUY",this.clearState(),t.rejectReason="",t.responseMessage="",w()({method:"POST",url:N.URL+Sl,timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&(e.setState({tradeData:t.data}),void 0!==t.data&&void 0!==t.data.rejectReason&&t.data.rejectReason.length>0?e.setState({rejectReason:t.data.rejectReason}):void 0!==t.data&&void 0!==t.data.responseMessage&&t.data.responseMessage.length>0&&e.setState({warningMsg:t.data.responseMessage}))}))}},{key:"postData",value:function(e,t){var a=this;this.clearState(),e.rejectReason="",e.responseMessage="",w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(a.setState({tradeData:e.data}),void 0!==e.data&&void 0!==e.data.rejectReason&&e.data.rejectReason.length>0?a.setState({rejectReason:e.data.rejectReason}):void 0!==e.data&&void 0!==e.data.responseMessage&&e.data.responseMessage.length>0&&a.setState({respMessage:e.data.responseMessage}))}))}},{key:"onContentChange",value:function(e,t){var a=this.state.tradeData,s=!1;void 0!==e.target.value&&e.target.value.length<=0?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):"amount"===t?!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):(Uo(e),a[t]=Po(e.target.value),this.postData(a,Sl)):"coupon"===t?!1===Bo(e.target.value,"1234567890.")?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):(_o(e),a[t]=Po(e.target.value),this.postData(a,Sl)):s||(a[t]=e.target.value,this.postData(a,Sl))}},{key:"onDateChange",value:function(e,t){var a=this.state.tradeData,s=this.props.offerData;if("settlementDate"===t){var n=new Date(Yu(e,"YYYY-MM-DD")),o=new Date(Yu(s.maturityDate,"YYYY-MM-DD"));Yu(s.settlementDate,"YYYY-MM-DD")>=Yu(e,"YYYY-MM-DD")?this.setState({rejectReason:nu}):n>=o?this.setState({rejectReason:Ch}):null!==e&&"Invalid Date"!==e&&(a[t]=Yu(e,"YYYY-MM-DD"),this.postData(a,Sl))}else"maturityDate"===t&&null!==e&&"Invalid Date"!==e&&(a[t]=Yu(e,"YYYY-MM-DD"),this.postData(a,Sl))}},{key:"submitData",value:function(){var e=this.state.tradeData;e.action="SAVEINV",this.verify(e)&&(e.amount=Po(this.state.tradeData.amount),this.postData(e,"/saveECPBuyTicket"))}},{key:"verify",value:function(e){var t="";return""===e.amount||0===parseFloat(e.amount)?t=wm:""!==e.coupon&&0!==parseFloat(e.coupon)||(t=Ym),!t||(this.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1)}},{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"render",value:function(){var e=this,t=this.props.offerData,a=this.state.tradeData;return void 0==a&&Object(CO.a)("tradeData"),t?Object(u.jsxs)("div",{className:"modal-cls",id:"ECPBuyTicket",children:[""!==this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",""!==this.state.warningMsg?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.warningMsg}):"",""!==this.state.rejectReason?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",Object(u.jsxs)("div",{className:"bgc",id:"ecp_contain",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",id:"lft_contain",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"issuer_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lyr_issuerName",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left removewrap",id:"issuerName",children:t.issuerName})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",id:"ticker_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lyr_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"ticker",children:t.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"curr_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lyr_currencyCode",children:"CURRENCY:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"currencyCode",children:t.currencyCode})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",id:"rgt_cont",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"cusp_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lyr_cusip",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"cusip",children:t.cusip})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",id:"prd_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lyr_prodName",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"prodName",children:a.prodName})]})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",id:"offblk_cont",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"sub_offer",children:"Offer"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"amt_row",children:[Object(u.jsx)("label",{id:"lbl_amount",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold removewrap",children:"Amount ($m) :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_ammt",children:Object(u.jsx)(Eu,{id:"lyr-amount",name:"lyr-amount",value:Lo(t.availableToday),className:"form-control input-sm text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",id:"setle_row",children:[Object(u.jsx)("label",{id:"settle",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Settle :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_settle",children:Object(u.jsx)(Eu,{id:"lyr-settle",name:"lyr-settle",value:t.settlementDate,className:"form-control input-sm text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"rate_row",children:[Object(u.jsx)("label",{id:"coupon",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Rate :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_coupn",children:Object(u.jsx)(Eu,{id:"lyr-coupon",name:"lyr-coupon",value:t.coupon,className:"form-control input-sm text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"mat_row",children:[Object(u.jsx)("label",{id:"yield",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Mat :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_mat",children:Object(u.jsx)(Eu,{id:"lyr-yield",name:"lyr-yield",value:t.maturityDate,className:"form-control input-sm text-right",readOnly:!0})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",id:"trd_blkcont",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"sub_trade",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"bammt_row",children:[Object(u.jsx)("label",{id:"bamount",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bamount",children:Object(u.jsx)(pp,{name:"lyr-bamount",id:"lyr-bamount",step:1e3,value:0===this.state.tradeData.length?Lo(t.amount):this.state.tradeData.amount,className:"text-right",onBlur:function(t){e.onContentChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",id:"blnk_setle",children:[Object(u.jsx)("label",{id:"bsettle",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bsettle",children:Object(u.jsx)(Ju,{label:"lyr-bsettle",id:"lyr-bsettle",dateValue:new Date(0===this.state.tradeData.length?t.settlementDate:this.state.tradeData.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"settlementDate")},currency:this.state.tradeData?this.state.tradeData.currencyCode:t.currencyCode,product:this.state.tradeData?this.state.tradeData.prodId:t.prodId})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"bcoupon_row",children:[Object(u.jsx)("label",{id:"bcoupon",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bcoupon",children:(t.coupon||this.state.tradeData.coupon)&&Object(u.jsx)(pp,{name:"lyr-bcoupon",id:"lyr-bcoupon",step:.1,precision:2,value:0===this.state.tradeData.length?t.coupon:this.state.tradeData.coupon,className:"text-right",onBlur:function(t){e.onContentChange(t,"coupon")}})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",id:"btrad_row",children:[Object(u.jsx)("label",{id:"btraded",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_btraded",children:Object(u.jsx)(Ju,{label:"lyr-btraded",id:"lyr-btraded",dateValue:new Date(0===this.state.tradeData.length?t.maturityDate:this.state.tradeData.maturityDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"maturityDate")},currency:this.state.tradeData?this.state.tradeData.currencyCode:t.currencyCode,product:this.state.tradeData?this.state.tradeData.prodId:t.prodId})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"net_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lyr_netAmt",children:"Net :"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8   text-right",id:"netAmt",children:0===this.state.tradeData.length?t.netAmt:this.state.tradeData.netAmt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"disc_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lyr_traderAcruedInt",children:"Disc :"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8  text-right",id:"traderAcruedInt",children:0===this.state.tradeData.length?t.traderAcruedInt:this.state.tradeData.traderAcruedInt})]})]}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",id:"notes_contain",children:Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"notes_row",children:[Object(u.jsx)("label",{id:"note",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Notes :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_notes",children:Object(u.jsx)(Eu,{id:"lyr-note",name:"lyr-note",defaultValue:0===this.state.tradeData.length?t.note:this.state.tradeData.note,className:"form-control input-sm"})})]})}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",id:"buysell_contain",children:Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"buysell_row",children:[Object(u.jsx)("label",{id:"buysell",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"B/S :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_buysell",children:Object(u.jsx)(Eu,{id:"lyr-buysell",name:"lyr-buysell",defaultValue:"B",className:"form-control input-sm"})})]})}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",id:"bttb_cont",children:void 0!==this.state.respMessage&&0!==this.state.respMessage.length||void 0!==this.state.rejectReason&&0!==this.state.rejectReason.length?"":Object(u.jsx)("button",{id:"submit",onClick:function(t){e.submitData(e)},className:"btn btn-success btn-xs lyrsubmitfocus",children:"Submit"})}),Object(u.jsx)("div",{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})})]}):"No data"}}]),a}(o.a.Component),SO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectData:""},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.modalData;return e?Object(u.jsxs)(P.a,{size:"md",show:this.props.show,onHide:this.props.onHide,dialogClassName:"modal buy-modal","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:"Buy Ticket"})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsx)(NO,{offerData:e})})]}):""}}]),a}(o.a.Component),wO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).clearState=function(){s.setState({respMessage:"",rejectReason:"",updateData:!1})},s.textBoxOfferComponent=function(e,t,a,n,o){var i=s.state.maindata;i[a]||(i.push({}),i[a]=t);var l=o+a;return Object(u.jsx)(Eu,{name:l,id:l,value:Lo(e),onChange:function(e){s.onFieldChange(e,o,a,"ONCHANGE")},onBlur:function(e){s.onFieldChange(e,o,a,""),s.onOfferChange(e)},onKeyPress:function(e){s.onAmountKey(e,t,o,a)},className:"text-right"})},s.textBoxComponent=function(e,t,a,n,o){return Object(u.jsx)(Eu,{name:o+a,id:o+a,value:e,onChange:function(e){s.onFieldChange(e,o,a,"ONCHANGE")},onBlur:function(e){s.onFieldChange(e,o,a,""),s.onRateChange(e)},onKeyPress:function(e){s.onAmountKey(e,t,o,a)},className:"text-right"})},s.state={cmodal:!0,showModal:!1,modalData:"",modalDataRow:"",actionMessage:"",alertShow:!1,actionFlag:"",actionTitle:"",respMessage:"",rejectReason:"",maindata:[],primarydata:[],showError:!1,updateData:!1},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkComponent=s.linkComponent.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.openSecurityModal=s.openSecurityModal.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.textBoxOfferComponent=s.textBoxOfferComponent.bind(Object(O.a)(s)),s.onOfferChange=s.onOfferChange.bind(Object(O.a)(s)),s.publishClick=s.publishClick.bind(Object(O.a)(s)),s.verifyAll=s.verifyAll.bind(Object(O.a)(s)),s.verify=s.verify.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.linkSecurityComponent=s.linkSecurityComponent.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s.invFieldComponent=s.invFieldComponent.bind(Object(O.a)(s)),s.onRateChange=s.onRateChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.clearState()}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"openSecurityModal",value:function(e,t){var a;Object.keys(e).map((function(s){e[s]===t&&s===ln&&(a=s)})),this.setState({modalData:a,modalDataRow:e,showSecurityModal:!0,updateData:!1})}},{key:"hideModal",value:function(){this.setState({showModal:!1,showSecurityModal:!1,updateData:!0})}},{key:"linkSecurityComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openSecurityModal.bind(this,t,e),children:e})}},{key:"linkComponent",value:function(e,t,a,s,n,o,i){if(this.setState({modalData:t}),"0"!==e)return Object(u.jsxs)("div",{className:"dispFlex",children:[Object(u.jsx)("button",{className:"btn btn-link",id:n+"M"+a,onClick:this.openModal.bind(this,t,n,a),children:e}),"Y"===o&&Object(u.jsx)("span",{id:"span"+n+a,children:Object(u.jsx)(Hp,{mat:Yu(i,"M/D"),children:Object(u.jsx)(B.B,{})})})]})}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"onOfferChange",value:function(e){return Uo(e)}},{key:"onRateChange",value:function(e){return _o(e)}},{key:"onFieldChange",value:function(e,t,a,s){var n="";if(this.state.maindata[a][t]=e.target.value,!1===Bo(e.target.value,"1234567890.,mmMMkkKK")&&(n="Row"+(a+1)+":"+ih),"bid"===t&&!1===Bo(e.target.value,"1234567890.")&&(n="Row"+(a+1)+":"+Tm),"offer"===t&&!1===Bo(e.target.value,"1234567890.")&&(n="Row"+(a+1)+":"+Vm),n)return this.setState({actionTitle:"Alert",actionMessage:n,updateData:!1,showError:!0}),!1}},{key:"publishClick",value:function(){var e=this;if(void 0===this.props.message||""===this.props.message){this.setState({mainDet:!0});var t=this.state.maindata;this.verifyAll(t)&&w()({method:"POST",url:N.URL+pl,timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data.length>0&&(" "===t.data?e.setState({respMessage:"",updateData:!0}):e.setState({respMessage:t.data,updateData:!0}))}))}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,showError:!0,updateData:!1})}},{key:"verifyAll",value:function(e,t){for(var a=!0,s=0;s<e.length;s++){if(!1===this.verify(e[s],s,t)){a=!1;break}}return a}},{key:"openModal",value:function(e,t,a){if(void 0===this.props.message||""===this.props.message){var s,n,o,i,l;this.state.maindata;if(t===_a||t===gn||t===Ya||t===yn||t===sn)null!==(s=e[t])&&(l=s.split(":"));else if(e.rateMap)null!==(s=e.rateMap[t])&&(l=s.split(":")),t+="M";void 0!==l&&l.length>2&&(n=l[0],o=l[1],i=l[2]),(lO=e).coupon=n,lO.maturityDate=o,lO.maturityFlag=i,lO.tenorType=t,lO.amount=e.offeringlimit,lO.availableToday=e.offeringlimit,this.setState({showModal:!0,updateData:!1})}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"verify",value:function(e,t,a){var s="",n=0;return""!==e.availableToday&&(e.availableToday=e.availableToday.trim(),n=Po(e.availableToday)),"PUBLISHINV"===a&&(""===e.offer||0===parseFloat(e.offer)?s="Row"+(t+1)+":"+Vm:""!==e.availableToday&&0!==parseFloat(n)||(s="Row"+(t+1)+":"+oh)),""===e.bid||0===parseFloat(e.bid)?s="Row"+(t+1)+":"+Tm:""!==e.availableToday&&parseFloat(n)>0&&(" "===e.offer||0===parseFloat(e.offer))?s="Row"+(t+1)+":"+Vm:""!==e.offer&&parseFloat(e.offer)>0&&parseFloat(e.bid)<parseFloat(e.offer)?s="Row"+(t+1)+":"+mh:""!==e.offer&&parseFloat(e.offer)>0&&(""===e.availableToday||0===parseFloat(n))&&(s="Row"+(t+1)+":"+oh),!s||(this.setState({actionTitle:"Alert",actionMessage:s,showError:!0,updateData:!1}),!1)}},{key:"onAmountKey",value:function(e,t,a,s){var n=this;if(void 0===this.props.message||""===this.props.message){if("Enter"===e.key&&(t[a]=e.target.value,this.verify(t,s,"PUBLISHINV"))){var o=[];o[0]=t,w()({method:"POST",url:N.URL+pl,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data.length>0&&(" "===e.data?n.setState({respMessage:"",updateData:!0}):n.setState({respMessage:e.data,updateData:!0}))}))}}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,showError:!0,updateData:!1})}},{key:"fieldComponent",value:function(e,t,a,s){var n=s.colId;return"Min Piece($m)"===n||e&&"Offered Amt ($m)"===n?Lo(e):e}},{key:"invFieldComponent",value:function(e,t,a,s){return"Par ($m)"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t={};t.linkComponent=this.linkComponent,t.textBoxComponent=this.textBoxComponent,t.textBoxOfferComponent=this.textBoxOfferComponent,t.linkSecurityComponent=this.linkSecurityComponent,t.fieldComponent=this.fieldComponent,t.invFieldComponent=this.invFieldComponent;var a=sessionStorage.getItem("loginid");return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h6",{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",void 0!==this.state.respMessage&&""!==this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):""]}),Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{xs:5}),Object(u.jsxs)(W.a,{xs:7,className:"text-right",children:[Object(u.jsx)(OO,{apiCall:Di,reqParams:{productType:Zh}}),Object(u.jsxs)(W.a,{xs:3,className:"d-inline-block mt-2",children:[Object(u.jsx)(D.a,{id:"publishOfferings",className:"btn btn-primary btn-xs mr-1",onClick:this.publishClick,children:"Publish Offerings"}),Object(u.jsx)(D.a,{id:"axe",className:"btn btn-primary btn-xs",onClick:this.copySaveGridClick,children:"AXE"})]})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})}),this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Offerings"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:Jg,apiCall:ar,wsUrl:!0,reqParams:{prodType:Zh,transType:"10",issueType:"S",loginId:a,socketSource:"BOOKVIEW"},edit:!1,mappings:_g,customComponents:t,mapdata:this.state.primarydata,updateData:this.state.updateData,keyField:"issueId",screenName:"OFFERINGS",subTitle:"Book View ECP ",flagPdf:!0})})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",id:"inventory",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Inventory"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:Qg,apiCall:ar,wsUrl:!0,reqParams:{prodType:Zh,transType:"10",issueType:"F",loginId:a,socketSource:"BOOKVIEW"},edit:!1,mappings:Wg,customComponents:t,mapdata:this.state.maindata,updateData:this.state.updateData,keyField:"issueId",screenName:"INVENTORY",subTitle:"Book View ECP ",flagPdf:!0})})}),this.state.modalData===ln&&Object(u.jsx)(uO,{size:"lg",show:this.state.showSecurityModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:Zh,modalData:this.state.modalData,modalDataRow:this.state.modalDataRow,message:this.props.message}),Object(u.jsx)(SO,{show:this.state.showModal,onHide:function(){return e.hideModal()},modalData:lO})]})]})]})}}]),a}(o.a.Component),TO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).textBoxComponent=function(e,t,a,n,o){var i=s.state.maindata;return i[a]||(i.push({}),i[a]=t),Object(u.jsx)(Eu,{name:o+a,id:o+a,value:e,onChange:function(e){s.onFieldChange(e,o,a,"ONCHANGE")},onBlur:function(e){s.onFieldChange(e,o,a,""),s.onRateChange(e)},onKeyPress:function(e){s.onAmountKey(e,t,o,a)},className:"text-right"})},s.textBoxOfferComponent=function(e,t,a,n,o){var i=o+a;return Object(u.jsx)(Eu,{name:i,id:i,value:" "!==t.availableToday?e:"0",onChange:function(e){s.onFieldChange(e,o,a,"ONCHANGE")},onBlur:function(e){s.onFieldChange(e,o,a),s.onOfferChange(e)},onKeyPress:function(e){s.onAmountKey(e,t,o,a)},className:"text-right"})},s.state={cmodal:!0,showModal:!1,modalData:"",modalDataRow:"",showError:!1,actionTitle:"",actionMessage:"",maindata:[],updateData:!0,respMessage:""},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkComponent=s.linkComponent.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.onOfferChange=s.onOfferChange.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.textBoxOfferComponent=s.textBoxOfferComponent.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.publishClick=s.publishClick.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.verify=s.verify.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s.invFieldComponent=s.invFieldComponent.bind(Object(O.a)(s)),s.onRateChange=s.onRateChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"setScreenData",value:function(e){cO=e}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"openModal",value:function(e,t){var a="";Object.keys(e).map((function(s){e[s]===t&&s===ln&&(a=s)})),this.setState({modalData:a,modalDataRow:e,showModal:!0,updateData:!0})}},{key:"hideModal",value:function(){this.setState({showModal:!1,updateData:!0})}},{key:"linkComponent",value:function(e,t,a,s,n){if(this.setState({modalData:t}),"0"!==e)return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openModal.bind(this,t,e),children:e})}},{key:"onRateChange",value:function(e){return _o(e)}},{key:"onFieldChange",value:function(e,t,a){this.state.maindata[a][t]=e.target.value}},{key:"onOfferChange",value:function(e){return Uo(e)}},{key:"onAmountKey",value:function(e,t,a,s){var n=this;if(void 0===this.props.message||""===this.props.message){if("Enter"===e.key&&(t[a]=e.target.value,this.verify(t,s,"PUBLISHINV"))){var o=[];o[0]=t,w()({method:"POST",url:N.URL+ul,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data.length>0&&(" "===e.data?n.state.respMessage="":n.state.respMessage=e.data,n.setState({updateFlag:!0,updateData:!0}))}))}}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,showError:!0,updateData:!1})}},{key:"verify",value:function(e,t,a){var s="",n=0;return""!==e.availableToday&&(e.availableToday=e.availableToday.trim(),n=Po(e.availableToday)),"PUBLISHINV"===a&&(""===e.availableToday||0===parseFloat(n)?s="Row"+(t+1)+":"+oh:""!==e.dispOfferYield&&0!==parseFloat(e.dispOfferYield)||(s="Row"+(t+1)+":"+sh)),!s||(this.setState({actionTitle:"Alert",actionMessage:s,showError:!0,updateData:!1}),!1)}},{key:"publishClick",value:function(){var e,t=this;void 0===this.props.message||""===this.props.message?(this.setState({mainDet:!0}),e=cO,w()({method:"POST",url:N.URL+ul,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data.length>0&&(" "===e.data?t.state.respMessage="":t.state.respMessage=e.data,t.setState({updateFlag:!0,updateData:!0}))}))):this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"fieldComponent",value:function(e,t,a,s){return"$m"===s.colId?Lo(e):e}},{key:"invFieldComponent",value:function(e,t,a,s){return"Par ($m)"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t={};t.linkComponent=this.linkComponent,t.textBoxComponent=this.textBoxComponent,t.textBoxOfferComponent=this.textBoxOfferComponent,t.fieldComponent=this.fieldComponent,t.invFieldComponent=this.invFieldComponent;var a=sessionStorage.getItem("loginid");return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h6",{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",void 0!==this.state.respMessage&&""!==this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):""]}),Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{xs:5}),Object(u.jsxs)(W.a,{xs:7,className:"text-right",children:[Object(u.jsx)(OO,{apiCall:ki,reqParams:{productType:Gh}}),Object(u.jsx)(W.a,{xs:3,className:"d-inline-block mt-2",children:Object(u.jsx)(D.a,{id:"publishOfferings",className:"btn btn-primary btn-xs mr-1",onClick:this.publishClick,children:"Publish Offerings"})})]})]}),this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Primary Offerings"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:vb,apiCall:ar,wsUrl:!0,reqParams:{prodType:Gh,transType:"10",issueType:"S",loginId:a,socketSource:"BOOKVIEW"},edit:!1,mappings:Vg,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"PRIM_OFFER",subTitle:"Book View FRCD ",flagPdf:!0})})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",id:"inventory",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Inventory"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:Xg,apiCall:ar,wsUrl:!0,reqParams:{prodType:Gh,transType:"10",issueType:"F",loginId:a,socketSource:"BOOKVIEW"},edit:!1,calBack:this.setScreenData,mappings:Pg,updateData:this.state.updateData,keyField:"issueId",customComponents:t,screenName:"INVENTORY",subTitle:"Book View FRCD ",flagPdf:!0})})}),this.state.modalData===ln&&Object(u.jsx)(uO,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:Gh,modalData:this.state.modalData,modalDataRow:this.state.modalDataRow,message:this.props.message}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})]})]})}}]),a}(o.a.Component),IO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).checkBoxComponent=function(e,t,a,n){var o="issueId"+a;s.state.maindata;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(t){s.onCheckboxClick(e,a,t)}})})},s.textBoxOfferComponent=function(e,t,a,n,o){var i=o+a;return Object(u.jsx)(Eu,{name:i,id:i,value:" "!==t.availableToday?e:"0",onChange:function(e){s.onFieldChange(e,o,a,"ONCHANGE")},onBlur:function(e){s.onFieldChange(e,o,a,""),s.onOfferChange(e)},onKeyPress:function(e){s.onAmountKey(e,t,o,a)},className:"text-right"})},s.textBoxComponent=function(e,t,a,n,o){var i=s.state.maindata;return i[a]||(i.push({}),i[a]=t),Object(u.jsx)(Eu,{name:o+a,id:o+a,value:e,onChange:function(e){s.onFieldChange(e,o,a,"ONCHANGE")},onBlur:function(e){s.onFieldChange(e,o,a),s.onRateChange(e)},onKeyPress:function(e){s.onAmountKey(e,t,o,a)},className:"text-right"})},s.state={cmodal:!0,showModal:!1,modalData:"",modalDataRow:"",showError:!1,actionTitle:"",actionMessage:"",maindata:[],updateData:!0,respMessage:""},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkComponent=s.linkComponent.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.onOfferChange=s.onOfferChange.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.textBoxOfferComponent=s.textBoxOfferComponent.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.publishClick=s.publishClick.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.verify=s.verify.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s.invFieldComponent=s.invFieldComponent.bind(Object(O.a)(s)),s.onRateChange=s.onRateChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"setScreenData",value:function(e){rO=e}},{key:"openModal",value:function(e,t){var a;Object.keys(e).map((function(s){e[s]===t&&s===ln&&(a=s)})),this.setState({modalData:a,modalDataRow:e,showModal:!0,updateData:!1})}},{key:"hideModal",value:function(){this.setState({showModal:!1,updateData:!0})}},{key:"linkComponent",value:function(e,t,a,s,n){if(this.setState({modalData:t}),"0"!==e)return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openModal.bind(this,t,e),children:e})}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"onOfferChange",value:function(e){return Uo(e)}},{key:"onRateChange",value:function(e){return _o(e)}},{key:"onFieldChange",value:function(e,t,a){this.state.maindata[a][t]=e.target.value}},{key:"onAmountKey",value:function(e,t,a,s){var n=this;if(void 0===this.props.message||""===this.props.message){if("Enter"===e.key&&(t[a]=e.target.value,this.verify(t,s,"PUBLISHINV"))){var o=[];o[0]=t,w()({method:"POST",url:N.URL+ul,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data.length>0&&(" "===e.data?n.state.respMessage="":n.state.respMessage=e.data,n.setState({updateFlag:!0,updateData:!0}))}))}}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,showError:!0,updateData:!1})}},{key:"verify",value:function(e,t,a){var s="",n=0;return""!==e.availableToday&&(e.availableToday=e.availableToday.trim(),n=Po(e.availableToday)),"PUBLISHINV"===a&&(" "===e.availableToday||0===parseFloat(n)?s="Row"+(t+1)+":"+oh:" "!==e.dispOfferYield&&0!==parseFloat(e.dispOfferYield)||(s="Row"+(t+1)+":"+sh)),!s||(this.setState({actionTitle:"Alert",actionMessage:s,showError:!0,updateData:!1}),!1)}},{key:"publishClick",value:function(){var e,t=this;void 0===this.props.message||""===this.props.message?(this.setState({mainDet:!0}),e=rO,w()({method:"POST",url:N.URL+ul,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data.length>0&&(" "===e.data?t.state.respMessage="":t.state.respMessage=e.data,t.setState({updateFlag:!0,updateData:!0}))}))):this.setState({actionTitle:"Alert",actionMessage:this.props.message,showError:!0,updateData:!1})}},{key:"fieldComponent",value:function(e,t,a,s){return"$m"===s.colId?Lo(e):e}},{key:"invFieldComponent",value:function(e,t,a,s){return"Par ($m)"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t={};t.checkBoxComponent=this.checkBoxComponent,t.textBoxComponent=this.textBoxComponent,t.textBoxOfferComponent=this.textBoxOfferComponent,t.linkComponent=this.linkComponent,t.fieldComponent=this.fieldComponent,t.invFieldComponent=this.invFieldComponent;var a=sessionStorage.getItem("loginid");return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h6",{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",void 0!==this.state.respMessage&&""!==this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):""]}),Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{xs:5,className:"mt-2",children:[Object(u.jsxs)(W.a,{xs:2,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:qg.books,id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Kh},onchange:this.tickerChange,selected:this.state.tickerId,id:"book"})})]}),Object(u.jsxs)(W.a,{xs:7,className:"text-right",children:[Object(u.jsx)(OO,{apiCall:ki,reqParams:{productType:Kh}}),Object(u.jsx)(W.a,{xs:3,className:"d-inline-block mt-2",children:Object(u.jsx)(D.a,{id:"publishOfferings",className:"btn btn-primary btn-xs mr-1",onClick:this.publishClick,children:"Publish Offerings"})})]})]}),this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",id:"lbl_pmoffer",children:"Primary Offerings"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:Db,apiCall:ar,wsUrl:!0,reqParams:{prodType:Kh,transType:"10",issueType:"S",loginId:a,socketSource:"BOOKVIEW"},edit:!1,mappings:Vg,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"PRIM_OFFER",subTitle:"Book View FRCP ",flagPdf:!0})})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",id:"inventory",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",id:"lbl_inventory",children:"Inventory"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:$g,apiCall:ar,wsUrl:!0,reqParams:{prodType:Kh,transType:"10",issueType:"F",loginId:a,socketSource:"BOOKVIEW"},edit:!1,calBack:this.setScreenData,mappings:Pg,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"INVENTORY",subTitle:"Book View FRCP ",flagPdf:!0})})}),this.state.modalData===ln&&Object(u.jsx)(uO,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:Kh,modalData:this.state.modalData,modalDataRow:this.state.modalDataRow,message:this.props.message}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})]})]})}}]),a}(o.a.Component);function MO(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){if(e===n&&t[e]){if("availableCredit"===e)o={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),align:"right"};else if("amount"===e)var o={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"};else o="offer"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.offerTextBoxComponent}:"offeringlimit"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.limitTextBoxComponent}:"issueId"===e?{dataField:e,text:t[e],formatter:a.checkBoxComponent}:"actionId"===e?{dataField:e,text:t[e],formatter:a.actionComponent,editable:!1}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.fieldComponent,editable:!1,formatExtraData:{colId:t[e]}};s.push(o)}return""})),""})),s}function AO(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&("offer"===e?o={dataField:e,text:t[e],formatter:a.offerRateTextComponent}:"bid"===e?o={dataField:e,text:t[e],formatter:a.bidRateTextComponent}:"fromDate"===e?o={dataField:e,text:t[e],formatter:a.maturityRangeComponent,headerAttrs:{colSpan:5,width:300},formatExtraData:{colId:e}}:("toDate"===e||"fromDays"===e||"toDays"===e)&&(o={dataField:e,text:t[e],formatter:a.maturityRangeComponent,headerAttrs:{hidden:!0},formatExtraData:{colId:e}}),s.push(o)));return""})),""})),s}function RO(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&("shortName"===e?o={dataField:e,text:t[e],formatter:a.investorComponent,headerAttrs:{width:100}}:"originalSettlementDate"===e?o={dataField:e,text:t[e],headerAttrs:{width:150}}:"availableCredit"===e?o={dataField:e,text:t[e],formatter:a.matAmountComponent,headerAttrs:{width:150}}:"bid"===e&&(o={dataField:e,text:t[e],headerAttrs:{width:150}}),s.push(o)));return""})),""})),s}var EO=[];EO.bookDesc=Se,EO.issueId=it,EO.ticker=cn,EO.issuerShortName=Kt,EO.settle=Rs,EO.settleDateStr=Ms,EO.maturityDateStr=ia,EO.prodCode=Dn,EO.availableCredit=wn,EO.offer=Fa,EO.availableToday=aa,EO.amount=Aa,EO.trader=pn,EO.issuer=Kt;var FO=[];FO.issueId=it,FO.issuerName=Kt,FO.ticker=cn,FO.settle=Rs,FO.settleDateStr=Ms,FO.maturityDateStr=Ss,FO.prodCode=Dn,FO.availableCredit=wn,FO.offer=Fa,FO.offeringlimit=aa,FO.amount=Aa,FO.actionId=ie;var PO=[];PO.offer=Ra,PO.bid=Ie,PO.fromDate=ca,PO.fromDays=ca;var BO=[];BO.offeringDate=at,BO.offeringRate=ps,BO.offeringAmount=ga;var LO=[];LO.maturityDate=fa,LO.amount=ga,LO.rate=Ye;var _O=[];_O.shortName=Vt,_O.availableCredit=de,_O.originalSettlementDate=rs,_O.bid=ps;var UO=[];UO.availableCredit=de,UO.maturityDate=la,UO.bid=Ne,UO.offerRate=Fa;var VO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).doDelete=function(){var e=s.state.data,t=[{}];t[0]=e[0].issueId;var a=[{}];a[0]=e[0].bookId;var n=[{}];n[0]=e[0].ticker,w()({method:"POST",url:N.URL+ui,timeout:N.apiTimeOut,data:{issues:t,bookId:a,ticker:n},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){(0,s.props.returnMethod)(e.data[0].responseMessage),s.setState({updateData:!0})}))},s.state={cmodal:!0,book:"",ticker:"",bookId:"",tickerId:"",payload:{},screenName:"C",quantityFlag:"Y",settleDate:"",quantity:"",exceptionRowCnt:1,offeringsList:[{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:0},{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:1},{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:2},{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:3},{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:4},{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:5},{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:6},{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:7},{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:8}],offeringLimit:"",minimumPieceSize:"",notes:"",exceptionDatesList:[],firm:"N",proceeds:"N",issueId:"",actionResponse:"",singleSelections:"",issuerId:"",templateName:"",templateId:"",showError:!1,actionTitle:"",actionMessage:"",issuerName:"",trader:"",minAmount:"",maxAmount:"",increment:"",totalAmount:"",maxNoOfDays:"",responseMessage:"",matDates:[],updateData:!0,holidayData:[],productWeekData:[]},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.goBack=s.goBack.bind(Object(O.a)(s)),s.quantityChanges=s.quantityChanges.bind(Object(O.a)(s)),s.settleDataChange=s.settleDataChange.bind(Object(O.a)(s)),s.offerRateTextComponent=s.offerRateTextComponent.bind(Object(O.a)(s)),s.bidRateTextComponent=s.bidRateTextComponent.bind(Object(O.a)(s)),s.maturityRangeComponent=s.maturityRangeComponent.bind(Object(O.a)(s)),s.onOfferRateChange=s.onOfferRateChange.bind(Object(O.a)(s)),s.onBidRateChange=s.onBidRateChange.bind(Object(O.a)(s)),s.doAdd=s.doAdd.bind(Object(O.a)(s)),s.onNotesChange=s.onNotesChange.bind(Object(O.a)(s)),s.offeringLimitChange=s.offeringLimitChange.bind(Object(O.a)(s)),s.minPieceChange=s.minPieceChange.bind(Object(O.a)(s)),s.onDateChange=s.onDateChange.bind(Object(O.a)(s)),s.onDaysChange=s.onDaysChange.bind(Object(O.a)(s)),s.onSave=s.onSave.bind(Object(O.a)(s)),s.onCheckChange=s.onCheckChange.bind(Object(O.a)(s)),s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.matAmountComponent=s.matAmountComponent.bind(Object(O.a)(s)),s.investorComponent=s.investorComponent.bind(Object(O.a)(s)),s.verifyParams=s.verifyParams.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.getDefaultValues=s.getDefaultValues.bind(Object(O.a)(s)),s.hideAlert=s.hideAlert.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this,a=[],s=[];if(this.props.linkname!==e.linkname&&"Grid Report"===this.props.linkname&&this.setState({cmodal:!0,updateData:!1}),e!==this.props){var n=this.state,o=n.offeringsList,i=n.data;if(i){for(var l=0;l<i&&i.length;l++){var c={};i[l].maturityDate&&(c.fromDate=Yu(i[l].maturityDate,"YYYY-MM-DD"),c.fromDays=Wu(i[l].maturityDate,i[l].settlementDate)),c.offer=i[l].offerRate,c.bid=i[l].bidRate,c.amount=Lo(i[l].amount),c.rowId=l,i[l].maturityDate&&(o[l]=c)}w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{currency:"USD",productType:Wh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a=e.data.holidayDatesInfo,s=e.data.productWeekData,t.setState({holidayData:a,productWeekData:s})})),this.setState({settleDate:this.state.data&&new Date(this.state.data[0].settlementDate),quantity:Lo(i&&i[0].amount),offeringLimit:Lo(i&&i[0].offeringlimit),minimumPieceSize:Lo(i&&i[0].minimumPieceSize),notes:i&&i[0].notes,firm:i&&i[0].subjectFlag,proceeds:i&&i[0].proceedsFlag,ticker:i&&i[0].ticker,offeringsList:o,issueId:i&&i[0].issueId,issuerId:i&&i[0].programId,issuerName:i&&i[0].issuerName,trader:i&&i[0].trader,updateData:!1,holidayData:a,productWeekData:s})}else w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{currency:"USD",productType:Wh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a=e.data.holidayDatesInfo,s=e.data.productWeekData,t.setState({holidayData:a,productWeekData:s})}))}}},{key:"componentDidMount",value:function(){var e=this,t=[],a=[];this.props.apiCall?w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(s){if(s.data){for(var n=e.state.offeringsList,o=0;o<s.data.length;o++){var i={};s.data[o].maturityDate&&(i.fromDate=Yu(s.data[o].maturityDate,"YYYY-MM-DD"),i.fromDays=Wu(s.data[o].maturityDate,s.data[o].settlementDate)),i.offer=s.data[o].offerRate,i.bid=s.data[o].bidRate,i.amount=Lo(s.data[o].amount),i.issueId=s.data[o].issueId,i.rowId=o,s.data[o].maturityDate&&(n[o]=i)}e.setState({data:s.data,updateData:!0}),w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{currency:"USD",productType:Wh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(s){t=s.data.holidayDatesInfo,a=s.data.productWeekData,e.setState({holidayData:t,productWeekData:a})})),e.setState({settleDate:new Date(e.state.data[0].settlementDate),quantity:Lo(e.state.data[0].amount),offeringLimit:Lo(e.state.data[0].offeringlimit),minimumPieceSize:Lo(e.state.data[0].minimumPieceSize),notes:e.state.data[0].notes,firm:e.state.data[0].subjectFlag,proceeds:e.state.data[0].proceedsFlag,ticker:e.state.data[0].ticker,offeringsList:n,issueId:e.state.data[0].issueId,issuerId:e.state.data[0].programId,issuerName:e.state.data[0].issuerName,trader:e.state.data[0].trader,matDates:e.state.data[0].matDates,spread:e.state.data[0].spread,allIn:e.state.data[0].allIn,updateData:!1,holidayData:t,productWeekData:a})}})):(this.setState({settleDate:new Date,updateData:!1}),w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{currency:"USD",productType:Wh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(s){t=s.data.holidayDatesInfo,a=s.data.productWeekData,e.setState({holidayData:t,productWeekData:a})})))}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1}),this.props.closemodel()}},{key:"tickerChange",value:function(e,t){var a=this;w()({method:"POST",url:N.URL+yl,timeout:N.apiTimeOut,data:{ticker:e[0],issuerId:t,productType:Wh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(s){a.setState({issuerName:s.data.issuerName,trader:s.data.trader,minAmount:s.data.minSize,maxAmount:s.data.maxAmount,increment:s.data.incAmount,maxNoOfDays:s.data.maxNoOfDays,matDates:s.data.matDatesList,issuerId:t,minimumPieceSize:s.data.minSize,spread:s.data.spread,allIn:s.data.allIn,singleSelections:e,tickerId:t,ticker:e[0],updateData:!1})}))}},{key:"goBack",value:function(){(0,this.props.returnMethod)()}},{key:"quantityChanges",value:function(e){var t=this.state,a=t.offeringsList,s=t.quantity;if(!1===Bo(e.target.value,"1234567890.,mmMMkkKK"))e.target.value=s,e.target.focus(),this.setState({actionTitle:"Alert",actionMessage:Jm,showError:!0,quantity:e.target.value,updateData:!1});else{var n,o="N",i=this.state.maxAmount,l="1000000",c=e.target.value;if(null!=e.target.value&&e.target.value.length>0?(Uo(e),o="Y",this.setState({quantity:e.target.value,quantityFlag:"Y",offeringLimit:e.target.value,updateData:!1})):(o="N",this.setState({quantityFlag:"N",updateData:!1})),parseFloat(i)<l&&(l=i,n="P"),Po(c)>l){var r=parseFloat(l)/1e3;"P"==n?this.setState({actionTitle:"Alert",actionMessage:"Offering quantity exceeds Program size ($"+r+"mm). Do you want to proceed?",alertShow:!0,updateData:!1}):this.setState({actionTitle:"Alert",actionMessage:"Offering quantity exceeds $1bn. Do you want to proceed?",alertShow:!0,updateData:!1})}for(var d=0;d<a.length;d++)a[d].quantityFlag=o;this.setState({offeringsList:a,updateData:!1})}}},{key:"settleDataChange",value:function(e){for(var t,a=this.state.offeringsList,s=0;s<a.length;s++)a[s]&&((t=a[s]).fromDays||t.toDays)&&(t.fromDate=Yu(zu(e,t.fromDays),"YYYY-MM-DD"),t.toDate=Yu(zu(e,t.toDays),"YYYY-MM-DD"),t.rowId=t.rowId,a[s]=t);this.setState({settleDate:e,offeringsList:a,updateData:!1})}},{key:"minPieceChange",value:function(e){var t=this.state.minimumPieceSize;!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?(this.setState({actionTitle:"Alert",actionMessage:_m,showError:!0,updateData:!1}),e.target.value=t,e.target.focus()):(e.target.value.length>0&&Uo(e),this.setState({minimumPieceSize:e.target.value,updateData:!1}))}},{key:"offeringLimitChange",value:function(e){var t=this.state.offeringLimit;!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?(this.setState({actionTitle:"Alert",actionMessage:Um,showError:!0,updateData:!1}),e.target.value=t,e.target.focus()):(e.target.value.length>0&&Uo(e),this.setState({offeringLimit:e.target.value,updateData:!1}))}},{key:"onDateChange",value:function(e,t,a,s){var n=this.state,o=n.settleDate,i=n.offeringsList;n.holidayData,n.productWeekData;if(i){var l,c=Wu(e,o)+1;i[a]?(l=i[a],"fromDate"===t&&(l.fromDate=e,l.fromDays=c),l.issueId=s,l.rowId="0"+l.rowId,i[a]=l):(l={},"fromDate"===t&&(l.fromDate=e,l.fromDays=c),l.issueId=s,l.rowId="0"+l.rowId,i[a]=l)}this.setState({offeringsList:i,updateData:!1})}},{key:"onDaysChange",value:function(e,t,a,s){var n=this.state,o=n.settleDate,i=n.holidayData,l=n.productWeekData;if(!1===Bo(e.target.value,"1234567890")){this.setState({actionTitle:"Alert",actionMessage:"fromDays"===t?Bm:Zm,showError:!0});var c="";if(this.state.offeringsList&&this.state.offeringsList[a]){var r=this.state.offeringsList[a];c="fromDays"===t?r.fromDays?r.fromDays:"":r.toDays?r.toDays:""}e.target.value=c,e.target.focus()}else if(""!==e.target.value){var d=e.target.value,m="";if(void 0!==d&&""!==d&&(m=Gu(o,i,l,parseInt(d))),this.state.offeringsList)if(this.state.offeringsList[a]){if("fromDays"===t){this.state.offeringsList[a].fromDays=e.target.value,this.state.offeringsList[a].fromDate=Yu(m,"YYYY-MM-DD"),document.getElementById("fromDate"+a).value=Yu(m,"M/D/YY");var h=!1,u="";this.state.matDates&&this.state.matDates.map((function(e){var t=new Date(e);new Date(Yu(m,"MM/DD/YY"))===t&&(h=!0)})),h&&(u="Maturity Date already exist in previous saved dates.",this.setState({actionTitle:"Alert",actionMessage:u,showError:!0,updateData:!0}))}this.state.offeringsList[a].issueId=s}}this.setState({updateData:!1})}},{key:"onOfferRateChange",value:function(e,t,a){var s=this.state.spread,n=this.state.allIn;if(!1===Bo(e.target.value,"1234567890.")){this.setState({actionTitle:"Alert",actionMessage:Vm,showError:!0,updateData:!1});var o,i="";if(this.state.offeringsList)this.state.offeringsList[a]&&(i=(o=this.state.offeringsList[a]).offer?o.offer:"");e.target.value=i,e.target.focus()}else if(this.state.offeringsList&&(this.state.offeringsList[a].offer=e.target.value,this.state.offeringsList[a].issueId=t,null!=n&&"N"===n))if(s&&s.length>0){if(this.state.offeringsList[a].offer.length>0&&0!==this.state.offeringsList[a].offer&&(0===this.state.offeringsList[a].bid||void 0===this.state.offeringsList[a].bid||""===this.state.offeringsList[a].bid)){var l=parseFloat(this.state.offeringsList[a].offer)+parseFloat(s/100);l=l.toFixed(parseInt("2")),this.state.offeringsList[a].bid=l,document.getElementById("bidRate"+a).value=l,document.getElementById("fromDays"+a).focus()}}else this.state.offeringsList[a].bid=this.state.offeringsList[a].offer}},{key:"onBidRateChange",value:function(e,t,a){var s=this.state.spread,n=this.state.allIn;if(!1===Bo(e.target.value,"1234567890.")){this.setState({actionTitle:"Alert",actionMessage:Im,showError:!0,updateData:!1});var o,i="";if(this.state.offeringsList)this.state.offeringsList[a]&&(i=(o=this.state.offeringsList[a]).bid?o.bid:"");e.target.value=i,e.target.focus()}else if(this.state.offeringsList&&""!==e.target.value&&(this.state.offeringsList[a].bid=e.target.value,this.state.offeringsList[a].issueId=t,null!=n&&"N"===n))if(s&&s.length>0){if(this.state.offeringsList[a].bid.length>0&&0!==this.state.offeringsList[a].bid&&(0===this.state.offeringsList[a].offer||void 0===this.state.offeringsList[a].offer||""===this.state.offeringsList[a].offer)){var l=parseFloat(this.state.offeringsList[a].bid)-parseFloat(s/100);l=l.toFixed(parseInt("2")),this.state.offeringsList[a].offer=l,document.getElementById("offerRate"+a).value=l,document.getElementById("fromDays"+a).focus()}}else this.state.offeringsList[a].offer=this.state.offeringsList[a].bid}},{key:"offerRateTextComponent",value:function(e,t,a,s){var n=this;return Object(u.jsx)(Eu,{name:"offerRate"+a,id:"offerRate"+a,value:this.state.offeringsList?this.state.offeringsList[a].offer:"",onBlur:function(e){n.onOfferRateChange(e,t.issueId,a)}})}},{key:"bidRateTextComponent",value:function(e,t,a,s){var n=this;return Object(u.jsx)(Eu,{name:"bidRate"+a,id:"bidRate"+a,value:this.state.offeringsList?this.state.offeringsList[a].bid:"",onBlur:function(e){n.onBidRateChange(e,t.issueId,a)}})}},{key:"maturityRangeComponent",value:function(e,t,a,s){var n=this,o=this.state,i=o.holidayData,l=o.productWeekData,c=s.colId,r=t;return Object(u.jsx)(W.a,{children:"fromDate"===c?Object(u.jsx)(Ju,{minDate:new Date,label:"fromDate"+a,onchange:function(e){n.onDateChange(e,"fromDate",a,t.issueId)},dateValue:r.fromDate?new Date(Yu(r.fromDate,"YYYY-MM-DD HH:MM:SS")):"",fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:i,productWeekData:l}):"toDate"===c?Object(u.jsx)(Ju,{minDate:new Date,label:"toDate"+a,onchange:function(e){n.onDateChange(e,"toDate",a,t.issueId)},dateValue:r.toDate?new Date(r.toDate):"",fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:i,productWeekData:l}):"fromDays"===c?Object(u.jsxs)("div",{style:{display:"inline-flex"},children:[Object(u.jsx)(Eu,{name:"fromDays"+a,id:"fromDays"+a,onBlur:function(e){n.onDaysChange(e,"fromDays",a,t.issueId)},value:r.fromDays?r.fromDays:""})," \xa0",Object(u.jsx)("div",{className:"labelStyle",children:"DAYS"})]}):"toDays"===c?Object(u.jsxs)("div",{style:{display:"inline-flex"},children:[Object(u.jsx)(Eu,{name:"toDays"+a,id:"toDays"+a,onBlur:function(e){n.onDaysChange(e,"toDays",a,t.issueId)},value:r.toDays?r.toDays:""})," \xa0 ",Object(u.jsx)("div",{className:"labelStyle",children:"DAYS"})]}):""})}},{key:"matAmountComponent",value:function(e,t,a,s){return"10"===t.transType?e:t.amount}},{key:"investorComponent",value:function(e,t,a,s){return"10"===t.transType?e:"Unsold"}},{key:"doAdd",value:function(){var e=this.state.exceptionRowCnt;e+=1,this.setState({exceptionRowCnt:e,updateData:!1})}},{key:"onNotesChange",value:function(e){this.setState({notes:e.target.value,updateData:!1})}},{key:"onCheckChange",value:function(e,t){"firm"===e?this.setState({firm:t.target.checked?"Y":"N",updateData:!1}):this.setState({proceeds:t.target.checked?"Y":"N",updateData:!1})}},{key:"verifyParams",value:function(e,t){var a={};e&&(a=e[0]);var s=this.state,n=(s.quantityFlag,s.minAmount),o=s.maxAmount,i=s.increment,l=s.totalAmount,c=s.maxNoOfDays,r=s.matDates,d="";if(a.ticker&&0!==a.ticker.length||(d=Lh),""===a.quantity)0===a.quantity.length&&0===d.length&&(d=Jm),a.amount.length>0&&0===d.length&&(parseFloat(a.amount)<parseFloat(n)&&(d=lr+Lo(n)),parseFloat(a.amount)>parseFloat(o)&&0===d.length&&(d=ir+Lo(o)));else for(var m=m;m<a.offeringsList.length;m++)if(a.offeringList[m].quantity){if(0===a.offeringList[m].quantity.length&&0===d.length){d=Jm;break}a.offeringList[m].amount.length>0&&0===d.length&&(parseFloat(a.offeringList[m].amount)<parseFloat(n)&&(d=lr+Lo(n)),parseFloat(a.offeringList[m].amount)>parseFloat(o)&&0===d.length&&(d=ir+Lo(o)))}if("Invalid date"===a.settlementDate&&0===d.length&&(d=qm),0===a.minimumPieceSize.length&&0===d.length&&(d=_m),0===a.offeringlimit.length&&0===d.length&&(d=Um),a.offeringlimit.length>0&&0===d.length&&(0!==i&&parseInt(a.offeringlimit)%parseInt(i)&&(d=Dm+Lo(i)),a.amount.length>0?parseInt(a.offeringlimit)>parseFloat(a.amount)&&0===d.length&&(d=Cm):parseInt(a.offeringlimit)>parseFloat(l)&&0===d.length&&(d=Cm)),a.minimumPieceSize.length>0&&0===d.length&&(0!==i&&parseInt(a.minimumPieceSize)%parseInt(i)&&(d=Om+Lo(i)),a.amount.length>0?parseInt(a.minimumPieceSize)>parseFloat(a.amount)&&0===d.length&&(d=vm):parseInt(a.minimumPieceSize)>parseFloat(l)&&0===d.length&&(d=vm),parseInt(a.minimumPieceSize)%parseInt(a.offeringLimit)&&0===d.length&&(d=ym+Lo(i)),parseInt(a.minimumPieceSize)<parseFloat(n)&&0===d.length&&(d=km)),0===a.offeringsList.length&&0===d.length&&(d=Ym),0===d.length&&a.offeringsList.length>0)for(var h=0;h<a.offeringsList.length;h++){var u=a.offeringsList[h];if("{}"!==JSON.stringify(u)){if(""===u.offerRate&&0===u.offerRate.length&&0===d.length){d=Vm;break}if(""===u.bidRate&&0===u.bidRate.length&&0===d.length){d=Im;break}if(parseFloat(u.bidRate)<parseFloat(u.offerRate)){d=mh;break}if(void 0===u.fromDate&&0===d.length){d=Pm;break}if(u.fromDate){if(0===d.length&&Wu(u.fromDate,a.settlementDate)<=0){d=bm;break}if(0===d.length&&r&&r.length>0)for(var b=0;b<r.length;b++){var p=r[b],j=p.substring(0,p.indexOf("-")),x=p.substring(p.indexOf("-")+1,p.length),f=Wu(u.fromDate,j);if(0!==f&&(f=Wu(u.fromDate,x)),0===f){d=fm;break}}}if(u.fromDays){if(0===u.fromDays.length&&0===d.length){d=Bm;break}if(u.fromDays.length>0&&0===d.length&&parseInt(u.fromDays)>parseInt(c)){d=gm;break}}}}return 0===d.length||(this.setState({actionTitle:t,actionMessage:d,showError:!0,updateData:!1}),!1)}},{key:"onSave",value:function(){var e,t=this,a={},s=[],n=this.state,o=n.offeringsList,i=(n.quantityFlag,[]),l=0;if(o)for(var c=0;c<o.length;c++)if(o[c]&&o[c].fromDate){var r={};r.fromDate=Yu(o[c].fromDate,"MM/DD/YY"),r.fromDays=o[c].fromDays,r.offerRate=o[c].offer,r.bidRate=o[c].bid,r.issueId=o[c].issueId,o[c].amount&&(r.amount=Po(o[c].amount),l=parseFloat(l)+parseFloat(Po(r.amount))),i.push(r)}a.amount=Po(this.state.quantity),a.minimumPieceSize=this.state.minimumPieceSize?Po(this.state.minimumPieceSize):"",a.offeringlimit=this.state.offeringLimit?Po(this.state.offeringLimit):"",a.subjectFlag=this.state.firm,a.proceedsFlag=this.state.proceeds,a.offeringsList=i,a.settlementDate=Yu(this.state.settleDate,"MM/DD/YY"),a.notes=this.state.notes,a.ticker=this.state.ticker,a.issueId=this.state.issueId,a.programId=this.state.tickerId,s.push(a),this.verifyParams(s,"Save")&&(e="NEW"===this.props.fromPage?"/saveMCPCommitments":"/updateMCPCommitments",w()({method:"POST",url:N.URL+e,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data.responseMessage?(t.setState({actionResponse:"Save & "+e.data.responseMessage,updateData:!1}),(0,t.props.returnMethod)(e.data.responseMessage,e.data.programId,t.state.ticker)):(t.setState({actionResponse:"Save & "+e.data.responseMessage,updateData:!1}),(0,t.props.returnMethod)(e.data))})))}},{key:"hideAlert",value:function(){this.setState({alertShow:!1,updateData:!1})}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!1})}},{key:"getDefaultValues",value:function(e,t){this.setState({templateId:e}),"NEW"!==e&&this.setState({templateName:t,updateData:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.updateData,s=t.holidayData,n=t.productWeekData,o=this.state.offeringsList,i={};return i.offerRateTextComponent=this.offerRateTextComponent,i.bidRateTextComponent=this.bidRateTextComponent,i.maturityRangeComponent=this.maturityRangeComponent,i.investorComponent=this.investorComponent,i.matAmountComponent=this.matAmountComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),!1===a?Object(u.jsxs)(ai.a.Body,{children:[this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",Object(u.jsxs)(H.a,{xs:"4",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"TICKER",id:"lbl_investor",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:this.props.issueId?Object(u.jsx)("div",{id:"ticker",children:this.state.data?this.state.data[0].ticker:""}):Object(u.jsx)(jj,{apiCall:ji,reqParams:{tickerId:this.state.tickerId,productType:Wh,All:"false"},onchange:this.tickerChange,selected:this.state.singleSelections,id:"ticker"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"ISSUER",id:"lbl_issuer",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",id:"issuerName",children:this.state.issuerName?this.state.issuerName:""})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"TRADER",id:"lbl_trader"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",id:"trader",children:this.state.trader?this.state.trader:""})]})]}),Object(u.jsxs)(H.a,{xs:"4",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block removewrap",children:[Object(u.jsx)(ni,{label:"QUANTITY",id:"lbl_quantity",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"quantity",id:"quantity",value:this.state.quantity,onBlur:function(t){e.quantityChanges(t)}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"SETTLE",id:"lbl_settle",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{minDate:new Date,label:"settleDate",dateValue:this.state.settleDate,onchange:function(t){e.settleDataChange(t)},fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:s,productWeekData:n})})]})]}),Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:(n.length>0||s.length>0)&&Object(u.jsx)(Yb,{cprops:PO,mapdata:o,updateData:this.state.updateData,edit:!1,wsUrl:!1,noMaxHt:!0,mappings:AO,customComponents:i,keyField:"rowId",excelFlag:"true"})}),Object(u.jsxs)(W.a,{xs:3,className:"d-inline-block",children:[this.state.issuerId&&"NEW"===this.props.fromPage?Object(u.jsx)("div",{className:"tableCaption",children:"\xa0\xa0\xa0\xa0Todays Maturities"}):"",this.state.issuerId&&"NEW"===this.props.fromPage?Object(u.jsx)(Yb,{cprops:_O,updateData:this.state.updateData,apiCall:el,wsUrl:!1,reqParams:[{issuerId:this.state.issuerId,productType:Wh}],edit:!1,mappings:RO,customComponents:i,keyField:"rowId",excelFlag:"true"}):""]})]}),Object(u.jsx)(H.a,{className:"mt-2",children:Object(u.jsxs)(W.a,{md:7,children:[Object(u.jsxs)(W.a,{md:2,className:"d-inline-block pl-0",children:[Object(u.jsx)(ni,{label:"OFFERING LIMIT",id:"lbl_offerlimit",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{md:3,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"offeringLimit",id:"offeringLimit",value:this.state.offeringLimit,onBlur:function(t){e.offeringLimitChange(t)}})}),Object(u.jsxs)(W.a,{md:3,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"MINIMUM PIECE SIZE",id:"lbl_minpeicesize",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{md:3,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"minPieceSize",id:"minPieceSize",value:this.state.minimumPieceSize,onBlur:function(t){e.minPieceChange(t)}})})]})}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{md:7,children:[Object(u.jsxs)(W.a,{xs:2,className:"d-inline-block valign-top pl-0",children:[Object(u.jsx)(ni,{label:"MESSAGE",id:"lbl_message",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:9,className:"d-inline-block",children:Object(u.jsx)(qf,{name:"message",id:"message",value:this.state.notes,onBlur:function(t){e.onNotesChange(t)}})})]})}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{className:"d-inline-block mt-2 text-left",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",size:"sm",onClick:this.onSave,id:"post",children:"Post"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs ml-1",size:"sm",onClick:this.goBack,id:"return",children:"Return"})]})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.hideAlert()},messageType:cm})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})})]}):""]})})}}]),a}(o.a.Component),YO={},HO={},WO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s,n;return Object(i.a)(this,a),(n=t.call(this,e)).checkBoxComponent=function(e,t,a,s){var o="issueId"+t.issueId;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(e){n.onCheckboxClick(e,t.issueId,t,a)}})})},n.textBoxComponent=function(e,t,a,s,o){var i="offer"+t.issueId;return Object(u.jsx)(Eu,{name:i,id:i,value:e,onBlur:function(e){n.onFieldChange(e,t.issueId,t.offer,t,a)},onKeyPress:function(e){n.onAmountKey(e,t.issueId,"Offer",t,a)},className:"text-right"})},n.textBoxLimitComponent=function(e,t,a){var s="limit"+t.issueId;if("0000"===t.refIssueId)return Object(u.jsx)(Eu,{name:s,id:s,value:e,onBlur:function(e){n.onLimitChange(e,t.issueId,t.offeringlimit,t,a)},onKeyPress:function(e){n.onAmountKey(e,t.issueId,"Limit",t,a)},className:"text-right"})},n.textBoxOfferComponent=function(e,t,a,s){var o="offeramount"+t.issueId,i=n.state.inventoryData;return s&&(i[a]||(i.push({}),i[a]=t,n.setState({inventoryData:i}))),Object(u.jsx)(Eu,{name:o,id:o,value:Lo(e),onChange:function(e){n.onOfferChange(e,t.issueId,t.availableToday,t,a,"CHANGE")},onBlur:function(e){n.onOfferChange(e,t.issueId,t.availableToday,t,a,"")},onKeyPress:function(e){n.onKeyAmount(e,t.issueId,t,"Offer",a)},className:"text-right"})},n.textBoxRateComponent=function(e,t,a,s,o){var i=s.key,l=i+t.issueId;return Object(u.jsx)(Eu,{name:l,id:l,value:e,onChange:function(e){n.onRateChange(e,t.issueId,t.offer,t,i,a,"ONCHANGE")},onBlur:function(e){n.onRateChange(e,t.issueId,t.offer,t,i,a,"")},onKeyPress:function(e){n.onKeyAmount(e,t.issueId,t,i,a)},className:"text-right"})},n.onRateChange=function(e,t,a,s,o,i,l){if(!1===Bo(e.target.value,"1234567890.")&&0===l.length)n.setState({actionTitle:"Alert",actionMessage:"offer"===o?Vm:Tm,showError:!0,updateData:!1}),e.target.value=s.offer,e.target.focus();else{""!==e.target.value&&0===l.length&&_o(e);var c=n.state,r=(c.payload,c.inventoryData);"offer"===o?r[i].offerRate=e.target.value:r[i].bidRate=e.target.value,YO={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(e.target.value),offeringlimit:Po(document.getElementById("offeramount"+s.issueId).value)}}},n.onOfferChange=function(e,t,a,s,o,i){if(!1===Bo(e.target.value,"1234567890.,mmMMkkKK")&&0===i.length)n.setState({actionTitle:"Alert",actionMessage:Um,showError:!0,updateData:!1}),e.target.value=s.availableToday,e.target.focus();else{""!==e.target.value&&0===i.length&&Uo(e);var l=n.state;l.payload;l.inventoryData[o].offeringlimit=Po(e.target.value),HO={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(document.getElementById("offer"+s.issueId).value),offeringlimit:Po(e.target.value)}}},n.onCheckboxClick=function(e,t,a,s){void 0===n.props.message||""===n.props.message?(YO={ticker:a.ticker,issueId:t,bookId:a.bookId,bidRate:Po(a.bid),offerRate:Po(document.getElementById("offer"+a.issueId).value),offeringlimit:Po(document.getElementById("limit"+a.issueId).value)},e.target.checked&&(n.setState({payloadch:YO}),n.setState({actionTitle:rm,actionMessage:hm,alertShow:!0,updateData:!1,actionFlag:"DELETE"}))):n.setState({actionTitle:"Alert",actionMessage:n.props.message,updateData:!1,showError:!0})},n.onFieldChange=function(e,t,a,s,o){!1===Bo(e.target.value,"1234567890.")?(n.setState({actionTitle:"Alert",actionMessage:Vm,showError:!0,updateData:!1}),e.target.value=s.offer,e.target.focus()):(""!==e.target.value&&_o(e),YO={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(e.target.value),offeringlimit:null!==document.getElementById("limit"+s.issueId)?Po(document.getElementById("limit"+s.issueId).value):"0000"!==s.refIssueId?s.doubleAvailableCredit:""})},n.buyInventory=function(){void 0===n.props.message||""===n.props.message?n.setState({showBuyInv:!0}):n.setState({actionTitle:"Alert",actionMessage:n.props.message,showError:!0,updateData:!1})},n.sellInventory=function(){void 0===n.props.message||""===n.props.message?n.setState({showSellInv:!0,updateData:!1}):n.setState({actionTitle:"Alert",actionMessage:n.props.message,showError:!0,updateData:!1})},n.state=(s={cmodal:!0,modalData:"",modalDataRow:"",showBuyInv:!1,BuyInvtData:"",showSellInv:!1,SellInvtData:"",bookId:"",screenName:"Offerings",issueId:"",IssuerId:"",responseMessage:"",actionTitle:"",actionMessage:"",alertShow:!1,actionFlag:"",showError:!1},Object(g.a)(s,"actionTitle",""),Object(g.a)(s,"actionMessage",""),Object(g.a)(s,"showError",!1),Object(g.a)(s,"inventoryData",[]),Object(g.a)(s,"showCPBuy",!1),Object(g.a)(s,"buyConfData",""),Object(g.a)(s,"invType",""),Object(g.a)(s,"updateData",!0),s),n.closemodel=n.closemodel.bind(Object(O.a)(n)),n.linkComponent=n.linkComponent.bind(Object(O.a)(n)),n.openModal=n.openModal.bind(Object(O.a)(n)),n.onLimitChange=n.onLimitChange.bind(Object(O.a)(n)),n.textBoxLimitComponent=n.textBoxLimitComponent.bind(Object(O.a)(n)),n.textBoxComponent=n.textBoxComponent.bind(Object(O.a)(n)),n.textBoxOfferComponent=n.textBoxOfferComponent.bind(Object(O.a)(n)),n.textBoxRateComponent=n.textBoxRateComponent.bind(Object(O.a)(n)),n.bookChange=n.bookChange.bind(Object(O.a)(n)),n.checkBoxComponent=n.checkBoxComponent.bind(Object(O.a)(n)),n.actionComponent=n.actionComponent.bind(Object(O.a)(n)),n.editCommitment=n.editCommitment.bind(Object(O.a)(n)),n.convert=n.convert.bind(Object(O.a)(n)),n.returnMethod=n.returnMethod.bind(Object(O.a)(n)),n.onAmountKey=n.onAmountKey.bind(Object(O.a)(n)),n.hideAlert=n.hideAlert.bind(Object(O.a)(n)),n.confirmAction=n.confirmAction.bind(Object(O.a)(n)),n.hideError=n.hideError.bind(Object(O.a)(n)),n.onOfferChange=n.onOfferChange.bind(Object(O.a)(n)),n.onRateChange=n.onRateChange.bind(Object(O.a)(n)),n.onKeyAmount=n.onKeyAmount.bind(Object(O.a)(n)),n.verify=n.verify.bind(Object(O.a)(n)),n.publishAllInventory=n.publishAllInventory.bind(Object(O.a)(n)),n.verifyAll=n.verifyAll.bind(Object(O.a)(n)),n.getDefaultBookValues=n.getDefaultBookValues.bind(Object(O.a)(n)),n.returnLayerMethod=n.returnLayerMethod.bind(Object(O.a)(n)),n.returnResponse=n.returnResponse.bind(Object(O.a)(n)),n.fieldComponent=n.fieldComponent.bind(Object(O.a)(n)),n.onInvCheckboxClick=n.onInvCheckboxClick.bind(Object(O.a)(n)),n.invCheckBoxComponent=n.invCheckBoxComponent.bind(Object(O.a)(n)),n}return Object(l.a)(a,[{key:"openModal",value:function(e,t){var a;Object.keys(e).map((function(s){e[s]===t&&s===ln&&(a=s)})),this.setState({modalData:a,modalDataRow:e,showModal:!0,updateData:!1})}},{key:"hideModal",value:function(){this.setState({showModal:!1,showBuyInv:!1,showSellInv:!1,showCPBuy:!1,updateData:!0})}},{key:"onLimitChange",value:function(e,t,a,s,n){!1===Bo(e.target.value,"1234567890.,mmMMkkKK")||e.target.value<0?(this.setState({actionTitle:"Alert",actionMessage:Um,showError:!0}),e.target.value=s.availableToday):(""!==e.target.value&&Uo(e),HO={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(document.getElementById("offer"+s.issueId).value),offeringlimit:Po(e.target.value)})}},{key:"onKeyAmount",value:function(e,t,a,s,n){if(void 0===this.props.message||""===this.props.message){var o=this.state;o.bookId,o.ticker;HO={ticker:a.ticker,issueId:t,bookId:a.bookId,bidRate:Po(a.bid),offerRate:Po(document.getElementById("offer"+a.issueId).value),offeringlimit:Po(document.getElementById("offeramount"+a.issueId).value)},"Enter"===e.key&&this.verify(HO,"PUBLISHINV",n)&&this.setState({actionTitle:"Publish",actionMessage:"Are you sure, you want to Publish the Inventory ?",alertShow:!0,updateData:!1,actionFlag:"PUBLISHINV"})}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"linkComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openModal.bind(this,t,e),children:e})}},{key:"bookChange",value:function(e){this.setState({bookId:e.target.value})}},{key:"editCommitment",value:function(e){void 0===this.props.message||""===this.props.message?this.setState({screenName:"Edit",issueId:e,updateData:!1}):this.setState({actionTitle:"Alert",actionMessage:this.props.message,showError:!0,updateData:!1})}},{key:"convert",value:function(e,t,a){void 0===this.props.message||""===this.props.message?this.setState({screenName:"Convert",issueId:e,issuerId:t,bookId:a,updateData:!1}):this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"checkBoxComponent",value:function(e,t,a,s){var n=this,o="issueId"+t.issueId;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(e){n.onCheckboxClick(e,t.issueId,t,a)}})})}},{key:"actionComponent",value:function(e,t,a,s){var n=this;if("0000"===t.refIssueId)return Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"btn btn-link",id:"edit"+a,onClick:function(){n.editCommitment(e)},style:{marginRight:"0.5em",marginLeft:"1em"},children:Object(u.jsx)("img",{src:"/omsservice/images/edit-icon.png",alt:"edit"})})},a)}},{key:"returnMethod",value:function(e){this.setState({screenName:"Offerings",responseMessage:e,updateData:!1})}},{key:"onAmountKey",value:function(e,t,a,s,n){if(void 0===this.props.message||""===this.props.message){var o=this.state;o.payload,o.bookId,o.ticker;if("Enter"===e.key){YO={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(document.getElementById("offer"+s.issueId).value),offeringlimit:null!==document.getElementById("limit"+s.issueId)?Po(document.getElementById("limit"+s.issueId).value):"0000"!==s.refIssueId?s.doubleAvailableCredit:""};var i;"Offer"===a?"0000"!==s.refIssueId?this.verifyOnlyRate(YO,"PUBLISH",n)&&this.setState({actionTitle:"Publish",actionMessage:"Are you sure, you want to Publish the Commitment ?",alertShow:!0,updateData:!1,actionFlag:"PUBLISH"}):parseFloat(Po(s.availableToday))>=parseFloat(s.minimumPieceSize)&&parseFloat(Po(s.availableToday))<=parseFloat(Po(s.availableCredit))?this.verify(YO,"PUBLISH",n)&&this.setState({actionTitle:"Publish",actionMessage:"Are you sure, you want to Publish the Commitment ?",alertShow:!0,updateData:!1,actionFlag:"PUBLISH"}):(!1,i="Amount Should be greater than or equal to ("+s.minimumPieceSize+") and less than or equal to Unsold Amount",this.setState({actionTitle:"Alert",actionMessage:i,showError:!0,updateData:!1})):"Limit"===a&&(parseFloat(Po(e.target.value))>=parseFloat(s.minimumPieceSize)&&parseFloat(Po(e.target.value))<=parseFloat(Po(s.availableCredit))?this.verify(YO,"PUBLISH",n)&&this.setState({actionTitle:"Publish",actionMessage:"Are you sure, you want to Publish the Commitment ?",alertShow:!0,updateData:!1,actionFlag:"PUBLISH"}):(!1,i="Amount Should be greater than or equal to ("+s.minimumPieceSize+") and less than or equal to Unsold Amount",this.setState({actionTitle:"Alert",actionMessage:i,showError:!0,updateData:!1})))}}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,showError:!0,updateData:!1})}},{key:"hideAlert",value:function(){this.setState({alertShow:!1,updateData:!0})}},{key:"confirmAction",value:function(e){var t=this;this.state.payload;if("DELETE"===e){this.setState({alertShow:!1});var a=[{}];a[0]=YO.issueId;var s=[{}];s[0]=YO.bookId;var n=[{}];n[0]=YO.ticker,w()({method:"POST",url:N.URL+ui,timeout:N.apiTimeOut,data:{issues:a,bookId:s,ticker:n},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}))}else if("PUBLISHINV"===e){this.setState({alertShow:!1});var o=[];o.push(HO),w()({method:"POST",url:N.URL+pc,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}))}else if("PUBLISH"===e)this.setState({alertShow:!1,updateData:!1}),w()({method:"POST",url:N.URL+hl,timeout:N.apiTimeOut,data:YO,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}));else if("PUBLISHALLINV"===e){this.setState({alertShow:!1});var i=this.state.paramPayload;w()({method:"POST",url:N.URL+pc,timeout:N.apiTimeOut,data:i,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}))}}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"invCheckBoxComponent",value:function(e,t,a,s){var n=this,o="issueId"+t.issueId;if(t.availableToday>0)return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(s){n.onInvCheckboxClick(e,a,t,s)}})})}},{key:"onInvCheckboxClick",value:function(e,t,a,s){HO={ticker:a.ticker,issueId:e,bookId:a.bookId,bidRate:Po(a.bid),offerRate:Po(document.getElementById("offer"+a.issueId).value),offeringlimit:Po(document.getElementById("offeramount"+a.issueId).value)},s.target.checked}},{key:"verifyOnlyRate",value:function(e,t,a){var s="";return"PUBLISH"===t&&(e.offerRate||0!==s.length||(s=Vm)),!s||(this.setState({actionTitle:"Alert",actionMessage:s,showError:!0,updateData:!1}),!1)}},{key:"verify",value:function(e,t,a){var s="";return"DELETE"===t||("PUBLISH"===t?(e.offeringlimit||0!==s.length||(s=Um),e.offerRate||0!==s.length||(s=Vm)):"PUBLISHINV"===t&&((e.offeringlimit||0!==s.length)&&(!e.offeringlimit||0!==e.offeringlimit.length&&0!==parseFloat(e.offeringlimit))||(s="Row"+(a+1)+":"+Um),(e.offerRate||0!==s.length)&&(!e.offerRate||0!==e.offerRate.length&&0!==parseFloat(e.offerRate))||(s="Row"+(a+1)+":"+Vm),(e.bidRate||0!==s.length)&&(!e.bidRate||0!==e.bidRate.length&&0!==parseFloat(e.bidRate))||(s="Row"+(a+1)+":"+Tm),e.offerRate&&e.bidRate&&0===s.length&&parseFloat(e.bidRate)<parseFloat(e.offerRate)&&(s="Row"+(a+1)+":"+mh)),!s||(this.setState({actionTitle:"Alert",actionMessage:s,showError:!0,updateData:!1}),!1))}},{key:"verifyAll",value:function(e,t){for(var a=!0,s=0;s<e.length;s++){var n=this.verify(e[s],t,s);if(!1===n){a=n;break}}return a}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All"})}},{key:"publishAllInventory",value:function(){if(void 0===this.props.message||""===this.props.message){for(var e=this.state.inventoryData,t=[],a=0;a<e.length;a++)0===parseFloat(e[a].offerRate)&&(e[a].offerRate=e[a].offer),0===parseFloat(e[a].bidRate)&&(e[a].bidRate=e[a].bid),0===parseFloat(e[a].offeringlimit)&&(e[a].offeringlimit=e[a].availableToday),t.push(e[a]);this.setState({paramPayload:t}),this.verifyAll(t,"PUBLISHINV")&&this.setState({actionTitle:"Publish",actionMessage:"Are you sure, you want to Publish the Inventory ?",alertShow:!0,updateData:!1,actionFlag:"PUBLISHALLINV"})}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"returnLayerMethod",value:function(e,t){this.setState({buyConfData:e,showCPBuy:!0,showBuyInv:!1,showSellInv:!1,invType:t,updateData:!1})}},{key:"returnResponse",value:function(e){this.setState({responseMessage:e.responseMessage,showCPBuy:!1,updateData:!1})}},{key:"fieldComponent",value:function(e,t,a,s){var n=s.colId;return"0000"===t.refIssueId||"Issuer"===n||"SD"===n||"Range"===n||"Scale"===n?"Offer Quant($m)"===n?Lo(e):e:void 0}},{key:"invFieldComponent",value:function(e,t,a,s){return"Par ($m)"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t={};t.linkComponent=this.linkComponent,t.checkBoxComponent=this.checkBoxComponent,t.textBoxComponent=this.textBoxComponent,t.textBoxLimitComponent=this.textBoxLimitComponent,t.textBoxOfferComponent=this.textBoxOfferComponent,t.checkBoxComponent=this.checkBoxComponent,t.actionComponent=this.actionComponent,t.invCheckBoxComponent=this.invCheckBoxComponent,t.textBoxRateComponent=this.textBoxRateComponent,t.fieldComponent=this.fieldComponent,t.invFieldComponent=this.invFieldComponent;var a=sessionStorage.getItem("loginid");return Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"","Offerings"===this.state.screenName?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{xs:5,children:[Object(u.jsxs)(W.a,{xs:2,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:qg.books,id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Wh},onchange:this.bookChange,selected:this.state.bookId,stateMethod:this.getDefaultBookValues,id:"bookId"})}),Object(u.jsxs)(W.a,{xs:7,className:"d-inline-block mt-2",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",onClick:this.buyInventory,id:"buyInventory",children:"Buy Inventory"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",onClick:this.sellInventory,id:"sellInventory",children:"Sell Inventory"})]})]}),Object(u.jsxs)(W.a,{xs:7,className:"text-right",children:[Object(u.jsx)(OO,{apiCall:Di,reqParams:{productType:Wh}}),Object(u.jsxs)(W.a,{xs:3,className:"d-inline-block mt-2",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"publishOfferings",onClick:this.publishAllInventory,children:"Publish Offerings"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",id:"axe",onClick:this.copySaveGridClick,children:"AXE"})]})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})}),this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",this.state.cmodal?Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Primary"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:eO,apiCall:ar,wsUrl:!0,reqParams:{prodType:Wh,transType:"10",issueType:"S",bookid:this.state.bookId?this.state.bookId:"All",loginId:a,socketSource:"BOOKVIEW"},edit:!1,mappings:Ug,keyField:"issueId",customComponents:t,updateData:this.state.updateData,fromPage:"Offerings",screenName:"PRIMARY",subTitle:"Book View MCP ",flagPdf:!0})})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",id:"inventory",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Inventory"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:tO,apiCall:ar,wsUrl:!0,reqParams:{prodType:Wh,transType:"10",issueType:"F",bookid:this.state.bookId?this.state.bookId:"All",loginId:a,socketSource:"BOOKVIEW"},edit:!1,mappings:Fg,keyField:1,customComponents:t,updateData:this.state.updateData,fromPage:"Offerings",screenName:"INVENTORY",subTitle:"Book View MCP ",flagPdf:!0})})}),this.state.modalData===ln&&Object(u.jsx)(uO,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:Wh,modalData:this.state.modalData,modalDataRow:this.state.modalDataRow,message:this.props.message}),Object(u.jsx)(jO,{size:"md",show:this.state.showBuyInv,onHide:function(){return e.hideModal()},modalHead:"Buy Inventory",prodType:Wh,modalData:this.state.BuyInvtData,returnMethod:this.returnLayerMethod,ticketType:"B"}),Object(u.jsx)(gO,{size:"md",show:this.state.showSellInv,onHide:function(){return e.hideModal()},modalHead:"Sell Inventory",prodType:Wh,modalData:this.state.SellInvtData,returnMethod:this.returnLayerMethod,ticketType:"S"}),Object(u.jsx)(Mp,{size:"md",show:this.state.showCPBuy,onHide:function(){return e.hideModal()},modalHead:"B"===this.state.invType?"Buy Ticket":"Sell Ticket",prodType:Wh,modalData:this.state.buyConfData,returnMethod:this.returnResponse,ticketType:this.state.invType})]})]}):""]}):"Edit"===this.state.screenName?Object(u.jsx)(VO,{issueId:this.state.issueId,apiCall:Xi,reqParams:{issueId:this.state.issueId,productType:Wh},returnMethod:this.returnMethod,fromPage:this.state.screenName,linkname:"Edit MCP Commitment"}):{}]})}}]),a}(o.a.Component),qO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={updateFlag:!1,respMessage:"",rejectReason:"",actionTitle:"",actionMessage:"",showError:!0,tradeData:[],holidayData:[],productWeekData:[]},s.handleSell=s.handleSell.bind(Object(O.a)(s)),s.handleSave=s.handleSave.bind(Object(O.a)(s)),s.handleReject=s.handleReject.bind(Object(O.a)(s)),s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.postData=s.postData.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.accountChange=s.accountChange.bind(Object(O.a)(s)),s.verify=s.verify.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.clientData;t.action="CLIENTFLAG",w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:t.productType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})})),this.postData(t,Nl)}},{key:"handleSell",value:function(e){var t=this,a=!1,s={};if((s=this.state.tradeData).issuerName=this.state.tradeData.issuerName,s.amount=this.state.tradeData.amount,s.investerCassii=this.state.tradeData.investerCassii,s.yield=this.state.tradeData.yield,s.price=this.state.tradeData.price,s.coupon=this.state.tradeData.coupon,s.maturityDate=this.state.tradeData.maturityDate,s.datedDate=Yu(this.state.tradeData.datedDate,"MM/DD/YY"),s.settleDate=Yu(this.state.tradeData.settleDate,"MM/DD/YY"),s.ticker=this.state.tradeData.ticker,s.maturityDate=Yu(this.state.tradeData.maturityDate,"MM/DD/YY"),this.verify(s))if(Object.keys(this.props.clientData).map((function(e){document.getElementById(e)&&document.getElementById(e).value&&t.props.clientData[e].toString()!==document.getElementById(e).value&&(a=!0)})),a)this.props.handleClientBid(e,a,s);else{this.handleSave();var n=this.state.tradeData;n.status="Accepted",this.props.handleClientBid(e,a,n)}}},{key:"verify",value:function(e){var t="";return""===e.amount||0===parseFloat(e.amount)?t=wm:""===e.bidYield||0===parseFloat(e.bidYield)?t=$m:""===e.price||0===parseFloat(e.price)?t=th:""===e.accountName||void 0===e.accountName?t=Am:""===e.clientinvesterCassii||void 0===e.clientinvesterCassii?t=Mm:""!==e.shortName&&void 0!==e.shortName||(t=Rm),!t||(this.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1)}},{key:"accountChange",value:function(e,t){this.state.tradeData[t]=e.target.value}},{key:"handleReject",value:function(e){var t=this,a=!1,s={};(s=this.state.tradeData).status="Rejected",s.rejectReason="Rejected by Client",Object.keys(this.props.clientData).map((function(e){document.getElementById(e)&&t.props.clientData[e]!==document.getElementById(e).value&&(a=!0)})),this.props.handleClientBid(e,a,s)}},{key:"handleSave",value:function(){var e=this.state.tradeData;e.action="SAVEINV",this.postData(e,Tl)}},{key:"onDateChange",value:function(e,t){var a=this.state.tradeData;a[t]=Yu(e,"MM/DD/YY"),this.postData(a,Nl)}},{key:"onContentChange",value:function(e,t){var a=this.state.tradeData,s=!1;void 0!==e.target.value&&e.target.value.length<=0?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):"amount"===t?!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):(_o(e),a[t]=Po(e.target.value),this.postData(a,Nl)):"coupon"===t||"yield"===t||"price"===t?!1===Bo(e.target.value,"1234567890.")?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):(a[t]=Po(e.target.value),this.postData(a,Nl)):s||(a[t]=e.target.value,this.postData(a,Nl))}},{key:"postData",value:function(e,t){var a=this;this.setState({rejectReason:""}),e.rejectReason="",e.responseMessage="",w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(a.setState({tradeData:e.data}),void 0!==a.state.tradeData&&void 0!==a.state.tradeData.rejectReason&&a.state.tradeData.rejectReason.length>0?a.setState({rejectReason:a.state.tradeData.rejectReason}):void 0!==a.state.tradeData&&void 0!==a.state.tradeData.responseMessage&&a.state.tradeData.responseMessage.length>0&&a.setState({respMessage:a.state.tradeData.responseMessage}))}))}},{key:"render",value:function(){var e=this,t=this.props.clientData,a=this.state,s=a.holidayData,n=a.productWeekData;return Object(u.jsxs)("div",{children:[t?Object(u.jsxs)("div",{className:"modal-cls",id:"SellTicket",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",Object(u.jsxs)("div",{className:"brc",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_issuerName",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"issuerName",children:t.issuerName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-6 col-xs-8 text-left ",id:"ticker",children:t.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_maturityDate",children:"MAT:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left removewrap",id:"maturityDate",children:t.maturityDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_settle",children:"DTM:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"settle",children:0===this.state.tradeData.length?t.settle:this.state.tradeData.settle})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 ext-left font-weight-bold removewrap",id:"lbl_investerCassii",children:"Customer OMS:"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"investerCassii",children:t.investerCassii})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 ext-left font-weight-bold",id:"lbl_prodName",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"prodName",children:t.prodName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 ext-left font-weight-bold",id:"lbl_datedDate",children:"Dated:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"datedDate",children:t.datedDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_currency",children:"CURRENCY:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"currencyCode",children:t.currencyCode})]})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_amount",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right font-weight-bold",children:"$m:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"amount",id:"amount",value:0===this.state.tradeData.length?Lo(t.amount):Lo(this.state.tradeData.amount),onBlur:function(t){e.onContentChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"settle",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"Settle:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"lyr-bsettle",id:"lyr-bsettle",dateValue:new Date(0===this.state.tradeData.length?t.settlementDate:this.state.tradeData.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"settlementDate")},currency:0===this.state.tradeData.length?t.currencyCode:this.state.tradeData.currencyCode,holidayData:s,productWeekData:n})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_coupon",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"Coupon:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"coupon",id:"coupon",value:0===this.state.tradeData.length?t.coupon:this.state.tradeData.coupon,onBlur:function(t){e.onContentChange(t,"coupon")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_yield",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"Yield:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"yield",id:"yield",value:0===this.state.tradeData.length?t.yield:this.state.tradeData.yield,onBlur:function(t){e.onContentChange(t,"yield")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_price",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"Price:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"price",id:"price",value:this.state.tradeData.price,onBlur:function(t){e.onContentChange(t,"price")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-right font-weight-bold",id:"lbl_netAmt",children:"Net $:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8   text-right",id:"netAmt",children:this.state.tradeData.netAmt})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-right font-weight-bold",id:"lbl_accruedInterest",children:"Acc Int:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8   text-right",id:"accruedInterest",children:this.state.tradeData.accruedInterest})})]})]}),Object(u.jsxs)("div",{className:"",children:[Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_accountName",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Account Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{id:"accountName",value:0===this.state.tradeData.length?t.accountName:this.state.tradeData.accountName,onBlur:function(t){e.accountChange(t,"accountName")}})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_cassii",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"OMS:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{id:"clientinvesterCassii",value:0===this.state.tradeData.length?t.clientinvesterCassii:this.state.tradeData.clientinvesterCassii,onBlur:function(t){e.accountChange(t,"clientinvesterCassii")}})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:Object(u.jsxs)("div",{className:"row p3 mb-1",children:[Object(u.jsx)("label",{id:"lbl_shortName",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Short Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{id:"shortName",value:0===this.state.tradeData.length?t.shortName:this.state.tradeData.shortName,onBlur:function(t){e.accountChange(t,"shortName")}})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_notes",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Notes:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{id:"notes",value:t.notes})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_msgType",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"B/S:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{id:"lyr-buysell",name:"lyr-buysell",value:"85"===this.state.tradeData.transType?"S":"B",className:"form-control input-sm"})})]})})]})]}):Object(u.jsx)("div",{className:"col-md-12 text-center",children:Object(u.jsx)(Fb,{})}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:[Object(u.jsx)("button",{id:"accept",onClick:this.handleSell.bind(this,!0),className:"btn btn-success btn-xs mr-2",children:"Accept"}),Object(u.jsx)("button",{id:"reject",onClick:this.handleReject.bind(this,!1),className:"btn btn-danger btn-xs",children:"Reject"})]}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})}}]),a}(o.a.Component),zO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).onDateChange=function(e,t){"maturityDate"===t?s.setState({maturityDate:e}):"settleDate"===t?s.setState({settleDate:e}):s.setState({datedDate:e})},s.onContentChange=function(e,t){"investerCassii"===t&&s.setState({investerCassii:e.target.value}),"coupon"===t&&s.setState({coupon:e.target.value}),"yield"===t&&s.setState({yield:e.target.value}),"amount"===t&&(!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?s.setState({actionTitle:"Client Inventory",actionMessage:wm,showError:!0}):(""!==e.target.value&&Uo(e),s.setState({amount:Po(e.target.value)})))},s.clearState=function(){s.setState({respMessage:"",rejectReason:""})},s.state={cusipSelection:"",issuerName:"",prodName:"",rejectReason:"",respMessage:"",cassii:"",maturityDate:"",actionTitle:"",actionMessage:"",showError:!1,holidayData:[],productWeekData:[],currencyCode:"USD"},s.handleSell=s.handleSell.bind(Object(O.a)(s)),s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.verify=s.verify.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:zh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})}))}},{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"handleSell",value:function(e){var t=this,a={};a.issuerName=this.state.issuerName,a.amount=this.state.amount,a.investerCassii=this.state.investerCassii,a.clientinvesterCassii=this.state.investerCassii,a.cassii=this.state.investerCassii,a.yield=this.state.yield,a.coupon=this.state.coupon,a.productType=zh,a.maturityDate=Yu(this.state.maturityDate,"MM/DD/YY"),a.settleDate=Yu(this.state.settleDate,"MM/DD/YY"),a.ticker=this.state.ticker,a.programId=this.state.programId,a.datedDate=Yu(this.state.datedDate,"MM/DD/YY"),a.settlementDate=Yu(this.state.settleDate,"MM/DD/YY"),a.action="CLIENTFLAG",this.verify(a)&&w()({method:"POST",url:N.URL+Nl,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.props.handleChange(e.data,!0)}))}},{key:"verify",value:function(e){var t="",a=!1;return void 0===e.ticker||""===e.ticker?t=Lh:void 0===e.investerCassii||""===e.investerCassii?t=Yh:""===e.maturityDate||void 0===e.maturityDate||"Invalid date"===e.maturityDate?t=Lm:0===t.length&&Wu(e.settlementDate,e.maturityDate)>0?t=jm:void 0===e.amount||""===e.amount?t=ch:void 0===e.coupon||""===e.coupon?t=eh:void 0!==e.yield&&""!==e.yield||(t=$m),t.length>0?(a=!1,this.setState({actionTitle:"Client Inquiry",actionMessage:t,showError:!0})):a=!0,a}},{key:"tickerChange",value:function(e,t){var a=this;this.setState({singleSelections:e}),this.setState({tickerId:t,ticker:e[0]}),w()({method:"POST",url:N.URL+yl,timeout:N.apiTimeOut,data:{ticker:e[0],issuerId:t,productType:zh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({issuerName:e.data.issuerName,currencyCode:e.data.currencyCode}),a.setState({programId:e.data.programId})}))}},{key:"cassiiCheck",value:function(e,t){var a={};a.investerCassii=e.target.value,a.fromPage="CASIIACCT",this.postData(a,cl),this.clearState()}},{key:"postData",value:function(e,t){var a=this;e.rejectReason="",e.responseMessage="",w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(cl===t&&a.setState({investerCassii:e.data.investerCassii}),a.setState({tradeData:e.data}),void 0!==a.state.tradeData&&void 0!==a.state.tradeData.rejectReason&&a.state.tradeData.rejectReason.length>0?a.setState({rejectReason:a.state.tradeData.rejectReason}):void 0!==a.state.tradeData&&void 0!==a.state.tradeData.responseMessage&&a.state.tradeData.responseMessage.length>0&&a.setState({respMessage:a.state.tradeData.responseMessage}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.holidayData,s=t.productWeekData;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",Object(u.jsx)("div",{className:"col-md-6 d-inline-block",children:Object(u.jsxs)("div",{className:"row p3 mb-1",children:[Object(u.jsx)("label",{id:"lbl_ticker",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Ticker:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6",children:Object(u.jsx)(jj,{apiCall:ji,reqParams:{ticker:this.state.tickerId,productType:zh},onchange:this.tickerChange,selected:this.state.singleSelections,id:"ticker"})}),Object(u.jsx)("span",{className:"align-middle ml-n2",children:Object(u.jsx)(B.z,{onClick:function(t){e.onSearchCusip(t)}})})]})}),Object(u.jsx)("div",{className:"col-md-6 d-inline-block",children:Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_investerCassii",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left removewrap",children:"Customer OMS:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:Object(u.jsx)(Eu,{name:"investerCassii",id:"investerCassii",value:this.state.investerCassii,onBlur:function(t){e.cassiiCheck(t,"investerCassii")}})})]})}),Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_matdate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left removewrap",children:"Maturity Date:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:(s.length>0||a.length>0)&&this.state.currencyCode&&Object(u.jsx)(Ju,{label:"maturirtyDate",onchange:function(t){e.onDateChange(t,"maturityDate")},dateValue:this.state.maturityDate,fromDateFlg:!1,toDateFlg:!1,currency:this.state.currencyCode,holidayData:a,productWeekData:s})})]}),Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_datedDate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Dated Date:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:(s.length>0||a.length>0)&&this.state.currencyCode&&Object(u.jsx)(Ju,{label:"datedDate",onchange:function(t){e.onDateChange(t,"datedDate")},dateValue:void 0===this.state.datedDate?new Date:new Date(this.state.datedDate),fromDateFlg:!1,toDateFlg:!1,currency:this.state.currencyCode,holidayData:a,productWeekData:s})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_settledate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Settle Date:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:(s.length>0||a.length>0)&&this.state.currencyCode&&Object(u.jsx)(Ju,{label:"settleDate",id:"settleDate",onchange:function(t){e.onDateChange(t,"settleDate")},dateValue:void 0===this.state.settleDate?new Date:new Date(this.state.settleDate),fromDateFlg:!1,toDateFlg:!1,currency:this.state.currencyCode,holidayData:a,productWeekData:s})})]}),Object(u.jsxs)("div",{className:"row p3",children:[Object(u.jsx)("label",{id:"lbl_amount",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left removewrap",children:"Amount ($m):"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:Object(u.jsx)(Eu,{name:"amount",id:"amount",value:this.state.amount,onBlur:function(t){e.onContentChange(t,"amount")}})})]})]}),Object(u.jsx)("div",{className:"col-md-6 d-inline-block",children:Object(u.jsxs)("div",{className:"row p3",children:[Object(u.jsx)("label",{id:"lbl_coupon",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Coupon:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:Object(u.jsx)(Eu,{name:"coupon",id:"coupon",value:this.state.coupon,onBlur:function(t){e.onContentChange(t,"coupon")}})})]})}),Object(u.jsx)("div",{className:"col-md-6 d-inline-block",children:Object(u.jsxs)("div",{className:"row p3",children:[Object(u.jsx)("label",{id:"lbl_yield",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Yield:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:Object(u.jsx)(Eu,{name:"yield",id:"yield",value:this.state.yield,onBlur:function(t){e.onContentChange(t,"yield")}})})]})}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:[Object(u.jsx)("button",{id:"sell",onClick:this.handleSell.bind(this,!0),className:"btn btn-danger btn-xs mr-2",children:"Sell"}),Object(u.jsx)("button",{id:"clear",className:"btn btn-primary btn-xs",children:"Clear"})]})]}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})}}]),a}(o.a.Component),GO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cusipSelection:"",issuerName:"",descr:"",minAmount:"",maxAmount:"",increment:"",maxNoOfDays:"",matDates:"",issuerId:"",productData:{},cusip:"",payload:{},tradeData:[],prodId:"",prodName:"",cassii:""},s.handleSell=s.handleSell.bind(Object(O.a)(s)),s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.postData=s.postData.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.accountChange=s.accountChange.bind(Object(O.a)(s)),s.verify=s.verify.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"componentDidMount",value:function(){var e=this.props.clientData;e.action="CLIENTFLAG",this.postData(e,Nl)}},{key:"handleSell",value:function(e){var t;t=this.state.tradeData,this.verify(t)&&this.props.handleTradeQuote(e,t)}},{key:"accountChange",value:function(e,t){this.state.tradeData[t]=e.target.value}},{key:"verify",value:function(e){var t="";return""===e.amount||0===parseFloat(e.amount)?t=wm:""===e.bidYield||0===parseFloat(e.bidYield)?t=$m:""===e.price||0===parseFloat(e.price)?t=th:""===e.accountName||void 0===e.accountName?t=Am:""===e.clientinvesterCassii||void 0===e.clientinvesterCassii?t=Mm:""!==e.shortName&&void 0!==e.shortName||(t=Rm),!t||(this.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1)}},{key:"onDateChange",value:function(e,t){var a=this.state.tradeData;a[t]=Yu(e,"MM/DD/YY"),this.postData(a,Nl)}},{key:"onContentChange",value:function(e,t){var a=this.state.tradeData,s=!1;void 0!==e.target.value&&e.target.value.length<=0?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):"amount"===t?!1===Bo(e.target.value,"1234567890.,mmMMkkKK")&&(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):"coupon"===t||"yield"===t?!1===Bo(e.target.value,"1234567890.")&&(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):"price"===t&&!1===Bo(e.target.value,"1234567890.")&&(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()),s||(a[t]=e.target.value,this.postData(a,Nl))}},{key:"postData",value:function(e,t){var a=this;e.rejectReason="",e.responseMessage="",w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(a.setState({tradeData:e.data}),void 0!==a.state.tradeData&&void 0!==a.state.tradeData.rejectReason&&a.state.tradeData.rejectReason.length>0?a.setState({rejectReason:a.state.tradeData.rejectReason}):void 0!==a.state.tradeData&&void 0!==a.state.tradeData.responseMessage&&a.state.tradeData.responseMessage.length>0&&a.setState({respMessage:a.state.tradeData.responseMessage}))}))}},{key:"render",value:function(){var e=this,t=this.props.clientData;return Object(u.jsxs)("div",{children:[t?Object(u.jsxs)("div",{className:"modal-cls",id:"SellTicket",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",Object(u.jsxs)("div",{className:"brc",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_issuerName",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"issuerName",children:t.issuerName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"ticker",children:t.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_maturityDate",children:"MAT:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"maturityDate",children:t.maturityDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbi_dtm",children:"DTM:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"dtm",children:0===this.state.tradeData.length?t.settle:this.state.tradeData.settle})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 ext-left font-weight-bold",id:"lbl_customerCassii",children:"Customer OMS:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",id:"customerCassii",children:t.investerCassii})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 ext-left font-weight-bold",id:"product",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"productType",children:t.prodName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 ext-left font-weight-bold",id:"lbl_datedDate",children:"Dated:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"datedDate",children:t.datedDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",id:"lbl_currency",children:"CURRENCY:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"currency",children:t.currencyCode})]})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_amount",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right font-weight-bold",children:"$m:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"amount",id:"amount",value:0===this.state.tradeData.length?t.amount:this.state.tradeData.amount,onBlur:function(t){e.onContentChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"settle",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"Settle:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Ju,{label:"lyr-bsettle",id:"lyr-bsettle",dateValue:new Date(0===this.state.tradeData.length?t.settlementDate:this.state.tradeData.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"settlementDate")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_coupon",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"Coupon:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"coupon",id:"coupon",value:0===this.state.tradeData.length?t.coupon:this.state.tradeData.coupon,onBlur:function(t){e.onContentChange(t,"coupon")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_yield",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"Yield:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"yield",id:"yield",value:this.state.tradeData.yield,onBlur:function(t){e.onContentChange(t,"yield")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_price",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"Price:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"price",id:"price",value:this.state.tradeData.price,onBlur:function(t){e.onContentChange(t,"price")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-right font-weight-bold",id:"lbl_netAmount",children:"Net $:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",id:"netAmount",children:0===this.state.tradeData.length?t.netAmt:this.state.tradeData.netAmt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-right font-weight-bold",id:"lbl_acctIns",children:"Acc Int:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",id:"acctIns",children:0===this.state.tradeData.length?t.accruedInterest:this.state.tradeData.accruedInterest})]}),Object(u.jsxs)("div",{className:"",children:[Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_accountName",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Account Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{id:"accountName",value:0===this.state.tradeData.length?t.accountName:this.state.tradeData.accountName,onBlur:function(t){e.accountChange(t,"accountName")}})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_cassii",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"OMS:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{id:"cassii",value:0===this.state.tradeData.length?t.clientinvesterCassii:this.state.tradeData.clientinvesterCassii,onBlur:function(t){e.accountChange(t,"clientinvesterCassii")}})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_shortName",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Short Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{id:"shortName",value:0===this.state.tradeData.length?t.shortName:this.state.tradeData.shortName,onBlur:function(t){e.accountChange(t,"shortName")}})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_notes",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Notes:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{id:"notes",value:t.notes})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_msgType",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"B/S:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{id:"lyr-buysell",name:"lyr-buysell",value:"85"===this.state.tradeData.transType?"S":"B",className:"form-control input-sm"})})]})})]})]})]}):Object(u.jsx)("div",{className:"col-md-12 text-center",children:Object(u.jsx)(Fb,{})}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:[Object(u.jsx)("button",{id:"counter",onClick:this.handleSell.bind(this,!0),className:"btn btn-xs mr-2 btn-danger",children:"Counter"}),Object(u.jsx)("button",{id:"accept",onClick:this.handleSell.bind(this,!0),className:"btn btn-success btn-xs mr-2",children:"Accept"}),Object(u.jsx)("button",{id:"reject",onClick:this.handleSell.bind(this,!0),className:"btn btn-xs btn-danger",children:"Reject"})]}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})}}]),a}(o.a.Component),KO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.clientData;return Object(u.jsx)("div",{children:e?Object(u.jsxs)("div",{className:"modal-cls",id:"SellTicket",children:[Object(u.jsxs)("div",{className:"bgc",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_issuerName",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"issuerName",children:e.issuerName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"product",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"productType",children:e.prodName})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"ticker",children:e.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"- "}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:" -"})]})]})]}),Object(u.jsx)("div",{className:"fo2table",children:Object(u.jsx)("table",{className:"table table-striped",children:Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"lbl_accountName",children:"Acct:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"accountName",children:e.accountName})]}),Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"lbl_status",children:"Status:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"status",children:e.status})]})]}),Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"lbl_amount",children:"$m:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"amount",children:e.amount})]}),Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-5 text-left font-weight-bold",id:"lbl_settlementDate",children:"Settle Date:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"settlementDate",children:e.settlementDate})]})]}),Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"lbl_maturityDate",children:"Mat:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"maturityDate",children:e.maturityDate})]}),Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"lbl_coupon",children:"Coupon:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"coupon",children:e.coupon})]})]}),Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"lbl_msgType",children:"B/S:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"msgType",children:e.msgType})]}),Object(u.jsx)("td",{})]}),Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"lbl_venue",children:"Venue:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"venue",children:e.venue})]}),Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"trader",children:"Trader:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"traderLoginname",children:e.traderLoginname})]})]}),e.rejectReason&&Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"reason",children:"Reason:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"rejectReason",children:e.rejectReason})]}),Object(u.jsx)("td",{})]}),Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"lbl_datedDate",children:"Dated:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"datedDate",children:e.datedDate})]}),Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"lbl_yield",children:"Yield:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"yield",children:e.yield})]})]}),Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"lbl_price",children:"Price:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"price",children:e.price})]}),Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"currency",children:"Currency:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"currencyCode",children:e.currencyCode})]})]})]})})})]}):Object(u.jsx)("div",{className:"col-md-12 text-center",children:Object(u.jsx)(Fb,{})})})}}]),a}(o.a.Component),ZO=KO,JO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={clientInq:!0,clientBid:!1,layerFlag:!0,clientData:"",tradeSum:!0,tradeQuote:!0,clientBidTradeqFlag:!1},s.handleChange=s.handleChange.bind(Object(O.a)(s)),s.handleClientBid=s.handleClientBid.bind(Object(O.a)(s)),s.handleTradeSummery=s.handleTradeSummery.bind(Object(O.a)(s)),s.handleTradeQuote=s.handleTradeQuote.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){e.show!==this.props.show&&(this.setState({clientInq:!0}),this.setState({clientBid:!1}),this.setState({tradeSum:!1}),this.setState({tradeQuote:!1}))}},{key:"handleChange",value:function(e,t){t?(this.setState({clientInq:!1}),this.setState({clientBid:t}),this.setState({clientBidData:e})):(this.setState({clientInq:!1}),this.setState({layerFlag:!1}),this.props.onHide())}},{key:"handleClientBid",value:function(e,t,a){e&&t?(this.setState({tradeQuote:!0}),this.setState({clientBid:!1}),a.action="CLIENTFLAG",this.setState({tradeQuoteData:a})):(this.setState({tradeSum:!0}),this.setState({clientBid:!1}),this.setState({tradeSumData:a}))}},{key:"handleTradeSummery",value:function(e){}},{key:"handleTradeQuote",value:function(e,t){this.setState({clientBid:!0}),this.setState({tradeQuote:!1}),this.setState({clientBidData:t})}},{key:"render",value:function(){return this.state.layerFlag&&Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,size:this.props.size,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsxs)(P.a.Title,{id:"contained-modal-title-vcenter",children:[this.state.clientInq&&Object(u.jsx)("span",{children:"Client Inquiry"}),this.state.clientBid&&Object(u.jsx)("span",{children:"Client Bid"}),this.state.tradeSum&&Object(u.jsx)("span",{children:"Trade Summery"}),this.state.tradeQuote&&Object(u.jsx)("span",{children:"Trade Quote"})]})}),Object(u.jsxs)(P.a.Body,{children:[this.state.clientInq&&Object(u.jsx)(zO,{handleChange:this.handleChange}),this.state.clientBid&&this.state.clientBidData&&Object(u.jsx)(qO,{clientData:this.state.clientBidData,handleClientBid:this.handleClientBid}),this.state.tradeSum&&this.state.tradeSumData&&Object(u.jsx)(ZO,{clientData:this.state.tradeSumData,handleTradeSummery:this.handleTradeSummery}),this.state.tradeQuote&&this.state.tradeQuoteData&&Object(u.jsx)(GO,{clientData:this.state.tradeQuoteData,handleTradeQuote:this.handleTradeQuote})]})]})}}]),a}(o.a.Component),QO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).textBoxOfferComponent=function(e,t,a,n,o){var i=o+a;return Object(u.jsx)(Eu,{name:i,id:i,value:" "!==t.availableToday?e:"0",onBlur:function(e){s.onFieldChange(e,o,a,""),s.onOfferChange(e)},onKeyPress:function(e){s.onAmountKey(e,t,o,a)},className:"text-right"})},s.state={cmodal:!0,modalData:"",showModal:!1,showSecurityModal:!1,modalDataRow:"",actionMessage:"",alertShow:!1,actionFlag:"",actionTitle:"",respMessage:"",buyData:{},maindata:[],primarydata:[],showError:!1,showLayerModal:!1,updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkSecurityComponent=s.linkSecurityComponent.bind(Object(O.a)(s)),s.linkComponent=s.linkComponent.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.openSecurityModal=s.openSecurityModal.bind(Object(O.a)(s)),s.publishClick=s.publishClick.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.textBoxOfferComponent=s.textBoxOfferComponent.bind(Object(O.a)(s)),s.onOfferChange=s.onOfferChange.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.verifyAll=s.verifyAll.bind(Object(O.a)(s)),s.verify=s.verify.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.clientInquiry=s.clientInquiry.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s.invFieldComponent=s.invFieldComponent.bind(Object(O.a)(s)),s.onRateChange=s.onRateChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"clientInquiry",value:function(){void 0===this.props.message||""===this.props.message?this.setState({showLayerModal:!0}):this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"hideLayerModal",value:function(){this.setState({showLayerModal:!1,updateData:!0})}},{key:"openSecurityModal",value:function(e,t){var a;Object.keys(e).map((function(s){e[s]===t&&s===ln&&(a=s)})),this.setState({modalData:a,modalDataRow:e,showSecurityModal:!0,updateData:!1})}},{key:"linkSecurityComponent",value:function(e,t,a,s,n){var o=this.state.primarydata;return o[a]||(o.push({}),o[a]=t),Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openSecurityModal.bind(this,t,e),children:e})}},{key:"openModal",value:function(e,t,a){if(void 0===this.props.message||""===this.props.message){var s,n,o,i,l;if(t===Ya)null!==(s=e[t])&&(l=s.split(":"));else null!==(s=e.rateMap[t])&&(l=s.split(":")),t+="M";void 0!==l&&l.length>2&&(n=l[0],o=l[1],i=l[2]),e.coupon=n,e.maturityDate=o,e.maturityFlag=i,e.tenorType=t,e.transType="10",e.issueType="I",e.amount=e.offeringlimit,e.availableToday=e.offeringlimit,this.setState({buyData:e,showModal:!0,updateData:!1})}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"hideModal",value:function(){this.setState({showModal:!1,showSecurityModal:!1,updateData:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"textBoxComponent",value:function(e,t,a,s,n){var o=this,i=this.state.maindata;return i[a]||(i.push({}),i[a]=t),Object(u.jsx)(Eu,{name:n+a,id:n+a,value:e,onBlur:function(e){o.onFieldChange(e,n,a),o.onRateChange(e)},onKeyPress:function(e){o.onAmountKey(e,t,n,a)},className:"text-right"})}},{key:"onRateChange",value:function(e){if(""!==e.target.value)return _o(e)}},{key:"linkComponent",value:function(e,t,a,s,n,o,i){if(this.setState({modalData:t}),"0"!==e)return Object(u.jsxs)("div",{className:"dispFlex",children:[Object(u.jsx)("button",{id:n+"M"+a,className:"btn btn-link",onClick:this.openModal.bind(this,t,n,a),children:e}),"Y"===o&&Object(u.jsx)("span",{id:"span"+n+a,children:Object(u.jsx)(Hp,{mat:Yu(i,"M/D"),children:Object(u.jsx)(B.B,{})})})]})}},{key:"onFieldChange",value:function(e,t,a,s){var n="",o="";if(this.state.maindata[a][t]=e.target.value,e.target.value&&(o=e.target.value.trim()),"availableToday"===t&&!1===Bo(o,"1234567890.,mmMMkkKK")&&(n="Row"+(a+1)+":"+ih),"bidYield"===t&&!1===Bo(o,"1234567890.")&&(n="Row"+(a+1)+":"+ah),"dispOfferYield"===t&&(Bo(o,"1234567890.")||(n="Row"+(a+1)+":"+nh)),n)return this.setState({actionTitle:"Alert",actionMessage:n,updateData:!1,showError:!0}),!1}},{key:"onOfferChange",value:function(e){if(""!==e.target.value)return Uo(e)}},{key:"publishClick",value:function(){var e=this;if(void 0===this.props.message||""===this.props.message){this.setState({mainDet:!0});var t=this.state.maindata;this.verifyAll(t,"PUBLISH")&&w()({method:"POST",url:N.URL+bl,timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data.length>0?e.setState({maindata:[],primarydata:[],respMessage:t.data,updateData:!0}):e.setState({maindata:[],primarydata:[],respMessage:"",updateData:!0})}))}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"verifyAll",value:function(e,t){for(var a=!0,s=0;s<e.length;s++){if(!1===this.verify(e[s],s,t)){a=!1;break}}return a}},{key:"verify",value:function(e,t,a){var s="",n=0;return""!==e.availableToday&&(e.availableToday=e.availableToday.trim(),n=Po(e.availableToday)),"PUBLISHINV"===a&&(""===e.availableToday||0===parseFloat(n)?s="Row"+(t+1)+":"+oh:""!==e.dispOfferYield&&0!==parseFloat(e.dispOfferYield)||(s="Row"+(t+1)+":"+sh)),""===e.bidYield||0===parseFloat(e.bidYield)?s="Row"+(t+1)+":"+$m:""!==e.availableToday&&parseFloat(n)>0&&(" "===e.dispOfferYield||0===parseFloat(e.dispOfferYield))?s="Row"+(t+1)+":"+sh:""!==e.dispOfferYield&&parseFloat(e.dispOfferYield)>0&&parseFloat(e.bidYield)<parseFloat(e.dispOfferYield)?s="Row"+(t+1)+":"+dh:""!==e.dispOfferYield&&parseFloat(e.dispOfferYield)>0&&(""===e.availableToday||0===parseFloat(n))&&(s="Row"+(t+1)+":"+oh),!s||(this.setState({actionTitle:"Alert",actionMessage:s,showError:!0}),!1)}},{key:"onAmountKey",value:function(e,t,a,s){var n=this;if(void 0===this.props.message||""===this.props.message){if("Enter"===e.key&&(t[a]=e.target.value,this.verify(t,s,"PUBLISHINV"))){var o=[];o[0]=t,w()({method:"POST",url:N.URL+bl,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data.length>0?n.setState({maindata:[],primarydata:[],respMessage:e.data,updateData:!0}):n.setState({maindata:[],primarydata:[],respMessage:"",updateData:!0})}))}}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"fieldComponent",value:function(e,t,a,s){return"Min Piece($m)"===s.colId?Lo(e):e}},{key:"invFieldComponent",value:function(e,t,a,s){return"Par ($m)"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t={};t.textBoxComponent=this.textBoxComponent,t.textBoxOfferComponent=this.textBoxOfferComponent,t.linkSecurityComponent=this.linkSecurityComponent,t.linkComponent=this.linkComponent,t.fieldComponent=this.fieldComponent,t.invFieldComponent=this.invFieldComponent;var a=sessionStorage.getItem("loginid");return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h6",{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",void 0!==this.state.respMessage&&""!==this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):""]}),Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{xs:5,children:Object(u.jsx)(W.a,{xs:6,className:"d-inline-block mt-2",children:Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",onClick:this.clientInquiry,id:"clientInquiry",children:"Client Inquiry"})})}),Object(u.jsxs)(W.a,{xs:7,className:"text-right",children:[Object(u.jsx)(OO,{apiCall:ki,reqParams:{productType:zh}}),Object(u.jsx)(W.a,{xs:3,className:"d-inline-block mt-2",children:Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",onClick:this.publishClick,id:"publishOfferings",children:"Publish Offerings"})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})}),this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Offerings"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:aO,apiCall:ar,wsUrl:!0,reqParams:{prodType:zh,transType:"10",issueType:"S",loginId:a,socketSource:"BOOKVIEW"},edit:!1,mappings:Yg,keyField:"issueId",mapdata:this.state.primarydata,customComponents:t,updateData:this.state.updateData,screenName:"OFFERINGS",subTitle:"Book View YCD ",flagPdf:!0})})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",id:"inventory",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Inventory"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:sO,apiCall:ar,wsUrl:!0,reqParams:{prodType:zh,transType:"10",issueType:"F",loginId:a,socketSource:"BOOKVIEW"},edit:!1,mappings:Hg,mapdata:this.state.maindata,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"INVENTORY",subTitle:"Book View YCD ",flagPdf:!0})})}),this.state.modalData===ln&&Object(u.jsx)(uO,{size:"lg",show:this.state.showSecurityModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:zh,modalData:this.state.modalData,modalDataRow:this.state.modalDataRow,message:this.props.message}),Object(u.jsx)(kj,{show:this.state.showModal,onHide:function(){return e.hideModal()},modalData:this.state.buyData}),Object(u.jsx)(JO,{size:"md",show:this.state.showLayerModal,onHide:function(){return e.hideLayerModal()},modalHead:"Client Inquiry",modalDataRow:this.state.modalDataRow})]})]})]})}}]),a}(o.a.Component),XO=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={exceptionRowCnt:s.props.exceptionRowCnt},s.exceptionDateChange=s.exceptionDateChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.linkname,e.linkname}},{key:"componentDidMount",value:function(){}},{key:"exceptionDateChange",value:function(e,t){this.props.onChange(e,t)}},{key:"render",value:function(){var e=this,t=this.state.exceptionRowCnt,a=this.props.exceptionDatesList;return Object(u.jsxs)(W.a,{className:"d-flex",children:[Object(u.jsx)("div",{className:"d-inline-block pl-3 pr-1 w150",children:Object(u.jsx)(Ju,{minDate:new Date,label:"exceptionDate"+t,dateValue:a[t]?new Date(a[t].exceptionDate):"",onchange:function(a){e.exceptionDateChange(a,t)},fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:this.props.holidayData,productWeekData:this.props.productWeekData})}),Object(u.jsx)("div",{className:"d-inline-block pl-3 pr-1 w150",children:Object(u.jsx)(Ju,{minDate:new Date,label:"exceptionDate"+(t+1),dateValue:a[t+1]?new Date(a[t+1].exceptionDate):"",onchange:function(a){e.exceptionDateChange(a,t+1)},fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:this.props.holidayData,productWeekData:this.props.productWeekData})}),Object(u.jsx)("div",{className:"d-inline-block pl-3 pr-1 w150",children:Object(u.jsx)(Ju,{minDate:new Date,label:"exceptionDate"+(t+2),dateValue:a[t+2]?new Date(a[t+2].exceptionDate):"",onchange:function(a){e.exceptionDateChange(a,t+2)},fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:this.props.holidayData,productWeekData:this.props.productWeekData})}),Object(u.jsx)("div",{className:"d-inline-block pl-3 pr-1 w150",children:Object(u.jsx)(Ju,{minDate:new Date,label:"exceptionDate"+(t+3),dateValue:a[t+3]?new Date(a[t+3].exceptionDate):"",onchange:function(a){e.exceptionDateChange(a,t+3)},fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:this.props.holidayData,productWeekData:this.props.productWeekData})}),Object(u.jsx)("div",{className:"d-inline-block pl-3 pr-1 w150",children:Object(u.jsx)(Ju,{minDate:new Date,label:"exceptionDate"+(t+4),dateValue:a[t+4]?new Date(a[t+4].exceptionDate):"",onchange:function(a){e.exceptionDateChange(a,t+4)},fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:this.props.holidayData,productWeekData:this.props.productWeekData})}),Object(u.jsx)("div",{className:"d-inline-block pl-3 pr-1 w150",children:Object(u.jsx)(Ju,{minDate:new Date,label:"exceptionDate"+(t+5),dateValue:a[t+5]?new Date(a[t+5].exceptionDate):"",onchange:function(a){e.exceptionDateChange(a,t+5)},fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:this.props.holidayData,productWeekData:this.props.productWeekData})}),0===t?Object(u.jsx)("div",{className:"d-inline-block",children:Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",size:"sm",onClick:this.props.rowAdd,id:"rowadd",children:"(+)"})}):""]})}}]),a}(o.a.Component);function $O(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){if(e===n&&t[e]){if("availableCredit"===e)o={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),align:"right"};else if("amount"===e)var o={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"};else o="offer"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.offerTextBoxComponent}:"offeringlimit"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.limitTextBoxComponent}:"issueId"===e?{dataField:e,text:t[e],formatter:a.checkBoxComponent}:"actionId"===e?{dataField:e,text:t[e],formatter:a.actionComponent,editable:!1}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.fieldComponent,editable:!1,formatExtraData:{colId:t[e]}};s.push(o)}return""})),""})),s}function ev(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&("amount"===e?o={dataField:e,text:t[e],formatter:a.quantityTextComponent,formatExtraData:{quantityFlag:a.quantityFlag}}:"offer"===e?o={dataField:e,text:t[e],formatter:a.offerRateTextComponent}:"bid"===e?o={dataField:e,text:t[e],formatter:a.bidRateTextComponent}:"fromDate"===e?o={dataField:e,text:t[e],formatter:a.maturityRangeComponent,headerAttrs:{colSpan:5,width:300},formatExtraData:{colId:e}}:("toDate"===e||"fromDays"===e||"toDays"===e)&&(o={dataField:e,text:t[e],formatter:a.maturityRangeComponent,headerAttrs:{hidden:!0},formatExtraData:{colId:e}}),s.push(o)));return""})),""})),s}function tv(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&("offeringDate"===e?o={dataField:e,text:t[e],formatter:a.offeringDateComponent,headerAttrs:{width:100}}:"offeringRate"===e?o={dataField:e,text:t[e],formatter:a.offeringRateComponent,headerAttrs:{width:150}}:"offeringAmount"===e&&(o={dataField:e,text:t[e],formatter:a.offeringAmountComponent,headerAttrs:{width:150}}),s.push(o)));return""})),""})),s}function av(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&("maturityDate"===e?o={dataField:e,text:t[e],headerAttrs:{width:100}}:"amount"===e?o={dataField:e,text:t[e],formatter:a.salesAmountComponent,headerAttrs:{width:150}}:"bid"===e&&(o={dataField:e,text:t[e],formatter:a.salesRateComponent,headerAttrs:{width:150}}),s.push(o)));return""})),""})),s}function sv(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&("shortName"===e?o={dataField:e,text:t[e],formatter:a.investorComponent,headerAttrs:{width:100}}:"originalSettlementDate"===e?o={dataField:e,text:t[e],headerAttrs:{width:150}}:"availableCredit"===e?o={dataField:e,text:t[e],formatter:a.matAmountComponent,headerAttrs:{width:150}}:"bid"===e&&(o={dataField:e,text:t[e],headerAttrs:{width:150}}),s.push(o)));return""})),""})),s}function nv(e,t){var a=[];return Object.keys(t).map((function(e){var s={dataField:e,text:t[e]};return a.push(s),""})),a}function ov(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&("maturityDate"===e?o={dataField:e,text:t[e],headerAttrs:{width:100}}:"amount"===e?o={dataField:e,text:t[e],formatter:a.salesAmountComponent,headerAttrs:{width:150}}:"issueId"===e?o={dataField:e,text:t[e],formatter:a.convCheckBoxComponent,headerAttrs:{width:50}}:"bid"===e&&(o={dataField:e,text:t[e],headerAttrs:{width:150}}),s.push(o)));return""})),""})),s}var iv=[];iv.bookDesc=Se,iv.issueId=it,iv.ticker=cn,iv.issuerShortName=Kt,iv.settle=Rs,iv.settleDateStr=Ms,iv.maturityDateStr=ia,iv.prodCode=Dn,iv.availableCredit=wn,iv.offer=Fa,iv.availableToday=aa,iv.amount=Aa,iv.trader=pn,iv.issuer=Kt;var lv=[];lv.issueId=it,lv.issuerName=Kt,lv.ticker=cn,lv.settle=Rs,lv.settleDateStr=Ms,lv.maturityDateStr=ia,lv.prodCode=Dn,lv.availableCredit=wn,lv.offer=Fa,lv.offeringlimit=aa,lv.amount=Aa,lv.actionId=ie;var cv=[];cv.amount=za,cv.offer=Ra,cv.bid=Ie,cv.fromDate=ca,cv.toDate=ca,cv.fromDays=ca,cv.toDays=ca;var rv=[];rv.offeringDate=at,rv.offeringRate=ps,rv.offeringAmount=ga;var dv=[];dv.maturityDate=fa,dv.amount=ga,dv.bid=Ye;var mv=[];mv.shortName=Vt,mv.availableCredit=de,mv.originalSettlementDate=rs,mv.bid=ps;var hv=[];hv.availableCredit=de,hv.maturityDate=la,hv.bid=Ne,hv.offerRate=Fa;var uv=[];uv.issueId=Ve,uv.maturityDate=fa,uv.amount=ga,uv.bid=Ye;var bv=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,book:"",ticker:"",bookId:"",tickerId:"",payload:{},screenName:"C",quantityFlag:"Y",settleDate:"",quantity:"",exceptionRowCnt:1,offeringsList:[{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:0},{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:1},{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:2},{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:3},{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:4},{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:5},{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:6},{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:7},{quantityFlag:"",offer:"",bid:"",amount:"",issueId:"",fromDate:"",toDate:"",fromDays:"",toDays:"",rowId:8}],offeringLimit:"",minimumPieceSize:"",notes:"",exceptionDatesList:[],firm:"N",proceeds:"N",issueId:"",actionResponse:"",singleSelections:"",issuerId:"",templateName:"",templateId:"",showError:!1,actionTitle:"",actionMessage:"",issuerName:"",trader:"",minAmount:"",maxAmount:"",increment:"",totalAmount:"",maxNoOfDays:"",responseMessage:"",matDates:[],spread:"",allIn:"",updateData:!0,holidayData:[],productWeekData:[]},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.goBack=s.goBack.bind(Object(O.a)(s)),s.quantityChanges=s.quantityChanges.bind(Object(O.a)(s)),s.settleDataChange=s.settleDataChange.bind(Object(O.a)(s)),s.quantityTextComponent=s.quantityTextComponent.bind(Object(O.a)(s)),s.offerRateTextComponent=s.offerRateTextComponent.bind(Object(O.a)(s)),s.bidRateTextComponent=s.bidRateTextComponent.bind(Object(O.a)(s)),s.maturityRangeComponent=s.maturityRangeComponent.bind(Object(O.a)(s)),s.onRowQuantity=s.onRowQuantity.bind(Object(O.a)(s)),s.onOfferRateChange=s.onOfferRateChange.bind(Object(O.a)(s)),s.onBidRateChange=s.onBidRateChange.bind(Object(O.a)(s)),s.doAdd=s.doAdd.bind(Object(O.a)(s)),s.onNotesChange=s.onNotesChange.bind(Object(O.a)(s)),s.offeringLimitChange=s.offeringLimitChange.bind(Object(O.a)(s)),s.minPieceChange=s.minPieceChange.bind(Object(O.a)(s)),s.onDateChange=s.onDateChange.bind(Object(O.a)(s)),s.onDaysChange=s.onDaysChange.bind(Object(O.a)(s)),s.doExceptionDataChange=s.doExceptionDataChange.bind(Object(O.a)(s)),s.onSave=s.onSave.bind(Object(O.a)(s)),s.onCheckChange=s.onCheckChange.bind(Object(O.a)(s)),s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.doSaveCopy=s.doSaveCopy.bind(Object(O.a)(s)),s.changeTemplate=s.changeTemplate.bind(Object(O.a)(s)),s.templateNameChange=s.templateNameChange.bind(Object(O.a)(s)),s.deteteTemplate=s.deteteTemplate.bind(Object(O.a)(s)),s.doSaveTemplate=s.doSaveTemplate.bind(Object(O.a)(s)),s.matAmountComponent=s.matAmountComponent.bind(Object(O.a)(s)),s.investorComponent=s.investorComponent.bind(Object(O.a)(s)),s.verifyParams=s.verifyParams.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.doRenameTemplate=s.doRenameTemplate.bind(Object(O.a)(s)),s.getDefaultValues=s.getDefaultValues.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.linkname!==e.linkname&&"Grid Report"===this.props.linkname&&this.setState({cmodal:!0,updateData:!1}),e!==this.props){var a=this.state,s=a.offeringsList,n=a.data,o=[],i=[];if(n){for(var l=0;l<n.length;l++){var c={};n[l].maturityDate&&(c.fromDate=Yu(n[l].maturityDate,"YYYY-MM-DD"),c.fromDays=Wu(n[l].maturityDate,n[l].settlementDate)),n[l].maturityEndDate&&(c.toDate=Yu(n[l].maturityEndDate,"YYYY-MM-DD"),c.toDays=Wu(n[l].maturityEndDate,n[l].settlementDate)),c.offer=n[l].offerRate,c.bid=n[l].bidRate,"N"===n[l].quantityFlag?c.amount=Lo(n[l].amount):c.amount="",c.issueId=n[l].issueId,c.rowId=l,c.quantityFlag=n[l].quantityFlag,n[l].maturityDate&&n[l].maturityEndDate&&(s[l]=c)}for(var r=0;r<s.length;r++)s[r].amount||(s[r].quantityFlag=s[0].quantityFlag),s[r].rowId=r;if(n[0].exdates){for(var d=n[0].exdates.split(" "),m=[],h=0;h<d.length;h++){var u={};u.exceptionDate=Yu(Lu()().year()+"/"+d[h],"YYYY-MM-DD"),m[h]=u}this.setState({exceptionDatesList:m})}this.setState({settleDate:new Date(this.state.data[0].settlementDate),quantity:Lo(n[0].amount),offeringLimit:Lo(n[0].offeringlimit),minimumPieceSize:Lo(n[0].minimumPieceSize),notes:n[0].notes,firm:n[0].subjectFlag,proceeds:n[0].proceedsFlag,ticker:n[0].ticker,offeringsList:s,issueId:n[0].issueId,issuerId:n[0].programId,quantityFlag:n[0].quantityFlag,issuerName:n[0].issuerName,trader:n[0].trader,updateData:!1})}w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{currency:"USD",productType:Jh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){o=e.data.holidayDatesInfo,i=e.data.productWeekData,t.setState({holidayData:o,productWeekData:i})}))}}},{key:"componentDidMount",value:function(){var e=this,t=[],a=[];if(this.props.apiCall)w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){if(t.data){for(var a=e.state.offeringsList,s=0;s<t.data.length;s++){var n={};t.data[s].maturityDate&&(n.fromDate=Yu(t.data[s].maturityDate,"YYYY-MM-DD"),n.fromDays=Wu(t.data[s].maturityDate,t.data[s].settlementDate)),t.data[s].maturityEndDate&&(n.toDate=Yu(t.data[s].maturityEndDate,"YYYY-MM-DD"),n.toDays=Wu(t.data[s].maturityEndDate,t.data[s].settlementDate)),n.offer=t.data[s].offerRate,n.bid=t.data[s].bidRate,"N"===t.data[s].quantityFlag?n.amount=t.data[s].amount:n.amount="",n.issueId=t.data[s].issueId,n.rowId=s,n.quantityFlag=t.data[s].quantityFlag,t.data[s].maturityDate&&t.data[s].maturityEndDate&&(a[s]=n)}for(var o=0;o<a.length;o++)a[o].amount||(a[o].quantityFlag=a[0].quantityFlag),a[o].rowId=o;if(t.data[0].exdates){var i=t.data[0].exdates.split(" "),l=[],c=0;c=i.length<=6?1:Math.floor(i.length/6)+1;for(var r=0;r<i.length;r++){var d={};d.exceptionDate=Yu(Lu()().year()+"/"+i[r],"YYYY-MM-DD HH:MM:SS"),l[r]=d}e.setState({exceptionDatesList:l,exceptionRowCnt:c,updateData:!0})}e.setState({data:t.data,updateData:!0}),e.setState({settleDate:new Date(e.state.data[0].settlementDate),quantity:Lo(e.state.data[0].amount),offeringLimit:Lo(e.state.data[0].offeringlimit),minimumPieceSize:Lo(e.state.data[0].minimumPieceSize),notes:e.state.data[0].notes,firm:e.state.data[0].subjectFlag,proceeds:e.state.data[0].proceedsFlag,ticker:e.state.data[0].ticker,offeringsList:a,issueId:e.state.data[0].issueId,issuerId:e.state.data[0].programId,quantityFlag:e.state.data[0].quantityFlag,issuerName:e.state.data[0].issuerName,trader:e.state.data[0].trader,matDates:e.state.data[0].matDates,spread:e.state.data[0].spread,allIn:e.state.data[0].allIn,updateData:!0})}}));else{this.setState({settleDate:new Date,updateData:!1});for(var s=this.state.offeringsList,n=0;n<s.length;n++)s[n].amount||(s[n].quantityFlag=s[0].quantityFlag),s[n].rowId=n}w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{currency:"USD",productType:Jh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(s){t=s.data.holidayDatesInfo,a=s.data.productWeekData,e.setState({holidayData:t,productWeekData:a})}))}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1}),this.props.closemodel()}},{key:"tickerChange",value:function(e,t){var a=this;this.setState({singleSelections:e}),this.setState({tickerId:t,ticker:e[0]}),w()({method:"POST",url:N.URL+_c,timeout:N.apiTimeOut,data:{ticker:e[0],issuerId:t,productType:Jh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({issuerName:e.data.issuerName,trader:e.data.trader,minAmount:e.data.minSize,maxAmount:e.data.maxAmount,increment:e.data.incAmount,maxNoOfDays:e.data.maxNoOfDays,matDates:e.data.matDatesList,issuerId:t,minimumPieceSize:e.data.minSize,spread:e.data.spread,allIn:e.data.allIn,updateData:!0})}))}},{key:"goBack",value:function(){(0,this.props.returnMethod)()}},{key:"quantityChanges",value:function(e){var t=this.state,a=t.offeringsList,s=t.quantity;if(!1===Bo(e.target.value,"1234567890.,mmMMkkKK"))this.setState({actionTitle:"Alert",actionMessage:Jm,showError:!0,updateData:!1}),e.target.value=s,e.target.focus();else{var n="N";null!=e.target.value&&e.target.value.length>0?(Uo(e),n="Y",this.setState({quantity:e.target.value,quantityFlag:"Y",offeringLimit:e.target.value,updateData:!1})):(this.setState({quantityFlag:"N",updateData:!1}),n="N");for(var o=0;o<a.length;o++)a[o].quantityFlag=n;this.setState({offeringsList:a,updateData:!1})}}},{key:"settleDataChange",value:function(e){for(var t,a=this.state.offeringsList,s=0;s<a.length;s++)a[s]&&((t=a[s]).fromDays||t.toDays)&&(t.fromDate=Yu(zu(e,t.fromDays),"YYYY-MM-DD"),t.toDate=Yu(zu(e,t.toDays),"YYYY-MM-DD"),t.rowId="0"+t.rowId,a[s]=t);this.setState({settleDate:e,offeringsList:a,updateData:!1})}},{key:"minPieceChange",value:function(e){var t=this.state.minimumPieceSize;!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?(this.setState({actionTitle:"Alert",actionMessage:_m,showError:!0,updateData:!1}),e.target.value=t,e.target.focus()):(e.target.value.length>0&&Uo(e),this.setState({minimumPieceSize:e.target.value,updateData:!1}))}},{key:"offeringLimitChange",value:function(e){var t=this.state.offeringLimit;!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?(this.setState({actionTitle:"Alert",actionMessage:Um,showError:!0,updateData:!1}),e.target.value=t,e.target.focus()):(e.target.value.length>0&&Uo(e),this.setState({offeringLimit:e.target.value,updateData:!1}))}},{key:"onDateChange",value:function(e,t,a,s){var n=this.state,o=n.settleDate,i=n.offeringsList;n.holidayData,n.productWeekData;if(i){var l,c=Wu(e,o)+1;i[a]?(l=i[a],"fromDate"===t?(l.fromDate=e,l.fromDays=c):(l.toDate=e,l.toDays=c),l.issueId=s,l.rowId="0"+l.rowId,i[a]=l):(l={},"fromDate"===t?(l.fromDate=e,l.fromDays=c):(l.toDate=e,l.toDays=c),l.issueId=s,l.rowId="0"+l.rowId,i[a]=l)}this.setState({offeringsList:i,updateData:!1})}},{key:"onDaysChange",value:function(e,t,a,s){var n=this.state,o=n.settleDate,i=n.holidayData,l=n.productWeekData;if(!1===Bo(e.target.value,"1234567890")){this.setState({actionTitle:"Alert",actionMessage:"fromDays"===t?Bm:Zm,showError:!0,updateData:!1});var c="";if(this.state.offeringsList&&this.state.offeringsList[a]){var r=this.state.offeringsList[a];c="fromDays"===t?r.fromDays?r.fromDays:"":r.toDays?r.toDays:""}e.target.value=c,e.target.focus()}else if(""!==e.target.value){var d=e.target.value,m="";if(void 0!==d&&""!==d&&(m=Gu(o,i,l,parseInt(d))),this.state.offeringsList&&this.state.offeringsList[a]){if("fromDays"===t){this.state.offeringsList[a].fromDays=e.target.value,this.state.offeringsList[a].fromDate=Yu(m,"YYYY-MM-DD"),document.getElementById("fromDate"+a).value=Yu(m,"M/D/YY");var h=!1,u="";this.props.offerData&&this.props.offerData.map((function(e,t){var a=new Date(e.fromDate),s=new Date(e.toDate),n=new Date(Yu(m,"M/D/YYYY"));n>a&&n<s&&(h=!0)})),h&&(u="Maturity Date already exist in previous saved ranges.",this.setState({actionTitle:"Alert",actionMessage:u,showError:!0,updateData:!0})),document.getElementById("toDays"+a).focus()}else this.state.offeringsList[a].toDays=e.target.value,this.state.offeringsList[a].toDate=Yu(m,"YYYY-MM-DD"),document.getElementById("toDate"+a).value=Yu(m,"M/D/YYYY");this.state.offeringsList[a].issueId=s}}this.setState({updateData:!0})}},{key:"onRowQuantity",value:function(e,t,a){var s=this.state.offeringsList;if(!1===Bo(e.target.value,"1234567890.,mmMMkkKK")){this.setState({actionTitle:"Alert",actionMessage:Jm,showError:!0,updateData:!1});var n,o="";if(s)s[a]&&(o=(n=s[a]).amount?n.amount:"");e.target.value=o,e.target.focus()}else{if(e.target.value.length>0&&_o(e),s){var i;if((i=s[a]?s[a]:{}).amount=e.target.value,i.issueId=t,i.rowId=a,e.target.value.length>0)i.quantityFlag="N",this.setState({quantityFlag:"N",updateData:!1});else{for(var l=!0,c=0;c<s.length;c++)if(s[c].amount&&s[c].amount.length>0){l=!1;break}if(l){for(var r=0;r<s.length;r++)s[r].amount&&s[r].amount.length>0&&(s[r].quantityFlag="N");this.setState({quantityFlag:"Y",updateData:!1})}else this.setState({quantityFlag:"N",updateData:!1}),i.quantityFlag="N"}s[a]=i}for(var d=0,m=0;m<s.length;m++)s[m].amount&&s[m].amount.length>0&&(d+=parseFloat(Po(s[m].amount)));parseFloat(d)>0?this.setState({offeringsList:s,offeringLimit:Lo(d.toString()),minimumPieceSize:Lo((Po(d)/10).toString()),totalAmount:d,updateData:!1}):this.setState({offeringsList:s,totalAmount:d,updateData:!1})}}},{key:"onOfferRateChange",value:function(e,t,a){var s=this.state.spread,n=this.state.allIn;if(!1===Bo(e.target.value,"1234567890.")){this.setState({actionTitle:"Alert",actionMessage:Vm,showError:!0,updateData:!1});var o,i="";if(this.state.offeringsList)this.state.offeringsList[a]&&(i=(o=this.state.offeringsList[a]).offer?o.offer:"");e.target.value=i,e.target.focus()}else if(_o(e),this.state.offeringsList&&(this.state.offeringsList[a].offer=e.target.value,this.state.offeringsList[a].issueId=t,null!=n&&"N"===n))if(s&&s.length>0){if(this.state.offeringsList[a].offer.length>0&&0!==this.state.offeringsList[a].offer&&(0===this.state.offeringsList[a].bid||void 0===this.state.offeringsList[a].bid||""===this.state.offeringsList[a].bid)){var l=parseFloat(this.state.offeringsList[a].offer)+parseFloat(s/100);l=l.toFixed(parseInt("2")),this.state.offeringsList[a].bid=l,document.getElementById("bidRate"+a).value=l,document.getElementById("fromDays"+a).focus()}}else this.state.offeringsList[a].bid=this.state.offeringsList[a].offer}},{key:"onBidRateChange",value:function(e,t,a){var s=this.state.spread,n=this.state.allIn;if(!1===Bo(e.target.value,"1234567890.")){this.setState({actionTitle:"Alert",actionMessage:Im,showError:!0,updateData:!1});var o,i="";if(this.state.offeringsList)this.state.offeringsList[a]&&(i=(o=this.state.offeringsList[a]).bid?o.bid:"");e.target.value=i,e.target.focus()}else if(this.state.offeringsList&&""!==e.target.value&&(this.state.offeringsList[a].bid=e.target.value,this.state.offeringsList[a].issueId=t,null!=n&&"N"===n))if(s&&s.length>0){if(this.state.offeringsList[a].bid.length>0&&0!==this.state.offeringsList[a].bid&&(0===this.state.offeringsList[a].offer||void 0===this.state.offeringsList[a].offer||""===this.state.offeringsList[a].offer)){var l=parseFloat(this.state.offeringsList[a].bid)-parseFloat(s/100);l=l.toFixed(parseInt("2")),this.state.offeringsList[a].offer=l,document.getElementById("offerRate"+a).value=l,document.getElementById("fromDays"+a).focus()}}else this.state.offeringsList[a].offer=this.state.offeringsList[a].bid}},{key:"quantityTextComponent",value:function(e,t,a,s){var n,o=this,i="orQuantity"+a,l=this.state.offeringsList[a];return n=t.quantityFlag?t.quantityFlag:"Y",Object(u.jsx)(Eu,{name:i,id:i,value:"Y"===n?"":l.amount,onBlur:function(e){o.onRowQuantity(e,t.issueId,a)},readOnly:"Y"===n})}},{key:"offerRateTextComponent",value:function(e,t,a,s){var n=this;return Object(u.jsx)(Eu,{name:"offerRate"+a,id:"offerRate"+a,value:this.state.offeringsList?this.state.offeringsList[a].offer:"",onBlur:function(e){n.onOfferRateChange(e,t.issueId,a)}})}},{key:"bidRateTextComponent",value:function(e,t,a,s){var n=this;return Object(u.jsx)(Eu,{name:"bidRate"+a,id:"bidRate"+a,value:this.state.offeringsList?this.state.offeringsList[a].bid:"",onBlur:function(e){n.onBidRateChange(e,t.issueId,a)}})}},{key:"maturityRangeComponent",value:function(e,t,a,s){var n=this,o=this.state,i=o.holidayData,l=o.productWeekData,c=s.colId,r=t;return Object(u.jsx)("div",{style:{width:"130px"},children:"fromDate"===c?Object(u.jsx)(Ju,{minDate:new Date,label:"fromDate"+a,onchange:function(e){n.onDateChange(e,"fromDate",a,t.issueId)},dateValue:r.fromDate?new Date(Yu(r.fromDate,"YYYY-MM-DD HH:MM:SS")):"",fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:i,productWeekData:l}):"toDate"===c?Object(u.jsx)(Ju,{minDate:new Date,label:"toDate"+a,onchange:function(e){n.onDateChange(e,"toDate",a,t.issueId)},fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:i,productWeekData:l}):"fromDays"===c?Object(u.jsxs)("div",{style:{display:"inline-flex",width:"120px"},children:[Object(u.jsx)(Eu,{name:"fromDays"+a,id:"fromDays"+a,onBlur:function(e){n.onDaysChange(e,"fromDays",a,t.issueId)},value:r.fromDays?r.fromDays:""})," \xa0",Object(u.jsx)("div",{className:"labelStyle",children:"DAYS"})]}):"toDays"===c?Object(u.jsxs)("div",{style:{display:"inline-flex",width:"120px"},children:[Object(u.jsx)(Eu,{name:"toDays"+a,id:"toDays"+a,onBlur:function(e){n.onDaysChange(e,"toDays",a,t.issueId)},value:r.toDays?r.toDays:""})," \xa0 ",Object(u.jsx)("div",{className:"labelStyle",children:"DAYS"})]}):""})}},{key:"matAmountComponent",value:function(e,t,a,s){return"10"===t.transType?e:t.trMarkUpAmount}},{key:"investorComponent",value:function(e,t,a,s){return"10"===t.transType?"Unsold":e}},{key:"doAdd",value:function(){var e=this.state.exceptionRowCnt;e+=1,this.setState({exceptionRowCnt:e,updateData:!1})}},{key:"onNotesChange",value:function(e){this.setState({notes:e.target.value,updateData:!1})}},{key:"doExceptionDataChange",value:function(e,t){var a,s=this.state.exceptionDatesList,n=!1,o="";this.state.offeringsList&&this.state.offeringsList.map((function(t,a){e>t.fromDate&&e<t.toDate&&(n=!0)})),n||(o="Ex Date should between Start Date and End Date.",this.setState({actionTitle:"Alert",actionMessage:o,showError:!0,updateData:!1})),s&&(s[t]?(a=s[t]).exceptionDate=e:((a={}).exceptionDate=e,s[t]=a)),this.setState({exceptionDatesList:s,updateData:!1})}},{key:"onCheckChange",value:function(e,t){"firm"===e?this.setState({firm:t.target.checked?"Y":"N",updateData:!1}):this.setState({proceeds:t.target.checked?"Y":"N",updateData:!1})}},{key:"verifyParams",value:function(e,t){var a=e[0],s=this.state,n=(s.quantityFlag,s.minAmount),o=s.maxAmount,i=s.increment,l=s.totalAmount,c=s.maxNoOfDays,r=s.matDates,d="";if(a.ticker&&0!==a.ticker.length||(d=Lh),a.amount)0===a.amount.length&&0===d.length&&(d=Jm),a.amount.length>0&&0===d.length&&(parseFloat(a.amount)<parseFloat(n)&&(d=lr+Lo(n)),parseFloat(a.amount)>parseFloat(o)&&0===d.length&&(d=ir+Lo(o)));else for(var m=m;m<a.offeringsList.length;m++)if(a.offeringList[m].amount){if(0===a.offeringList[m].amount.length&&0===d.length){d=Jm;break}a.offeringList[m].amount.length>0&&0===d.length&&(parseFloat(a.offeringList[m].amount)<parseFloat(n)&&(d=lr+Lo(n)),parseFloat(a.offeringList[m].amount)>parseFloat(o)&&0===d.length&&(d=ir+Lo(o)))}if("Invalid date"===a.settlementDate&&0===d.length&&(d=qm),0===a.minimumPieceSize.length&&0===d.length&&(d=_m),0===a.offeringlimit.length&&0===d.length&&(d=Um),a.offeringlimit.length>0&&0===d.length&&(0!==i&&parseInt(a.offeringlimit)%parseInt(i)&&(d=Dm+Lo(i)),a.amount.length>0?parseInt(a.offeringlimit)>parseFloat(a.amount)&&0===d.length&&(d=Cm):parseInt(a.offeringlimit)>parseFloat(l)&&0===d.length&&(d=Cm)),a.minimumPieceSize.length>0&&0===d.length&&(0!==i&&parseInt(a.minimumPieceSize)%parseInt(i)&&(d=Om+Lo(i)),a.amount.length>0?parseInt(a.minimumPieceSize)>parseFloat(a.amount)&&0===d.length&&(d=vm):parseInt(a.minimumPieceSize)>parseFloat(l)&&0===d.length&&(d=vm),parseInt(a.minimumPieceSize)%parseInt(a.offeringLimit)&&0===d.length&&(d=ym+Lo(i)),parseInt(a.minimumPieceSize)<parseFloat(n)&&0===d.length&&(d=km)),0===a.offeringsList.length&&0===d.length&&(d=Ym),0===d.length&&a.offeringsList.length>0)for(var h=0;h<a.offeringsList.length;h++){var u=a.offeringsList[h];if("{}"!==JSON.stringify(u)){if(u.offerRate&&0===u.offerRate.length&&0===d.length){d=Vm;break}if(u.bidRate&&0===u.bidRate.length&&0===d.length){d=Im;break}if(u.fromDate){if("Invalid date"===u.fromDate&&0===d.length){d=Pm;break}if(0===d.length&&Wu(u.fromDate,a.settlementDate)<=0){d=bm;break}if(0===d.length&&Wu(u.fromDate,u.toDate)>0){d=pm;break}if(0===d.length&&r&&r.length>0)for(var b=0;b<r.length;b++){var p=r[b],j=p.substring(0,p.indexOf("-")),x=p.substring(p.indexOf("-")+1,p.length),f=Wu(u.fromDate,j);if(0!==f&&(f=Wu(u.fromDate,x)),0===f){d=xm;break}}}if(u.toDate){if("Invalid date"===u.toDate&&0===d.length){d=Km;break}if(0===d.length&&Wu(u.toDate,a.settlementDate)<=0){d=au;break}if(0===d.length&&Wu(u.fromDate,u.toDate)>0){d=pm;break}if(0===d.length&&r&&r.length>0)for(var g=0;g<r.length;g++){var O=r[g],v=O.substring(0,O.indexOf("-")),y=O.substring(O.indexOf("-")+1,O.length),k=Wu(u.toDate,v);if(0!==k&&(k=Wu(u.toDate,y)),0===k){d=xm;break}}}if(u.fromDays){if(0===u.fromDays.length&&0===d.length){d=Bm;break}if(u.fromDays.length>0&&0===d.length&&parseInt(u.fromDays)>parseInt(c)){d=gm;break}}if(u.todays){if(0===u.toDays.length&&0===d.length){d=Zm;break}if(u.toDays.length>0&&0===d.length&&parseInt(u.toDays)>parseInt(c)){d=gm;break}}}}return"New Template"!==t&&"UPDATETEMPLATE"!==t||0===a.templateName.length&&0===d.length&&(d=zm),"UPDATETEMPLATE"===t&&0===a.templateId.length&&0===d.length&&(d=Gm),0===d.length||(this.setState({actionTitle:t,actionMessage:d,showError:!0,updateData:!1}),!1)}},{key:"onSave",value:function(){var e,t=this,a={},s=[],n=this.state,o=n.offeringsList,i=n.exceptionDatesList,l=n.quantityFlag,c=[],r=[],d=0;if(o)for(var m=0;m<o.length;m++)if(o[m]&&o[m].fromDate){var h={};h.fromDate=Yu(o[m].fromDate,"MM/DD/YY"),h.toDate=Yu(o[m].toDate,"MM/DD/YY"),h.fromDays=o[m].fromDays,h.toDays=o[m].toDays,h.offerRate=o[m].offer,h.bidRate=o[m].bid,h.issueId=o[m].issueId,o[m].amount&&(h.amount=Po(o[m].amount),d=parseFloat(d)+parseFloat(Po(h.amount))),c.push(h)}if(i)for(var u=0;u<i.length;u++)if(i[u]&&i[u].exceptionDate){var b={};b.exceptionDate=Yu(i[u].exceptionDate,"MM/DD/YY"),r.push(b)}a.amount="Y"===l?Po(this.state.quantity):"",a.minimumPieceSize=this.state.minimumPieceSize?Po(this.state.minimumPieceSize):"",a.offeringlimit=this.state.offeringLimit?Po(this.state.offeringLimit):"",a.subjectFlag=this.state.firm,a.proceedsFlag=this.state.proceeds,a.offeringsList=c,r.length>0&&(a.exceptionDatesList=r),a.settlementDate=Yu(this.state.settleDate,"MM/DD/YY"),a.notes=this.state.notes,a.ticker=this.state.ticker,a.issueId=this.state.issueId,a.quantityFlag="Y"===l?"N":"Y",s.push(a),this.verifyParams(s,"Save")&&(e="NEW"===this.props.fromPage?Uc:Vc,w()({method:"POST",url:N.URL+e,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data.responseMessage?(t.setState({actionResponse:"Save & "+e.data.responseMessage,updateData:!0}),t.props.handleLink?(t.props.onRemove(t.props.linkname),t.props.handleLink(t.props.linkname,e.data.responseMessage)):(0,t.props.returnMethod)(e.data.responseMessage)):(t.setState({actionResponse:"Save & "+e.data.responseMessage,updateData:!0}),(0,t.props.returnMethod)(e.data))})))}},{key:"doSaveCopy",value:function(){var e,t=this,a={},s=[],n=this.state,o=n.offeringsList,i=n.exceptionDatesList,l=n.quantityFlag,c=[],r=[],d=0;if(o)for(var m=0;m<o.length;m++)if(o[m]&&o[m].fromDate){var h={};h.fromDate=Yu(o[m].fromDate,"MM/DD/YY"),h.toDate=Yu(o[m].toDate,"MM/DD/YY"),h.fromDays=o[m].fromDays,h.toDays=o[m].toDays,h.offerRate=o[m].offer,h.bidRate=o[m].bid,h.issueId=o[m].issueId,o[m].amount&&(h.amount=Po(o[m].amount),d=parseFloat(d)+parseFloat(Po(h.amount))),c.push(h)}if(i)for(var u=0;u<i.length;u++)if(i[u]&&i[u].exceptionDate){var b={};b.exceptionDate=Yu(i[u].exceptionDate,"MM/DD/YY"),r.push(b)}a.amount="Y"===l?Po(this.state.quantity):"",a.minimumPieceSize=this.state.minimumPieceSize?Po(this.state.minimumPieceSize):"",a.offeringlimit=this.state.offeringLimit?Po(this.state.offeringLimit):"",a.subjectFlag=this.state.firm,a.proceedsFlag=this.state.proceeds,a.offeringsList=c,r.length>0&&(a.exceptionDatesList=r),a.settlementDate=Yu(this.state.settleDate,"MM/DD/YY"),a.notes=this.state.notes,a.ticker=this.state.ticker,a.issueId=this.state.issueId,a.quantityFlag="Y"===l?"N":"Y",s.push(a),this.verifyParams(s,"SaveCopy")&&(e="NEW"===this.props.fromPage?Uc:Vc,w()({method:"POST",url:N.URL+e,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){var a=e.data.issueId;w()({method:"POST",url:N.URL+"/copyADNCommitments",timeout:N.apiTimeOut,data:{issueId:a},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(t.setState({actionResponse:"Save & "+e.data.responseMessage,updateData:!0}),t.props.handleLink?(t.props.onRemove(t.props.linkname),t.props.handleLink(t.props.linkname)):(0,t.props.returnMethod)(e.data.responseMessage))}))})))}},{key:"changeTemplate",value:function(e){var t=this;this.setState({templateId:e.target.value}),"NEW"!==e.target.value&&(this.setState({templateName:e.target.options[e.target.options.selectedIndex].text}),w()({method:"POST",url:N.URL+"/getADNTemplateDetails",timeout:N.apiTimeOut,data:{templateId:e.target.value},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){(t.setState({data:e.data,updateData:!0}),t.props.handleLink)?(t.props.onRemove(t.props.linkname),t.props.handleLink(t.props.linkname)):(0,t.props.returnMethod)(e.data.responseMessage)})))}},{key:"templateNameChange",value:function(e){this.setState({templateName:e.target.value,updateData:!1})}},{key:"doRenameTemplate",value:function(){var e=this,t=[],a={},s=this.state,n=s.templateId,o=s.templateName;o&&o.length>0?(a.templateName=o,a.templateId=n,t.push(a),w()({method:"POST",url:N.URL+"/renameADNTemplate",timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({responseMessage:t.data.responseMessage,updateData:!0})}))):this.setState({actionTitle:$h,actionMessage:zm,showError:!0,updateData:!1})}},{key:"doSaveTemplate",value:function(){var e,t,a=this,s={},n=[],o=this.state,i=o.offeringsList,l=o.exceptionDatesList,c=o.quantityFlag,r=[],d=[],m=0;if(i)for(var h=0;h<i.length;h++)if(i[h]&&i[h].fromDate){var u={};u.fromDate=Yu(i[h].fromDate,"MM/DD/YY"),u.toDate=Yu(i[h].toDate,"MM/DD/YY"),u.fromDays=i[h].fromDays,u.toDays=i[h].toDays,u.offerRate=i[h].offer,u.bidRate=i[h].bid,u.issueId=i[h].issueId,i[h].amount&&(u.amount=Po(i[h].amount),m=parseFloat(m)+parseFloat(Po(u.amount))),r.push(u)}if(l)for(var b=0;b<l.length;b++)if(l[b]&&l[b].exceptionDate){var p={};p.exceptionDate=Yu(l[b].exceptionDate,"MM/DD/YY"),d.push(p)}s.amount="Y"===c?Po(this.state.quantity):"",s.minimumPieceSize=this.state.minimumPieceSize?Po(this.state.minimumPieceSize):"",s.offeringlimit=this.state.offeringLimit?Po(this.state.offeringLimit):"",s.subjectFlag=this.state.firm,s.proceedsFlag=this.state.proceeds,s.offeringsList=r,d.length>0&&(s.exceptionDatesList=d),s.settlementDate=Yu(this.state.settleDate,"MM/DD/YY"),s.notes=this.state.notes,s.ticker=this.state.ticker,s.issueId=this.state.issueId,s.templateName=this.state.templateName,s.templateId=this.state.templateId,s.quantityFlag="Y"===c?"N":"Y",n.push(s),"NEW"===this.props.fromPage?(e=Uc,t="New Template"):(e=Vc,t="UPDATETEMPLATE"),this.verifyParams(n,t)&&w()({method:"POST",url:N.URL+e,timeout:N.apiTimeOut,data:n,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e=a.state.templateId&&"NEW"!==a.state.templateId?"/updateADNTemplate":"/saveADNTemplate",w()({method:"POST",url:N.URL+e,timeout:N.apiTimeOut,data:n,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({actionResponse:"Save CP & "+e.data.responseMessage,updateData:!0});var t=a.props.returnMethod;void 0!==a.props.returnMethod?t(e.data&&e.data.responseMessage):(a.props.onRemove(a.props.linkname),a.props.handleLink(a.props.linkname))}))}))}},{key:"deteteTemplate",value:function(){var e=this;w()({method:"POST",url:N.URL+"/deleteADNTemplate",timeout:N.apiTimeOut,data:{templateId:this.state.templateId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({actionResponse:t.data.responseMessage,updateData:!0}),(0,e.props.returnMethod)(t.data.responseMessage)}))}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"getDefaultValues",value:function(e,t){"NEW"!==e?this.setState({templateName:t.value,updateData:!1}):this.setState({templateId:"",updateData:!1})}},{key:"render",value:function(){for(var e=this,t=this.state,a=t.exceptionRowCnt,s=t.holidayData,n=t.productWeekData,o=this.state.offeringsList,i=[],l=0;l<a;l++)0===l?i.push(Object(u.jsx)(XO,{exceptionRowCnt:6*l,rowAdd:this.doAdd,onChange:this.doExceptionDataChange,exceptionDatesList:this.state.exceptionDatesList,holidayData:s,productWeekData:n})):i.push(Object(u.jsx)(XO,{exceptionRowCnt:6*l,onChange:this.doExceptionDataChange,exceptionDatesList:this.state.exceptionDatesList,holidayData:s,productWeekData:n}));var c={};return c.quantityTextComponent=this.quantityTextComponent,c.offerRateTextComponent=this.offerRateTextComponent,c.bidRateTextComponent=this.bidRateTextComponent,c.maturityRangeComponent=this.maturityRangeComponent,c.investorComponent=this.investorComponent,c.matAmountComponent=this.matAmountComponent,c.quantityFlag=this.state.quantityFlag,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",Object(u.jsxs)(H.a,{xs:"4",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"TICKER",id:"lbl_ticker",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:this.props.issueId?Object(u.jsx)("div",{id:"ticker",children:this.state.data?this.state.data[0].ticker:""}):Object(u.jsx)(jj,{apiCall:ji,reqParams:{tickerId:this.state.tickerId,productType:Jh,All:"false"},onchange:this.tickerChange,selected:this.state.singleSelections,id:"ticker"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"ISSUER",id:"lbl_issuer",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block removewrap",id:"issuerName",children:this.state.issuerName?this.state.issuerName:""})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"TRADER",id:"lbl_trader"}),":"]}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",id:"trader",children:this.state.trader?this.state.trader:""})]})]}),Object(u.jsxs)(H.a,{xs:"4",children:["NEW"===this.props.fromPage?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block removewrap",children:[Object(u.jsx)(ni,{label:"QUANTITY",id:"lbl_quantity",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"quantity",id:"quantity",value:"Y"===this.state.quantityFlag?this.state.quantity:"",onBlur:function(t){e.quantityChanges(t)}})})]})}):Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block removewrap",children:[Object(u.jsx)(ni,{label:"QUANTITY",id:"lbl_quantity",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"quantity",id:"quantity",value:"Y"===this.state.quantityFlag?this.state.quantity:"",onBlur:function(t){e.quantityChanges(t)},readOnly:"Y"!==this.state.quantityFlag})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"SETTLE",id:"lbl_settle",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{minDate:new Date,label:"settleDate",dateValue:this.state.settleDate,onchange:function(t){e.settleDataChange(t)},fromDateFlg:!1,toDateFlg:!1,currency:"USD",holidayData:s,productWeekData:n})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:2,className:"d-inline-block"}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block"})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{xs:12,className:"d-inline-block"})})}),Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:(n.length>0||s.length>0)&&Object(u.jsx)(Yb,{cprops:cv,mapdata:o,updateData:this.state.updateData,edit:!1,wsUrl:!1,noMaxHt:!0,mappings:ev,customComponents:c,keyField:"rowId",excelFlag:"true"})}),Object(u.jsxs)(W.a,{xs:3,className:"d-inline-block",children:[this.state.issuerId&&"NEW"===this.props.fromPage?Object(u.jsx)("div",{className:"tableCaption text-center",children:"Todays Maturities"}):"",this.state.issuerId&&"NEW"===this.props.fromPage?Object(u.jsx)(Yb,{cprops:mv,apiCall:"/getTodaysADNMaturities",wsUrl:!1,updateData:this.state.updateData,reqParams:[{issuerId:this.state.issuerId,productType:Jh}],edit:!1,mappings:sv,customComponents:c,keyField:"rowId",excelFlag:"true"}):""]})]}),Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{xs:1,className:"d-inline-block"}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block"})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{xs:12,className:"d-inline-block"})})}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:1,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"FIRM",id:"lbl_firm",className:"labelStyle"}),":\xa0",Object(u.jsx)(mp,{id:"firm",name:"firm",value:this.state.firm,checked:"Y"===this.state.firm,onChange:function(t){e.onCheckChange("firm",t)}})]}),Object(u.jsxs)(W.a,{xs:1.5,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"PROCEEDS",id:"lbl_proceeds",className:"labelStyle"}),":\xa0",Object(u.jsx)(mp,{id:"proceeds",name:"proceeds",value:this.state.proceeds,checked:"Y"===this.state.proceeds,onChange:function(t){e.onCheckChange("proceeds",t)}})]}),Object(u.jsxs)(W.a,{xs:4.5,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"OFFERING LIMIT",id:"lbl_offerlimit",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"offeringLimit",id:"offeringLimit",value:this.state.offeringLimit,onBlur:function(t){e.offeringLimitChange(t)}})}),Object(u.jsxs)(W.a,{xs:1.8,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"MINIMUM PIECE SIZE",id:"lbl_minpeicesize",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"minPieceSize",id:"minPieceSize",value:this.state.minimumPieceSize,onBlur:function(t){e.minPieceChange(t)}})})]})}),Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{xs:1,className:"d-inline-block",style:{whiteSpace:"nowrap",marginLeft:"15px"},children:[Object(u.jsx)(ni,{label:"EXCEPTION DATES",id:"lbl_exceptiondate",className:"labelStyle"}),":"]}),(n.length>0||s.length>0)&&Object(u.jsx)(W.a,{xs:10,className:"d-inline-block p-0",children:i})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{xs:12,className:"d-inline-block"})})}),Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{md:6,children:[Object(u.jsxs)(W.a,{xs:2,className:"d-inline-block valign-top",children:[Object(u.jsx)(ni,{label:"MESSAGE",id:"lbl_message",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(qf,{name:"message",id:"message",value:this.state.notes,onBlur:function(t){e.onNotesChange(t)}})})]}),Object(u.jsxs)(W.a,{md:6,children:[Object(u.jsxs)(W.a,{xs:.5,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"TEMPLATE",id:"lbl_template",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(Dp,{id:"template",apiCall:"/getADNTemplates",reqParams:{issuerId:this.state.issuerId},onchange:function(t){e.changeTemplate(t)},selected:this.state.templateId,stateMethod:this.getDefaultValues})}),Object(u.jsx)(W.a,{xs:1.5,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"templateName",id:"templateName",value:"New Template"===this.state.templateName?"":this.state.templateName,onBlur:function(t){e.templateNameChange(t)}})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block text-left",children:"NEW"!==this.state.templateId?Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",size:"sm",onClick:this.doRenameTemplate,children:"Rename Template"}):""})]})]}),Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{xs:2,className:"d-inline-block"}),Object(u.jsxs)(W.a,{className:"d-inline-block mt-2 text-left",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",size:"sm",onClick:this.onSave,id:"post",children:"Post"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs ml-1",size:"sm",onClick:this.doSaveCopy,id:"postsave",children:"Post & Copy"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs ml-1",size:"sm",onClick:this.doSaveTemplate,id:"postsavetemplate",children:"Post & Save Template"}),void 0===this.props.fromWidget&&Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.issueId&&Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs ml-1",size:"sm",onClick:this.deteteTemplate,id:"deletetemplate",children:"Delete Template"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs ml-1",size:"sm",onClick:this.goBack,id:"return",children:"Return"})]})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})})]})]})})}}]),a}(o.a.Component),pv=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s,n;return Object(i.a)(this,a),(n=t.call(this,e)).state=(s={book:"",ticker:"",bookId:"",tickerId:"",payload:{},screenName:"C",quantityFlag:"N",settleDate:"",quantity:"",exceptionRowCnt:1,offeringsList:[{},{},{},{},{},{},{},{},{}],offeringLimit:"",minimumPieceSize:"",notes:"",unsold:"",firm:"N",proceeds:"N",issueId:"",actionResponse:"",singleSelections:"",issuerId:"",templateName:"",templateId:"",newOfferings:[],salesData:[],actSalesData:[],cmodal:!0,disRegard:"Y",buyUnsold:"N"},Object(g.a)(s,"proceeds","N"),Object(g.a)(s,"transType",""),Object(g.a)(s,"responseMessage",""),Object(g.a)(s,"showModal",!1),Object(g.a)(s,"buyAmount",""),Object(g.a)(s,"buyRate",""),Object(g.a)(s,"actionMessage",""),Object(g.a)(s,"showError",!1),Object(g.a)(s,"proceedsAmount",""),Object(g.a)(s,"origSalesData",[]),Object(g.a)(s,"updateData",!0),s),n.closemodel=n.closemodel.bind(Object(O.a)(n)),n.goBack=n.goBack.bind(Object(O.a)(n)),n.offeringDateComponent=n.offeringDateComponent.bind(Object(O.a)(n)),n.offeringRateComponent=n.offeringRateComponent.bind(Object(O.a)(n)),n.offeringAmountComponent=n.offeringAmountComponent.bind(Object(O.a)(n)),n.salesRateComponent=n.salesRateComponent.bind(Object(O.a)(n)),n.onSalesRateChange=n.onSalesRateChange.bind(Object(O.a)(n)),n.onDateChange=n.onDateChange.bind(Object(O.a)(n)),n.onOfferAmountChange=n.onOfferAmountChange.bind(Object(O.a)(n)),n.onOfferRateChange=n.onOfferRateChange.bind(Object(O.a)(n)),n.doConvert=n.doConvert.bind(Object(O.a)(n)),n.doCheck=n.doCheck.bind(Object(O.a)(n)),n.openModal=n.openModal.bind(Object(O.a)(n)),n.hideModal=n.hideModal.bind(Object(O.a)(n)),n.onBuyAmountChange=n.onBuyAmountChange.bind(Object(O.a)(n)),n.onBuyRateChange=n.onBuyRateChange.bind(Object(O.a)(n)),n.verifyParams=n.verifyParams.bind(Object(O.a)(n)),n.hideError=n.hideError.bind(Object(O.a)(n)),n.salesAmountComponent=n.salesAmountComponent.bind(Object(O.a)(n)),n.doSingleConvert=n.doSingleConvert.bind(Object(O.a)(n)),n}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.linkname!==e.linkname&&"CP Commitment Conversion"===this.props.linkname&&this.setState({cmodal:!0,updateData:!1})}},{key:"componentDidMount",value:function(){var e=this;this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){if(t.data){for(var a,s=e.state.offeringsList,n=t.data.data,o=0;o<n.length;o++){var i={};n[o].maturityDate&&(i.fromDate=Yu(n[o].maturityDate,"YYYY-MM-DD"),i.fromDays=Wu(n[o].maturityDate,n[o].settlementDate)),n[o].maturityEndDate&&(i.toDate=Yu(n[o].maturityEndDate,"YYYY-MM-DD"),i.toDays=Wu(n[o].maturityEndDate,n[o].settlementDate)),i.offer=n[o].offerRate,i.bid=n[o].bidRate,"N"===n[o].quantityFlag?i.amount=n[o].amount:i.amount="",i.issueId=n[o].issueId,i.rowId=o,n[o].maturityDate&&n[o].maturityEndDate&&(s[o]=i)}e.setState({data:t.data,updateData:!0}),e.setState((a={settleDate:Yu(n[0].settlementDate,"YYYY-MM-DD"),quantity:n[0].amount,offeringLimit:n[0].offeringlimit,minimumPieceSize:n[0].minimumPieceSize,notes:n[0].notes,firm:n[0].subjectFlag,proceeds:n[0].proceedsFlag,ticker:n[0].ticker,offeringsList:s,issueId:n[0].issueId,issuerId:n[0].programId,unsold:n[0].availableCredit},Object(g.a)(a,"ticker",n[0].ticker),Object(g.a)(a,"bookId",n[0].bookId),Object(g.a)(a,"transType",n[0].transType),Object(g.a)(a,"proceedsAmount",parseFloat(t.data.proceedsAmount).toFixed(2)),Object(g.a)(a,"origSalesData",t.data.salesData),Object(g.a)(a,"updateData",!0),a));for(var l=[],c=0;c<3;c++){var r={offeringDate:"",offeringAmount:"",offeringRate:""};l.push(r)}e.setState({newOfferings:l,updateData:!0});var d=[];if(t.data.salesData&&t.data.salesData.length>0){for(var m=t.data.salesData,h=[],u=0,b=0;b<m.length;b++){var p={};if(p.maturityDate=m[b].maturityDate,p.amount=m[b].amount,p.bid=m[b].bid,p.issueId=m[b].issueId,p.gridIndex=u,h.push(p),4===h.length||h.length===m.length){if(h.length<4)for(var j=h.length,x=0;x<3-j;x++)(p={}).maturityDate="",p.amount="",p.bid="",p.gridIndex=u,h.push(p);d[u]=h,h=[],u++}}for(var f=d.length,O=0;O<=3-f;O++){h=[];for(var v=0;v<3;v++){var y={maturityDate:"",amount:"",bid:""};y.gridIndex=u,h.push(y)}d[u]=h,u++}}e.setState({actSalesData:d,updateData:!0})}}))}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1})}},{key:"onSalesRateChange",value:function(e,t,a){var s=this.state.actSalesData,n=s[t.gridIndex];if(!1===Bo(e.target.value,"1234567890.")){this.setState({actionTitle:"Conversion",actionMessage:Ym,showError:!0,updateData:!1});var o,i="";if(s)n[a]&&(i=(o=n[a]).bid?o.bid:"");e.target.value=i,e.target.focus()}else n[a].bid=e.target.value,s[t.gridIndex]=n,this.setState({actSalesData:s,updateData:!1})}},{key:"onDateChange",value:function(e,t,a){var s=this.state.newOfferings,n=s[a];e=Yu(e,"MM/DD/YY"),n.maturityDate=e,this.setState({newOfferings:s,updateData:!1})}},{key:"onOfferAmountChange",value:function(e,t,a,s){var n=this.state,o=n.newOfferings,i=n.unsold;if(!1===Bo(e.target.value,"1234567890.,mmMMkkKK")){this.setState({actionTitle:"Conversion",actionMessage:wm,showError:!0,updateData:!1});var l,c="";if(o)o[a]&&(c=(l=o[a]).amount?l.amount:"");e.target.value=c,e.target.focus()}else{var r=o[a];e.target.value.length>0&&"BLUR"===s&&_o(e),r.amount=e.target.value;for(var d=0,m=0,h=0;h<o.length;h++)h!==a?o[h].amount&&o[h].amount.length>0&&(d=parseFloat(d)+parseFloat(Po(o[h].amount))):d=parseFloat(d)+parseFloat(Po(e.target.value));m=parseFloat(Po(i))-parseFloat(Po(d)),this.setState({newOfferings:o,buyAmount:Lo(m.toString()),updateData:!1}),document.getElementById("buyAmount")&&(document.getElementById("buyAmount").value=Lo(m.toString()))}}},{key:"onOfferRateChange",value:function(e,t,a){var s=this.state.newOfferings;if(!1===Bo(e.target.value,"1234567890.")){this.setState({actionTitle:"Conversion",actionMessage:Ym,showError:!0,updateData:!1});var n,o="";if(s)s[a]&&(o=(n=s[a]).rate?n.rate:"");e.target.value=o,e.target.focus()}else{s[a].rate=e.target.value,this.setState({newOfferings:s,updateData:!1})}}},{key:"offeringAmountComponent",value:function(e,t,a,s){var n=this,o="offeringAmount"+a,i=this.state.newOfferings[a];return Object(u.jsx)(Eu,{name:o,id:o,value:i?i.offeringAmount:"",style:{width:"100px !important;"},onBlur:function(e){n.onOfferAmountChange(e,t,a,"BLUR")},onChange:function(e){n.onOfferAmountChange(e,t,a,"")}})}},{key:"offeringRateComponent",value:function(e,t,a,s){var n=this,o="offeringRate"+a,i=this.state.newOfferings[a];return Object(u.jsx)(Eu,{name:o,id:o,value:i?i.offeringRate:"",onBlur:function(e){n.onOfferRateChange(e,t,a)}})}},{key:"offeringDateComponent",value:function(e,t,a,s){var n=this,o=this.state.newOfferings[a];return Object(u.jsx)(Ju,{label:"offerDate"+a,onchange:function(e){n.onDateChange(e,t,a)},dateValue:o.toDate?Yu(o.offeringDate,"YYYY-MM-DD"):"",fromDateFlg:!1,toDateFlg:!1,currency:"USD",product:Jh})}},{key:"salesRateComponent",value:function(e,t,a,s){var n=this,o="rate"+a,i=this.state.actSalesData[t.gridIndex][a];return i.bid&&i.bid.length>0?i?Object(u.jsx)(Eu,{name:o,id:o,value:i?i.bid:"",onBlur:function(e){n.onSalesRateChange(e,t,a)}}):"":Object(u.jsx)(ni,{})}},{key:"salesAmountComponent",value:function(e,t,a,s){var n=this.state.actSalesData[t.gridIndex][a];return n.amount?Lo(n.amount):Object(u.jsx)(ni,{})}},{key:"goBack",value:function(){(0,this.props.returnMethod)("BACK")}},{key:"doCheck",value:function(e,t){if("DISREGARD"===e)t.target.checked?this.setState({disRegard:"Y",buyUnsold:"N",proceeds:"N"}):this.setState({disRegard:"N"});else if("UNSOLD"===e){for(var a=this.state,s=a.unsold,n=a.newOfferings,o=0,i=0,l=0;l<n.length;l++)n[l].amount&&n[l].amount.length>0&&(o=parseFloat(o)+parseFloat(Po(n[l].amount)));i=parseFloat(Po(s))-parseFloat(o),t.target.checked?this.setState({buyUnsold:"Y",disRegard:"N",buyAmount:Lo(i.toString()),updateData:!1}):this.setState({buyUnsold:"N",updateData:!1})}else"PROCEED"===e&&(t.target.checked?this.setState({proceeds:"Y",disRegard:"N",updateData:!1}):this.setState({proceeds:"N",updateData:!1}))}},{key:"doSingleConvert",value:function(e){for(var t=this,a=this.state,s=a.newOfferings,n=a.disRegard,o=a.buyUnsold,i=a.proceeds,l=a.issueId,c=a.issuerId,r=a.ticker,d=a.bookId,m=a.transType,h=(a.buyAmount,a.buyRate,a.unsold),u=this.props.returnMethod,b=[],p=[],j=0;j<s.length;j++){var x=s[j],f={};"{}"!==JSON.stringify(x)&&(x.maturityDate||x.rate||x.amount)&&(f.maturityDate=Yu(x.maturityDate,"MM/DD/YY"),f.bid=x.rate,x.amount?f.amount=Po(x.amount):f.amount="",p.push(f))}var g={};g.disRegard=n,g.buyUnSold=o,g.proceeds=i,g.salesData=e,g.offeringsList=p,g.issueId=l,g.issuerId=c,g.ticker=r,g.bookId=d,g.transType=m,g.unsoldQuantity=Po(h),b.push(g),this.verifyParams(b)&&w()({method:"POST",url:N.URL+"/savePartialADNConversion",timeout:N.apiTimeOut,data:b,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){u(e.data.responseMessage),t.setState({updateData:!0})}))}},{key:"doConvert",value:function(){for(var e=this,t=this.state,a=t.actSalesData,s=t.newOfferings,n=t.disRegard,o=t.buyUnsold,i=t.proceeds,l=t.issueId,c=t.issuerId,r=t.ticker,d=t.bookId,m=t.transType,h=t.buyAmount,u=t.buyRate,b=t.unsold,p=this.props.returnMethod,j=[],x=[],f=[],g=0;g<s.length;g++){var O=s[g],v={};"{}"!==JSON.stringify(O)&&(O.maturityDate||O.rate||O.amount)&&(v.maturityDate=Yu(O.maturityDate,"MM/DD/YY"),v.bid=O.rate,O.amount?v.amount=Po(O.amount):v.amount="",x.push(v))}for(var y=0,k=0;k<a.length;k++)for(var D=a[k],C=0;C<D.length;C++)D[C].issueId&&(f[y]=D[C],y++);var S={};S.disRegard=n,S.buyUnSold=o,S.proceeds=i,S.salesData=f,S.offeringsList=x,S.issueId=l,S.issuerId=c,S.ticker=r,S.bookId=d,S.transType=m,S.residualBid=u,S.residualAmt=Po(h),S.unsoldQuantity=Po(b),j.push(S),this.verifyParams(j)&&w()({method:"POST",url:N.URL+"/saveADNConversionDetails",timeout:N.apiTimeOut,data:j,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){p(t.data.responseMessage),e.setState({updateData:!0})}))}},{key:"verifyParams",value:function(e){var t=e[0],a="",s=0,n=this.state,o=n.data,i=n.unsold;if("Y"===t.buyUnSold&&(0===t.residualAmt.length&&0===a.length&&(a=Hm),0===t.residualBid.length&&0===a.length&&(a=Wm)),"N"===t.disRegard&&"N"===t.buyUnSold&&"N"===t.proceeds&&0===a.length&&(a=Sm),t.offeringsList&&0===a.length&&t.offeringsList.length>0){for(var l=0;l<t.offeringsList.length;l++){var c=t.offeringsList[l];if(c.maturityDate||c.bid||c.amount){if(0===c.maturityDate.length&&0===a.length&&(a=Lm),c.maturityDate.length>0&&0===a.length){for(var r=!1,d=0;d<o.data.length;d++){var m=o.data[d];if(r=Hu(c.maturityDate,m.fromDate,m.toDate))break}r||(a=tu)}c.bid&&0===c.bid.length&&0===a.length&&(a=Tm),c.bid||0!==a.length||(a=Tm),c.amount&&0===c.amount.length&&0===a.length&&(a=Jm),c.amount.length>0&&0===a.length&&(parseFloat(c.amount)<0&&(a=wm),parseFloat(c.amount)>parseFloat(Po(i))&&0===a.length&&(a=nr),0===a.length&&(s=parseFloat(s)+parseFloat(c.amount)))}}parseFloat(s)>parseFloat(Po(i))&&0===a.length&&(a=nr)}return 0===a.length||(this.setState({actionTitle:"Conversion",actionMessage:a,showError:!0,updateData:!1}),!1)}},{key:"openModal",value:function(){this.setState({showModal:!0,updateData:!1})}},{key:"hideModal",value:function(){this.setState({showModal:!1,updateData:!0})}},{key:"onBuyRateChange",value:function(e){var t=this.state.buyRate;0==Bo(e.target.value,"1234567890.")?(this.setState({actionTitle:"Conversion",actionMessage:Xm,showError:!0,updateData:!1}),e.target.value=t,e.target.focus()):this.setState({buyRate:e.target.value,updateData:!1})}},{key:"onBuyAmountChange",value:function(e,t){var a=this.state.buyAmount;!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?(this.setState({actionTitle:"Conversion",actionMessage:Qm,showError:!0,updateData:!1}),e.target.value=a,e.target.focus()):(e.target.value.length>0&&0===t.length&&_o(e),this.setState({buyAmount:e.target.value,updateData:!1}))}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"render",value:function(){var e,t,a=this,s={},n=this.state,o=n.newOfferings,i=n.disRegard,l=n.buyUnsold,c=n.proceeds,r=n.proceedsAmount;s.offeringDateComponent=this.offeringDateComponent,s.offeringRateComponent=this.offeringRateComponent,s.offeringAmountComponent=this.offeringAmountComponent;var d={};d.salesRateComponent=this.salesRateComponent.bind(this),d.salesAmountComponent=this.salesAmountComponent.bind(this);var m=this.state.data&&this.state.data.data?this.state.data.data:[];e=m?m.map((function(e){return Object(u.jsx)(W.a,{xs:2,className:"d-inline-block mt-2",children:Object(u.jsx)("div",{className:"matuirtyLabels minmaxwid labelStyle",children:e.maturityDateStr})})})):"",t=m?m.map((function(e){return Object(u.jsx)(W.a,{xs:1,className:"d-inline-block mt-2 ",children:Object(u.jsxs)("div",{className:"minmaxwid matuirtyLabels labelStyle",children:["\xa0",e.bid,"\xa0"]})})})):"";var h=this.state.actSalesData?this.state.actSalesData:[];return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel})]})})}),Object(u.jsxs)(ai.a.Body,{children:[this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:1.5,className:"d-inline-block",style:{marginRight:"5px",color:"#5D27AB",fontWeight:"bold",fontSize:"12px"},children:m&&m[0]?m[0].issuerName:""}),Object(u.jsxs)(W.a,{xs:.5,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"TRADER",id:"lbl_trader",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",id:"trader",children:m&&m[0]?m[0].trader:""})]})}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:1.5,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"QUANTITY",id:"lbl_quantity",className:"labelStyle"}),":"]}),Object(u.jsxs)(W.a,{xs:2,className:"d-inline-block",id:"quantity",children:[Lo(this.state.quantity),"(m)"]}),Object(u.jsxs)(W.a,{xs:.5,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"UNSOLD",id:"lbl_unsold",className:"labelStyle"}),":"]}),Object(u.jsxs)(W.a,{xs:2,className:"d-inline-block",id:"unsold",children:[this.state.unsold,"(m)"]}),Object(u.jsxs)(W.a,{xs:.5,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"SOLD",id:"lbl_sold",className:"labelStyle"}),":"]}),Object(u.jsxs)(W.a,{xs:2,className:"d-inline-block",id:"lbl_sold",children:[m?Lo(parseFloat(Po(this.state.quantity))-parseFloat(Po(this.state.unsold))):this.state.quantity,"(m)"]}),Object(u.jsxs)(W.a,{xs:1.5,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"MIN PIECE",id:"lbl_minpiece",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:1,className:"d-inline-block",id:"minpiece",children:Lo(this.state.minimumPieceSize)}),Object(u.jsxs)(W.a,{xs:1.9,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"SETTLEMENT",id:"lbl_settlement",className:"labelStyle"}),":"]}),Object(u.jsx)(W.a,{xs:1.5,className:"d-inline-block",id:"settlement",children:Yu(this.state.settleDate,"MM/DD/YY")})]})})]}),Object(u.jsxs)(W.a,{xs:3,className:"d-inline-block",children:[this.state.issuerId&&this.state.bookId?Object(u.jsx)("div",{className:"tableCaption",style:{textAlign:"center"},children:"Inventory"}):"",this.state.issuerId&&this.state.bookId?Object(u.jsx)(Yb,{cprops:hv,apiCall:"/getADNInventories",updateData:this.state.updateData,wsUrl:!1,reqParams:[{issuerId:this.state.issuerId,productType:"ADN",transType:"10",bookId:this.state.bookId,currencyCode:"USD"}],edit:!1,excelFlag:"true",mappings:nv,keyField:"issueId"}):""]})]}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{style:{background:"#eafcff",marginTop:"10px",marginLeft:"20px",marginRight:"20px"},children:[Object(u.jsx)(W.a,{xs:2,className:"d-inline-block mt-2 labelStyle",children:"Maturity Ranges :"}),e]})}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{style:{background:"#eafcff",marginLeft:"20px",marginRight:"20px"},children:[Object(u.jsx)(W.a,{xs:2,className:"d-inline-block mt-2 labelStyle",children:"Rate :"}),t]})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{xs:12,className:"d-inline-block"})})}),Object(u.jsx)(H.a,{xs:"12",children:Object(u.jsxs)(ai.a,{className:"mt-3",style:{marginLeft:"15px"},children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"labelStyle",children:Object(u.jsx)("div",{children:"Sales "})})}),Object(u.jsx)(ai.a.Body,{children:h&&h.length>0?Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{children:Object(u.jsx)(Yb,{cprops:dv,data:h[0],updateData:this.state.updateData,edit:!1,fixedTable:!0,mappings:av,customComponents:d,keyField:"issueId",excelFlag:"true"})}),Object(u.jsx)(W.a,{children:Object(u.jsx)(Yb,{updateData:this.state.updateData,cprops:dv,data:h[1],edit:!1,fixedTable:!0,mappings:av,customComponents:d,keyField:"issueId",excelFlag:"true"})}),Object(u.jsx)(W.a,{children:Object(u.jsx)(Yb,{updateData:this.state.updateData,cprops:dv,data:h[2],edit:!1,fixedTable:!0,mappings:av,customComponents:d,keyField:"issueId",excelFlag:"true"})}),Object(u.jsx)(W.a,{children:Object(u.jsx)(Yb,{cprops:dv,mapdata:h[3],updateData:this.state.updateData,edit:!1,fixedTable:!0,mappings:av,customComponents:d,keyField:"issueId",excelFlag:"true"})})]}):Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:dv,updateData:this.state.updateData,data:[],edit:!1,fixedTable:!0,mappings:av,customComponents:d,keyField:"issueId",excelFlag:"true"})})}),h&&h.length>0?Object(u.jsx)(ai.a.Footer,{children:Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{xs:"12",children:[Object(u.jsxs)(W.a,{xs:1,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Proceeds",id:"lbl_quantity",className:"labelStyle"}),":"]}),Object(u.jsxs)(W.a,{xs:2,className:"d-inline-block",children:[Lo(r)," (m)"]})]})})}):""]})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{xs:12,className:"d-inline-block"})})}),Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{xs:6,children:[Object(u.jsx)("div",{className:"tableCaption",children:"\xa0\xa0\xa0\xa0New Offerings"}),Object(u.jsx)(Yb,{cprops:rv,updateData:this.state.updateData,mapdata:o,edit:!1,fixedTable:!0,mappings:tv,customComponents:s,keyField:"offeringDate",excelFlag:"true"})]}),Object(u.jsxs)(W.a,{xs:6,className:"adnchk",children:[Object(u.jsxs)(W.a,{xs:12,style:{border:"1px solid #D3DEB5",background:"#F5FBE4"},children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block mt-2",children:"Disregard Unsold Quantity"}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block mt-2",children:"Y"===i?Object(u.jsx)("input",{type:"checkbox",id:"disRegard",name:"disRegard",checked:!0,onClick:function(e){a.doCheck("DISREGARD",e)}}):Object(u.jsx)("input",{type:"checkbox",id:"disRegard",name:"disRegard",checked:!1,onClick:function(e){a.doCheck("DISREGARD",e)}})})]}),Object(u.jsxs)(W.a,{xs:12,style:{border:"1px solid #D3DEB5",background:"#F5FBE4"},children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block mt-2",children:"Buy Unsold Quantity Overnight"}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block mt-2",children:"Y"===l?Object(u.jsx)("input",{type:"checkbox",id:"buyUnsold",name:"buyUnsold",checked:!0,onClick:function(e){a.doCheck("UNSOLD",e)}}):Object(u.jsx)("input",{type:"checkbox",id:"buyUnsold",name:"buyUnsold",checked:!1,onClick:function(e){a.doCheck("UNSOLD",e)}})})]}),Object(u.jsxs)(W.a,{xs:12,style:{border:"1px solid #D3DEB5",background:"#F5FBE4"},children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block mt-2",children:"Proceeds"}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block mt-2",children:"Y"===c?Object(u.jsx)("input",{type:"checkbox",id:"proceedschk",name:"proceeds",checked:!0,onClick:function(e){a.doCheck("PROCEED",e)}}):Object(u.jsx)("input",{type:"checkbox",id:"proceedschk",name:"proceeds",checked:!1,onClick:function(e){a.doCheck("PROCEED",e)}})})]}),"Y"===l?Object(u.jsxs)(W.a,{xs:12,style:{border:"1px solid #D3DEB5",background:"#F5FBE4"},children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block mt-2",children:"Amount ($m)"}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block mt-2",children:Object(u.jsx)(Eu,{id:"buyAmount",name:"buyAmount",value:this.state.buyAmount,onBlur:function(e){a.onBuyAmountChange(e,"")},onChange:function(e){a.onBuyAmountChange(e,"CHANGE")}})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block mt-2"}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block mt-2",children:"Rate"}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block mt-2",children:Object(u.jsx)(Eu,{name:"buyRate",id:"buyRate",value:this.state.buyRate,placeholder:"Enter Rate",onBlur:function(e){a.onBuyRateChange(e)}})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block mt-2"})]}):""]})]}),Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{xs:2,className:"d-inline-block"}),Object(u.jsxs)(W.a,{className:"d-inline-block mt-2 text-left",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",size:"sm",onClick:this.doConvert,id:"convert",children:"Convert"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs ml-1",size:"sm",onClick:this.openModal,id:"partial",children:"Partial"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs ml-1",size:"sm",onClick:this.goBack,id:"return",children:"Return"})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(Kf,{show:this.state.showModal,onHide:function(){return a.hideModal()},title:"Commitment Partial Conversion",cprops:uv,data:this.state.origSalesData,mappings:ov,keyField:"maturityDate",returnMethod:this.doSingleConvert})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return a.hideError()},messageType:um})})]})]})})}}]),a}(o.a.Component),jv={},xv={},fv=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s,n;return Object(i.a)(this,a),(n=t.call(this,e)).checkBoxComponent=function(e,t,a,s){var o="issueId"+t.issueId;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(e){n.onCheckboxClick(e,t.issueId,t,a)}})})},n.textBoxComponent=function(e,t,a,s,o){var i="offer"+t.issueId;return Object(u.jsx)(Eu,{name:i,id:i,value:e,onBlur:function(e){n.onFieldChange(e,t.issueId,t.offer,t,a)},onKeyPress:function(e){n.onAmountKey(e,t.issueId,"Offer",t,a)},className:"text-right"})},n.textBoxLimitComponent=function(e,t,a){var s="limit"+t.issueId;if("0000"===t.refIssueId)return Object(u.jsx)(Eu,{name:s,id:s,value:e,onBlur:function(e){n.onLimitChange(e,t.issueId,t.offeringlimit,t,a)},onKeyPress:function(e){n.onAmountKey(e,t.issueId,"Limit",t,a)},className:"text-right"})},n.textBoxOfferComponent=function(e,t,a,s){var o="offeramount"+t.issueId,i=n.state.inventoryData;return s&&(i[a]||(i.push({}),i[a]=t,n.setState({inventoryData:i,updateData:!1}))),Object(u.jsx)(Eu,{name:o,id:o,value:Lo(e),onChange:function(e){n.onOfferChange(e,t.issueId,t.availableToday,t,a,"CHANGE")},onBlur:function(e){n.onOfferChange(e,t.issueId,t.availableToday,t,a,"")},onKeyPress:function(e){n.onKeyAmount(e,t.issueId,t,"Offer",a)},className:"text-right"})},n.textBoxRateComponent=function(e,t,a,s,o){var i=s.key,l=i+t.issueId;return Object(u.jsx)(Eu,{name:l,id:l,value:e,onChange:function(e){n.onRateChange(e,t.issueId,t.offer,t,i,a,"ONCHANGE")},onBlur:function(e){n.onRateChange(e,t.issueId,t.offer,t,i,a,"")},onKeyPress:function(e){n.onKeyAmount(e,t.issueId,t,i,a)},className:"text-right"})},n.onRateChange=function(e,t,a,s,o,i,l){if(!1===Bo(e.target.value,"1234567890.")&&0===l.length)n.setState({actionTitle:"Alert",actionMessage:"offer"===o?Vm:Tm,showError:!0,updateData:!1}),e.target.value=a,e.target.focus();else{""!==e.target.value&&0===l.length&&_o(e);var c=n.state.inventoryData;"offer"===o?c[i].offerRate=e.target.value:c[i].bidRate=e.target.value,jv={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(e.target.value),offeringlimit:Po(document.getElementById("offeramount"+s.issueId).value)}}},n.onOfferChange=function(e,t,a,s,o,i){!1===Bo(e.target.value,"1234567890.,mmMMkkKK")&&0===i.length?(n.setState({actionTitle:"Alert",actionMessage:Um,showError:!0,updateData:!1}),e.target.value=s.availableToday,e.target.focus()):(""!==e.target.value&&0===i.length&&Uo(e),n.state.inventoryData[o].offeringlimit=Po(e.target.value),xv={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(document.getElementById("offer"+s.issueId).value),offeringlimit:Po(e.target.value)})},n.onCheckboxClick=function(e,t,a,s){void 0===n.props.message||""===n.props.message?(jv={ticker:a.ticker,issueId:t,bookId:a.bookId,bidRate:Po(a.bid),offerRate:Po(document.getElementById("offer"+a.issueId).value),offeringlimit:Po(document.getElementById("limit"+a.issueId).value)},e.target.checked&&n.setState({actionTitle:rm,actionMessage:hm,alertShow:!0,updateData:!1,actionFlag:"DELETE"})):n.setState({actionTitle:"Alert",actionMessage:n.props.message,updateData:!1,showError:!0})},n.onFieldChange=function(e,t,a,s,o){!1===Bo(e.target.value,"1234567890.")?(n.setState({actionTitle:"Alert",actionMessage:Vm,showError:!0,updateData:!1}),e.target.value=s.offer,e.target.focus()):(""!==e.target.value&&_o(e),jv={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(e.target.value),offeringlimit:Po(document.getElementById("limit"+s.issueId).value)})},n.buyInventory=function(){void 0===n.props.message||""===n.props.message?n.setState({showBuyInv:!0,updateData:!1}):n.setState({actionTitle:"Alert",actionMessage:n.props.message,showError:!0,updateData:!1})},n.sellInventory=function(){void 0===n.props.message||""===n.props.message?n.setState({showSellInv:!0,updateData:!1}):n.setState({actionTitle:"Alert",actionMessage:n.props.message,showError:!0,updateData:!1})},n.state=(s={cmodal:!0,modalData:"",modalDataRow:"",showBuyInv:!1,BuyInvtData:"",showSellInv:!1,SellInvtData:"",bookId:"",screenName:"Offerings",issueId:"",IssuerId:"",responseMessage:"",actionTitle:"",actionMessage:"",alertShow:!1,actionFlag:"",showError:!1},Object(g.a)(s,"actionTitle",""),Object(g.a)(s,"actionMessage",""),Object(g.a)(s,"showError",!1),Object(g.a)(s,"inventoryData",[]),Object(g.a)(s,"showCPBuy",!1),Object(g.a)(s,"buyConfData",""),Object(g.a)(s,"invType",""),Object(g.a)(s,"updateData",!0),s),n.closemodel=n.closemodel.bind(Object(O.a)(n)),n.linkComponent=n.linkComponent.bind(Object(O.a)(n)),n.openModal=n.openModal.bind(Object(O.a)(n)),n.onLimitChange=n.onLimitChange.bind(Object(O.a)(n)),n.textBoxLimitComponent=n.textBoxLimitComponent.bind(Object(O.a)(n)),n.textBoxComponent=n.textBoxComponent.bind(Object(O.a)(n)),n.textBoxOfferComponent=n.textBoxOfferComponent.bind(Object(O.a)(n)),n.textBoxRateComponent=n.textBoxRateComponent.bind(Object(O.a)(n)),n.bookChange=n.bookChange.bind(Object(O.a)(n)),n.checkBoxComponent=n.checkBoxComponent.bind(Object(O.a)(n)),n.actionComponent=n.actionComponent.bind(Object(O.a)(n)),n.editCommitment=n.editCommitment.bind(Object(O.a)(n)),n.convert=n.convert.bind(Object(O.a)(n)),n.returnMethod=n.returnMethod.bind(Object(O.a)(n)),n.onAmountKey=n.onAmountKey.bind(Object(O.a)(n)),n.hideAlert=n.hideAlert.bind(Object(O.a)(n)),n.confirmAction=n.confirmAction.bind(Object(O.a)(n)),n.hideError=n.hideError.bind(Object(O.a)(n)),n.onOfferChange=n.onOfferChange.bind(Object(O.a)(n)),n.onRateChange=n.onRateChange.bind(Object(O.a)(n)),n.onKeyAmount=n.onKeyAmount.bind(Object(O.a)(n)),n.verify=n.verify.bind(Object(O.a)(n)),n.publishAllInventory=n.publishAllInventory.bind(Object(O.a)(n)),n.verifyAll=n.verifyAll.bind(Object(O.a)(n)),n.getDefaultBookValues=n.getDefaultBookValues.bind(Object(O.a)(n)),n.returnLayerMethod=n.returnLayerMethod.bind(Object(O.a)(n)),n.returnResponse=n.returnResponse.bind(Object(O.a)(n)),n.fieldComponent=n.fieldComponent.bind(Object(O.a)(n)),n.onInvCheckboxClick=n.onInvCheckboxClick.bind(Object(O.a)(n)),n.invCheckBoxComponent=n.invCheckBoxComponent.bind(Object(O.a)(n)),n}return Object(l.a)(a,[{key:"openModal",value:function(e,t){var a;Object.keys(e).map((function(s){e[s]===t&&s===ln&&(a=s)})),this.setState({modalData:a,modalDataRow:e,showModal:!0,updateData:!1})}},{key:"hideModal",value:function(){this.setState({showModal:!1,showBuyInv:!1,showSellInv:!1,showCPBuy:!1,updateData:!0})}},{key:"onLimitChange",value:function(e,t,a,s,n){!1===Bo(e.target.value,"1234567890.,mmMMkkKK")||e.target.value<0?(this.setState({actionTitle:"Alert",actionMessage:Um,showError:!0,updateData:!1}),e.target.value=s.availableToday):(""!==e.target.value&&Uo(e),xv={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(document.getElementById("offer"+s.issueId).value),offeringlimit:Po(e.target.value)})}},{key:"onKeyAmount",value:function(e,t,a,s,n){if(void 0===this.props.message||""===this.props.message){var o=this.state;o.bookId,o.ticker;xv={ticker:a.ticker,issueId:t,bookId:a.bookId,bidRate:Po(a.bid),offerRate:Po(document.getElementById("offer"+a.issueId).value),offeringlimit:Po(document.getElementById("offeramount"+a.issueId).value)},"Enter"===e.key&&this.verify(xv,"PUBLISHINV",n)&&this.setState({actionTitle:"Publish",actionMessage:"Are you sure, you want to Publish the Inventory ?",alertShow:!0,updateData:!1,actionFlag:"PUBLISHINV"})}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"linkComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openModal.bind(this,t,e),children:e})}},{key:"bookChange",value:function(e){this.setState({bookId:e.target.value,updateData:!0})}},{key:"editCommitment",value:function(e){void 0===this.props.message||""===this.props.message?this.setState({screenName:"Edit",issueId:e,updateData:!1}):this.setState({actionTitle:"Alert",actionMessage:this.props.message,showError:!0,updateData:!1})}},{key:"convert",value:function(e,t,a){void 0===this.props.message||""===this.props.message?this.setState({screenName:"Convert",issueId:e,issuerId:t,bookId:a}):this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"checkBoxComponent",value:function(e,t,a,s){var n=this,o="issueId"+t.issueId;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(e){n.onCheckboxClick(e,t.issueId,t,a)}})})}},{key:"actionComponent",value:function(e,t,a,s){var n=this;if("0000"===t.refIssueId)return Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{className:"btn btn-link",id:"edit"+a,onClick:function(){n.editCommitment(e)},style:{marginRight:"0.5em",marginLeft:"1em"},children:Object(u.jsx)("img",{src:"/omsservice/images/edit-icon.png",alt:"edit"})}),Object(u.jsx)("button",{className:"btn btn-link",id:"convert"+a,onClick:function(){n.convert(e,t.programId,t.bookId)},style:{marginRight:"0.5em"},children:Object(u.jsx)("img",{src:"/omsservice/images/convert-icon.png",alt:"convert"})})]},a)}},{key:"returnMethod",value:function(e){"BACK"===e?this.setState({screenName:"Offerings",responseMessage:"",updateData:!0,bookId:""}):this.setState({screenName:"Offerings",responseMessage:e,updateData:!0})}},{key:"onAmountKey",value:function(e,t,a,s,n){if(void 0===this.props.message||""===this.props.message){var o=this.state;o.bookId,o.ticker;if("Enter"===e.key){jv={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(document.getElementById("offer"+s.issueId).value),offeringlimit:Po(document.getElementById("limit"+s.issueId).value)};var i;parseFloat(Po(e.target.value))>=parseFloat(s.minimumPieceSize)&&parseFloat(Po(e.target.value))<=parseFloat(Po(s.availableCredit))?this.verify(jv,"PUBLISH")&&this.setState({actionTitle:"Publish",actionMessage:"Are you sure, you want to Publish the Commitment ?",alertShow:!0,updateData:!1,actionFlag:"PUBLISH"}):(!1,i="Amount Should be greater than or equal to ("+s.minimumPieceSize+") and less than or equal to Unsold Amount",this.setState({actionTitle:"Alert",actionMessage:i,showError:!0,updateData:!1}))}}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"hideAlert",value:function(){this.setState({alertShow:!1,updateData:!0})}},{key:"confirmAction",value:function(e){var t=this,a=this.state;a.payload,a.payloadch;if("DELETE"===e){this.setState({alertShow:!1});var s=[{}];s[0]=jv.issueId;var n=[{}];n[0]=jv.bookId;var o=[{}];o[0]=jv.ticker,w()({method:"POST",url:N.URL+Hc,timeout:N.apiTimeOut,data:{issues:s,bookId:n,ticker:o},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}))}else if("PUBLISHINV"===e){this.setState({alertShow:!1});var i=[];i.push(xv),w()({method:"POST",url:N.URL+qc,timeout:N.apiTimeOut,data:i,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}))}else if("PUBLISH"===e)this.setState({alertShow:!1}),w()({method:"POST",url:N.URL+Yc,timeout:N.apiTimeOut,data:jv,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}));else if("PUBLISHALLINV"===e){this.setState({alertShow:!1});var l=this.state.paramPayload;w()({method:"POST",url:N.URL+qc,timeout:N.apiTimeOut,data:l,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}))}}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"invCheckBoxComponent",value:function(e,t,a,s){var n=this,o="issueId"+t.issueId;if(t.availableToday>0)return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(s){n.onInvCheckboxClick(e,a,t,s)}})})}},{key:"onInvCheckboxClick",value:function(e,t,a,s){xv={ticker:a.ticker,issueId:e,bookId:a.bookId,bidRate:Po(a.bid),offerRate:Po(document.getElementById("offer"+a.issueId).value),offeringlimit:Po(document.getElementById("offeramount"+a.issueId).value)},s.target.checked&&this.setState({updateData:!1})}},{key:"verify",value:function(e,t,a){var s="";return"DELETE"===t||("PUBLISH"===t?(e.offeringlimit||0!==s.length||(s="Row"+(a+1)+":"+Um),e.offerRate||0!==s.length||(s="Row"+(a+1)+":"+Vm)):"PUBLISHINV"===t&&((e.offeringlimit||0!==s.length)&&(!e.offeringlimit||0!==e.offeringlimit.length&&0!==parseFloat(e.offeringlimit))||(s="Row"+(a+1)+":"+Um),(e.offerRate||0!==s.length)&&(!e.offerRate||0!==e.offerRate.length&&0!==parseFloat(e.offerRate))||(s="Row"+(a+1)+":"+Vm),(e.bidRate||0!==s.length)&&(!e.bidRate||0!==e.bidRate.length&&0!==parseFloat(e.bidRate))||(s="Row"+(a+1)+":"+Tm),e.offerRate&&e.bidRate&&0===s.length&&parseFloat(e.bidRate)<parseFloat(e.offerRate)&&(s="Row"+(a+1)+":"+mh)),!s||(this.setState({actionTitle:"Alert",actionMessage:s,updateData:!1,showError:!0}),!1))}},{key:"verifyAll",value:function(e,t){for(var a=!0,s=0;s<e.length;s++){var n=this.verify(e[s],t,s);if(!1===n){a=n;break}}return a}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All"})}},{key:"publishAllInventory",value:function(){if(void 0===this.props.message||""===this.props.message){for(var e=this.state.inventoryData,t=[],a=0;a<e.length;a++)0===parseFloat(e[a].offerRate)&&(e[a].offerRate=e[a].offer),0===parseFloat(e[a].bidRate)&&(e[a].bidRate=e[a].bid),0===parseFloat(e[a].offeringlimit)&&(e[a].offeringlimit=e[a].availableToday),t.push(e[a]);this.setState({paramPayload:t}),this.verifyAll(t,"PUBLISHINV")&&this.setState({actionTitle:"Publish",actionMessage:"Are you sure, you want to Publish the Inventory ?",alertShow:!0,updateData:!1,actionFlag:"PUBLISHALLINV"})}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"returnLayerMethod",value:function(e,t){this.setState({buyConfData:e,showCPBuy:!0,showBuyInv:!1,showSellInv:!1,invType:t,updateData:!1})}},{key:"returnResponse",value:function(e){this.setState({responseMessage:e.responseMessage,showCPBuy:!1,updateData:!1})}},{key:"fieldComponent",value:function(e,t,a,s){var n=s.colId;return"0000"===t.refIssueId||"Issuer"===n||"SD"===n||"Range"===n?"Offer Quant($m)"===n?Lo(e):e:void 0}},{key:"invFieldComponent",value:function(e,t,a,s){return"Par ($m)"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t={};t.linkComponent=this.linkComponent,t.checkBoxComponent=this.checkBoxComponent,t.textBoxComponent=this.textBoxComponent,t.textBoxLimitComponent=this.textBoxLimitComponent,t.textBoxOfferComponent=this.textBoxOfferComponent,t.checkBoxComponent=this.checkBoxComponent,t.actionComponent=this.actionComponent,t.invCheckBoxComponent=this.invCheckBoxComponent,t.textBoxRateComponent=this.textBoxRateComponent,t.fieldComponent=this.fieldComponent,t.invFieldComponent=this.invFieldComponent;var a=sessionStorage.getItem("loginid");return Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"","Offerings"===this.state.screenName?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{xs:5,children:[Object(u.jsxs)(W.a,{xs:2,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:qg.books,id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Jh},onchange:this.bookChange,selected:this.state.bookId,stateMethod:this.getDefaultBookValues,id:"bookId"})}),Object(u.jsxs)(W.a,{xs:7,className:"d-inline-block mt-2",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",onClick:this.buyInventory,id:"buyInventory",children:"Buy Inventory"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",onClick:this.sellInventory,id:"sellInventory",children:"Sell Inventory"})]})]}),Object(u.jsxs)(W.a,{xs:7,className:"text-right",children:[Object(u.jsx)(OO,{apiCall:ki,reqParams:{productType:Jh}}),Object(u.jsxs)(W.a,{xs:3,className:"d-inline-block mt-2",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"publishOfferings",onClick:this.publishAllInventory,children:"Publish Offerings"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",id:"axe",onClick:this.copySaveGridClick,children:"AXE"})]})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})}),this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",this.state.cmodal?Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Primary"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:zg,apiCall:ar,wsUrl:!0,reqParams:{prodType:Jh,transType:"10",issueType:"S",bookid:this.state.bookId?this.state.bookId:"All",loginId:a,socketSource:"BOOKVIEW"},edit:!1,mappings:Ug,keyField:"issueId",customComponents:t,updateData:this.state.updateData,fromPage:"Offerings",screenName:"PRIMARY",subTitle:"Book View ADN ",flagPdf:!0})})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",id:"inventory",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",id:"lbl_invent",children:"Inventory"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:Gg,apiCall:ar,wsUrl:!0,reqParams:{prodType:Jh,transType:"10",issueType:"F",bookid:this.state.bookId?this.state.bookId:"All",loginId:a,socketSource:"BOOKVIEW"},edit:!1,mappings:Fg,keyField:1,customComponents:t,updateData:this.state.updateData,fromPage:"Offerings",screenName:"INVENTORY",subTitle:"Book View ADN ",flagPdf:!0})})}),this.state.modalData===ln&&Object(u.jsx)(uO,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:Jh,modalData:this.state.modalData,modalDataRow:this.state.modalDataRow,message:this.props.message}),Object(u.jsx)(jO,{size:"md",show:this.state.showBuyInv,onHide:function(){return e.hideModal()},modalHead:"Buy Inventory",prodType:Jh,modalData:this.state.BuyInvtData,returnMethod:this.returnLayerMethod,ticketType:"B"}),Object(u.jsx)(gO,{size:"md",show:this.state.showSellInv,onHide:function(){return e.hideModal()},modalHead:"Sell Inventory",prodType:Jh,modalData:this.state.SellInvtData,returnMethod:this.returnLayerMethod,ticketType:"S"}),Object(u.jsx)(aj,{size:"md",show:this.state.showCPBuy,onHide:function(){return e.hideModal()},modalHead:"B"===this.state.invType?"Buy Ticket":"Sell Ticket",prodType:Jh,modalData:this.state.buyConfData,returnMethod:this.returnResponse,ticketType:this.state.invType})]})]}):""]}):"Edit"===this.state.screenName?Object(u.jsx)(bv,{issueId:this.state.issueId,apiCall:Lc,reqParams:{issueId:this.state.issueId,productType:Jh},returnMethod:this.returnMethod,fromPage:this.state.screenName,linkname:"Edit ADN Commitment"}):Object(u.jsx)(pv,{apiCall:Wc,reqParams:{issueId:this.state.issueId,prodType:Jh,issuerId:this.state.issuerId,bookId:this.state.bookId},returnMethod:this.returnMethod,fromPage:this.state.screenName,linkname:"ADN Commitment Conversion"})]})}}]),a}(o.a.Component),gv=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,heading:"cp",message:""},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.handleSelect=s.handleSelect.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===mr&&this.setState({cmodal:!0})}},{key:"componentDidMount",value:function(){var e=this;w()({method:"POST",url:N.URL+ac,timeout:N.apiTimeOut,data:{productType:Hh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({message:t.data})}))}},{key:"handleSelect",value:function(e){var t=this,a="";"cp"===e&&(a=Hh),"ecp"===e&&(a=Zh),"mcp"===e&&(a=Wh),"ycd"===e&&(a=zh),"ecd"===e&&(a=qh),"frcp"===e&&(a=Kh),"frcd"===e&&(a=Gh),w()({method:"POST",url:N.URL+ac,timeout:N.apiTimeOut,data:{productType:a},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({message:e.data})})),this.setState({heading:e})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",id:"cls_bkview",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{className:"d-inline-block",children:Object(u.jsxs)(hb.a,{defaultActiveKey:"cp",onSelect:this.handleSelect,transition:!1,id:"noanim-tab-example",children:[Object(u.jsx)(ei.a,{eventKey:"cp",title:"CP",children:"cp"===this.state.heading&&Object(u.jsx)(kO,{message:this.state.message})}),Object(u.jsx)(ei.a,{eventKey:"ecd",title:"ECD",children:"ecd"===this.state.heading&&Object(u.jsx)(DO,{message:this.state.message})}),Object(u.jsx)(ei.a,{eventKey:"ecp",title:"ECP",children:"ecp"===this.state.heading&&Object(u.jsx)(wO,{message:this.state.message})}),Object(u.jsx)(ei.a,{eventKey:"frcd",title:"FRCD",children:"frcd"===this.state.heading&&Object(u.jsx)(TO,{message:this.state.message})}),Object(u.jsx)(ei.a,{eventKey:"frcp",title:"FRCP",children:"frcp"===this.state.heading&&Object(u.jsx)(IO,{message:this.state.message})}),Object(u.jsx)(ei.a,{eventKey:"mcp",title:"MCP",children:"mcp"===this.state.heading&&Object(u.jsx)(WO,{message:this.state.message})}),Object(u.jsx)(ei.a,{eventKey:"ycd",title:"YCD",children:"ycd"===this.state.heading&&Object(u.jsx)(QO,{message:this.state.message})}),Object(u.jsx)(ei.a,{eventKey:"adn",title:"ADN",children:"adn"===this.state.heading&&Object(u.jsx)(fv,{message:this.state.message})})]})})})})]})})}}]),a}(o.a.Component),Ov=[];function vv(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&("allignment"!==e?o={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.textBoxComponent(t,s,n,o,e)}}:"allignment"===e&&(o={dataField:e,text:t[e],formatter:function(t,s,n,o){return a.selectBoxComponent(t,s,n,o,e)}}),"action"===e&&(o={dataField:e,text:t[e],formatter:function(t,s,n,o){return a.buttonComponent(t,s,n,o,e)}}),s.push(o)));return""})),""})),s}function yv(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&("allignment"!==e?o={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.textBoxComponent}:"allignment"===e&&(o={dataField:e,text:t[e],formatter:a.selectBoxComponent}),"amount"===e&&(o={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"amount"===e?"right":""}),"action"===e&&(o={dataField:e,text:t[e],formatter:function(t,s,n,o){return a.buttonComponent(t,s,n,o,e)}}),s.push(o)));return""})),""})),s}Ov.fromDate=at,Ov.ipaName=Ht,Ov.messageType=ha,Ov.product=is,Ov.ticker=cn,Ov.amount=de,Ov.cusip=Wt,Ov.reason=xs,Ov.transTime=xn,Ov.receiveTime=fs,Ov.status=qs,Ov.fieldOrder=qa,Ov.rowType=Ds,Ov.fieldName=Nt,Ov.dataType=Dn,Ov.epimLength=ta,Ov.startPos=Hs,Ov.append=me,Ov.fofieldName=Rt,Ov.defaultValue=ot,Ov.filler=Tt,Ov.precision=Xa,Ov.fieldCase=Be,Ov.allignment=ce;var kv=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,ipaValue:"",statusValue:"",msgTypeValue:"",formDateValue:new Date,updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.ipaChange=s.ipaChange.bind(Object(O.a)(s)),s.statusChange=s.statusChange.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.msgTypeChange=s.msgTypeChange.bind(Object(O.a)(s)),s.buttonComponent=s.buttonComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===id&&this.setState({cmodal:!0,updateData:!1})}},{key:"ipaChange",value:function(e){this.setState({ipaValue:e.target.value,updateData:!0})}},{key:"statusChange",value:function(e){this.setState({statusValue:e.target.value,updateData:!0})}},{key:"fromDateChange",value:function(e){this.setState({formDateValue:e,updateData:!0})}},{key:"msgTypeChange",value:function(e){this.setState({msgTypeValue:e.target.value,updateData:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1}),this.props.onRemove(this.props.linkname)}},{key:"buttonComponent",value:function(e,t,a,s){if("R"===e)return Object(u.jsx)(D.a,{id:"resend",className:"btn btn-primary btn-xs ml-1",children:"Resend"})}},{key:"render",value:function(){var e={};return e.buttonComponent=this.buttonComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"IPA",id:"lbl_ipa"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:_i,reqParams:{},onchange:this.ipaChange,selected:""===this.state.ipaValue?"All":this.state.ipaValue,id:"ipa"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Message Type",id:"lbl_msgtype"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Bi,reqParams:{All:"true"},onchange:this.msgTypeChange,selected:this.state.msgTypeValue,id:"msgType"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Status",id:"lbl_status"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Ui,reqParams:{},onchange:this.statusChange,selected:""===this.state.statusValue?"All":this.state.statusValue,id:"status"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Date",id:"lbl_date"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:Ov,apiCall:"/getEPIMSReport",edit:!0,mappings:yv,customComponents:e,updateData:this.state.updateData,reqParams:{ipaId:""===this.state.ipaValue?"ALL":this.state.ipaValue,status:""===this.state.statusValue?"ALL":this.state.statusValue,fromDate:Vu(this.state.formDateValue),messageType:""===this.state.msgTypeValue?"ALL":this.state.msgTypeValue},keyField:"1"})})]})]})})}}]),a}(o.a.Component),Dv=[];Dv.ipaName=Ht,Dv.messageType=ha,Dv.product=is,Dv.ticker=cn,Dv.amount=de,Dv.cusip=Ze,Dv.reason=xs,Dv.transTime=xn,Dv.receiveTime=fs,Dv.status=qs;var Cv=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,ipaValue:"",statusValue:"",msgTypeValue:"",formDateValue:new Date},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.ipaChange=s.ipaChange.bind(Object(O.a)(s)),s.msgTypeChange=s.msgTypeChange.bind(Object(O.a)(s)),s.statusChange=s.statusChange.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===ad&&this.setState({cmodal:!0})}},{key:"ipaChange",value:function(e){this.setState({ipaValue:e.target.value})}},{key:"msgTypeChange",value:function(e){this.setState({msgTypeValue:e.target.value})}},{key:"statusChange",value:function(e){this.setState({statusValue:e.target.value})}},{key:"fromDateChange",value:function(e){this.setState({formDateValue:e})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"IPA",id:"lbl_ipa"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(Eu,{value:"All",id:"lbl_ipa"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:_i,reqParams:{actionFlag:"PIMFLG"},onchange:this.ipaChange,selected:""===this.state.ipaValue?"All":this.state.ipaValue,id:"ipa"})})]}),Object(u.jsxs)(W.a,{xs:4,children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Message Type",id:"lbl_messageType"})}),Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(Eu,{value:"All",id:"lbl_messageType"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:"/getPIMSMessageTypesMap",reqParams:{},onchange:this.msgTypeChange,selected:""===this.state.msgTypeValue?"All":this.state.msgTypeValue,id:"messageType"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Status",id:"lbl_status"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(Eu,{value:"All",id:"lbl_status"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Ui,reqParams:{},onchange:this.statusChange,selected:""===this.state.statusValue?"All":this.state.statusValue,id:"status"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Date",id:"lbl_date"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"date",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(lp,{cprops:Dv,apiCall:"/getPIMSReport",reqParams:{ipaId:""===this.state.ipaValue?"ALL":this.state.ipaValue,status:""===this.state.statusValue?"ALL":this.state.statusValue,fromDate:Vu(this.state.formDateValue),messageType:""===this.state.msgTypeValue?"ALL":this.state.msgTypeValue},keyField:"1"})})]})]})})}}]),a}(o.a.Component),Nv=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,ipaValue:"",statusValue:"",msgTypeValue:"",updateData:!0,formDateValue:_u()},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.selectBoxComponent=s.selectBoxComponent.bind(Object(O.a)(s)),s.msgTypeChange=s.msgTypeChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===nd&&this.setState({cmodal:!0})}},{key:"msgTypeChange",value:function(e){this.setState({msgTypeValue:e.target.value,updateData:!1})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"textBoxComponent",value:function(e,t,a,s,n){return Object(u.jsx)(Eu,{name:n+a,id:n+a,value:e})}},{key:"selectBoxComponent",value:function(e,t,a,s,n){return Object(u.jsx)(Dp,{apiCall:Pi,reqParams:{},name:n+a,id:n+a})}},{key:"render",value:function(){var e={};return e.textBoxComponent=this.textBoxComponent,e.selectBoxComponent=this.selectBoxComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsx)(H.a,{md:4,children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"EPIMS",id:"lbl_msgtype"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Bi,reqParams:{},onchange:this.msgTypeChange,selected:this.state.msgTypeValue,id:"magType"})})]})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:Ov,apiCall:Li,reqParams:{messageType:this.state.msgTypeValue},edit:!0,mappings:vv,updateData:this.state.updateData,customComponents:e,keyField:"1",excelFlag:"true"})})]})]})})}}]),a}(o.a.Component);function Sv(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&("allignment"!==e?o={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.textBoxComponent(t,s,n,o,e)}}:"allignment"===e&&(o={dataField:e,text:t[e],formatter:function(t,s,n,o){return a.selectBoxComponent(t,s,n,o,e)}}),s.push(o)));return""})),""})),s}var wv=[];wv.fromDate=at,wv.ipaName=Ht,wv.messageType=ha,wv.product=is,wv.ticker=cn,wv.amount=de,wv.cusip=Wt,wv.reason=xs,wv.transTime=xn,wv.receiveTime=fs,wv.status=qs,wv.fieldOrder=qa,wv.rowType=Ds,wv.fieldName=Nt,wv.dataType=Dn,wv.epimLength=ta,wv.startPos=Hs,wv.append=me,wv.fofieldName=Rt,wv.defaultValue=ot,wv.filler=Tt,wv.precision=Xa,wv.fieldCase=Be,wv.allignment=ce;var Tv=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,ipaValue:"",statusValue:"",msgTypeValue:"",updateData:!0,formDateValue:_u()},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.selectBoxComponent=s.selectBoxComponent.bind(Object(O.a)(s)),s.msgTypeChange=s.msgTypeChange.bind(Object(O.a)(s)),s.allignmentChange=s.allignmentChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===td&&this.setState({cmodal:!0})}},{key:"allignmentChange",value:function(e,t,a){this.setState({updateData:!0})}},{key:"msgTypeChange",value:function(e){this.setState({msgTypeValue:e.target.value,updateData:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"textBoxComponent",value:function(e,t,a,s,n){return Object(u.jsx)(Eu,{name:n+a,id:n+a,value:e})}},{key:"selectBoxComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(Dp,{apiCall:Pi,reqParams:{},name:n+a,id:n+a,onchange:function(e){o.allignmentChange(e,a,n)}})}},{key:"render",value:function(){var e={};return e.textBoxComponent=this.textBoxComponent,e.selectBoxComponent=this.selectBoxComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsx)(H.a,{md:4,children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"PIMS",id:"lbl_msgtype"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Bi,reqParams:{},onchange:this.msgTypeChange,selected:this.state.msgTypeValue,id:"msgType"})})]})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:wv,apiCall:Li,reqParams:{messageType:this.state.msgTypeValue},edit:!0,updateData:this.state.updateData,mappings:Sv,customComponents:e,keyField:"1",excelFlag:"true"})})]})]})})}}]),a}(o.a.Component);function Iv(e,t,a){var s,n=[],o=0;return Object.keys(t).map((function(i){return Object.keys(e[0]).map((function(l){var c;l===i?t[l]&&(c="settlementDate"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return a.dateComponent(Vu(e),t,s,n,l)}}:"issueId"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:a.checkBoxComponent}:"ticker"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return void 0!==e&&"new"===e?a.tickerListComponent(e,t,s,n):a.tickerDropComponent(e,t,s,n)}}:"currencyCode"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return void 0!==e&&"new"===e?a.currencyListComponent(e,t,s,n):e}}:"oneWeek"===l||"twoWeek"===l||"threeWeek"===l||"oneday"===l||"twoday"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,i){if(void 0!==e[n]&&void 0!==e[n][l]){o=e[n][l].split(":")[0];var c=e[n][l].split(":")[2];0==o&&(o="")}else o="";return a.rateBoxComponent(o,s,n,i,l,c)}}:{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return a.textBoxComponent(e,t,s,n,l)}},n.push(c)):"rateMap"===l&&n.length>10&&(null===s||s!==e[0].rateMap)&&(s=e[0].rateMap,o=0,Object.keys(e[0].rateMap).map((function(s){if(e[0][l]){if("7"===s||"8"===s||"10"===s||"11"===s)return;c={dataField:s,text:t[s],filter:Object(Ao.textFilter)(),editable:!1,csvFormatter:function(t,a,n,i){if(void 0!==e[n]&&void 0!==e[n].rateMap&&void 0!==e[n].rateMap[s]){o=e[n].rateMap[s].split(":")[0];e[n].rateMap[s].split(":")[2];0==o&&(o="")}else o="";return o},formatter:function(t,n,i,l){if(void 0!==e[i]&&void 0!==e[i].rateMap&&void 0!==e[i].rateMap[s]){o=e[i].rateMap[s].split(":")[0];var c=e[i].rateMap[s].split(":")[2];0==o&&(o="")}else o="";return a.rateBoxComponent(o,n,i,l,s,c)}},n.push(c)}})));return""})),""})),n}function Mv(e,t,a){var s,n=[],o=0;return Object.keys(t).map((function(i){return Object.keys(e[0]).map((function(l){if(l===i){if(t[l]){if("availableCredit"===l||"minimumPiece"===l)c={dataField:l,text:t[l],filter:Object(Ao.textFilter)(),align:"right"};else if("offeringlimit"===l)var c={dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"};else c=a&&"ticker"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:a.linkComponent}:"oneWeek"===l||"twoWeek"===l||"threeWeek"===l||"oneday"===l||"twoday"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(t,a,s,n){return void 0!==e[s]&&void 0!==e[s][l]?0==(o=e[s][l].split(":")[0])&&(o=""):o="",o}}:{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),editable:!1,formatter:a.fieldComponent,formatExtraData:{colId:t[l]}};n.push(c)}}else"rateMap"===l&&n.length>10&&(null===s||s!==e[0].rateMap)&&(s=e[0].rateMap,o=0,Object.keys(e[0].rateMap).map((function(a){if(e[0][l]){if("7"===a||"8"===a||"10"===a||"11"===a)return;c={dataField:a,text:t[a],filter:Object(Ao.textFilter)(),csvFormatter:function(t,s,n,i){return void 0!==e[n]&&void 0!==e[n].rateMap&&void 0!==e[n].rateMap[a]?0==(o=e[n].rateMap[a].split(":")[0])&&(o=""):o="",o},formatter:function(t,s,n,i){return void 0!==e[n]&&void 0!==e[n].rateMap&&void 0!==e[n].rateMap[a]?0==(o=e[n].rateMap[a].split(":")[0])&&(o=""):o="",o}},n.push(c)}})));return""})),""})),n}var Av=[];Av.ecp="Euro Commercial Paper",Av.ticker=cn,Av.currencyCode=We,Av.availableCredit=de,Av.offeringlimit=Ia,Av.minimumPiece=ua,Av.settlementDate=Ts,Av.oneday=Ua,Av.twoday=On,Av.oneWeek=Ha,Av.twoWeek=kn,Av.threeWeek=nn,Av[lu]=Va,Av[mu]=vn,Av[hu]=an,Av[uu]=Et,Av[bu]=Mt,Av[pu]=_s,Av[fu]=Da,Av[du]=Wa,Av.templates=en;var Rv,Ev,Fv,Pv=[];Pv.ticker=cn,Pv.currencyCode=We,Pv.availableCredit=de,Pv.offeringlimit=Ma,Pv.minimumPiece=pa,Pv.settlementDate=Ts,Pv.oneday=Ua,Pv.twoday=On,Pv.oneWeek=Ha,Pv.twoWeek=kn,Pv.threeWeek=nn,Pv[lu]=Va,Pv[mu]=vn,Pv[hu]=an,Pv[uu]=Et,Pv[bu]=Mt,Pv[pu]=_s,Pv[fu]=Da,Pv[du]=Wa;var Bv=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleFocus=function(e){document.getElementById(e)&&(document.getElementById(e).style.display="block")},s.closeAlert=function(){s.setState({showAlert:!1,updateData:!1})},s.hideAlert=function(){s.setState({alertShow:!1,updateData:!0})},s.state={cmodal:!0,mainApiCall:Ji,updateFlag:!1,showModal:!1,plusFlag:!1,showRate:!1,respMessage:"",rejectReason:"",programId:"",rowCnt:0,actionTitle:"",actionMessage:"",showAlert:!0,showError:!1,updateData:!0,holidayData:[],productWeekData:[],dateUpdateFlag:!0,rateVar:""},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.copyPublishOfferings=s.copyPublishOfferings.bind(Object(O.a)(s)),s.publishOfferings=s.publishOfferings.bind(Object(O.a)(s)),s.bulkUpload=s.bulkUpload.bind(Object(O.a)(s)),s.addClick=s.addClick.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.rateBoxComponent=s.rateBoxComponent.bind(Object(O.a)(s)),s.dateComponent=s.dateComponent.bind(Object(O.a)(s)),s.setScreenData=s.setScreenData.bind(Object(O.a)(s)),s.postData=s.postData.bind(Object(O.a)(s)),s.currencyListComponent=s.currencyListComponent.bind(Object(O.a)(s)),s.tickerListComponent=s.tickerListComponent.bind(Object(O.a)(s)),s.tickerDropComponent=s.tickerDropComponent.bind(Object(O.a)(s)),s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.deleteGrid=s.deleteGrid.bind(Object(O.a)(s)),s.copyDataGrid=s.copyDataGrid.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.currencyChange=s.currencyChange.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;Rv=[];var t=[],a=[];w()({method:"POST",url:N.URL+ac,timeout:N.apiTimeOut,data:{productType:Zh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({message:t.data,updateData:!0})})),w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:Zh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(s){t=s.data.holidayDatesInfo,a=s.data.productWeekData,e.setState({holidayData:t,productWeekData:a})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(!1===t.cmodal&&this.props.linkname===Yr){var s=[],n=[];w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:Zh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){s=e.data.holidayDatesInfo,n=e.data.productWeekData,a.setState({holidayData:s,productWeekData:n})})),this.setState({cmodal:!0,updateData:!1})}}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!1})}},{key:"bulkUpload",value:function(e){this.setState({upload:e.target.value,updateData:!1})}},{key:"openModal",value:function(e,t){if(void 0===this.state.message||""===this.state.message){var a,s,n,o,i;if(e===_a||e===gn||e===Ya||e===yn||e===sn)null!==(a=Rv[t][e])&&(i=a.split(":"));else null!==(a=Rv[t].rateMap[e])&&(i=a.split(":")),e+="M";void 0!==i&&i.length>2&&(s=i[0],n=i[1],o=i[2]),(Fv=Rv[t]).coupon=s,Fv.maturityDate=n,Fv.maturityFlag=o,Fv.tenorType=e,Fv.amount=Fv.availableToday,this.setState({showModal:!0,updateData:!1})}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"hideModal",value:function(){Rv=[],this.setState({showModal:!1,showRate:!1,updateData:!0})}},{key:"textBoxComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(Eu,{name:n+a,id:n+a,value:e,onBlur:function(e){o.onFieldChange(e,n,a)},className:"text-right"})}},{key:"rateBoxComponent",value:function(e,t,a,s,n,o,i){var l=this,c=t.rateMap,r=t.oneday,d=t.twoday,m=t.oneWeek,h=t.twoWeek,b=t.threeWeek;return Object(u.jsxs)("div",{className:"dispFlex",children:[Object(u.jsx)(Eu,{name:n+"M"+a,id:n+"M"+a,value:e,onFocus:function(e){l.handleFocus("span"+n+a)},onKeyPress:function(e){l.onKeyDownHandler(e,n,a,n+"M"+a)},onBlur:function(e){l.onRateChange(e,t,n,a,"span"+n+a)}}),"N"===o&&""!==e&&Object(u.jsx)("span",{id:"span"+n+a,onClick:function(e){return l.handleRateClick(e,n,a)},style:{display:"none"},children:Object(u.jsx)(B.v,{})}),"Y"===o&&Object(u.jsx)("span",{id:"span"+n+a,onClick:function(e){return l.handleRateClick(e,n,a)},children:Object(u.jsx)(Hp,{mat:c&&void 0!==c[n]?Yu(c[n].split(":")[1],"M/D"):"oneday"===n&&Yu(r&&r.split(":")[1],"M/D")||"twoday"===n&&Yu(d&&d.split(":")[1],"M/D")||"oneWeek"===n&&Yu(m&&m.split(":")[1],"M/D")||"twoWeek"===n&&Yu(h&&h.split(":")[1],"M/D")||"threeWeek"===n&&Yu(b&&b.split(":")[1],"M/D"),children:Object(u.jsx)(B.B,{})})})]})}},{key:"handleRateClick",value:function(e,t,a){var s,n,o,i,l;(Ev={},t===_a||t===gn||t===Ya||t===yn||t===sn)?null!==(s=Rv[a][t])&&(l=s.split(":")):(null!==(s=Rv[a].rateMap[t])&&(l=s.split(":")),t="RATE"+t+"M");void 0!==l&&l.length>2&&(n=l[0],o=l[1],i=l[2]),Ev.settlementDate=Rv[a].settlementDate,Ev.issueId=Rv[a].issueId,Ev.currencyCode=Rv[a].currencyCode,Ev.productType=Rv[a].productType,Ev.coupon=n,Ev.tenorRate=n,Ev.matDateFlag=i,Ev.maturityColName=t,Ev.maturityDate=o,Ev.holidayData=this.state.holidayData,Ev.productWeekData=this.state.productWeekData,Ev.dateUpdateFlag=this.state.dateUpdateFlag,this.setState({showRate:!0,updateData:!0})}},{key:"onKeyDownHandler",value:function(e,t,a){13===e.charCode&&this.openModal(t,a)}},{key:"dateComponent",value:function(e,t,a,s,n){var o=this,i=this.state,l=i.holidayData,c=i.productWeekData,r=[];return l.map((function(e){e.currency===t.currencyCode&&r.push(e)})),Object(u.jsx)(Ju,{minDate:(new Date).setDate((new Date).getDate()+1),label:n+a,id:n+a,dateValue:new Date(e),fromDateFlg:!1,toDateFlg:!1,onchange:function(e){o.onDateChange(e,n,a)},currency:t.currencyCode,dateUpdateFlag:this.state.dateUpdateFlag,holidayData:r,productWeekData:c})}},{key:"tickerListComponent",value:function(e,t,a,s){var n=this;return Object(u.jsx)("div",{className:"outPosition",children:Object(u.jsx)(jj,{id:ln+a,name:ln+a,apiCall:ji,reqParams:{productType:Zh,All:"false"},onchange:function(e,t){n.tickerChange(e,t,a,ln)},selected:void 0!==Rv[a]&&void 0!==Rv[a].ticker&&"new"!==Rv[a].ticker?this.state.programId:""})})}},{key:"currencyListComponent",value:function(e,t,a,s){var n=this,o=[],i=Yl;return void 0!==this.state.programId&&this.state.programId.trim().length>0&&(t.programId=this.state.programId),w()({method:"POST",url:N.URL+i,timeout:N.apiTimeOut,data:{programId:this.state.programId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(o=e.data,n.setState({updateData:!0}))})),Object(u.jsx)("div",{className:"outPosition",children:Object(u.jsx)(jj,{id:"currencyCode"+a,name:"currencyCode"+a,apiCall:i,eData:o,reqParams:{productType:Zh,programId:this.state.programId},onchange:function(e,t){n.currencyChange(e,t,a,"currencyCode")},selected:void 0!==Rv[a]&&void 0!==Rv[a].currencyCode&&"new"!==Rv[a].currencyCode?Rv[a].currencyCode:""})})}},{key:"onDateChange",value:function(e,t,a){this.setState({updateData:!0});var s=Rv,n="";s.map((function(t,o){"new"!==t.ticker&&o!==a&&s[a].programId===t.programId&&s[a].currencyCode===t.currencyCode&&Yu(e,"M/D/YY")===t.settlementDate&&(n="Ticker, Currency and Settle Date already exist")})),n?this.setState({actionTitle:"Alert",actionMessage:n,showError:!0,dateUpdateFlag:!1,updateData:!0}):(s[a][t]=Yu(e,"M/D/YY"),this.setState({settlementDate:Yu(e,"M/D/YY")}),this.setState({currencyCode:s[a].currencyCode,dateUpdateFlag:!0}))}},{key:"onFieldChange",value:function(e,t,a){var s="";if(Rv[a][t]=e.target.value,!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?s="Row"+(a+1)+":"+wm:(""!==e.target.value&&Uo(e),Rv[a][t]=Po(e.target.value)),s)return this.setState({actionTitle:"Alert",actionMessage:s,showError:!0,updateData:!0}),e.target.value="",e.target.focus(),!1}},{key:"onRateChange",value:function(e,t,a,s,n){var o=this;this.setState({rateVar:e.target.value});var i;("oneWeek"!==a&&"twoWeek"!==a&&"threeWeek"!==a&&"oneday"!==a&&"twoday"!==a&&"rateMap"!==a||(i=t[a].split(":")[0]),t.rateMap)&&(t.rateMap,Object.keys(t.rateMap).map((function(n){t.rateMap&&a===n&&(i=t.rateMap[n].split(":")[0]),(!1===Bo(e.target.value,"1234567890.")||e.target.value.split(".").length>2)&&(o.setState({actionTitle:"Alert",actionMessage:"Row"+(s+1)+":"+Ym,showError:!0,updateData:!1}),e.target.value=i,e.target.focus(),o.setState({showModal:!1,updateData:!1}))})));if(document.getElementById(n)&&(document.getElementById(n).style.display="none"),void 0!==e.target.value&&""!==e.target.value){var l,c=Rv;if(a===_a||a===gn||a===Ya||a===yn||a===sn){if(null!==(l=c[s][a])){var r=l.split(":");r[0]=e.target.value,c[s][a]=r.join(":")}}else{var d=c[s].rateMap;if(null!==(l=d[a])){var m=l.split(":");m[0]=e.target.value,d[a]=m.join(":"),c[s].rateMap=d}}}}},{key:"currencyChange",value:function(e,t,a,s){var n=Rv;n[a][s]=t,Rv[a].programId=this.state.programId,this.setState({currencyCode:t,updateData:!1});var o="";if(n.map((function(e,t){n[a].programId===("new"!==e.ticker&&e.programId)&&n[a].currencyCode===("new"!==e.ticker&&e.currencyCode)&&n[a].settlementDate===("new"!==e.ticker&&e.settlementDate)&&(o="Ticker, Currency and Settle Date already exist")})),o)return this.setState({actionTitle:"Alert",actionMessage:o,showError:!0,updateData:!1}),!1}},{key:"tickerChange",value:function(e,t,a,s){var n=this,o=Rv;o[a][s]=t,o[a].programId=t,this.setState({rowCnt:Rv.length,updateData:!1}),Rv=[],this.setState({programId:t,updateData:!1}),this.setState({mainApiCall:ri,updateData:!0});var i={issuerId:t,productType:Zh,ticker:e[0]};w()({method:"POST",url:N.URL+yl,timeout:N.apiTimeOut,data:i,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(o[a].minimumPiece=e.data.minSize,o[a].ticker=e.data.ticker,document.getElementById("minimumPiece"+a).value=e.data.minSize,n.setState({updateFlag:!0}))}))}},{key:"setScreenData",value:function(e){Rv=e}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1}),this.props.onRemove(this.props.linkname)}},{key:"copyPublishOfferings",value:function(e){if(void 0===this.state.message||""===this.state.message){this.verifyAll(Rv)&&this.postData("/saveAndCopyECPGridDetails","","SAVE")}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"publishOfferings",value:function(e){if(void 0===this.state.message||""===this.state.message){this.verifyAll(Rv)&&this.postData("/saveECPGridDetails","","SAVE")}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"verifyAll",value:function(e){for(var t=!0,a=0;a<e.length;a++){if(!1===this.verify(Rv[a],a)){t=!1;break}}return t}},{key:"verify",value:function(e,t){var a=this,s=e.oneWeek.split(":")[0],n=e.oneday.split(":")[0],o="",i=0;return""!==e.availableCredit&&(e.availableCredit=e.availableCredit.trim(),i=Po(e.availableCredit)),""===i||0===parseFloat(i)?o="Row"+(t+1)+":"+ch:""===e.offeringlimit||0===parseFloat(e.offeringlimit)?o="Row"+(t+1)+":"+Em:""===e.minimumPiece||0===parseFloat(e.minimumPiece)?o="Row"+(t+1)+":"+Fm:parseFloat(e.offeringlimit)>i?o="Row"+(t+1)+":"+rr:parseFloat(e.offeringlimit)<e.minimumPiece?o="Row"+(t+1)+":"+Nm:0===parseFloat(n)?o="Row"+(t+1)+":Please Enter Valid One Day Rate":0===parseFloat(s)&&(o="Row"+(t+1)+":Please Enter Valid One Week Rate"),Rv.map((function(e,t){a.state.programId===("new"!==e.ticker&&e.programId)&&a.state.currencyCode===("new"!==e.ticker&&e.currencyCode)&&a.state.settlementDate===("new"!==e.ticker&&e.settlementDate)&&(o="Ticker, Currency and Settle Date already exist")})),!o||(this.setState({actionTitle:"Alert",actionMessage:o,showError:!0,updateData:!1}),!1)}},{key:"addClick",value:function(e){void 0===this.state.message||""===this.state.message?(void 0!==Rv?this.setState({rowCnt:Rv.length+1,updateData:!1,rejectReason:"",respMessage:""}):this.setState({rowCnt:1,updateData:!1}),Rv=[],this.setState({mainApiCall:ri,updateData:!0,rejectReason:"",respMessage:""})):this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"postData",value:function(e,t,a){var s,n=this;"PUBLISH"===a||"DELETE"===a||"COPY"===a?s=t:"SAVE"===a&&(s=Rv,Rv=[]),w()({method:"POST",url:N.URL+e,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data?"COPY"===a?(n.setScreenData(e.data),n.setState({updateData:!0})):"DELETE"===a?void 0!==e.data.successMessage&&e.data.successMessage.length>0&&("Delete Successful."===e.data.successMessage?n.setState({respMessage:e.data.successMessage,updateData:!0}):n.setState({rejectReason:e.data.errorMessage,updateData:!0})):void 0!==e.data.errorMessage&&e.data.errorMessage.length>0?n.setState({rejectReason:e.data.errorMessage,updateData:!0}):void 0!==e.data.successMessage&&e.data.successMessage.length>0&&n.setState({respMessage:e.data.successMessage,showAlert:!0,updateData:!0}):n.setState({rejectReason:"",respMessage:"",updateData:!0}),n.setState({mainApiCall:Ji,updateData:!0})}))}},{key:"tickerDropComponent",value:function(e,t,a){var s=this;return this.setState({modalData:t}),Object(u.jsxs)(pj.a,{className:"positioninitial",drop:"down",children:[Object(u.jsx)(pj.a.Toggle,{id:ln+a,variant:"link",children:e}),Object(u.jsxs)(pj.a.Menu,{children:[Object(u.jsx)(pj.a.Item,{onClick:function(e){return s.copyDataGrid(a)},children:"Copy"}),Object(u.jsx)(pj.a.Item,{onClick:function(e){return s.deleteGrid(a)},children:"Delete"})]})]})}},{key:"deleteGrid",value:function(e){this.setState({actionTitle:"Delete",actionMessage:"Are you sure, you want to delete the data ?",alertShow:!0,actionFlag:"DELETE",deleteData:e,updateData:!1,respMessage:""})}},{key:"confirmAction",value:function(e,t){if("DELETE"===e)if(this.setState({alertShow:!1}),void 0===this.state.message||""===this.state.message){var a=Rv[this.state.deleteData],s={};s.issueId=a.issueId,Rv=[],this.postData("/deleteECPGridDetails",s,"DELETE")}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"copyDataGrid",value:function(e){if(void 0===this.state.message||""===this.state.message){var t=Rv[e],a={};a.issueId=t.issueId,a.productType=Zh,a.stmtType="S";Rv=[],this.postData(ri,a,"COPY")}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0})}},{key:"fieldComponent",value:function(e,t,a,s){return"Offer Lmt (m)"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t=this.state,a=t.holidayData,s=t.productWeekData,n={};return n.textBoxComponent=this.textBoxComponent,n.dateComponent=this.dateComponent,n.rateBoxComponent=this.rateBoxComponent,n.tickerListComponent=this.tickerListComponent,n.tickerDropComponent=this.tickerDropComponent,n.currencyListComponent=this.currencyListComponent,n.fieldComponent=this.fieldComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsxs)("h6",{children:[qr,void 0!==this.state.respMessage&&""!==this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",show:this.state.showAlert,onClick:this.closeAlert,dismissible:!0,children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&""!==this.state.rejectReason?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",show:this.state.showAlert,onClick:this.closeAlert,dismissible:!0,children:this.state.rejectReason}):"",void 0!==this.state.message&&this.state.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.state.message}):""]}),(s.length>0||a.length>0)&&Object(u.jsx)(Yb,{cprops:Av,apiCall:this.state.mainApiCall,updateData:this.state.updateData,wsUrl:!1,reqParams:{rowCnt:this.state.rowCnt,productType:Zh,stmtType:"S"},edit:!1,mappings:Iv,customComponents:n,calBack:this.setScreenData,mapdata:Rv,fixedTable:!0,keyField:qt,excelFlag:"true"})]})}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{className:"d-inline-block mt-2 text-center",children:[Rv&&this.state.rowCnt>=0&&Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",onClick:this.copyPublishOfferings,id:"copyPublishOfferings",children:"Copy & Publish Offerings"}),Rv&&this.state.rowCnt>=0&&Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs ml-1",onClick:this.publishOfferings,id:"publishOfferings",children:"Publish Offerings"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs ml-1",onClick:this.addClick,id:"add",children:"Add"})]})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)("h6",{children:iu}),Object(u.jsx)(Yb,{cprops:Pv,apiCall:Ji,updateData:this.state.updateData,wsUrl:!1,reqParams:{productType:Zh,stmtType:"F"},mappings:Mv,customComponents:n,keyField:"1",excelFlag:"true"})]})})]}),Object(u.jsx)(SO,{show:this.state.showModal,onHide:function(){return e.hideModal()},modalData:Fv}),Object(u.jsx)(Rj,{show:this.state.showRate,onHide:function(){return e.hideModal()},modalData:Ev}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})})}}]),a}(o.a.Component),Lv=[];Lv.ticket=dn,Lv.ticker=cn,Lv.accountName=X,Lv.productType=ls,Lv.currencyCode=We,Lv.amount=ga,Lv.spread=Rs,Lv.settlementDate=Ms,Lv.maturityDate=da,Lv.coupon=He,Lv.bidYield=In,Lv.price=es,Lv.issuerType=Te,Lv.bookId=Se,Lv.status=qs,Lv.actionId=Je;var _v=[];_v.ticker=cn,_v.currencyCode=We,_v.settlementDate=Ts,_v.maturityDate=da,_v.amount=ga,_v.coupon=He,_v.actionId=ie;var Uv,Vv,Yv=[],Hv=Nl,Wv=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).hideAlert=function(){s.setState({alertShow:!1})},s.clearState=function(){Yv=[],Hv=Nl,s.setState({respMessage:"",rejectReason:""})},s.state={updateFlag:!1,respMessage:"",rejectReason:""},s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.submitData=s.submitData.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){Yv=[],this.clearState(),this.postData(Uv,Hv)}},{key:"submitData",value:function(){this.setState({actionTitle:"Submit",actionMessage:"Are you sure, you want to Submit the Trade ?",alertShow:!0,actionFlag:"TRADE"})}},{key:"confirmAction",value:function(e){this.setState({alertShow:!1}),Yv.action="SAVE",Yv.loginId=sessionStorage.getItem("loginid"),Hv=gl,this.postData(Yv)}},{key:"postData",value:function(e){var t=this;e.rejectReason="",e.responseMessage="",w()({method:"POST",url:N.URL+Hv,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(Yv=e.data,t.setState({tradeData:e.data}),void 0!==Yv&&void 0!==Yv.rejectReason&&Yv.rejectReason.length>0?t.setState({rejectReason:Yv.rejectReason}):void 0!==Yv&&void 0!==Yv.responseMessage&&Yv.responseMessage.length>0&&t.setState({respMessage:Yv.responseMessage}),t.setState({updateFlag:!0}))}))}},{key:"onContentChange",value:function(e,t){var a=this.state.tradeData;a[t]=e.target.value,"price"===t&&(a.calFlag="yield"),"bidYield"===t&&(a.calFlag="price"),this.postData(a,Hv)}},{key:"setContent",value:function(){void 0!==this.state.tradeData&&(void 0!==document.getElementById("lyr-bprice")&&null!==document.getElementById("lyr-bprice")&&(document.getElementById("lyr-bprice").value=this.state.tradeData.price),void 0!==document.getElementById("lyr-bbidYield")&&null!==document.getElementById("lyr-bbidYield")&&(document.getElementById("lyr-bbidYield").value=this.state.tradeData.bidYield),void 0!==document.getElementById("lyr-bcoupon")&&null!==document.getElementById("lyr-bcoupon")&&(document.getElementById("lyr-bcoupon").value=this.state.tradeData.coupon))}},{key:"render",value:function(){var e=this,t=this.props.buyInData,a=this.state,s=a.respMessage,n=a.rejectReason;return this.setContent(),void 0==Yv&&(Yv=t),(Uv=t)?Object(u.jsxs)("div",{className:"modal-cls",id:"CDBuyIn",children:[void 0!==s&&s.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:s}):"",void 0!==n&&n.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:n}):"",Object(u.jsxs)("div",{className:"bgc",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_shortName",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left removewrap",id:"shortName",children:Uv.issuerName})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left removewrap",id:"ticker",children:Uv.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_currencyCode",children:"CURRENCY:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"currencyCode",children:Uv.currencyCode})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_cusip",children:"CUSIP"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"cusip",children:Uv.cusip})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_prodName",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"prodName",children:Uv.prodName})]})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"amount",className:"form-label col-md-4 col-sm-4 col-xs-4  text-right",children:"m:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4  text-right",id:"lyr-buy-trade",children:Object(u.jsx)(Eu,{id:"lyr-amount",name:"lyr-amount",value:Lo(Uv.amount),className:"form-control input-sm",readOnly:"true"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"settle",className:"form-label col-md-4 col-sm-4 col-xs-4  text-right",children:"Settle:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4  text-left",id:"lyr-buy-trade",children:Object(u.jsx)(Eu,{id:"lyr-settle",name:"lyr-settle",value:Uv.settlementDate,className:"form-control input-sm",readOnly:"true"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"maturity",className:"form-label col-md-4 col-sm-4 col-xs-4  text-right",children:"Mat:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4  text-left",id:"lyr-buy-trade",children:Object(u.jsx)(Eu,{id:"lyr-maturity",name:"lyr-maturity",value:Uv.maturityDate,className:"form-control input-sm",readOnly:"true"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"bcoupon",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right  ",children:"Coupon:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4  text-left",id:"lyr-buy-trade",children:Object(u.jsx)(Eu,{name:"lyr-bcoupon",id:"lyr-bcoupon",value:Yv.coupon,className:"text-right",onBlur:function(t){e.onContentChange(t,"coupon")},readOnly:"true"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"bbidYield",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right  ",children:"Yield:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4  text-left",id:"lyr-buy-trade",children:Object(u.jsx)(Eu,{name:"lyr-bbidYield",id:"lyr-bbidYield",value:Yv.bidYield,className:"text-right",onBlur:function(t){e.onContentChange(t,"bidYield")},readOnly:"true"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"bprice",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right  ",children:"Price:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4  text-left",id:"lyr-buy-trade",children:Object(u.jsx)(Eu,{name:"lyr-bprice",id:"lyr-bprice",value:Yv.price,className:"text-right",onBlur:function(t){e.onContentChange(t,"price")},readOnly:"true"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-right font-weight-bold",id:"lbl_residualAmt",children:"Net :"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4   text-right",id:"residualAmt",children:Yv.residualAmt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-right font-weight-bold",id:"lbl_accruedInterest",children:"Acc Int :"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-right",id:"accruedInterest",children:Yv.accruedInterest})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"note",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right  ",children:"Notes :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-note",name:"lyr-note",className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"cuisp",className:"form-label col-md-4 col-sm-4 col-xs-4  text-right",children:"CUSIP:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-cuisp",name:"lyr-cuisp",value:Uv.cusip,className:"form-control input-sm"})})]})]}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"buysell",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right ",children:"B/S :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-buysell",name:"lyr-buysell",value:"B",className:"form-control input-sm"})})]})}),void 0!==this.state.respMessage&&0!==this.state.respMessage.length||void 0!==this.state.rejectReason&&0!==this.state.rejectReason.length?"":Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:Object(u.jsx)("button",{id:"submit",onClick:this.submitData,className:"btn btn-success btn-xs lyrsubmitfocus",children:"Submit"})}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]}):"No data"}}]),a}(o.a.Component),qv=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectData:""},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.buyInModalData;return e?Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,dialogClassName:"buy-modal",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:Object(u.jsx)("div",{style:{textAlign:"center"},children:"Buy In"})})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsx)(Wv,{buyInData:e})})]}):""}}]),a}(o.a.Component);function zv(e,t,a){var s=[];return Object.values(t).map((function(e){})),Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&(o="actionId"===e?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.actionComponent(t,s,n,o,e)}}:"productType"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){var n;return"1200"===e?n="CP":"1600"===e?n="MCP":"2200"===e?n="ECD":"2300"===e?n="YCD":"2400"===e?n="FRCD":"2700"===e?n="FRCP":"2900"===e&&(n="ECP"),n}}:!a||"ticket"!==e&&"ticker"!==e?!a||"issuerType"!==e&&"status"!==e?"amount"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1,formatter:a.fieldComponent,formatExtraData:{colId:t[e]}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.imgComponent}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkShowComponent(t,s,n,o,e)}},s.push(o)));return""})),""})),s}function Gv(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&(o="actionId"===e?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.buttonComponent(t,s,n,o,e)}}:"createdDate"===e||"couponDate"===e||"maxAmount"===e||"fee"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.textBoxComponent(t,s,n,o,e)}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1},s.push(o)));return""})),""})),s}var Kv,Zv,Jv,Qv=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={showModal:!1,data:"",updateData:!0},s.buttonComponent=s.buttonComponent.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.buyAction=s.buyAction.bind(Object(O.a)(s)),s.postData=s.postData.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.cdBuyInData;this.postData(e,Wi)}},{key:"postData",value:function(e,t){var a=this;w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&a.setState({data:e.data,updateData:!0})}))}},{key:"hideModal",value:function(){this.setState({showModal:!1,updateData:!0})}},{key:"buttonComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(D.a,{size:"sm",id:n+a,onClick:function(s){o.buyAction(e,t,a,s)},children:"Buy"})}},{key:"textBoxComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(Eu,{name:n+a,id:n+a,value:e,onBlur:function(e){o.onFieldChange(e,n,a)}})}},{key:"buyAction",value:function(e,t,a,s){Vv=t,this.setState({showModal:!0,updateData:!1})}},{key:"onFieldChange",value:function(e,t,a){Vv[a][t]=e.target.value}},{key:"render",value:function(){var e=this,t={};t.buttonComponent=this.buttonComponent,t.textBoxComponent=this.textBoxComponent;this.props.cdBuyInData;return Object(u.jsx)("div",{className:"modal-content modal-lyr-cnt",children:Object(u.jsx)("div",{className:"modal-body1 text-center",children:Object(u.jsx)("div",{className:"col-md-12 col-sm-12",children:Object(u.jsxs)("div",{className:"react-bootstrap-table fo2table table-responsive",children:[Object(u.jsx)(Yb,{cprops:_v,mappings:Gv,updateData:this.state.updateData,mapdata:this.state.data,customComponents:t,keyField:"1",excelFlag:"true"}),Object(u.jsx)(qv,{show:this.state.showModal,onHide:function(){return e.hideModal()},buyInModalData:Vv})]})})})})}}]),a}(o.a.Component),Xv=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectData:""},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.buyInModalData;return e?Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,dialogClassName:"buyIn-modal",size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:Object(u.jsx)("div",{style:{textAlign:"center"},children:"Buy In"})})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsx)(Qv,{cdBuyInData:e})})]}):""}}]),a}(o.a.Component),$v=[],ey=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).actionComponent=function(e,t,a,n,o){var i="actionId"+a;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:i,id:i,onClick:function(n){s.onCheckboxClick(e,t,a,n)}})})},s.openModal=function(e,t){s.setState({showModal:!0,updateData:!1})},s.openMultiModal=function(e,t){s.setState({showMultiModal:!0,updateData:!1})},s.state={cmodal:!0,productTypeValue:"",showModal:!1,showMultiModal:!1,showShowModal:!1,formDateValue:new Date,toDateValue:new Date,modalDataRow:"",updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.convertAction=s.convertAction.bind(Object(O.a)(s)),s.openShowModal=s.openShowModal.bind(Object(O.a)(s)),s.linkShowComponent=s.linkShowComponent.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){[],Kv=[]}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Qr&&this.setState({cmodal:!0,updateData:!1})}},{key:"hideModal",value:function(){this.setState({showModal:!1,updateData:!0})}},{key:"hideMultiModal",value:function(){this.setState({showMultiModal:!1,updateData:!0})}},{key:"linkComponent",value:function(e,t,a){return Object(u.jsx)("button",{className:"btn btn-link",children:e})}},{key:"onCheckboxClick",value:function(e,t,a,s){var n=this;!0===s.target.checked?$v.push(t.actionId):$v.splice($v.indexOf(t.actionId),1);var o=document.getElementById("convert");o&&$v.length>0?o.src=vg:o.src=J,null!==o&&$v.length>0?o.addEventListener("click",(function(e){return n.convertAction($v)})):o.removeEventListener("click",(function(e){return n.convertAction($v)}))}},{key:"convertAction",value:function(e){if(Jv=[],!(e.length>0))return!1;e.map((function(e,t){var a=Zv.find((function(t){return t.actionId===e}));a.issueIdList=[Zv.find((function(t){return t.actionId===e})).issueId],Jv.push(a)})),e.length>1?(Kv=Jv,this.openMultiModal()):(Kv=Jv[0],this.openModal())}},{key:"fromDateChange",value:function(e){this.setState({formDateValue:e,updateData:!0})}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e,updateData:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1}),this.props.onRemove(this.props.linkname)}},{key:"setScreenData",value:function(e){Zv=e}},{key:"linkShowComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openShowModal.bind(this,t,e),children:e})}},{key:"openShowModal",value:function(e,t){this.setState({modalDataRow:e,showShowModal:!0,updateData:!1})}},{key:"hideShowModal",value:function(){this.setState({showShowModal:!1,updateData:!0})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):void 0}},{key:"fieldComponent",value:function(e,t,a,s){return"$m"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t={};return t.actionComponent=this.actionComponent,t.linkComponent=this.linkComponent,t.linkShowComponent=this.linkShowComponent,t.imgComponent=this.imgComponent,t.fieldComponent=this.fieldComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:Lv,apiCall:Hi,updateData:this.state.updateData,reqParams:{fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue),bookId:this.state.bookId,productType:zh},mappings:zv,calBack:this.setScreenData,customComponents:t,keyField:"1",excelFlag:"true"})})]}),Object(u.jsx)(qv,{show:this.state.showModal,onHide:function(){return e.hideModal()},buyInModalData:Kv}),Object(u.jsx)(Xv,{show:this.state.showMultiModal,onHide:function(){return e.hideMultiModal()},buyInModalData:Kv}),Object(u.jsx)(kp,{size:"md",show:this.state.showShowModal,onHide:function(){return e.hideShowModal()},modalHead:"Show Ticket",prodType:zh,modalDataRow:this.state.modalDataRow})]})})}}]),a}(o.a.Component),ty=[];ty.ticket=dn,ty.ticker=cn,ty.accountName=X,ty.prodName=ls,ty.currencyCode=We,ty.amount=ga,ty.spread=Rs,ty.createdDate=Ms,ty.couponDate=da,ty.coupon=He,ty.bidYield=In,ty.price=es,ty.issuerType=Te,ty.bookName=Se,ty.status=qs,ty.actionId=gt;var ay=[];function sy(e,t,a){var s=[];return Object.values(t).map((function(e){})),Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&(o="actionId"===e?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.actionComponent(t,s,n,o,e)}}:a&&"ticket"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.linkComponent}:a&&"ticker"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkShowComponent(t,s,n,o,e)}}:!a||"issuerType"!==e&&"status"!==e?"amount"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1,formatter:a.fieldComponent,formatExtraData:{colId:t[e]}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.imgComponent},s.push(o)));return""})),""})),s}function ny(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&(o="actionId"===e?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.buttonComponent(t,s,n,o,e)}}:"createdDate"===e||"couponDate"===e||"maxAmount"===e||"fee"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.textBoxComponent(t,s,n,o,e)}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1},s.push(o)));return""})),""})),s}ay.ticker=cn,ay.currencyCode=We,ay.settlementDate=Ts,ay.maturityDate=da,ay.amount=ga,ay.coupon=He,ay.actionId=ie;var oy,iy,ly,cy,ry,dy,my=[],hy=Nl,uy=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).hideAlert=function(){s.setState({alertShow:!1})},s.clearState=function(){my=[],hy=Nl,s.setState({respMessage:"",rejectReason:""})},s.state={updateFlag:!1,respMessage:"",rejectReason:""},s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.submitData=s.submitData.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){my=[],this.clearState(),(oy=this.props.buyInData).fromPage="CONVERS",oy.justSave="N",this.postData(this.props.buyInData,hy)}},{key:"submitData",value:function(){this.setState({actionTitle:"Submit",actionMessage:"Are you sure, you want to Submit the Trade ?",alertShow:!0,actionFlag:"TRADE"})}},{key:"confirmAction",value:function(e){this.setState({alertShow:!1}),oy.action="SAVE",oy.loginId=sessionStorage.getItem("loginid"),hy=gl,this.postData(oy)}},{key:"postData",value:function(e){var t=this,a=e;e.rejectReason="",e.responseMessage="","SAVE"===a.action&&(hy=Nl,e.action="AJAXBUY",e.justSave="Y"),w()({method:"POST",url:N.URL+hy,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(void 0!==(my=e.data)&&void 0!==my.rejectReason&&my.rejectReason.length>0?t.setState({rejectReason:my.rejectReason}):void 0!==my&&void 0!==my.responseMessage&&my.responseMessage.length>0?t.setState({respMessage:my.responseMessage}):"Y"===a.justSave?(hy=gl,a.action="SAVE",w()({method:"POST",url:N.URL+hy,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(my=e.data,void 0!==e.data&&void 0!==e.data.rejectReason&&e.data.rejectReason.length>0?t.setState({rejectReason:e.data.rejectReason}):void 0!==e.data&&void 0!==e.data.responseMessage&&e.data.responseMessage.length>0&&t.setState({respMessage:e.data.responseMessage}))}))):t.setState({responseMessage:"",rejectReason:""}),t.setState({updateFlag:!0}))}))}},{key:"onContentChange",value:function(e,t){my[t]=e.target.value,"price"===t&&(my.calFlag="yield"),"bidYield"===t&&(my.calFlag="price"),my.justSave="N",this.postData(my,hy)}},{key:"setContent",value:function(){void 0!==this.state.tradeData&&(void 0!==document.getElementById("lyr-bprice")&&null!==document.getElementById("lyr-bprice")&&(document.getElementById("lyr-bprice").value=this.state.tradeData.price),void 0!==document.getElementById("lyr-bbidYield")&&null!==document.getElementById("lyr-bbidYield")&&(document.getElementById("lyr-bbidYield").value=this.state.tradeData.bidYield),void 0!==document.getElementById("lyr-bcoupon")&&null!==document.getElementById("lyr-bcoupon")&&(document.getElementById("lyr-bcoupon").value=this.state.tradeData.coupon))}},{key:"render",value:function(){var e=this,t=this.props.buyInData,a=this.state,s=a.respMessage,n=a.rejectReason;return this.setContent(),void 0==my&&(my=t),(oy=t)?Object(u.jsxs)("div",{className:"modal-cls",id:"CDBuyIn",children:[void 0!==s&&s.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:s}):"",void 0!==n&&n.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:n}):"",Object(u.jsxs)("div",{className:"bgc",id:"lyr_container",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block",id:"lft_wdth",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"Iss_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lyr_shortName",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left removewrap",id:"shortName",children:oy.issuerName})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",id:"Tick_Row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lyr_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left removewrap",id:"ticker",children:oy.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"Curr_Row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lyr_currencyCode",children:"CURRENCY:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"currencyCode",children:oy.currencyCode})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block",id:"rgt_wdth",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"cus_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lyr_cusip",children:"CUSIP"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"cusip",children:oy.cusip})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",id:"prd_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lyr_productType",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"productType",children:void 0!==my.prodName?my.prodName:oy.prodName})]})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",id:"trade_blk",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"sub_trade",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"m_row",children:[Object(u.jsx)("label",{id:"amount",className:"form-label col-md-4 col-sm-4 col-xs-4  text-right",children:"m:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4  text-right",id:"v_amount",children:Object(u.jsx)(Eu,{id:"lyr-amount",name:"lyr-amount",value:Lo(oy.amount),className:"form-control input-sm",readOnly:"true"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"sett_row",children:[Object(u.jsx)("label",{id:"settle",className:"form-label col-md-4 col-sm-4 col-xs-4  text-right",children:"Settle:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4  text-left",id:"v_settle",children:Object(u.jsx)(Eu,{id:"lyr-settle",name:"lyr-settle",value:oy.settlementDate,className:"form-control input-sm",readOnly:"true"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"maturity_row",children:[Object(u.jsx)("label",{id:"maturityDate",className:"form-label col-md-4 col-sm-4 col-xs-4  text-right",children:"Mat:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4  text-left",id:"v_maturityDate",children:Object(u.jsx)(Eu,{id:"lyr-maturityDate",name:"lyr-maturityDate",value:oy.maturityDate,className:"form-control input-sm",readOnly:"true"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"copon_row",children:[Object(u.jsx)("label",{id:"bcoupon",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"Coupon:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4  text-left",id:"v_coupon",children:Object(u.jsx)(Eu,{name:"lyr-bcoupon",id:"lyr-bcoupon",value:my.coupon,className:"text-right",onChange:function(t){e.onContentChange(t,"coupon")},readOnly:"true"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"row_yied",children:[Object(u.jsx)("label",{id:"bbidYield",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"Yield:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4  text-left",id:"v_bbidYield",children:Object(u.jsx)(Eu,{name:"lyr-bbidYield",id:"lyr-bbidYield",value:my.bidYield,className:"text-right",onChange:function(t){e.onContentChange(t,"bidYield")},readOnly:"true"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"row_price",children:[Object(u.jsx)("label",{id:"bprice",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"Price:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4  text-left",id:"v_bprice",children:Object(u.jsx)(Eu,{name:"lyr-bprice",id:"lyr-bprice",value:my.price,className:"text-right",onChange:function(t){e.onContentChange(t,"price")},readOnly:"true"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"net_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-right font-weight-bold",id:"lry_residualAmt",children:"Net :"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4   text-right",id:"residualAmt",children:my.residualAmt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"acct_row",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-right font-weight-bold",id:"lry_accruedInterest",children:"Acc Int :"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-right",id:"accruedInterest",children:my.accruedInterest})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",id:"notes_contain",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"notes_row",children:[Object(u.jsx)("label",{id:"note",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"Notes :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_note",children:Object(u.jsx)(Eu,{id:"lyr-note",name:"lyr-note",className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",id:"row_cuip",children:[Object(u.jsx)("label",{id:"cusip",className:"form-label col-md-4 col-sm-4 col-xs-4  text-right",children:"CUSIP:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_cusip",children:Object(u.jsx)(Eu,{id:"lyr-cusip",name:"lyr-cusip",value:oy.cusip,className:"form-control input-sm"})})]})]}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",id:"bysl_cont",children:Object(u.jsxs)("div",{className:"row p3 brd-btm",id:"bysl_row",children:[Object(u.jsx)("label",{id:"buysell",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"B/S :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_buysell",children:Object(u.jsx)(Eu,{id:"lyr-buysell",name:"lyr-buysell",value:"B",className:"form-control input-sm"})})]})}),void 0!==this.state.respMessage&&0!==this.state.respMessage.length||void 0!==this.state.rejectReason&&0!==this.state.rejectReason.length?"":Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",id:"bttn_cont",children:Object(u.jsx)("button",{id:"submit",onClick:this.submitData,className:"btn btn-success btn-xs lyrsubmitfocus",children:"Submit"})}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]}):"No data"}}]),a}(o.a.Component),by=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectData:""},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.buyInModalData;return e?Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,dialogClassName:"buy-modal",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:Object(u.jsx)("div",{style:{textAlign:"center"},children:"Buy In"})})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsx)(uy,{buyInData:e})})]}):""}}]),a}(o.a.Component),py=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={showModal:!1,data:"",updateData:!0},s.buttonComponent=s.buttonComponent.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.buyAction=s.buyAction.bind(Object(O.a)(s)),s.postData=s.postData.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.ecdBuyInData;this.postData(e,Wi)}},{key:"postData",value:function(e,t){var a=this;w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&a.setState({data:e.data,updateData:!0})}))}},{key:"hideModal",value:function(){this.setState({showModal:!1,updateData:!0})}},{key:"buttonComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(D.a,{size:"sm",id:n+a,onClick:function(s){o.buyAction(e,t,a,s)},children:"Buy"})}},{key:"textBoxComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(Eu,{name:n+a,id:n+a,value:e,onBlur:function(e){o.onFieldChange(e,n,a)}})}},{key:"buyAction",value:function(e,t,a,s){iy=t,this.setState({showModal:!0,updateData:!1})}},{key:"onFieldChange",value:function(e,t,a){iy[a][t]=e.target.value}},{key:"render",value:function(){var e=this,t={};t.buttonComponent=this.buttonComponent,t.textBoxComponent=this.textBoxComponent;this.props.ecdBuyInData;return Object(u.jsx)("div",{className:"modal-content modal-lyr-cnt",children:Object(u.jsx)("div",{className:"modal-body1 text-center",children:Object(u.jsx)("div",{className:"col-md-12 col-sm-12",children:Object(u.jsxs)("div",{className:"react-bootstrap-table fo2table table-responsive",children:[Object(u.jsx)(Yb,{cprops:ay,updateData:this.state.updateData,mapdata:this.state.data,mappings:ny,customComponents:t,keyField:"1",excelFlag:"true"}),Object(u.jsx)(by,{show:this.state.showModal,onHide:function(){return e.hideModal()},buyInModalData:iy})]})})})})}}]),a}(o.a.Component),jy=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectData:""},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.buyInModalData;return e?Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,dialogClassName:"buyIn-modal",size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:Object(u.jsx)("div",{style:{textAlign:"center"},children:"Buy In"})})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsx)(py,{ecdBuyInData:e})})]}):""}}]),a}(o.a.Component),xy=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).actionComponent=function(e,t,a,n,o){var i="issueId"+a;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:i,id:i,onClick:function(n){s.onCheckboxClick(e,t,a,n)}})})},s.openModal=function(e,t){s.setState({showModal:!0,updateData:!1})},s.openMultiModal=function(e,t){s.setState({showMultiModal:!0,updateData:!1})},s.state={cmodal:!0,productTypeValue:"",showModal:!1,showMultiModal:!1,showShowModal:!1,formDateValue:new Date,toDateValue:new Date,modalDataRow:"",updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.convertAction=s.convertAction.bind(Object(O.a)(s)),s.openShowModal=s.openShowModal.bind(Object(O.a)(s)),s.linkShowComponent=s.linkShowComponent.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){[],ly=[],dy=[],ry=[]}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Xr&&this.setState({cmodal:!0,updateData:!1})}},{key:"hideModal",value:function(){this.setState({showModal:!1,updateData:!0})}},{key:"hideMultiModal",value:function(){this.setState({showMultiModal:!1,updateData:!0})}},{key:"linkComponent",value:function(e,t,a){return Object(u.jsx)("button",{className:"btn btn-link",children:e})}},{key:"onCheckboxClick",value:function(e,t,a,s){var n=this;!0===s.target.checked?ry.push(t.actionId):ry.splice(ry.indexOf(t.actionId),1);var o=document.getElementById("ecdconvert");o&&ry.length>0?o.src=vg:o.src=J,null!==o&&ry.length>0?o.addEventListener("click",(function(e){return n.convertAction(ry)})):o.removeEventListener("click",(function(e){return n.convertAction(ry)}))}},{key:"convertAction",value:function(e){if(dy=[],!(e.length>0))return!1;e.map((function(e,t){var a=cy.find((function(t){return t.actionId===e}));a.issueIdList=[cy.find((function(t){return t.actionId===e})).issueId],dy.push(a)})),e.length>1?(ly=dy,this.openMultiModal()):(ly=dy[0],this.openModal())}},{key:"fromDateChange",value:function(e){this.setState({formDateValue:e,updateData:!0})}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e,updateData:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1}),this.props.onRemove(this.props.linkname)}},{key:"setScreenData",value:function(e){cy=e}},{key:"linkShowComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openShowModal.bind(this,t,e),children:e})}},{key:"openShowModal",value:function(e,t){this.setState({modalDataRow:e,showShowModal:!0,updateData:!1})}},{key:"hideShowModal",value:function(){this.setState({showShowModal:!1,updateData:!0})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):void 0}},{key:"fieldComponent",value:function(e,t,a,s){return"$m"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t={};return t.actionComponent=this.actionComponent,t.linkComponent=this.linkComponent,t.linkShowComponent=this.linkShowComponent,t.imgComponent=this.imgComponent,t.fieldComponent=this.fieldComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:ty,apiCall:Hi,updateData:this.state.updateData,reqParams:{fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue),bookId:this.state.bookId,productType:qh},mappings:sy,calBack:this.setScreenData,customComponents:t,keyField:"1",excelFlag:"true"})})]}),Object(u.jsx)(by,{show:this.state.showModal,onHide:function(){return e.hideModal()},buyInModalData:ly}),Object(u.jsx)(jy,{show:this.state.showMultiModal,onHide:function(){return e.hideMultiModal()},buyInModalData:ly}),Object(u.jsx)(kp,{size:"md",show:this.state.showShowModal,onHide:function(){return e.hideShowModal()},modalHead:"Show Ticket",prodType:qh,modalDataRow:this.state.modalDataRow})]})})}}]),a}(o.a.Component),fy=[];fy.ticket="Ticket",fy.ticker="Ticker",fy.shortName="Acct",fy.productType="Prod",fy.currencyCode="Currency",fy.maxAmount="Size (m)",fy.spread="Set",fy.createdDate="SD",fy.couponDate="Mat",fy.fee="Rate",fy.issuerType="B/S",fy.bookId="Book",fy.status="Status";var gy,Oy,vy,yy=[];function ky(e,t,a){var s=[];return Object.values(t).map((function(e){})),Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&(o="actionId"===e?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.actionComponent(t,s,n,o,e)}}:"productType"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){var n;return"1200"===e?n="CP":"1600"===e?n="MCP":"2200"===e?n="ECD":"2300"===e?n="YCD":"2400"===e?n="FRCD":"2700"===e?n="FRCP":"2900"===e&&(n="ECP"),n}}:a&&"ticket"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkShowComponent(t,s,n,o,e)}}:a&&"ticker"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkSecurityComponent(t,s,n,o,e)}}:!a||"issuerType"!==e&&"status"!==e?"amount"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1,formatter:a.fieldComponent,formatExtraData:{colId:t[e]}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.imgComponent(t,s,n,o,e)}},s.push(o)));return""})),""})),s}yy.ticket=dn,yy.ticker=cn,yy.shortName=X,yy.productType=ls,yy.currencyCode=We,yy.amount=ga,yy.spread=Rs,yy.settlementDate=Ms,yy.maturityDateStr=da,yy.coupon=ps,yy.issuerType=Te,yy.bookId=Se,yy.status=qs,yy.actionId=Object(u.jsx)("img",{src:J,id:"ecpconvert"});var Dy=[],Cy=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).hideModal=function(e){vy=[],Oy=[],s.setState({msg:e,showModal:!1,updateData:!0})},s.openModal=function(e,t){s.setState({showModal:!0,updateData:!1})},s.openMpModal=function(e,t){s.setState({showMpModal:!0,updateData:!1})},s.actionComponent=function(e,t,a,n,o){var i="issueId"+a;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:i,id:i,onClick:function(n){s.onCheckboxClick(e,t,a,n)}})})},s.state={cmodal:!0,bookId:"",showSecurityModal:!1,showShowModal:!1,formDateValue:new Date,toDateValue:new Date,modalDataRow:"",updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.bookChange=s.bookChange.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.openSecurityModal=s.openSecurityModal.bind(Object(O.a)(s)),s.linkShowComponent=s.linkShowComponent.bind(Object(O.a)(s)),s.linkSecurityComponent=s.linkSecurityComponent.bind(Object(O.a)(s)),s.openShowModal=s.openShowModal.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Jr&&this.setState({cmodal:!0,updateData:!1})}},{key:"componentDidMount",value:function(){vy=[],Oy=[]}},{key:"hideMpModal",value:function(){this.setState({showMpModal:!1,updateData:!0})}},{key:"openSecurityModal",value:function(e,t){this.setState({modalDataRow:e,showSecurityModal:!0,updateData:!1})}},{key:"hideSecurityModal",value:function(){this.setState({showSecurityModal:!1,updateData:!0})}},{key:"bookChange",value:function(e){this.setState({bookId:e.target.value,updateData:!0})}},{key:"onCheckboxClick",value:function(e,t,a,s){var n=this;if(!0===s.target.checked){Dy.push(a);var o=gy[a];vy.push(o),(Oy=t).issueIdList=[t.issueId]}if(!1===s.target.checked){var i=vy;vy=[],void 0!==i&&i.map((function(e,t){if(gy[a].issueId!==e.issueId){var s={};s.accruedInterest=e.accruedInterest,s.actionId=e.actionId,s.amount=e.amount,s.avgBid=e.avgBid,s.bidRate=e.bidRate,s.buysCnt=e.buysCnt,s.cnt=e.cnt,s.conv01=e.conv01,s.coupon=e.coupon,s.currencyCode=e.currencyCode,s.cusip=e.cusip,s.issueId=e.issueId,s.issuerId=e.issuerId,s.issueIdList=e.issueIdList,s.issuerName=e.issuerName,s.issuerType=e.issuerType,s.maturityDate=e.maturityDate,s.maturityDateStr=e.maturityDateStr,s.maxAmount=e.maxAmount,s.minAmount=e.minAmount,s.netAmt=e.netAmt,s.prodId=e.prodId,s.productType=e.productType,s.programId=e.programId,s.settlementDate=e.settlementDate,s.shortName=e.shortName,s.status=e.status,s.ticker=e.ticker,s.ticket=e.ticket,s.transType=e.transType,vy.push(s)}})),Dy.splice(Dy.indexOf(a),1)}var l=document.getElementById("ecpconvert");l&&Dy.length>0?l.src=vg:l.src=J,null!==l&&Dy.length>0?l.addEventListener("click",(function(e){return n.convertAction(vy,Oy,Dy)})):l.removeEventListener("click",(function(e){return n.convertAction(vy,Oy,Dy)}))}},{key:"convertAction",value:function(e,t,a){if(!(a.length>0))return!1;a.length>1?this.openMpModal(e,a):this.openModal(t,a)}},{key:"fromDateChange",value:function(e){this.setState({formDateValue:e,updateData:!0})}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e,updateData:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1}),this.props.onRemove(this.props.linkname)}},{key:"linkSecurityComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openSecurityModal.bind(this,t,e),children:e})}},{key:"linkShowComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openShowModal.bind(this,t,e),children:e})}},{key:"openShowModal",value:function(e,t){this.setState({modalDataRow:e,showShowModal:!0,updateData:!1})}},{key:"hideShowModal",value:function(){this.setState({showShowModal:!1,updateData:!0})}},{key:"setScreenData",value:function(e){gy=e}},{key:"linkComponent",value:function(e,t,a){return Object(u.jsx)("button",{className:"btn btn-link",children:e})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):void 0}},{key:"fieldComponent",value:function(e,t,a,s){return"$m"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t={};return t.actionComponent=this.actionComponent,t.linkComponent=this.linkComponent,t.linkShowComponent=this.linkShowComponent,t.linkSecurityComponent=this.linkSecurityComponent,t.imgComponent=this.imgComponent,t.fieldComponent=this.fieldComponent,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h6",{children:void 0!==this.state.msg&&""!==this.state.msg?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.msg}):""}),this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Book",id:"lbl_bookid"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Wh},onchange:this.bookChange,selected:this.state.bookId,id:"bookId"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:yy,apiCall:Zi,updateData:this.state.updateData,reqParams:{fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue),bookId:this.props.reqParams?this.props.reqParams.bookId:this.state.bookId,productType:Wh,issueId:this.props.reqParams?this.props.reqParams.issueId:""},mappings:ky,calBack:this.setScreenData,customComponents:t,keyField:"1",excelFlag:"true"})}),Object(u.jsx)(kp,{size:"md",show:this.state.showShowModal,onHide:function(){return e.hideShowModal()},modalHead:"Show Ticket",prodType:Wh,modalDataRow:this.state.modalDataRow}),Object(u.jsx)(rp,{size:"lg",show:this.state.showSecurityModal,onHide:function(){return e.hideSecurityModal()},modalHead:"Security",prodType:Wh,modalDataRow:this.state.modalDataRow})]}),Object(u.jsx)(fg,{show:this.state.showModal,onHide:this.hideModal,buyInModalData:Oy}),Object(u.jsx)(Og,{show:this.state.showMpModal,onHide:function(){return e.hideMpModal()},buyInModalData:vy})]})]})}}]),a}(o.a.Component),Ny=Cy;function Sy(e,t,a){var s=[];return Object.keys(t).map((function(n){var o;e[0][n]&&(o=a.linkShowTicket&&"programId"===n?{dataField:n,text:t[n],formatter:function(e,t,s,o){return a.linkShowTicket(e,t,s,o,n)}}:a.linkShowTicker&&"ticker"===n?{dataField:n,text:t[n],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,o){return a.linkShowTicker(e,t,s,o,n)}}:!a.imgComponent||"msgType"!==n&&"dispDescr"!==n?!a.checkBoxComponent||"amendType"!==n&&"deleteType"!==n?a.amendcheckBoxComponent&&"amendType"===n?{dataField:n,text:t[n],formatter:function(e,t,s,o){return a.amendcheckBoxComponent(e,t,s,o,n)}}:a.deletecheckBoxComponent&&"deleteType"===n?{dataField:n,text:t[n],formatter:function(e,t,s,o){return a.deletecheckBoxComponent(e,t,s,o,n)}}:"amount"===n?{dataField:n,text:t[n],formatter:function(e,t,a,s){return 0===e?e:Lo(e)},filter:Object(Ao.textFilter)(),align:"right"}:"price"===n?{dataField:n,text:t[n],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:n,text:t[n],filter:Object(Ao.textFilter)()}:{dataField:n,text:t[n],formatter:function(e,t,s,o){return a.checkBoxComponent(e,t,s,o,n)}}:{dataField:n,text:t[n],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,o){return a.imgComponent(e,t,s,o,n)}},s.push(o));return""})),s}function wy(e,t,a){var s=[];return Object.keys(t).map((function(e){var n;return n=!a.textBoxComponent||"amount"!==e&&"bid"!==e&&"cassii"!==e&&"notes"!==e?!a.textBoxComponent||"settlementDate"!==e&&"maturityDate"!==e?a.imgComponent&&"msgType"===e?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.imgComponent(t,s,n,o,e)},formatExtraData:{colId:e}}:a.imgComponent&&"actionId"===e?{dataField:e,text:"",formatter:function(t,s,n,o){return a.actionComponent(t,s,n,o,e)}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)()}:{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.dateComponent(t,s,n,o,e)},formatExtraData:{colId:e}}:{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.textBoxComponent(t,s,n,o,e)},formatExtraData:{colId:e}},s.push(n),""})),s}function Ty(e,t,a){var s=[];return Object.keys(t).map((function(e){var n;return n="net"===e||"accruedInterest"===e?{dataField:e,text:t[e],formatter:function(e,t,a,s){return void 0!==e&&(e=Lo(Po(e))),e},filter:Object(Ao.textFilter)()}:!a.textBoxComponent||"amount"!==e&&"bidYield"!==e&&"price"!==e&&"cassii"!==e&&"notes"!==e?a.textBoxComponent&&"settlementDate"===e?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.dateComponent(t,s,n,o,e)},formatExtraData:{colId:e}}:a.imgComponent&&"msgType"===e?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.imgComponent(t,s,n,o,e)},formatExtraData:{colId:e}}:a.imgComponent&&"actionId"===e?{dataField:e,text:"",formatter:function(t,s,n,o){return a.actionComponent(t,s,n,o,e)}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)()}:{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.textBoxComponent(t,s,n,o,e)},formatExtraData:{colId:e}},s.push(n),""})),s}var Iy,My,Ay,Ry,Ey,Fy,Py,By,Ly=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={updateFlag:!1,showinvestor:!1,respMessage:"",rejectReason:"",tradeData:[],holidayData:[],productWeekData:[]},s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.submitData=s.submitData.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.accountChange=s.accountChange.bind(Object(O.a)(s)),s.cusipChange=s.cusipChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.offerData;w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:t.productType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})})),void 0!==t&&""!==t.transType&&"85"===t.transType?this.postData(t,wl):this.postData(t,Nl)}},{key:"postData",value:function(e,t){var a=this;"85"===e.transType?"I"===e.issueType&&(e.fromPage="INVSALE"):e.fromPage="AMEND",e.amount=Po(e.amount),e.rejectReason="",e.responseMessage="",w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(a.setState({tradeData:e.data}),void 0!==e.data&&void 0!==e.data.rejectReason&&e.data.rejectReason.length>0?a.setState({rejectReason:e.data.rejectReason}):void 0!==e.data&&void 0!==e.data.responseMessage&&e.data.responseMessage.length>0&&a.setState({respMessage:e.data.responseMessage}))}))}},{key:"onContentChange",value:function(e,t){var a=this.state.tradeData;this.setState({rejectReason:"",responseMessage:""}),"amount"===t?(Uo(e),a[t]=e.target.value):"notes"!==t&&_o(e),a[t]=e.target.value,"price"===t&&(a.calFlag="yield"),"bidYield"===t&&(a.calFlag="price"),void 0!==a&&""!==a.transType&&"85"===a.transType?this.postData(a,wl):this.postData(a,Nl)}},{key:"accountChange",value:function(e,t){var a=this.state.tradeData;a[t]=e.target.value,this.postData(a,cl)}},{key:"cusipChange",value:function(e){var t=this.state.tradeData;t.selCusip=t.cusip,t.cusip=e.target.value}},{key:"onFieldChange",value:function(e,t){this.state.tradeData[t]=e.target.value}},{key:"onDateChange",value:function(e,t){var a=this.state.tradeData;a[t]=Yu(e,"MM/DD/YY"),void 0!==a&&""!==a.transType&&"85"===a.transType?this.postData(a,wl):this.postData(a,Nl)}},{key:"submitData",value:function(){var e=this.state.tradeData;e.action="SAVE",void 0!==e&&""!==e.transType&&"85"===e.transType?this.postData(e,Cl):this.postData(e,kl)}},{key:"setContent",value:function(){void 0!==this.state.tradeData&&(void 0!==document.getElementById("lyr-bprice")&&null!==document.getElementById("lyr-bprice")&&(document.getElementById("lyr-bprice").value=this.state.tradeData.price),void 0!==document.getElementById("lyr-bbidYield")&&null!==document.getElementById("lyr-bbidYield")&&(document.getElementById("lyr-bbidYield").value=this.state.tradeData.bidYield),void 0!==document.getElementById("lyr-bcoupon")&&null!==document.getElementById("lyr-bcoupon")&&(document.getElementById("lyr-bcoupon").value=this.state.tradeData.coupon))}},{key:"render",value:function(){var e=this,t=this.props.offerData,a=this.state,s=a.holidayData,n=a.productWeekData;return this.setContent(),t?Object(u.jsxs)("div",{className:"modal-cls",id:"TradeAmend",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",Object(u.jsxs)("div",{className:"bgc",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_issuer",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"shortAcct",children:t.issuerName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left removewrap",id:"ticker",children:t.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_maturityDate",children:"MAT: "}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"maturityDate",children:0===this.state.tradeData.length?t.maturityDate:this.state.tradeData.maturityDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_coupon",children:"Coupon:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"bid",children:t.bid})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_currencyCode",children:"CURRENCY:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"currencyCode",children:t.currencyCode})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[void 0!==this.props.prodType&&("2300"===this.props.prodType||"2700"===this.props.prodType||"1400"===this.props.prodType)&&Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left font-weight-bold",id:"lyr_cuisp",children:"CUSIP:"}),void 0!==this.props.prodType&&"2200"===this.props.prodType&&Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left font-weight-bold",id:"lyr_isin",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-9 col-sm-9 col-xs-9 text-left",id:"cusip",children:t.cusip})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_prodName",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"prodName",children:0===this.state.tradeData.length?t.prodName:this.state.tradeData.prodName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_datedDate",children:"DATED:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left removewrap",id:"datedDate",children:0===this.state.tradeData.length?t.datedDate:this.state.tradeData.datedDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_settleDTM",children:"DTM:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"settleDTM",children:0===this.state.tradeData.length?t.settle:this.state.tradeData.settle})]})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Offer"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"amount",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold removewrap",children:"Amount ($m) :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-amount",name:"lyr-amount",value:Lo(t.amount),className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"ly-settle",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Settle :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-settle",name:"lyr-settle",value:t.settlementDate,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_yield",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Yield  :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-Yield ",name:"lyr-Yield ",value:t.bidYield,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl-price",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Price :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-price",name:"lyr-price",value:void 0===t.price||0===t.price?"100.00000":t.price,className:"form-control input-sm",readOnly:!0})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bamount",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:void 0!==this.state.tradeData.amount&&Object(u.jsx)(pp,{name:"lyr-bamount",id:"lyr-bamount",step:1e3,value:Lo(this.state.tradeData.amount),className:"text-right",onBlur:function(t){e.onContentChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bsettle",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"lyr-bsettle",id:"lyr-bsettle",dateValue:new Date(0===this.state.tradeData.length?t.settlementDate:this.state.tradeData.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"settlementDate")},currency:0===this.state.tradeData.length?t.currencyCode:this.state.tradeData.currencyCode,holidayData:s,productWeekData:n})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bbidlbl_",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:this.state.tradeData.bidYield&&Object(u.jsx)(pp,{name:"lyr-bbidlbl_",id:"lyr-bbidlbl_",step:.1,precision:2,value:this.state.tradeData.bidYield,className:"text-right",onBlur:function(t){e.onContentChange(t,"bidYield")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bprice",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:this.state.tradeData.price&&Object(u.jsx)(pp,{name:"lyr-bprice",id:"lyr-bprice",step:1,value:this.state.tradeData.price,className:"text-right",onBlur:function(t){e.onContentChange(t,"price")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_residualAmt",children:"Net :"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8   text-right",id:"residualAmt",children:this.state.tradeData.residualAmt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lbl_accruedInterest",children:"Acc Int :"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7  text-right",id:"accruedInterest",children:this.state.tradeData.accruedInterest})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_investor",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Account Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-investor",name:"lyr-investor",value:this.state.tradeData.shortName,onBlur:function(t){e.accountChange(t,"investor")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{name:"lbl_notes",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Notes: "}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-notes",name:"lyr-notes",value:this.state.tradeData.notes,className:"form-control input-sm"})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_cassii",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"OMS:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-cassii",name:"lyr-cassii",value:this.state.tradeData.investerCassii,onBlur:function(t){e.accountChange(t,"investerCassii")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_buysell",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"B/S: "}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-buysell",name:"lyr-buysell",value:this.state.tradeData.notes,className:"form-control input-sm"})})]})]}),void 0!==t&&"10"===t.transType&&Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_cusip",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"CUSIP:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-cusip",name:"lyr-cusip",value:this.state.tradeData.cusip,className:"form-control input-sm",onBlur:function(t){e.cusipChange(t)}})})]})}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:this.state.rejectReason.length>0?Object(u.jsx)("button",{id:"submit",disabled:!0,className:"btn btn-success btn-xs lyrsubmitfocus",children:"Submit"}):Object(u.jsx)("button",{id:"submit",onClick:this.submitData,className:"btn btn-success btn-xs lyrsubmitfocus",children:"Submit"})})]}):"No data"}}]),a}(o.a.Component),_y=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).generateKey=function(e,t){return void 0!==e?e.replace(/ /g,""):t},s.state={updateFlag:!1,showinvestor:!1,respMessage:"",rejectReason:"",tradeData:s.props.offerData,holidayData:[],productWeekData:[]},s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.submitData=s.submitData.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.accountChange=s.accountChange.bind(Object(O.a)(s)),s.cusipChange=s.cusipChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.tradeData;w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:Hh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})})),void 0!==t&&""!==t.transType&&t.transType,this.postData(t,ql)}},{key:"postAccountData",value:function(e,t){var a=this;""!==t&&w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){if(e.data){var t=a.state.tradeData;e.data.rejectReason?(t.shortName="",a.setState({rejectReason:e.data.rejectReason})):(t.investerCassii=e.data.investerCassii,t.shortName=e.data.investor,a.setState({tradeData:t}))}}))}},{key:"postData",value:function(e,t){var a=this;e.fromPage="AMEND";var s=[],n={};n.transType=e.transType,n.issueId=e.issueId,n.productType=Hh,n.investerCassii=e.investerCassii,s.push(n),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){if(t.data){var s=t.data[0];if(s){s.bid=e.bid,s.amount=e.amount,s.settlementDate=e.settlementDate,s.maturityDate=e.maturityDate,s.transType=e.transType,s.issuerId=e.issuerId,s.investerCassii=e.investerCassii,s.ticker=e.ticker,void 0!==t.data&&void 0!==t.data.rejectReason&&t.data.rejectReason.length>0?a.setState({rejectReason:t.data.rejectReason}):void 0!==t.data&&void 0!==t.data.responseMessage&&t.data.responseMessage.length>0&&a.setState({respMessage:t.data.responseMessage});var n={};n.amount=Po(e.amount),n.rate=Po(e.bid),n.settlementDate=e.settlementDate,n.maturityDate=e.maturityDate,n.transType=e.transType,n.issuerId=e.issuerId,n.ticker=e.ticker,w()({method:"POST",url:N.URL+Ml,timeout:N.apiTimeOut,data:[n],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(s.netAmt=e.data.netAmt,s.accruedInterest=Lo(e.data.interestAmount),a.setState({updateFlag:!0}))})),a.setState({tradeData:s})}}}))}},{key:"cusipChange",value:function(e){var t=this.state.tradeData;t.selCusip=t.cusip,t.cusip=e.target.value}},{key:"onContentChange",value:function(e,t){var a=this.state.tradeData;"amount"===t?(Uo(e),a[t]=e.target.value):"notes"!==t&&_o(e),a[t]=e.target.value,this.setState({tradeData:a}),"notes"!==t&&(void 0!==a&&""!==a.transType&&a.transType,this.postData(a,ql))}},{key:"accountChange",value:function(e,t){var a={};a.investerCassii=e.target.value,this.postAccountData(a,cl)}},{key:"onFieldChange",value:function(e,t){this.state.tradeData[t]=e.target.value}},{key:"onDateChange",value:function(e,t){var a=this.state.tradeData;a[t]=Yu(e,"MM/DD/YY"),this.setState({tradeData:a}),void 0!==a&&""!==a.transType&&a.transType,this.postData(a,ql)}},{key:"submitData",value:function(){var e=this,t=this.state.tradeData;t.action="SAVE",t.amount=Po(t.amount),t.rate=t.bid,w()({method:"POST",url:N.URL+tc,timeout:N.apiTimeOut,data:[t],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(a){e.props.returnMethod(a.data.responseMessage,t)})),this.props.onHide()}},{key:"render",value:function(){var e=this,t=this.props.offerData,a=this.state,s=a.holidayData,n=a.productWeekData;return t?Object(u.jsxs)("div",{className:"modal-cls",id:"TradeAmend",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",Object(u.jsxs)("div",{className:"bgc",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_issuer",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"shortAcct",children:t.issuerName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"ticker",children:t.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_currencyCode",children:"CURRENCY:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"currencyCode",children:t.currencyCode})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_cuseep",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-9 col-sm-8 col-xs-8 text-left",id:"cusip",children:t.cusip})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_prodName",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"prodName",children:0===this.state.tradeData.length?t.prodName:this.state.tradeData.prodName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lb_spread",children:"SPREAD:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"spread",children:0===this.state.tradeData.length?t.spread:this.state.tradeData.spread+" bps"})]})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"lbl_offblk",children:"Offer"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"amount",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold removewrap",children:"Amount ($m) :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_amount",children:Object(u.jsx)(Eu,{id:"lyr-amount",name:"lyr-amount",value:Lo(t.amount+""),className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_settle",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Settle :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_settle",children:Object(u.jsx)(Eu,{id:"lyr-settle",name:"lyr-settle",value:t.settlementDate,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_yield",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Rate :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_rate",children:Object(u.jsx)(Eu,{id:"lyr-yield",name:"lyr-yield",value:t.bid,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"maturitydate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Mat :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_mat",children:Object(u.jsx)(Eu,{id:"matdate",name:"matdate",value:t.maturityDate,className:"form-control input-sm",readOnly:!0})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"lbl_trdblk",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bamount",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bammt",children:Object(u.jsx)(pp,{name:"lyr-bamount",id:"lyr-bamount",step:1e3,value:Lo(this.state.tradeData.amount+""),className:"text-right",onBlur:function(t){e.onContentChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bsettle",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bsttle",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"lyr-bsettle",id:"lyr-bsettle",dateValue:new Date(0===this.state.tradeData.length?t.settlementDate:this.state.tradeData.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"settlementDate")},currency:"USD",holidayData:s,productWeekData:n})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bbidYield",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bbidyild",children:Object(u.jsx)(pp,{name:"lyr-bbidYield",id:"lyr-bbidYield",step:.1,precision:2,value:this.state.tradeData.bid,className:"text-right",onBlur:function(t){e.onContentChange(t,"bid")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_maturitydate",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_matdate",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"lyr-maturitydate",id:"lyr-maturitydate",dateValue:new Date(0===this.state.tradeData.length?t.maturityDate:this.state.tradeData.maturityDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"maturityDate")},currency:"USD",holidayData:s,productWeekData:n})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_netAmt",children:"Net :"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8   text-right",id:"netAmt",children:this.state.tradeData.netAmt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lbl_accruedInterest",children:"Acc Int :"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7  text-right",id:"accruedInterest",children:this.state.tradeData.accruedInterest})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_investor",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Account Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_invstor",children:Object(u.jsx)(Eu,{id:"lyr-investor",name:"lyr-investor",value:void 0===this.state.tradeData.shortName?this.props.offerData.shortName:this.state.tradeData.shortName,className:"form-control input-sm",readOnly:!0})},this.generateKey(this.state.tradeData.shortName,"shortName"))]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_notes",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Notes:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_notes",children:Object(u.jsx)(Eu,{id:"lyr-notes",name:"lyr-notes",value:this.state.tradeData.notes,onBlur:function(t){e.onContentChange(t,"notes")},className:"form-control input-sm"})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_cassii",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"OMS:"}),void 0!==t&&"85"===t.transType?Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_cassii",children:Object(u.jsx)(Eu,{id:"lyr-cassii",name:"lyr-cassii",value:this.state.tradeData.investerCassii,onBlur:function(t){e.accountChange(t,"investerCassii")},className:"form-control input-sm"})}):Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_cassii",children:Object(u.jsx)(Eu,{id:"lyr-cassii",name:"lyr-cassii",value:this.state.tradeData.investerCassii,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_buysell",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"B/S: "}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_buysell",children:Object(u.jsx)(Eu,{id:"lyr-buysell",name:"lyr-buysell",value:"85"===this.state.tradeData.transType?"S":"B",className:"form-control input-sm"})})]})]}),void 0!==t&&"10"===t.transType&&Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_cusip",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"CUSIP:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-cusip",name:"lyr-cusip",value:this.state.tradeData.cusip,className:"form-control input-sm",onBlur:function(t){e.cusipChange(t)}})})]})}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:Object(u.jsx)("button",{id:"submit",onClick:this.submitData,className:"btn btn-success btn-xs lyrsubmitfocus",children:"Submit"})})]}):"No data"}}]),a}(o.a.Component),Uy=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={updateFlag:!1,showinvestor:!1,respMessage:"",rejectReason:"",tradeData:s.props.offerData,holidayData:[],productWeekData:[]},s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.submitData=s.submitData.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.accountChange=s.accountChange.bind(Object(O.a)(s)),s.cusipChange=s.cusipChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.tradeData;w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:Wh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})})),void 0!==t&&""!==t.transType&&t.transType,this.postData(t,Oc)}},{key:"postData",value:function(e,t){var a=this;e.fromPage="AMEND";var s=[],n={};n.transType=e.transType,n.issueId=e.issueId,n.productType=Wh,s.push(n),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){if(t.data){var s=t.data[0];s.bid=e.bid,s.amount=e.amount,s.settlementDate=e.settlementDate,s.maturityDate=e.maturityDate,s.transType=e.transType,s.issuerId=e.issuerId,s.ticker=e.ticker,s.productType=e.productType,void 0!==t.data&&void 0!==t.data.rejectReason&&t.data.rejectReason.length>0?a.setState({rejectReason:t.data.rejectReason}):void 0!==t.data&&void 0!==t.data.responseMessage&&t.data.responseMessage.length>0&&a.setState({respMessage:t.data.responseMessage});var n={};n.amount=Po(e.amount),n.rate=Po(e.bid),n.settlementDate=e.settlementDate,n.maturityDate=e.maturityDate,n.transType=e.transType,n.issuerId=e.issuerId,n.ticker=e.ticker,n.productType=e.productType,w()({method:"POST",url:N.URL+Ml,timeout:N.apiTimeOut,data:[n],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(s.netAmt=e.data.netAmt,s.accruedInterest=Lo(e.data.interestAmount),s.investerCassii=e.data.investerCassii,a.setState({updateFlag:!0}))})),a.setState({tradeData:s})}}))}},{key:"cusipChange",value:function(e){var t=this.state.tradeData;t.selCusip=t.cusip,t.cusip=e.target.value}},{key:"onContentChange",value:function(e,t){var a=this.state.tradeData;"amount"===t?(Uo(e),a[t]=e.target.value):"notes"!==t&&_o(e),a[t]=e.target.value,this.setState({tradeData:a}),"notes"!==t&&(void 0!==a&&""!==a.transType&&a.transType,this.postData(a,Oc))}},{key:"accountChange",value:function(e,t){var a=this.state.tradeData;a[t]=e.target.value,this.postData(a,cl)}},{key:"onFieldChange",value:function(e,t){this.state.tradeData[t]=e.target.value}},{key:"onDateChange",value:function(e,t){var a=this.state.tradeData;a[t]=Yu(e,"MM/DD/YY"),this.setState({tradeData:a}),void 0!==a&&""!==a.transType&&a.transType,this.postData(a,Oc)}},{key:"submitData",value:function(){var e=this,t=this.state.tradeData;t.action="SAVE",t.amount=Po(t.amount),t.rate=t.bid,w()({method:"POST",url:N.URL+gc,timeout:N.apiTimeOut,data:[t],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(a){e.props.returnMethod(a.data.responseMessage,t)})),this.props.onHide()}},{key:"render",value:function(){var e=this,t=this.props.offerData,a=this.state,s=a.holidayData,n=a.productWeekData;return t?Object(u.jsxs)("div",{className:"modal-cls",id:"TradeAmend",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",Object(u.jsxs)("div",{className:"bgc",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_issuer",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"shortAcct",children:t.issuerName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left removewrap",id:"ticker",children:t.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_currencyCode",children:"CURRENCY:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"currencyCode",children:t.currencyCode})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left font-weight-bold",id:"lbl_cuseep",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left ",id:"cusip",children:t.cusip})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_prodName",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"prodName",children:0===this.state.tradeData.length?t.prodName:this.state.tradeData.prodName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lb_spread",children:"SPREAD:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"spread",children:0===this.state.tradeData.length?t.spread:this.state.tradeData.spread+" bps"})]})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"lbl_offerblock",children:"Offer"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"amount",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold removewrap",children:"Amount ($m) :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_ammt",children:Object(u.jsx)(Eu,{id:"lyr-amount",name:"lyr-amount",value:Lo(t.amount+""),className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_settle",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Settle :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_settle",children:Object(u.jsx)(Eu,{id:"lyr-settle",name:"lyr-settle",value:t.settlementDate,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_yield",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Rate :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_yield",children:Object(u.jsx)(Eu,{id:"lyr-yield",name:"lyr-yield",value:t.bid,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"maturitydate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Mat :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_maturitydate",children:Object(u.jsx)(Eu,{id:"lyr-matdate",name:"lyr-matdate",value:t.maturityDate,className:"form-control input-sm",readOnly:!0})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"lbl_tradeblk",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bamount",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bammt",children:Object(u.jsx)(pp,{name:"lyr-bamount",id:"lyr-bamount",step:1e3,value:Lo(this.state.tradeData.amount+""),className:"text-right",onBlur:function(t){e.onContentChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bv",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_tradeDate",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"lyr-bsettle",id:"lyr-bsettle",dateValue:new Date(0===this.state.tradeData.length?t.settlementDate:this.state.tradeData.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"settlementDate")},currency:"USD",holidayData:s,productWeekData:n})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bbidYield",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bbidYield",children:Object(u.jsx)(pp,{name:"lyr-bbidYield",id:"lyr-bbidYield",step:.1,precision:2,value:this.state.tradeData.bid,className:"text-right",onBlur:function(t){e.onContentChange(t,"bid")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_maturitydate",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"val_matdate",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"lyr-maturitydate",id:"lyr-maturitydate",dateValue:new Date(0===this.state.tradeData.length?t.maturityDate:this.state.tradeData.maturityDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"maturityDate")},currency:"USD",holidayData:s,productWeekData:n})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_netAmt",children:"Net :"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8   text-right",id:"netAmt",children:this.state.tradeData.netAmt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lbl_accruedInterest",children:"Acc Int :"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7  text-right",id:"accruedInterest",children:this.state.tradeData.accruedInterest})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_investor",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Account Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_investor",children:Object(u.jsx)(Eu,{id:"lyr-investor",name:"lyr-investor",value:this.state.tradeData.shortName,onBlur:function(t){e.accountChange(t,"investor")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_notes",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Notes:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"val_notes",children:Object(u.jsx)(Eu,{id:"lyr-notes",name:"lyr-notes",value:this.state.tradeData.notes,onBlur:function(t){e.onContentChange(t,"notes")},className:"form-control input-sm"})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_cassii",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"OMS:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"val_cassi",children:Object(u.jsx)(Eu,{id:"lyr-cassii",name:"lyr-cassii",value:this.state.tradeData.investerCassii,onBlur:function(t){e.accountChange(t,"investerCassii")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_buysell",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"B/S: "}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"val_buysell",children:Object(u.jsx)(Eu,{id:"lyr-buysell",name:"lyr-buysell",value:"85"===this.state.tradeData.transType?"S":"B",className:"form-control input-sm"})})]})]}),void 0!==t&&"10"===t.transType&&Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_cusip",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"CUSIP:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-cusip",name:"lyr-cusip",value:this.state.tradeData.cusip,className:"form-control input-sm",onBlur:function(t){e.cusipChange(t)}})})]})}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:Object(u.jsx)("button",{id:"submit",onClick:this.submitData,className:"btn btn-success btn-xs lyrsubmitfocus",children:"Submit"})})]}):"No data"}}]),a}(o.a.Component),Vy=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).hideError=function(){s.setState({showError:!1})},s.state={updateFlag:!1,showinvestor:!1,respMessage:"",rejectReason:"",tradeData:s.props.offerData,holidayData:[],productWeekData:[]},s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.submitData=s.submitData.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.accountChange=s.accountChange.bind(Object(O.a)(s)),s.cusipChange=s.cusipChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.tradeData;w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:Zh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})})),void 0!==t&&""!==t.transType&&t.transType,this.postData(t,ql)}},{key:"postData",value:function(e,t){var a=this;e.fromPage="AMEND";var s=[],n={};n.transType=e.transType,n.issueId=e.issueId,n.productType=Zh,s.push(n),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){if(t.data){var s=t.data[0];s.bid=e.bid,s.amount=e.amount,s.settlementDate=e.settlementDate,s.maturityDate=e.maturityDate,s.transType=e.transType,s.issuerId=e.issuerId,s.ticker=e.ticker,void 0!==t.data&&void 0!==t.data.rejectReason&&t.data.rejectReason.length>0?a.setState({rejectReason:t.data.rejectReason}):void 0!==t.data&&void 0!==t.data.responseMessage&&t.data.responseMessage.length>0&&a.setState({respMessage:t.data.responseMessage});var n={};n.amount=Po(e.amount),n.rate=Po(e.bid),n.settlementDate=e.settlementDate,n.maturityDate=e.maturityDate,n.transType=e.transType,n.issuerId=e.issuerId,n.ticker=e.ticker,n.productType=e.productType,w()({method:"POST",url:N.URL+Ml,timeout:N.apiTimeOut,data:[n],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(s.netAmt=e.data.netAmt,s.accruedInterest=Lo(e.data.interestAmount),s.investerCassii=e.data.investerCassii,a.setState({updateFlag:!0}))})),a.setState({tradeData:s})}}))}},{key:"cusipChange",value:function(e){var t=this.state.tradeData;t.selCusip=t.cusip,t.cusip=e.target.value}},{key:"onContentChange",value:function(e,t){var a=this.state.tradeData;if("amount"===t){var s="";if(e.target.value<=0?s="Please Enter Amount":Uo(e),a[t]=e.target.value,s)return this.setState({actionTitle:"Alert",actionMessage:s,showError:!0}),!1}else"notes"!==t&&_o(e);a[t]=e.target.value,this.setState({tradeData:a}),"notes"!==t&&(void 0!==a&&""!==a.transType&&a.transType,this.postData(a,ql))}},{key:"accountChange",value:function(e,t){var a=this.state.tradeData;a[t]=e.target.value,this.postData(a,cl)}},{key:"onFieldChange",value:function(e,t){this.state.tradeData[t]=e.target.value}},{key:"onDateChange",value:function(e,t){var a=this.state.tradeData;a[t]=Yu(e,"MM/DD/YY"),this.setState({tradeData:a}),void 0!==a&&""!==a.transType&&a.transType,this.postData(a,ql)}},{key:"submitData",value:function(){var e=this,t=this.state.tradeData;if(t.amount<=0){var a="";if(t.amount<=0&&(a="Please Enter Amount"),a)return this.setState({actionTitle:"Alert",actionMessage:a,showError:!0}),!1}t.action="SAVE",t.amount=Po(t.amount),t.accruedInterest=Po(t.accruedInterest),t.rate=t.bid,w()({method:"POST",url:N.URL+tc,timeout:N.apiTimeOut,data:[t],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(a){e.props.returnMethod(a.data.responseMessage,t)})),this.props.onHide()}},{key:"render",value:function(){var e=this,t=this.props.offerData,a=this.state,s=a.holidayData,n=a.productWeekData;return t?Object(u.jsxs)("div",{className:"modal-cls",id:"TradeAmend",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",Object(u.jsxs)("div",{className:"bgc",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_issuer",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"shortAcct",children:t.issuerName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"ticker",children:t.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_currencyCode",children:"CURRENCY:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"currencyCode",children:t.currencyCode})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left font-weight-bold",id:"lbl_cusip",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-9 col-sm-9 col-xs-9 text-left",id:"cusip",children:t.cusip})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_prodName",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"prodName",children:0===this.state.tradeData.length?t.prodName:this.state.tradeData.prodName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lb_spread",children:"SPREAD:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"spread",children:0===this.state.tradeData.length?t.spread:this.state.tradeData.spread+" bps"})]})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"lbl_offer",children:"Offer"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"amount",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold removewrap",children:"Amount ($m) :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_amount",children:Object(u.jsx)(Eu,{id:"lyr-amount",name:"lyr-amount",value:Lo(t.amount+""),className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_settle",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Settle :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_settle",children:Object(u.jsx)(Eu,{id:"lyr-settle",name:"lyr-settle",value:t.settlementDate,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_yield",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Rate :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_yield",children:Object(u.jsx)(Eu,{id:"lyr-yield",name:"lyr-yield",value:t.bid,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"maturitydate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Mat :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_matdate",children:Object(u.jsx)(Eu,{id:"lyr-matdate",name:"lyr-matdate",value:t.maturityDate,className:"form-control input-sm",readOnly:!0})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"lbl_trade",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bamount",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bamount",children:Object(u.jsx)(pp,{name:"lyr-bamount",id:"lyr-bamount",step:1e3,value:Lo(this.state.tradeData.amount+""),className:"text-right",onBlur:function(t){e.onContentChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bsettle",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bsettle",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"lyr-bsettle",id:"lyr-bsettle",dateValue:new Date(0===this.state.tradeData.length?t.settlementDate:this.state.tradeData.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"settlementDate")},currency:this.state.tradeData.currencyCode?this.state.tradeData.currencyCode:t.currencyCode,holidayData:s,productWeekData:n})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bbidYield",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bbidyeld",children:Object(u.jsx)(pp,{name:"lyr-bbidYield",id:"lyr-bbidYield",step:.1,precision:2,value:this.state.tradeData.bid,className:"text-right",onBlur:function(t){e.onContentChange(t,"bid")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_maturitydate",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_maturitydate",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"lyr-maturitydate",id:"lyr-maturitydate",dateValue:new Date(0===this.state.tradeData.length?t.maturityDate:this.state.tradeData.maturityDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"maturityDate")},currency:this.state.tradeData.currencyCode?this.state.tradeData.currencyCode:t.currencyCode,holidayData:s,productWeekData:n})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_netAmt",children:"Net :"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8   text-right",id:"netAmt",children:this.state.tradeData.netAmt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lbl_accruedInterest",children:"Acc Int :"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7  text-right",id:"accruedInterest",children:this.state.tradeData.accruedInterest})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_investor",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Account Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_investor",children:Object(u.jsx)(Eu,{id:"lyr-investor",name:"lyr-investor",value:this.state.tradeData.shortName,onBlur:function(t){e.accountChange(t,"investor")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_notes",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Notes:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_notes",children:Object(u.jsx)(Eu,{id:"lyr-notes",name:"lyr-notes",value:this.state.tradeData.notes,onBlur:function(t){e.onContentChange(t,"notes")},className:"form-control input-sm"})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_cassii",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"OMS:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_cassii",children:Object(u.jsx)(Eu,{id:"lyr-cassii",name:"lyr-cassii",value:this.state.tradeData.investerCassii,onBlur:function(t){e.accountChange(t,"investerCassii")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_buysell",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"B/S: "}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_buysell",children:Object(u.jsx)(Eu,{id:"lyr-buysell",name:"lyr-buysell",value:"85"===this.state.tradeData.transType?"S":"B",className:"form-control input-sm"})})]})]}),void 0!==t&&"10"===t.transType&&Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_cusip",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"CUSIP:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-cusip",name:"lyr-cusip",value:this.state.tradeData.cusip,className:"form-control input-sm",onBlur:function(t){e.cusipChange(t)}})})]})}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:Object(u.jsx)("button",{id:"submit",onClick:this.submitData,className:"btn btn-success btn-xs lyrsubmitfocus",children:"Submit"})}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]}):"No data"}}]),a}(o.a.Component),Yy=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={updateFlag:!1,showinvestor:!1,respMessage:"",rejectReason:"",tradeData:[],holidayData:[],productWeekData:[]},s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.submitData=s.submitData.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.accountChange=s.accountChange.bind(Object(O.a)(s)),s.cusipChange=s.cusipChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.offerData;w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:t.productType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})})),void 0!==t&&""!==t.transType&&"85"===t.transType?this.postData(t,wl):this.postData(t,mc)}},{key:"postData",value:function(e,t){var a=this;"85"===e.transType?"I"===e.issueType&&(e.fromPage="INVSALE"):e.fromPage="AMEND",e.amount=Po(e.amount),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(a.setState({tradeData:e.data}),void 0!==e.data&&void 0!==e.data.rejectReason&&e.data.rejectReason.length>0?a.setState({rejectReason:e.data.rejectReason}):void 0!==e.data&&void 0!==e.data.responseMessage&&e.data.responseMessage.length>0&&a.setState({respMessage:e.data.responseMessage}),t!==Nc&&t!==kl||a.props.returnMethod(e.data.responseMessage,a.state.tradeData))}))}},{key:"cusipChange",value:function(e){var t=this.state.tradeData;t.selCusip=t.cusip,t.cusip=e.target.value}},{key:"onContentChange",value:function(e,t){console.log("frtmend",e);var a=this.state.tradeData;"notes"!==t&&_o(e),a[t]=e.target.value,"price"===t&&(a.calFlag="yield"),"bidYield"===t&&(a.calFlag="price"),void 0!==a&&""!==a.transType&&"85"===a.transType?this.postData(a,wl):this.postData(a,mc)}},{key:"accountChange",value:function(e,t){var a=this.state.tradeData;a[t]=e.target.value,this.postData(a,cl)}},{key:"onFieldChange",value:function(e,t){this.state.tradeData[t]=e.target.value}},{key:"onDateChange",value:function(e,t){var a=this.state.tradeData;a[t]=Yu(e,"MM/DD/YY"),void 0!==a&&""!==a.transType&&"85"===a.transType?this.postData(a,wl):this.postData(a,mc)}},{key:"submitData",value:function(){var e=this.props.offerData,t=this.state.tradeData;t.action="SAVE",t.availableCredit=e.amount,void 0!==t&&""!==t.transType&&"85"===t.transType?this.postData(t,Nc):this.postData(t,kl),this.props.onHide()}},{key:"setContent",value:function(){void 0!==this.state.tradeData&&(void 0!==document.getElementById("lyr-bprice")&&null!==document.getElementById("lyr-bprice")&&(document.getElementById("lyr-bprice").value=this.state.tradeData.price),void 0!==document.getElementById("lyr-bbidYield")&&null!==document.getElementById("lyr-bbidYield")&&(document.getElementById("lyr-bbidYield").value=this.state.tradeData.bidYield),void 0!==document.getElementById("lyr-bcoupon")&&null!==document.getElementById("lyr-bcoupon")&&(document.getElementById("lyr-bcoupon").value=this.state.tradeData.coupon))}},{key:"render",value:function(){var e=this,t=this.props.offerData,a=this.state,s=a.holidayData,n=a.productWeekData;return this.setContent(),t?Object(u.jsxs)("div",{className:"modal-cls",id:"TradeAmend",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",Object(u.jsxs)("div",{className:"bgc",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_issuer",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"shortAcct",children:t.shortAcct})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left removewrap",id:"ticker",children:t.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_maturityDate",children:"Mat:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"maturityDate",children:0===this.state.tradeData.length?t.maturityDate:this.state.tradeData.maturityDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_coupon",children:"Coupon:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"bid",children:t.bid})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_currencyCode",children:"Currency:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"currencyCode",children:t.currencyCode})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lyr_cuisp",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"cusip",children:t.cusip})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_prodName",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"prodName",children:0===this.state.tradeData.length?t.prodName:this.state.tradeData.prodName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_datedDate",children:"Dated:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"datedDate",children:0===this.state.tradeData.length?t.datedDate:this.state.tradeData.datedDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_settleDTM",children:"DTM:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"settleDTM",children:0===this.state.tradeData.length?t.settle:this.state.tradeData.settle})]})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"lbl_offerblk",children:"Offer"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"amount",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold removewrap",children:"Amount ($m) :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_ammount",children:Object(u.jsx)(Eu,{id:"lyr-amount",name:"lyr-amount",value:t.amount,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"ly-settle",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Settle :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_seettle",children:Object(u.jsx)(Eu,{id:"lyr-settle",name:"lyr-settle",value:t.settlementDate,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_yield",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Yield  :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_yieeld",children:Object(u.jsx)(Eu,{id:"lyr-Yield ",name:"lyr-Yield ",value:t.bidYield,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl-price",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Price :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_price",children:Object(u.jsx)(Eu,{id:"lyr-price",name:"lyr-price",value:void 0===t.price||0===t.price?"100.00000":t.price,className:"form-control input-sm",readOnly:!0})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"lbl_tradeblc",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bamount",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bamount",children:this.state.tradeData.amount&&Object(u.jsx)(pp,{name:"lyr-bamount",id:"lyr-bamount",step:1e3,value:this.state.tradeData.amount,className:"text-right",onBlur:function(t){e.onContentChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bsettle",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bseettl",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"lyr-bsettle",id:"lyr-bsettle",dateValue:new Date(0===this.state.tradeData.length?t.settlementDate:this.state.tradeData.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"settlementDate")},currency:this.state.tradeData.currencyCode?this.state.tradeData.currencyCode:t.currencyCode,holidayData:s,productWeekData:n})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bbidlbl_",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bbidlbl",children:this.state.tradeData.bidYield&&Object(u.jsx)(pp,{name:"lyr-bbidlbl_",id:"lyr-bbidlbl_",step:.1,precesion:2,value:this.state.tradeData.bidYield,className:"text-right",onBlur:function(t){e.onContentChange(t,"bidYield")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bprice",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_lblprice",children:this.state.tradeData.price&&Object(u.jsx)(pp,{name:"lyr-bprice",id:"lyr-bprice",step:1,value:this.state.tradeData.price,className:"text-right",onBlur:function(t){e.onContentChange(t,"price")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_residualAmt",children:"Net :"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8   text-right",id:"residualAmt",children:this.state.tradeData.netAmt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lbl_accruedInterest",children:"Acc Int :"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7  text-right",id:"accruedInterest",children:this.state.tradeData.accruedInterest})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_investor",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Acount Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_investor",children:Object(u.jsx)(Eu,{id:"lyr-investor",name:"lyr-investor",value:this.state.tradeData.shortName,onBlur:function(t){e.accountChange(t,"investor")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{name:"lbl_notes",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Notes: "}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_notes",children:Object(u.jsx)(Eu,{id:"lyr-notes",name:"lyr-notes",value:this.state.tradeData.notes,className:"form-control input-sm"})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_cassii",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"OMS:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_cassii",children:Object(u.jsx)(Eu,{id:"lyr-cassii",name:"lyr-cassii",value:this.state.tradeData.investerCassii,onBlur:function(t){e.accountChange(t,"investerCassii")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_buysell",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"B/S: "}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_bysell",children:Object(u.jsx)(Eu,{id:"lyr-buysell",name:"lyr-buysell",value:this.state.tradeData.notes,className:"form-control input-sm"})})]})]}),void 0!==t&&"10"===t.transType&&Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_cusip",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"CUSIP:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-cusip",name:"lyr-cusip",value:this.state.tradeData.cusip,className:"form-control input-sm",onBlur:function(t){e.cusipChange(t)}})})]})}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:Object(u.jsx)("button",{id:"submit",onClick:this.submitData,className:"btn btn-success btn-xs lyrsubmitfocus",children:"Submit"})})]}):"No data"}}]),a}(o.a.Component),Hy=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={updateFlag:!1,showinvestor:!1,respMessage:"",rejectReason:"",tradeData:s.props.offerData,holidayData:[],productWeekData:[]},s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.submitData=s.submitData.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.accountChange=s.accountChange.bind(Object(O.a)(s)),s.cusipChange=s.cusipChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.tradeData;w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:Jh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})})),void 0!==t&&""!==t.transType&&t.transType,this.postData(t,Gc)}},{key:"postData",value:function(e,t){var a=this;e.fromPage="AMEND";var s=[],n={};n.transType=e.transType,n.issueId=e.issueId,n.productType=Jh,s.push(n),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){if(t.data){var s=t.data[0];s.bid=e.bid,s.amount=e.amount,s.settlementDate=e.settlementDate,s.maturityDate=e.maturityDate,s.transType=e.transType,s.issuerId=e.issuerId,s.ticker=e.ticker,s.productType=e.productType,void 0!==t.data&&void 0!==t.data.rejectReason&&t.data.rejectReason.length>0?a.setState({rejectReason:t.data.rejectReason}):void 0!==t.data&&void 0!==t.data.responseMessage&&t.data.responseMessage.length>0&&a.setState({respMessage:t.data.responseMessage});var n={};n.amount=Po(e.amount),n.rate=Po(e.bid),n.settlementDate=e.settlementDate,n.maturityDate=e.maturityDate,n.transType=e.transType,n.issuerId=e.issuerId,n.ticker=e.ticker,n.productType=e.productType,w()({method:"POST",url:N.URL+zc,timeout:N.apiTimeOut,data:[n],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(s.netAmt=e.data.netAmt,s.accruedInterest=Lo(e.data.interestAmount),s.investerCassii=e.data.investerCassii,a.setState({updateFlag:!0}))})),a.setState({tradeData:s})}}))}},{key:"cusipChange",value:function(e){var t=this.state.tradeData;t.selCusip=t.cusip,t.cusip=e.target.value}},{key:"onContentChange",value:function(e,t){var a=this.state.tradeData;"amount"===t?(Uo(e),a[t]=e.target.value):"notes"!==t&&_o(e),a[t]=e.target.value,this.setState({tradeData:a}),"notes"!==t&&(void 0!==a&&""!==a.transType&&a.transType,this.postData(a,Gc))}},{key:"accountChange",value:function(e,t){var a=this.state.tradeData;a[t]=e.target.value,this.postData(a,cl)}},{key:"onFieldChange",value:function(e,t){this.state.tradeData[t]=e.target.value}},{key:"onDateChange",value:function(e,t){var a=this.state.tradeData;a[t]=Yu(e,"MM/DD/YY"),this.setState({tradeData:a}),void 0!==a&&""!==a.transType&&a.transType,this.postData(a,Gc)}},{key:"submitData",value:function(){var e=this,t=this.state.tradeData;t.action="SAVE",t.amount=Po(t.amount),t.rate=t.bid,w()({method:"POST",url:N.URL+"/amendADNTrade",timeout:N.apiTimeOut,data:[t],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(a){e.props.returnMethod(a.data.responseMessage,t)})),this.props.onHide()}},{key:"render",value:function(){var e=this,t=this.props.offerData,a=this.state,s=a.holidayData,n=a.productWeekData;return t?Object(u.jsxs)("div",{className:"modal-cls",id:"TradeAmend",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",Object(u.jsxs)("div",{className:"bgc",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_issuer",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"shortAcct",children:t.issuerName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left removewrap",id:"ticker",children:t.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_currencyCode",children:"CURRENCY:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"currencyCode",children:t.currencyCode})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left font-weight-bold",id:"lbl_cuseep",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left ",id:"cusip",children:t.cusip})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_prodName",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"prodName",children:0===this.state.tradeData.length?t.prodName:this.state.tradeData.prodName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lb_spread",children:"SPREAD:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"spread",children:0===this.state.tradeData.length?t.spread:this.state.tradeData.spread+" bps"})]})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"lbl_offerblock",children:"Offer"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"amount",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold removewrap",children:"Amount ($m) :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_ammt",children:Object(u.jsx)(Eu,{id:"lyr-amount",name:"lyr-amount",value:Lo(t.amount+""),className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_settle",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Settle :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_settle",children:Object(u.jsx)(Eu,{id:"lyr-settle",name:"lyr-settle",value:t.settlementDate,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_yield",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Rate :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_yield",children:Object(u.jsx)(Eu,{id:"lyr-yield",name:"lyr-yield",value:t.bid,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"maturitydate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Mat :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_maturitydate",children:Object(u.jsx)(Eu,{id:"lyr-matdate",name:"lyr-matdate",value:t.maturityDate,className:"form-control input-sm",readOnly:!0})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"lbl_tradeblk",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bamount",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bammt",children:Object(u.jsx)(pp,{name:"lyr-bamount",id:"lyr-bamount",step:1e3,value:Lo(this.state.tradeData.amount+""),className:"text-right",onBlur:function(t){e.onContentChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bv",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_tradeDate",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"lyr-bsettle",id:"lyr-bsettle",dateValue:new Date(0===this.state.tradeData.length?t.settlementDate:this.state.tradeData.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"settlementDate")},currency:"USD",holidayData:s,productWeekData:n})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bbidYield",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bbidYield",children:Object(u.jsx)(pp,{name:"lyr-bbidYield",id:"lyr-bbidYield",step:.1,precision:2,value:this.state.tradeData.bid,className:"text-right",onBlur:function(t){e.onContentChange(t,"bid")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_maturitydate",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"val_matdate",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"lyr-maturitydate",id:"lyr-maturitydate",dateValue:new Date(0===this.state.tradeData.length?t.maturityDate:this.state.tradeData.maturityDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"maturityDate")},currency:"USD",holidayData:s,productWeekData:n})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_netAmt",children:"Net :"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8   text-right",id:"netAmt",children:this.state.tradeData.netAmt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lbl_accruedInterest",children:"Acc Int :"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7  text-right",id:"accruedInterest",children:this.state.tradeData.accruedInterest})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_investor",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Account Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_investor",children:Object(u.jsx)(Eu,{id:"lyr-investor",name:"lyr-investor",value:this.state.tradeData.shortName,onBlur:function(t){e.accountChange(t,"investor")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_notes",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Notes:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"val_notes",children:Object(u.jsx)(Eu,{id:"lyr-notes",name:"lyr-notes",value:this.state.tradeData.notes,onBlur:function(t){e.onContentChange(t,"notes")},className:"form-control input-sm"})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_cassii",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"OMS:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"val_cassi",children:Object(u.jsx)(Eu,{id:"lyr-cassii",name:"lyr-cassii",value:this.state.tradeData.investerCassii,onBlur:function(t){e.accountChange(t,"investerCassii")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_buysell",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"B/S: "}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"val_buysell",children:Object(u.jsx)(Eu,{id:"lyr-buysell",name:"lyr-buysell",value:"85"===this.state.tradeData.transType?"S":"B",className:"form-control input-sm"})})]})]}),void 0!==t&&"10"===t.transType&&Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_cusip",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"CUSIP:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-cusip",name:"lyr-cusip",value:this.state.tradeData.cusip,className:"form-control input-sm",onBlur:function(t){e.cusipChange(t)}})})]})}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:Object(u.jsx)("button",{id:"submit",onClick:this.submitData,className:"btn btn-success btn-xs lyrsubmitfocus",children:"Submit"})})]}):"No data"}}]),a}(o.a.Component),Wy=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectData:""},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.modalData;return e?Object(u.jsxs)(P.a,{size:"md",show:this.props.show,onHide:this.props.onHide,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:"Trade Amend"})}),Object(u.jsx)(P.a.Body,{children:this.props.prodType===Hh?Object(u.jsx)(_y,{onHide:this.props.onHide,offerData:e,prodType:this.props.prodType,returnMethod:this.props.returnMethod}):this.props.prodType===Wh?Object(u.jsx)(Uy,{onHide:this.props.onHide,offerData:e,prodType:this.props.prodType,returnMethod:this.props.returnMethod}):this.props.prodType===Jh?Object(u.jsx)(Hy,{onHide:this.props.onHide,offerData:e,prodType:this.props.prodType,returnMethod:this.props.returnMethod}):this.props.prodType===Zh?Object(u.jsx)(Vy,{onHide:this.props.onHide,offerData:e,prodType:this.props.prodType,returnMethod:this.props.returnMethod}):this.props.prodType===Gh?Object(u.jsx)(Yy,{onHide:this.props.onHide,offerData:e,prodType:this.props.prodType,returnMethod:this.props.returnMethod}):Object(u.jsx)(Ly,{onHide:this.props.onHide,offerData:e,prodType:this.props.prodType})})]}):""}}]),a}(o.a.Component),qy=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).textBoxComponent=function(e,t,a,n,o){var i,l=n.colId,c=l+a;return i=e,"amount"!==l&&"rate"!==l||(i=Lo(e)),Object(u.jsx)(Eu,{name:c,id:c,value:i,onBlur:function(e){s.onFieldChange(e,t.issueId,t,l,a)}})},s.onFieldChange=function(e,t,a,n,o){var i,l=!0;if("bid"===n?i="1234567890.":"amount"===n?i="1234567890.,mmMMkkKK":l=!1,!0===l&&!1===Bo(e.target.value,i))s.setState({actionTitle:"Alert",actionMessage:"bid"===n?Ym:wm,showError:!0,updateData:!1}),e.target.value=a[n],e.target.focus();else{var c=s.state.tradeData;"amount"===n||"bid"===n?(_o(e),c[o][n]=Po(e.target.value),"bid"===n&&(c[o].rate=Po(e.target.value)),s.doCalc(c[o],o)):c[o][n]=e.target.value}},s.state={selectData:"",amendData:"",actionTitle:"",actionMessage:"",showError:!1,alertShow:!1,payload:[],tradeData:s.props.data,updateData:!0,settlementDate:new Date,maturityDate:new Date,holidayData:[],productWeekData:[]},s.hideAlert=s.hideAlert.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.dateComponent=s.dateComponent.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.imgComponent=s.imgComponent.bind(Object(O.a)(s)),s.actionComponent=s.actionComponent.bind(Object(O.a)(s)),s.onDateChange=s.onDateChange.bind(Object(O.a)(s)),s.onSingleAmend=s.onSingleAmend.bind(Object(O.a)(s)),s.onAmendAll=s.onAmendAll.bind(Object(O.a)(s)),s.doCalc=s.doCalc.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.tradeData;w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:t[0].productType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})}));for(var a=0;a<t.length;a++)this.doCalc(t[a],a)}},{key:"dateComponent",value:function(e,t,a,s,n){var o=this,i=this.state,l=i.holidayData,c=i.productWeekData;return Object(u.jsx)("div",{children:"settlementDate"===n?Object(u.jsx)(Ju,{label:n+a,id:n+a,fromDate:new Date(e),fromDateFlg:!0,onchange:function(e){o.onDateChange(e,n,a)},currency:t.currencyCode,holidayData:l,productWeekData:c}):Object(u.jsx)(Ju,{label:n+a,id:n+a,toDate:new Date(e),toDateFlg:!0,onchange:function(e){o.onDateChange(e,n,a)},currency:t.currencyCode,holidayData:l,productWeekData:c})})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):void 0}},{key:"actionComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(D.a,{id:n+a,onClick:function(e){return o.onSingleAmend(e,a)},children:"Amend"})}},{key:"onSingleAmend",value:function(e,t){var a=this,s=this.state.tradeData;s[t].amount=Po(s[t].amount),s[t].rate=Po(s[t].rate),s[t].net=Po(s[t].net),s[t].interestAmount=Po(s[t].interestAmount);var n=N.URL+tc;this.props.prodType===Wh&&(n=N.URL+gc),w()({method:"POST",url:n,timeout:N.apiTimeOut,data:[s[t]],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.props.returnMethod(e.data.responseMessage,s),a.setState({updateData:!0})})),this.props.onHide()}},{key:"onAmendAll",value:function(){for(var e=this,t=this.state.tradeData,a=t,s=0;s<a.length;s++)a[s].amount=Po(a[s].amount),a[s].rate=Po(a[s].rate),a[s].net=Po(a[s].net),a[s].interestAmount=Po(a[s].interestAmount);var n=N.URL+tc;this.props.prodType===Wh&&(n=N.URL+gc),w()({method:"POST",url:n,timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(a){e.props.returnMethod(a.data.responseMessage,t),e.setState({updateData:!0})})),this.props.onHide()}},{key:"onDateChange",value:function(e,t,a){var s=this.state.tradeData;s[a][t]=Yu(e,"M/D/YY"),this.doCalc(s[a],a)}},{key:"doCalc",value:function(e,t){var a=this,s=this.state.tradeData,n={};n.amount=Po(e.amount),n.rate=Po(e.bid),n.settlementDate=e.settlementDate,n.maturityDate=e.maturityDate,n.transType=e.transType,n.issuerId=e.issuerId,n.ticker=e.ticker,n.productType=e.productType;var o=N.URL+Ml;w()({method:"POST",url:o,timeout:N.apiTimeOut,data:[n],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(s[t].net=e.data.netAmt,s[t].interestAmount=Lo(e.data.interestAmount),a.setState({updateFlag:!0,tradeData:s,updateData:!0}))}))}},{key:"hideAlert",value:function(){this.setState({alertShow:!1,updateData:!0})}},{key:"confirmAction",value:function(e){var t=this.state.payload;this.setState({alertShow:!1,updateData:!1}),this.props.returnMethod(t)}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"render",value:function(){var e=this,t=this.props.data,a=this.state,s=a.holidayData,n=a.productWeekData,o={};return o.textBoxComponent=this.textBoxComponent,o.dateComponent=this.dateComponent,o.imgComponent=this.imgComponent,o.actionComponent=this.actionComponent,t&&(s.length>0||n.length>0)?Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.title})}),Object(u.jsxs)(P.a.Body,{children:[Object(u.jsx)(Yb,{cprops:this.props.cprops,data:this.props.data,updateData:this.state.updateData,edit:!1,fixedTable:!0,mappings:this.props.mappings,keyField:this.props.keyField,customComponents:o,excelFlag:"true"}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]}),Object(u.jsx)(P.a.Footer,{children:Object(u.jsx)(D.a,{id:"amendAll",onClick:this.onAmendAll,children:"Amend All"})})]}):""}}]),a}(o.a.Component),zy=[],Gy=!1,Ky=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openShowTicket=function(e,t){s.setState({modalShowTicketData:t,ShowTicketModal:!0,updateData:!1})},s.openMpModal=function(e,t){var a=zy[t];a=e,s.setState({buyInData:a,showMpModal:!0,isMultiple:!0,updateData:!1})},s.state={cmodal:!0,showModal:!1,showAmendModal:!1,modalData:"",fromDateValue:new Date,toDateValue:new Date,modalDataRow:"",modalShowTicketData:"",ShowTicketModal:!1,buyInData:[],actionTitle:"",actionMessage:"",alertShow:!1,actionFlag:"",issueIds:[],isMultiple:!1,requestArray:[],bookId:"",showError:!1,updateData:!0,amendrequestArray:[]},s.linkShowTicket=s.linkShowTicket.bind(Object(O.a)(s)),s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkShowTicker=s.linkShowTicker.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.amendcheckBoxComponent=s.amendcheckBoxComponent.bind(Object(O.a)(s)),s.deletecheckBoxComponent=s.deletecheckBoxComponent.bind(Object(O.a)(s)),s.amendAction=s.amendAction.bind(Object(O.a)(s)),s.openSingleModal=s.openSingleModal.bind(Object(O.a)(s)),s.openMpModal=s.openMpModal.bind(Object(O.a)(s)),s.setScreenData=s.setScreenData.bind(Object(O.a)(s)),s.delete=s.delete.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s.returnMethod=s.returnMethod.bind(Object(O.a)(s)),s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.getDefaultBookValues=s.getDefaultBookValues.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,updateData:!1})}},{key:"linkShowTicket",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:function(e){return o.openShowTicket(e,t)},children:Object(u.jsx)(B.C,{size:"14"})})}},{key:"openModal",value:function(e,t){var a;Object.keys(e).map((function(s){e[s]===t&&(s!==rn&&s!==ln||(a=s))})),this.setState({modalData:a,modalDataRow:e,showModal:!0,updateData:!1})}},{key:"hideModal",value:function(){this.setState({showModal:!1,ShowTicketModal:!1,showAmendModal:!1,showMpModal:!1,alertShow:!1,updateData:!0,modalShowTicketData:""})}},{key:"linkShowTicker",value:function(e,t,a,s,n){if("0"!==e)return Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:this.openModal.bind(this,t,e),children:e})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-success",children:e})]}):"Pndng"===e||"Mine"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Exprd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):void 0}},{key:"amendcheckBoxComponent",value:function(e,t,a,s,n){var o=this,i=n+a;if("Acptd"===t.dispDescr)return Object(u.jsx)("div",{children:this.props.message?Object(u.jsx)(B.l,{className:"text-danger"}):Object(u.jsx)("input",{type:"checkbox",name:i,id:i,value:t.issueId,onClick:function(s){return o.amendCheck(e,a,t,s)}})})}},{key:"deletecheckBoxComponent",value:function(e,t,a,s,n){var o=this,i=n+a;if("Acptd"===t.dispDescr)return Object(u.jsx)("div",{children:this.props.message?Object(u.jsx)(B.l,{className:"text-danger"}):Object(u.jsx)("input",{type:"checkbox",name:i,id:i,value:t.issueId,onClick:function(s){return o.deleteAmendCheck(e,a,t,s)}})})}},{key:"deleteAmendCheck",value:function(e,t,a,s){var n=this;Gy=!1;var o=this.state.requestArray,i=this.state.issueIds,l=[];if(s.target.checked){l.push(t);var c={};(c=zy.filter((function(e){return e.issueId===s.target.value}))[0]).amount=c.amount+"",c.net=c.net?c.net:"0.00",c.interest=c.interest?c.interest:"0.00",o.push(c),this.setState({issueIds:i,requestArray:o,updateData:!1}),Gy=!0}else{l.splice(l.indexOf(t),1);var r=o;r=r.filter((function(e){return e.issueId!==s.target.value})),this.setState({issueIds:i,requestArray:r,updateData:!1}),Gy=!0}var d=document.getElementById("delete");null!==d&&d.addEventListener("click",(function(e){return n.delete(o,s,t,l)}),!0)}},{key:"amendCheck",value:function(e,t,a,s){var n=this;Gy=!1;var o=this.state.amendrequestArray,i=this.state.issueIds,l=[];if(s.target.checked){l.push(t);var c={};(c=zy.filter((function(e){return e.issueId===s.target.value}))[0]).amount=c.amount+"",c.net=c.net?c.net:"0.00",c.interest=c.interest?c.interest:"0.00",o.push(c),this.setState({issueIds:i,amendrequestArray:o,updateData:!1})}else{l.splice(l.indexOf(t),1);var r=o;r=r.filter((function(e){return e.issueId!==s.target.value})),this.setState({issueIds:i,amendrequestArray:r,updateData:!1})}var d=document.getElementById("amend");null!==d&&d.addEventListener("click",(function(e){return n.amendAction(s,t,l)}),!0)}},{key:"delete",value:function(e,t,a,s){!0===Gy&&this.setState({actionTitle:"Delete",actionMessage:yh,alertShow:!0,issueIds:e,updateData:!1})}},{key:"confirmAction",value:function(e){var t=this,a=this.state.requestArray;this.setState({alertShow:!1}),a.length>1?w()({method:"POST",url:N.URL+ec,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data[1],updateData:!0})})):w()({method:"POST",url:N.URL+zl,timeout:N.apiTimeOut,data:a[0],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data,updateData:!0})})),this.setState({issueIds:[],updateData:!0})}},{key:"amendAction",value:function(e,t,a){var s=this.state.amendrequestArray;s.length>1?this.openMpModal(s,a):this.openSingleModal(s,a)}},{key:"openSingleModal",value:function(e,t){var a=e;this.setState({buyInData:a,showAmendModal:!0,isMultiple:!1,updateData:!1})}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1})}},{key:"fromDateChange",value:function(e){this.setState({responseMessage:"",fromDateValue:e,updateData:!0})}},{key:"toDateChange",value:function(e){this.setState({responseMessage:"",toDateValue:e,updateData:!0})}},{key:"setScreenData",value:function(e){zy=e}},{key:"returnMethod",value:function(e,t){this.setState({responseMessage:e,amendrequestArray:t,updateData:!1})}},{key:"tickerChange",value:function(e){this.setState({responseMessage:"",bookId:e.target.value,updateData:!0})}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All",updateData:!1})}},{key:"render",value:function(){var e=this,t={};t.linkShowTicket=this.linkShowTicket,t.linkShowTicker=this.linkShowTicker,t.imgComponent=this.imgComponent,t.amendcheckBoxComponent=this.amendcheckBoxComponent,t.deletecheckBoxComponent=this.deletecheckBoxComponent;var a=this.state,s=a.isMultiple,n=a.amendrequestArray;return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Book",id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Hh},onchange:this.tickerChange,selected:this.state.bookId,id:"bookId",stateMethod:this.getDefaultBookValues})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.fromDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.modalShowTicketData&&Object(u.jsx)(W.a,{md:3,children:Object(u.jsx)(yp,{close:function(){return e.hideModal()},prodType:Hh,reqParams:this.state.modalShowTicketData,apiCall:tl})}),Object(u.jsx)(W.a,{md:""!==this.state.modalShowTicketData?9:"auto",children:Object(u.jsx)(Yb,{cprops:"3"!==sessionStorage.getItem("membercatid")?Co:No,apiCall:ar,updateData:this.state.updateData,wsUrl:!0,reqParams:{prodType:Hh,fromDate:Vu(this.state.fromDateValue),toDate:Vu(this.state.toDateValue),loginId:sessionStorage.getItem("loginid"),bookId:this.state.bookId,socketSource:"TRADE"},edit:!1,mappings:Sy,customComponents:t,calBack:this.setScreenData,keyField:"issueId",screenName:"TRADE_BLOTTER",subTitle:" CP",flagPdf:!0})})]}),this.state.modalData===ln&&Object(u.jsx)(rp,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:Hh,modalData:this.state.modalData,modalDataRow:this.state.modalDataRow,message:this.props.message}),!1===s?Object(u.jsx)(Wy,{show:this.state.showAmendModal,onHide:function(){return e.hideModal()},prodType:Hh,modalData:n[0],returnMethod:this.returnMethod}):Object(u.jsx)(qy,{show:this.state.showMpModal,onHide:function(){return e.hideModal()},prodType:Hh,data:n,cprops:Io,mappings:wy,keyField:"issueId",title:"Trade Amend",returnMethod:this.returnMethod}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideModal()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})})}}]),a}(o.a.Component),Zy=Ky,Jy=[],Qy=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).textBoxComponent=function(e,t,a,n,o){var i,l=n.colId,c=l+a;return i=e,"amount"===l&&(i=Lo(e)),Object(u.jsx)(Eu,{name:c,style:{width:"120px"},className:"cassii"!==e&&"text-right",id:c,value:i,onBlur:function(e){s.onFieldChange(e,t.issueId,t,l,a)}})},s.onFieldChange=function(e,t,a,n,o){var i,l=!0;"bidYield"===n?i="1234567890.":"amount"===n?i="1234567890.,mmMMkkKK":l=!1,!0===l&&!1===Bo(e.target.value,i)?(s.setState({actionTitle:"Alert",actionMessage:"bid"===n?Ym:wm,showError:!0,updateData:!1}),e.target.value=a[n],e.target.focus()):"amount"===n||"bidYield"===n?(_o(e),Jy[o][n]=Po(e.target.value),"bidYield"===n&&(Jy[o].bidYield=Po(e.target.value)),s.doProcess(Jy[o],o)):Jy[o][n]=e.target.value},s.state={actionTitle:"",actionMessage:"",showError:!1,alertShow:!1,updateData:!0},s.hideAlert=s.hideAlert.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.dateComponent=s.dateComponent.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.imgComponent=s.imgComponent.bind(Object(O.a)(s)),s.actionComponent=s.actionComponent.bind(Object(O.a)(s)),s.onDateChange=s.onDateChange.bind(Object(O.a)(s)),s.onSingleAmend=s.onSingleAmend.bind(Object(O.a)(s)),s.onAmendAll=s.onAmendAll.bind(Object(O.a)(s)),s.doProcess=s.doProcess.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){Jy=[],this.fillData()}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.selectedData;if(e!==this.props){Jy=a;for(var s=0;s<Jy.length;s++)this.doProcess(Jy[s],s)}}},{key:"fillData",value:function(){var e=this.props.selectedData;if(void 0===Jy||0===Jy.length){Jy=e;for(var t=0;t<Jy.length;t++)this.doProcess(Jy[t],t)}}},{key:"dateComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(nj,{label:n+a,id:n+a,dateValue:Yu(e,"YYYY-MM-DD"),fromDateFlg:!1,toDateFlg:!1,onchange:function(e){o.onDateChange(e,n,a)}})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):void 0}},{key:"actionComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(D.a,{id:n+a,onClick:function(e){return o.onSingleAmend(e,a)},children:"Amend"})}},{key:"onSingleAmend",value:function(e,t){var a=this;this.setState({updateData:!1});var s="",n=Jy[t];"85"===n.transType?"I"===n.issueType&&(n.fromPage="INVSALE"):n.fromPage="AMEND",n.action="SAVE",n.interestAmount=Po(n.interestAmount),s=void 0!==n&&""!==n.transType&&"85"===n.transType?n.productType===Gh||n.productType===Kh?Nc:Cl:kl,w()({method:"POST",url:N.URL+s,timeout:N.apiTimeOut,data:n,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.props.returnMethod(e.data.responseMessage,n),a.setState({updateData:!0})})),this.props.onHide()}},{key:"onAmendAll",value:function(){var e=this;this.setState({updateData:!1});for(var t=0;t<Jy.length;t++)Jy[t].action="SAVE",Jy[t].interestAmount=Po(Jy[t].interestAmount),"85"===Jy[t].transType?"I"===Jy[t].issueType&&(Jy[t].fromPage="INVSALE"):Jy.fromPage="AMEND";w()({method:"POST",url:N.URL+Cc,timeout:N.apiTimeOut,data:Jy,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){Jy=[],e.props.returnMethod(t.data.responseMessage,Jy),e.setState({updateData:!0})})),this.props.onHide()}},{key:"onDateChange",value:function(e,t,a){void 0!==Jy&&(Jy[a][t]=Yu(e,"M/D/YY"),this.doProcess(Jy[a],a))}},{key:"doProcess",value:function(e,t){var a=this,s="";e.interestAmount=Po(e.interestAmount),s="85"===e.transType?wl:e.productType===Gh||e.productType===Kh?mc:Nl,w()({method:"POST",url:N.URL+s,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(Jy[t].net=e.data.netAmt,Jy[t].interestAmount=Lo(e.data.interestAmount),Jy[t].price=Lo(e.data.price),Jy[t].groupId=e.data.groupId,a.setState({updateFlag:!0,updateData:!0}))}))}},{key:"hideAlert",value:function(){this.setState({alertShow:!1,updateData:!0})}},{key:"confirmAction",value:function(e){this.setState({alertShow:!1,updateData:!1}),this.props.returnMethod(Jy)}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"render",value:function(){var e=this,t=this.props.selectedData;this.fillData();var a={};return a.textBoxComponent=this.textBoxComponent,a.dateComponent=this.dateComponent,a.imgComponent=this.imgComponent,a.actionComponent=this.actionComponent,this.props.show&&t?Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.title})}),Object(u.jsxs)(P.a.Body,{children:[Object(u.jsx)(Yb,{cprops:this.props.cprops,data:Jy,updateData:this.state.updateData,edit:!1,fixedTable:!0,mappings:this.props.mappings,keyField:this.props.keyField,customComponents:a,excelFlag:"true"}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]}),Object(u.jsx)(P.a.Footer,{children:Object(u.jsx)(D.a,{id:"amendAll",onClick:function(t){return e.onAmendAll()},children:"Amend All"})})]}):""}}]),a}(o.a.Component),Xy=[],$y=[],ek=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openShowTicket=function(e,t){s.setState({modalShowTicketData:t,ShowTicketModal:!0,updateData:!1})},s.openShowTicker=function(e,t){s.setState({modalShowTickerData:t,ShowTickerModal:!0,updateData:!1})},s.hideModal=function(){s.setState({alertShow:!1,ShowTicketModal:!1,ShowTickerModal:!1,showModal:!1,showMpModal:!1,updateData:!0,modalShowTicketData:""})},s.bookChange=function(e){s.setState({bookId:e.target.value,updateData:!0})},s.state={cmodal:!0,showModal:!1,showMpModal:!1,bookId:"",fromDateValue:new Date,toDateValue:new Date,modalShowTicketData:"",ShowTicketModal:!1,modalShowTickerData:"",ShowTickerModal:!1,showError:!1,actionTitle:"",actionMessage:"",responseMessage:"",checkArray:[],updateData:!0},s.linkShowTicket=s.linkShowTicket.bind(Object(O.a)(s)),s.linkShowTicker=s.linkShowTicker.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.amendcheckBoxComponent=s.amendcheckBoxComponent.bind(Object(O.a)(s)),s.deletecheckBoxComponent=s.deletecheckBoxComponent.bind(Object(O.a)(s)),s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.amendAction=s.amendAction.bind(Object(O.a)(s)),s.getDefaultBookValues=s.getDefaultBookValues.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.returnMethod=s.returnMethod.bind(Object(O.a)(s)),s.delete=s.delete.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,responseMessage:"",updateData:!0})}},{key:"linkShowTicket",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:function(e){return o.openShowTicket(e,t)},children:Object(u.jsx)(B.C,{size:"14"})})}},{key:"linkShowTicker",value:function(e,t,a,s,n){var o=this;return this.setState({modalData:t,updateData:!1}),Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:function(e){return o.openShowTicker(e,t)},children:e})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Exprd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):void 0}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1,checkArray:[]})}},{key:"fromDateChange",value:function(e){this.setState({fromDateValue:e,updateData:!0})}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e,updateData:!0})}},{key:"amendcheckBoxComponent",value:function(e,t,a,s,n){var o=this,i=n+a;if("Acptd"===t.dispDescr)return Object(u.jsx)("div",{children:this.props.message?Object(u.jsx)(B.l,{className:"text-danger"}):Object(u.jsx)("input",{type:"checkbox",name:i,id:i,value:t.issueId,onClick:function(s){return o.amendCheck(e,a,t,s)}})})}},{key:"deletecheckBoxComponent",value:function(e,t,a,s,n){var o=this,i=n+a;if("Acptd"===t.dispDescr)return Object(u.jsx)("div",{children:this.props.message?Object(u.jsx)(B.l,{className:"text-danger"}):Object(u.jsx)("input",{type:"checkbox",name:i,id:i,value:t.issueId,onClick:function(s){return o.deleteAmendCheck(e,a,t,s)}})})}},{key:"amendCheck",value:function(e,t,a,s){var n=this,o=this.state.checkArray;Xy=[],s&&!0===s.target.checked?($y=[],o.push(a.issueId)):o.splice(o.indexOf(a.issueId),1);var i=document.getElementById("amend");null!==i&&i.addEventListener("click",(function(e){return n.amendAction(o)}),!0)}},{key:"deleteAmendCheck",value:function(e,t,a,s){var n=this;Xy=[],$y=[],s&&!0===s.target.checked?(this.setState({checkArray:[]}),$y.push(a.issueId)):$y.splice($y.indexOf(a.issueId),1);var o=document.getElementById("delete");null!==o&&o.addEventListener("click",(function(e){return n.delete($y)}),!0)}},{key:"amendAction",value:function(e){e.length>1?this.openMpModal(e):this.openModal(e[0])}},{key:"delete",value:function(e){this.setState({checkArray:e}),e.length>0&&this.setState({actionTitle:"Delete",actionMessage:yh,alertShow:!0,issueIds:e,updateData:!1})}},{key:"confirmAction",value:function(e){var t=this,a=this.state.checkArray;this.setState({alertShow:!1,updateData:!1});var s=[],n=[],o={};a.length>1?(a.map((function(e){(n=My.filter((function(t){return t.issueId===e}))).length>0&&(o.productType=n[0].productType,o.issueId=n[0].issueId,o.transType=n[0].transType,s.push(o))})),w()({method:"POST",url:N.URL+ec,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data[1],updateData:!0,checkArray:[],selectedData:[]})}))):((n=My.filter((function(e){return e.issueId===a[0]}))).length>0&&(o.productType=n[0].productType,o.issueId=n[0].issueId,o.transType=n[0].transType),w()({method:"POST",url:N.URL+zl,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data,updateData:!0,checkArray:[],selectedData:[]})}))),this.setState({issueIds:[],updateData:!1})}},{key:"returnMethod",value:function(e,t){this.setState({checkArray:[],showMpModal:!1,showModal:!1,responseMessage:e,updateData:!0})}},{key:"openModal",value:function(e){var t;(t=My.filter((function(t){return t.issueId===e}))).length>0&&(Iy=t[0],this.setState({showModal:!0,responseMessage:"",updateData:!1}))}},{key:"openMpModal",value:function(e){var t=[];Xy=[],e.map((function(e){(t=My.filter((function(t){return t.issueId===e}))).length>0&&("85"===(Iy=t[0]).transType?"I"===Iy.issueType&&(Iy.fromPage="INVSALE"):Iy.fromPage="AMEND",Xy.push(Iy))})),Iy.fromDate=Vu(this.state.formDateValue),Iy.toDate=Vu(this.state.toDateValue),this.setState({showMpModal:!0,responseMessage:"",updateData:!1})}},{key:"setScreenData",value:function(e){My=e}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All",updateData:!1})}},{key:"render",value:function(){var e=this,t={};return t.linkShowTicket=this.linkShowTicket,t.linkShowTicker=this.linkShowTicker,t.imgComponent=this.imgComponent,t.amendcheckBoxComponent=this.amendcheckBoxComponent,t.deletecheckBoxComponent=this.deletecheckBoxComponent,Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Book",id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:qh},onchange:this.bookChange,selected:this.state.bookId,id:"bookId",stateMethod:this.getDefaultBookValues})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.fromDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.modalShowTicketData&&Object(u.jsx)(W.a,{md:3,children:Object(u.jsx)(yp,{close:function(){return e.hideModal()},prodType:qh,reqParams:this.state.modalShowTicketData,apiCall:tl})}),Object(u.jsx)(W.a,{md:""!==this.state.modalShowTicketData?9:"auto",children:Object(u.jsx)(Yb,{cprops:"3"!==sessionStorage.getItem("membercatid")?Co:No,apiCall:ar,updateData:this.state.updateData,wsUrl:!0,reqParams:{bookId:this.state.bookId,prodType:qh,fromDate:Vu(this.state.fromDateValue),toDate:Vu(this.state.toDateValue),loginId:sessionStorage.getItem("loginid"),socketSource:"TRADE"},edit:!1,calBack:this.setScreenData,mappings:Sy,customComponents:t,keyField:"issueId",screenName:"TRADE_BLOTTER",subTitle:" ECD",flagPdf:!0})})]}),Object(u.jsx)(Wy,{show:this.state.showModal,onHide:function(){return e.hideModal()},prodType:qh,modalData:Iy,returnMethod:this.returnMethod}),Object(u.jsx)(Qy,{show:this.state.showMpModal,onHide:function(){return e.hideModal()},prodType:qh,selectedData:Xy,cprops:Do,mappings:Ty,keyField:"issueId",title:"Trade Amend",returnMethod:this.returnMethod}),Object(u.jsx)(rp,{size:"lg",show:this.state.ShowTickerModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:qh,modalDataRow:this.state.modalShowTickerData,message:this.props.message}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideModal()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})]})}}]),a}(o.a.Component),tk=[],ak=[],sk=!1,nk=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openShowTicket=function(e,t){s.setState({modalShowTicketData:t,ShowTicketModal:!0,updateData:!1})},s.openMpModal=function(e,t){var a=tk[t];a=e,s.setState({buyInData:a,showMpModal:!0,isMultiple:!0,updateData:!1})},s.state={cmodal:!0,showModal:!1,showAmendModal:!1,modalData:"",fromDateValue:new Date,toDateValue:new Date,modalDataRow:"",modalShowTicketData:"",ShowTicketModal:!1,buyInData:[],actionTitle:"",actionMessage:"",alertShow:!1,actionFlag:"",issueIds:[],isMultiple:!1,requestArray:[],bookId:"",showError:!1,updateData:!0,amendrequestArray:[]},s.linkShowTicket=s.linkShowTicket.bind(Object(O.a)(s)),s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkShowTicker=s.linkShowTicker.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.amendcheckBoxComponent=s.amendcheckBoxComponent.bind(Object(O.a)(s)),s.deletecheckBoxComponent=s.deletecheckBoxComponent.bind(Object(O.a)(s)),s.amendAction=s.amendAction.bind(Object(O.a)(s)),s.openSingleModal=s.openSingleModal.bind(Object(O.a)(s)),s.openMpModal=s.openMpModal.bind(Object(O.a)(s)),s.setScreenData=s.setScreenData.bind(Object(O.a)(s)),s.delete=s.delete.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s.returnMethod=s.returnMethod.bind(Object(O.a)(s)),s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.getDefaultBookValues=s.getDefaultBookValues.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"linkShowTicket",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:function(e){return o.openShowTicket(e,t)},children:Object(u.jsx)(B.C,{size:"14"})})}},{key:"openModal",value:function(e,t){var a;Object.keys(e).map((function(s){e[s]===t&&(s!==rn&&s!==ln||(a=s))})),this.setState({modalData:a,modalDataRow:e,showModal:!0,updateData:!1})}},{key:"hideModal",value:function(){this.setState({showModal:!1,ShowTicketModal:!1,showAmendModal:!1,showMpModal:!1,alertShow:!1,updateData:!0,modalShowTicketData:""})}},{key:"linkShowTicker",value:function(e,t,a,s,n){if("0"!==e)return Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:this.openModal.bind(this,t,e),children:e})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Exprd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):void 0}},{key:"amendcheckBoxComponent",value:function(e,t,a,s,n){var o=this,i=n+a;if("Acptd"===t.dispDescr)return Object(u.jsx)("div",{children:this.props.message?Object(u.jsx)(B.l,{className:"text-danger"}):Object(u.jsx)("input",{type:"checkbox",name:i,id:i,value:t.issueId,onClick:function(s){return o.amendCheck(e,a,t,s)}})})}},{key:"deletecheckBoxComponent",value:function(e,t,a,s,n){var o=this,i=n+a;if("Acptd"===t.dispDescr)return Object(u.jsx)("div",{children:this.props.message?Object(u.jsx)(B.l,{className:"text-danger"}):Object(u.jsx)("input",{type:"checkbox",name:i,id:i,value:t.issueId,onClick:function(s){return o.deleteAmendCheck(e,a,t,s)}})})}},{key:"amendCheck",value:function(e,t,a,s){var n=this;sk=!1;var o=this.state.amendrequestArray,i=this.state.issueIds;if(ak=[],s.target.checked){ak.push(t);var l={};(l=tk.filter((function(e){return e.issueId===s.target.value}))[0]).amount=l.amount+"",l.net=l.net?l.net:"0.00",l.interest=l.interest?l.interest:"0.00",o.push(l),this.setState({issueIds:i,amendrequestArray:o,updateData:!1})}else{ak.splice(ak.indexOf(t),1);var c=o;c=c.filter((function(e){return e.issueId!==s.target.value})),this.setState({issueIds:i,amendrequestArray:c,updateData:!1})}var r=document.getElementById("amend");null!==r&&r.addEventListener("click",(function(e){return n.amendAction(s,t,ak)}),!0)}},{key:"deleteAmendCheck",value:function(e,t,a,s){var n=this;sk=!1;var o=this.state.requestArray,i=this.state.issueIds,l=[];if(s&&!0===s.target.checked&&l.push(t),s.target.checked){var c={};(c=tk.filter((function(e){return e.issueId===s.target.value}))[0]).amount=c.amount+"",c.net=c.net?c.net:"0.00",c.interest=c.interest?c.interest:"0.00",o.push(c),this.setState({issueIds:i,requestArray:o,updateData:!1}),sk=!0}else{l.splice(l.indexOf(t),1);var r=o;r=r.filter((function(e){return e.issueId!==s.target.value})),this.setState({issueIds:i,requestArray:r,updateData:!1}),sk=!0}var d=document.getElementById("delete");null!==d&&d.addEventListener("click",(function(e){return n.delete(o,s,t,l)}),!0)}},{key:"delete",value:function(e,t,a,s){!0===sk&&this.setState({actionTitle:"Delete",actionMessage:yh,alertShow:!0,issueIds:e})}},{key:"confirmAction",value:function(e){var t=this,a=this.state.requestArray;this.setState({alertShow:!1,updateData:!1}),a.length>1?w()({method:"POST",url:N.URL+ec,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data[1],updateData:!0})})):w()({method:"POST",url:N.URL+zl,timeout:N.apiTimeOut,data:a[0],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data,updateData:!0})})),this.setState({issueIds:[],updateData:!1})}},{key:"amendAction",value:function(e,t,a){var s=this.state.amendrequestArray;s.length>1?this.openMpModal(s,a):this.openSingleModal(s,a)}},{key:"openSingleModal",value:function(e,t){var a=e;this.setState({buyInData:a,showAmendModal:!0,isMultiple:!1,updateData:!1})}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1})}},{key:"fromDateChange",value:function(e){this.setState({responseMessage:"",fromDateValue:e,updateData:!0})}},{key:"toDateChange",value:function(e){this.setState({responseMessage:"",toDateValue:e,updateData:!0})}},{key:"setScreenData",value:function(e){tk=e}},{key:"returnMethod",value:function(e,t){this.setState({responseMessage:e,amendrequestArray:t,updateData:!0})}},{key:"tickerChange",value:function(e){this.setState({responseMessage:"",bookId:e.target.value,updateData:!0})}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All",updateData:!1})}},{key:"render",value:function(){var e=this,t={};t.linkShowTicket=this.linkShowTicket,t.linkShowTicker=this.linkShowTicker,t.imgComponent=this.imgComponent,t.amendcheckBoxComponent=this.amendcheckBoxComponent,t.deletecheckBoxComponent=this.deletecheckBoxComponent;var a=this.state,s=a.isMultiple,n=a.amendrequestArray;return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Book",id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Zh},onchange:this.tickerChange,selected:this.state.bookId,id:"bookId",stateMethod:this.getDefaultBookValues})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.fromDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.modalShowTicketData&&Object(u.jsx)(W.a,{md:3,children:Object(u.jsx)(yp,{close:function(){return e.hideModal()},prodType:Zh,reqParams:this.state.modalShowTicketData,apiCall:tl})}),Object(u.jsx)(W.a,{md:""!==this.state.modalShowTicketData?9:"auto",children:Object(u.jsx)(Yb,{cprops:"3"!==sessionStorage.getItem("membercatid")?Co:No,apiCall:ar,updateData:this.state.updateData,wsUrl:!0,reqParams:{prodType:Zh,fromDate:Vu(this.state.fromDateValue),toDate:Vu(this.state.toDateValue),loginId:sessionStorage.getItem("loginid"),bookId:this.state.bookId,socketSource:"TRADE"},edit:!1,mappings:Sy,customComponents:t,calBack:this.setScreenData,keyField:"issueId",screenName:"TRADE_BLOTTER",subTitle:" ECP",flagPdf:!0})})]}),this.state.modalData===ln&&Object(u.jsx)(rp,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:Zh,modalData:this.state.modalData,modalDataRow:this.state.modalDataRow,message:this.props.message}),!1===s?Object(u.jsx)(Wy,{show:this.state.showAmendModal,onHide:function(){return e.hideModal()},prodType:Zh,modalData:n[0],returnMethod:this.returnMethod}):Object(u.jsx)(qy,{show:this.state.showMpModal,onHide:function(){return e.hideModal()},prodType:Zh,data:n,cprops:Io,mappings:wy,keyField:"issueId",returnMethod:this.returnMethod,title:"Trade Amend"}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideModal()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})})}}]),a}(o.a.Component),ok=nk,ik=[],lk=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openShowTicket=function(e,t){s.setState({modalShowTicketData:t,ShowTicketModal:!0,updateData:!1})},s.openShowTicker=function(e,t){s.setState({modalShowTickerData:t,ShowTickerModal:!0,updateData:!1})},s.hideModal=function(){s.setState({alertShow:!1,ShowTicketModal:!1,ShowTickerModal:!1,showModal:!1,showMpModal:!1,updateData:!0,modalShowTicketData:""})},s.bookChange=function(e){s.setState({bookId:e.target.value,updateData:!0})},s.state={cmodal:!0,showModal:!1,showMpModal:!1,bookId:"",fromDateValue:new Date,toDateValue:new Date,modalShowTicketData:"",ShowTicketModal:!1,modalShowTickerData:"",ShowTickerModal:!1,showError:!1,actionTitle:"",actionMessage:"",responseMessage:"",checkArray:[],updateData:!0},s.linkShowTicket=s.linkShowTicket.bind(Object(O.a)(s)),s.linkShowTicker=s.linkShowTicker.bind(Object(O.a)(s)),s.checkBoxComponent=s.checkBoxComponent.bind(Object(O.a)(s)),s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.amendAction=s.amendAction.bind(Object(O.a)(s)),s.getDefaultBookValues=s.getDefaultBookValues.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.returnMethod=s.returnMethod.bind(Object(O.a)(s)),s.delete=s.delete.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,responseMessage:"",updateData:!1})}},{key:"linkShowTicket",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:function(e){return o.openShowTicket(e,t)},children:Object(u.jsx)(B.C,{size:"14"})})}},{key:"linkShowTicker",value:function(e,t,a,s,n){var o=this;return this.setState({modalData:t,updateData:!1}),Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:function(e){return o.openShowTicker(e,t)},children:e})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Exprd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):void 0}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1})}},{key:"fromDateChange",value:function(e){this.setState({fromDateValue:e,updateData:!0})}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e,updateData:!0})}},{key:"checkBoxComponent",value:function(e,t,a,s,n){var o=this,i="issueId"+a;if("Acptd"===t.dispDescr)return Object(u.jsx)("div",{children:this.props.message?Object(u.jsx)(B.l,{className:"text-danger"}):Object(u.jsx)("input",{type:"checkbox",name:i,id:i,value:t.issueId,onClick:function(s){return o.amendCheck(e,a,t,s)}})})}},{key:"amendCheck",value:function(e,t,a,s){var n=this;ik=[],s&&!0===s.target.checked?this.state.checkArray.push(a.issueId):this.state.checkArray.splice(this.state.checkArray.indexOf(a.issueId),1);var o=document.getElementById("amend");null!==o&&o.addEventListener("click",(function(e){return n.amendAction(n.state.checkArray)})),null!==(o=document.getElementById("delete"))&&o.addEventListener("click",(function(e){return n.delete(n.state.checkArray)}),!0)}},{key:"amendAction",value:function(e){e.length>1?this.openMpModal(e):this.openModal(e[0])}},{key:"delete",value:function(e){this.setState({actionTitle:"Delete",actionMessage:yh,alertShow:!0,issueIds:e,updateData:!1})}},{key:"confirmAction",value:function(e){var t=this,a=this.state.checkArray;this.setState({alertShow:!1,updateData:!1});var s=[],n=[],o={};a.length>1?(a.map((function(e){(n=Ry.filter((function(t){return t.issueId===e}))).length>0&&(o.productType=n[0].productType,o.issueId=n[0].issueId,o.transType=n[0].transType,s.push(o))})),w()({method:"POST",url:N.URL+ec,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data[1],updateData:!0})}))):((n=Ry.filter((function(e){return e.issueId===a[0]}))).length>0&&(o.productType=n[0].productType,o.issueId=n[0].issueId,o.transType=n[0].transType),w()({method:"POST",url:N.URL+zl,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data,updateData:!0})}))),this.setState({issueIds:[],updateData:!1})}},{key:"returnMethod",value:function(e,t){this.setState({checkArray:[],showMpModal:!1,showModal:!1,responseMessage:e,updateData:!0})}},{key:"openModal",value:function(e){var t;(t=Ry.filter((function(t){return t.issueId===e}))).length>0&&(Ay=t[0],this.setState({showModal:!0,responseMessage:"",updateData:!1}))}},{key:"openMpModal",value:function(e){var t=[];ik=[],e.map((function(e){(t=Ry.filter((function(t){return t.issueId===e}))).length>0&&("85"===(Ay=t[0]).transType?"I"===Ay.issueType&&(Ay.fromPage="INVSALE"):Ay.fromPage="AMEND",ik.push(Ay))})),Ay.fromDate=Vu(this.state.formDateValue),Ay.toDate=Vu(this.state.toDateValue),this.setState({showMpModal:!0,responseMessage:"",updateData:!1})}},{key:"setScreenData",value:function(e){Ry=e}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All",updateData:!1})}},{key:"render",value:function(){var e=this,t={};return t.linkShowTicket=this.linkShowTicket,t.linkShowTicker=this.linkShowTicker,t.imgComponent=this.imgComponent,t.checkBoxComponent=this.checkBoxComponent,Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Book",id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Gh},onchange:this.bookChange,selected:this.state.bookId,id:"bookId",stateMethod:this.getDefaultBookValues})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.fromDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.modalShowTicketData&&Object(u.jsx)(W.a,{md:3,children:Object(u.jsx)(yp,{close:function(){return e.hideModal()},prodType:Gh,reqParams:this.state.modalShowTicketData,apiCall:tl})}),Object(u.jsx)(W.a,{md:""!==this.state.modalShowTicketData?9:"auto",children:Object(u.jsx)(Yb,{cprops:"3"!==sessionStorage.getItem("membercatid")?Co:No,apiCall:ar,updateData:this.state.updateData,wsUrl:!0,reqParams:{bookId:this.state.bookId,prodType:Gh,fromDate:Vu(this.state.fromDateValue),toDate:Vu(this.state.toDateValue),loginId:sessionStorage.getItem("loginid"),socketSource:"TRADE"},edit:!1,calBack:this.setScreenData,mappings:Sy,customComponents:t,keyField:"issueId",screenName:"TRADE_BLOTTER",subTitle:" FRCD",flagPdf:!0})})]}),Object(u.jsx)(Wy,{show:this.state.showModal,onHide:function(){return e.hideModal()},prodType:Gh,modalData:Ay,returnMethod:this.returnMethod}),Object(u.jsx)(Qy,{show:this.state.showMpModal,onHide:function(){return e.hideModal()},prodType:Gh,selectedData:ik,cprops:Do,mappings:Ty,keyField:"issueId",title:"Trade Amend",returnMethod:this.returnMethod}),Object(u.jsx)(rp,{size:"lg",show:this.state.ShowTickerModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:Gh,modalDataRow:this.state.modalShowTickerData,message:this.props.message}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideModal()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})]})}}]),a}(o.a.Component),ck=[],rk=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openShowTicket=function(e,t){s.setState({modalShowTicketData:t,ShowTicketModal:!0,updateData:!1})},s.openShowTicker=function(e,t){s.setState({modalShowTickerData:t,ShowTickerModal:!0,updateData:!1})},s.hideModal=function(){s.setState({alertShow:!1,ShowTicketModal:!1,ShowTickerModal:!1,showModal:!1,showMpModal:!1,updateData:!0,modalShowTicketData:""})},s.bookChange=function(e){s.setState({bookId:e.target.value,updateData:!0})},s.state={cmodal:!0,showModal:!1,showMpModal:!1,bookId:"",fromDateValue:new Date,toDateValue:new Date,modalShowTicketData:"",ShowTicketModal:!1,modalShowTickerData:"",ShowTickerModal:!1,showError:!1,actionTitle:"",actionMessage:"",responseMessage:"",checkArray:[],updateData:!0},s.linkShowTicket=s.linkShowTicket.bind(Object(O.a)(s)),s.linkShowTicker=s.linkShowTicker.bind(Object(O.a)(s)),s.checkBoxComponent=s.checkBoxComponent.bind(Object(O.a)(s)),s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.amendAction=s.amendAction.bind(Object(O.a)(s)),s.getDefaultBookValues=s.getDefaultBookValues.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.returnMethod=s.returnMethod.bind(Object(O.a)(s)),s.delete=s.delete.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,responseMessage:"",updateData:!0})}},{key:"linkShowTicket",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:function(e){return o.openShowTicket(e,t)},children:Object(u.jsx)(B.C,{size:"14"})})}},{key:"linkShowTicker",value:function(e,t,a,s,n){var o=this;return this.setState({modalData:t,updateData:!1}),Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:function(e){return o.openShowTicker(e,t)},children:e})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Exprd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):void 0}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1})}},{key:"fromDateChange",value:function(e){this.setState({fromDateValue:e,updateData:!0})}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e,updateData:!0})}},{key:"checkBoxComponent",value:function(e,t,a,s,n){var o=this,i="issueId"+a;if("Acptd"===t.dispDescr)return Object(u.jsx)("div",{children:this.props.message?Object(u.jsx)(B.l,{className:"text-danger"}):Object(u.jsx)("input",{type:"checkbox",name:i,id:i,value:t.issueId,onClick:function(s){return o.amendCheck(e,a,t,s)}})})}},{key:"amendCheck",value:function(e,t,a,s){var n=this;ck=[],s&&!0===s.target.checked?this.state.checkArray.push(a.issueId):this.state.checkArray.splice(this.state.checkArray.indexOf(a.issueId),1);var o=document.getElementById("amend");null!==o&&o.addEventListener("click",(function(e){return n.amendAction(n.state.checkArray)})),null!==(o=document.getElementById("delete"))&&o.addEventListener("click",(function(e){return n.delete(n.state.checkArray)}),!0)}},{key:"amendAction",value:function(e){e.length>1?this.openMpModal(e):this.openModal(e[0])}},{key:"delete",value:function(e){this.setState({actionTitle:"Delete",actionMessage:yh,alertShow:!0,issueIds:e,updateData:!1})}},{key:"confirmAction",value:function(e){var t=this,a=this.state.checkArray;this.setState({alertShow:!1,updateData:!1});var s=[],n=[],o={};a.length>1?(a.map((function(e){(n=Fy.filter((function(t){return t.issueId===e}))).length>0&&(o.productType=n[0].productType,o.issueId=n[0].issueId,o.transType=n[0].transType,s.push(o))})),w()({method:"POST",url:N.URL+ec,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data[1],updateData:!0})}))):((n=Fy.filter((function(e){return e.issueId===a[0]}))).length>0&&(o.productType=n[0].productType,o.issueId=n[0].issueId,o.transType=n[0].transType),w()({method:"POST",url:N.URL+zl,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data,updateData:!0})}))),this.setState({issueIds:[],updateData:!1})}},{key:"returnMethod",value:function(e,t){this.setState({checkArray:[],showMpModal:!1,showModal:!1,responseMessage:e,updateData:!0})}},{key:"openModal",value:function(e){var t;(t=Fy.filter((function(t){return t.issueId===e}))).length>0&&(Ey=t[0],this.setState({showModal:!0,responseMessage:"",updateData:!1}))}},{key:"openMpModal",value:function(e){var t=[];ck=[],e.map((function(e){(t=Fy.filter((function(t){return t.issueId===e}))).length>0&&("85"===(Ey=t[0]).transType?"I"===Ey.issueType&&(Ey.fromPage="INVSALE"):Ey.fromPage="AMEND",ck.push(Ey))})),Ey.fromDate=Vu(this.state.formDateValue),Ey.toDate=Vu(this.state.toDateValue),this.setState({showMpModal:!0,responseMessage:"",updateData:!1})}},{key:"setScreenData",value:function(e){Fy=e}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All",updateData:!1})}},{key:"render",value:function(){var e=this,t={};return t.linkShowTicket=this.linkShowTicket,t.linkShowTicker=this.linkShowTicker,t.imgComponent=this.imgComponent,t.checkBoxComponent=this.checkBoxComponent,Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Book",id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Kh},onchange:this.bookChange,selected:this.state.bookId,id:"bookId",stateMethod:this.getDefaultBookValues})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.fromDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.modalShowTicketData&&Object(u.jsx)(W.a,{md:3,children:Object(u.jsx)(yp,{close:function(){return e.hideModal()},prodType:Kh,reqParams:this.state.modalShowTicketData,apiCall:tl})}),Object(u.jsx)(W.a,{md:""!==this.state.modalShowTicketData?9:"auto",children:Object(u.jsx)(Yb,{cprops:"3"!==sessionStorage.getItem("membercatid")?Co:No,apiCall:ar,updateData:this.state.updateData,wsUrl:!0,reqParams:{bookId:this.state.bookId,prodType:Kh,fromDate:Vu(this.state.fromDateValue),toDate:Vu(this.state.toDateValue),loginId:sessionStorage.getItem("loginid"),socketSource:"TRADE"},edit:!1,calBack:this.setScreenData,mappings:Sy,customComponents:t,keyField:"issueId",screenName:"TRADE_BLOTTER",subTitle:" FRCP",flagPdf:!0})})]}),Object(u.jsx)(Wy,{show:this.state.showModal,onHide:function(){return e.hideModal()},prodType:Kh,modalData:Ey,returnMethod:this.returnMethod}),Object(u.jsx)(Qy,{show:this.state.showMpModal,onHide:function(){return e.hideModal()},prodType:Kh,selectedData:ck,cprops:Do,mappings:Ty,keyField:"issueId",title:"Trade Amend",returnMethod:this.returnMethod}),Object(u.jsx)(rp,{size:"lg",show:this.state.ShowTickerModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:Kh,modalDataRow:this.state.modalShowTickerData,message:this.props.message}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideModal()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})]})}}]),a}(o.a.Component),dk=[],mk=!1,hk=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openShowTicket=function(e,t){s.setState({modalShowTicketData:t,ShowTicketModal:!0,updateData:!1})},s.openMpModal=function(e,t){var a=dk[t];a=e,s.setState({buyInData:a,showMpModal:!0,isMultiple:!0,updateData:!1})},s.state={cmodal:!0,showModal:!1,showAmendModal:!1,modalData:"",fromDateValue:new Date,toDateValue:new Date,modalDataRow:"",modalShowTicketData:"",ShowTicketModal:!1,buyInData:[],actionTitle:"",actionMessage:"",alertShow:!1,actionFlag:"",issueIds:[],isMultiple:!1,requestArray:[],bookId:"",showError:!1,updateData:!0,amendrequestArray:[]},s.linkShowTicket=s.linkShowTicket.bind(Object(O.a)(s)),s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkShowTicker=s.linkShowTicker.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.amendcheckBoxComponent=s.amendcheckBoxComponent.bind(Object(O.a)(s)),s.deletecheckBoxComponent=s.deletecheckBoxComponent.bind(Object(O.a)(s)),s.amendAction=s.amendAction.bind(Object(O.a)(s)),s.openSingleModal=s.openSingleModal.bind(Object(O.a)(s)),s.openMpModal=s.openMpModal.bind(Object(O.a)(s)),s.setScreenData=s.setScreenData.bind(Object(O.a)(s)),s.delete=s.delete.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s.returnMethod=s.returnMethod.bind(Object(O.a)(s)),s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.getDefaultBookValues=s.getDefaultBookValues.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,updateData:!1})}},{key:"linkShowTicket",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:function(e){return o.openShowTicket(e,t)},children:Object(u.jsx)(B.C,{size:"14"})})}},{key:"openModal",value:function(e,t){var a;Object.keys(e).map((function(s){e[s]===t&&(s!==rn&&s!==ln||(a=s))})),this.setState({modalData:a,modalDataRow:e,showModal:!0,updateData:!1})}},{key:"hideModal",value:function(){this.setState({showModal:!1,ShowTicketModal:!1,showAmendModal:!1,showMpModal:!1,alertShow:!1,updateData:!0,modalShowTicketData:""})}},{key:"linkShowTicker",value:function(e,t,a,s,n){if("0"!==e)return Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:this.openModal.bind(this,t,e),children:e})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Exprd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):void 0}},{key:"amendcheckBoxComponent",value:function(e,t,a,s,n){var o=this,i=n+a;if("Acptd"===t.dispDescr)return Object(u.jsx)("div",{children:this.props.message?Object(u.jsx)(B.l,{className:"text-danger"}):Object(u.jsx)("input",{type:"checkbox",name:i,id:i,value:t.issueId,onClick:function(s){return o.amendCheck(e,a,t,s)}})})}},{key:"deletecheckBoxComponent",value:function(e,t,a,s,n){var o=this,i=n+a;if("Acptd"===t.dispDescr)return Object(u.jsx)("div",{children:this.props.message?Object(u.jsx)(B.l,{className:"text-danger"}):Object(u.jsx)("input",{type:"checkbox",name:i,id:i,value:t.issueId,onClick:function(s){return o.deleteAmendCheck(e,a,t,s)}})})}},{key:"amendCheck",value:function(e,t,a,s){var n=this;mk=!1;var o=this.state.amendrequestArray,i=this.state.issueIds,l=[];if(s.target.checked){l.push(t);var c={};(c=dk.filter((function(e){return e.issueId===s.target.value}))[0]).amount=c.amount+"",c.net=c.net?c.net:"0.00",c.interest=c.interest?c.interest:"0.00",c.availableCredit=c.availableCredit?c.availableCredit:"0.00",o.push(c),this.setState({issueIds:i,amendrequestArray:o,updateData:!1})}else{l.splice(l.indexOf(t),1);var r=o;r=r.filter((function(e){return e.issueId!==s.target.value})),this.setState({issueIds:i,amendrequestArray:r,updateData:!1})}var d=document.getElementById("amend");null!==d&&d.addEventListener("click",(function(e){return n.amendAction(s,t,l)}),!0)}},{key:"deleteAmendCheck",value:function(e,t,a,s){var n=this;mk=!1;var o=this.state.requestArray,i=this.state.issueIds,l=[];if(s.target.checked){l.push(t);var c={};(c=dk.filter((function(e){return e.issueId===s.target.value}))[0]).amount=c.amount+"",c.net=c.net?c.net:"0.00",c.interest=c.interest?c.interest:"0.00",c.availableCredit=c.availableCredit?c.availableCredit:"0.00",o.push(c),this.setState({issueIds:i,requestArray:o,updateData:!1}),mk=!0}else{l.splice(l.indexOf(t),1);var r=o;r=r.filter((function(e){return e.issueId!==s.target.value})),this.setState({issueIds:i,requestArray:r,updateData:!1}),mk=!0}var d=document.getElementById("delete");null!==d&&d.addEventListener("click",(function(e){return n.delete(o,s,t,l)}),!0)}},{key:"delete",value:function(e,t,a,s){!0===mk&&this.setState({actionTitle:"Delete",actionMessage:"Do you want to cancel selected trades ?",alertShow:!0,issueIds:e,updateData:!1})}},{key:"confirmAction",value:function(e){var t=this,a=this.state.requestArray;this.setState({alertShow:!1,updateData:!1}),a.length>1?w()({method:"POST",url:N.URL+ec,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data[1],updateData:!0})})):w()({method:"POST",url:N.URL+zl,timeout:N.apiTimeOut,data:a[0],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data,updateData:!0})})),this.setState({issueIds:[],updateData:!1})}},{key:"amendAction",value:function(e,t,a){var s=this.state.amendrequestArray;s.length>1?this.openMpModal(s,a):this.openSingleModal(s,a)}},{key:"openSingleModal",value:function(e,t){var a=e;this.setState({buyInData:a,showAmendModal:!0,isMultiple:!1,updateData:!1})}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1})}},{key:"fromDateChange",value:function(e){this.setState({responseMessage:"",fromDateValue:e,updateData:!0})}},{key:"toDateChange",value:function(e){this.setState({responseMessage:"",toDateValue:e,updateData:!0})}},{key:"setScreenData",value:function(e){dk=e}},{key:"returnMethod",value:function(e,t){this.setState({responseMessage:e,amendrequestArray:t,updateData:!0})}},{key:"tickerChange",value:function(e){this.setState({responseMessage:"",bookId:e.target.value,updateData:!0})}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All",updateData:!1})}},{key:"render",value:function(){var e=this,t={};t.linkShowTicket=this.linkShowTicket,t.linkShowTicker=this.linkShowTicker,t.imgComponent=this.imgComponent,t.amendcheckBoxComponent=this.amendcheckBoxComponent,t.deletecheckBoxComponent=this.deletecheckBoxComponent;var a=this.state,s=a.isMultiple,n=a.amendrequestArray;return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Book",id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Wh},onchange:this.tickerChange,selected:this.state.bookId,id:"bookId",stateMethod:this.getDefaultBookValues})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.fromDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.modalShowTicketData&&Object(u.jsx)(W.a,{md:3,children:Object(u.jsx)(yp,{close:function(){return e.hideModal()},prodType:Wh,reqParams:this.state.modalShowTicketData,apiCall:tl})}),Object(u.jsx)(W.a,{md:""!==this.state.modalShowTicketData?9:"auto",children:Object(u.jsx)(Yb,{cprops:"3"!==sessionStorage.getItem("membercatid")?Co:No,apiCall:ar,updateData:this.state.updateData,wsUrl:!0,reqParams:{prodType:Wh,fromDate:Vu(this.state.fromDateValue),toDate:Vu(this.state.toDateValue),loginId:sessionStorage.getItem("loginid"),bookId:this.state.bookId,socketSource:"TRADE"},edit:!1,mappings:Sy,customComponents:t,calBack:this.setScreenData,keyField:"issueId",screenName:"TRADE_BLOTTER",subTitle:" MCP",flagPdf:!0})})]}),this.state.modalData===ln&&Object(u.jsx)(rp,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:Wh,modalData:this.state.modalData,modalDataRow:this.state.modalDataRow,message:this.props.message}),!1===s?Object(u.jsx)(Wy,{show:this.state.showAmendModal,onHide:function(){return e.hideModal()},prodType:Wh,modalData:n[0],returnMethod:this.returnMethod}):Object(u.jsx)(qy,{show:this.state.showMpModal,onHide:function(){return e.hideModal()},prodType:Wh,data:n,cprops:Io,mappings:wy,keyField:"issueId",title:"Trade Amend",returnMethod:this.returnMethod}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideModal()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})})}}]),a}(o.a.Component),uk=hk,bk=[],pk=[],jk=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openShowTicket=function(e,t){s.setState({modalShowTicketData:t,ShowTicketModal:!0,updateData:!1})},s.openShowTicker=function(e,t){s.setState({modalShowTickerData:t,ShowTickerModal:!0,updateData:!1})},s.hideModal=function(){s.setState({alertShow:!1,ShowTicketModal:!1,ShowTickerModal:!1,showModal:!1,showMpModal:!1,updateData:!0,modalShowTicketData:""})},s.bookChange=function(e){s.setState({bookId:e.target.value,updateData:!0})},s.state={cmodal:!0,showModal:!1,showMpModal:!1,bookId:"",fromDateValue:new Date,toDateValue:new Date,modalShowTicketData:"",ShowTicketModal:!1,modalShowTickerData:"",ShowTickerModal:!1,showError:!1,actionTitle:"",actionMessage:"",responseMessage:"",checkArray:[],updateData:!0},s.linkShowTicket=s.linkShowTicket.bind(Object(O.a)(s)),s.linkShowTicker=s.linkShowTicker.bind(Object(O.a)(s)),s.amendcheckBoxComponent=s.amendcheckBoxComponent.bind(Object(O.a)(s)),s.deletecheckBoxComponent=s.deletecheckBoxComponent.bind(Object(O.a)(s)),s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.amendAction=s.amendAction.bind(Object(O.a)(s)),s.getDefaultBookValues=s.getDefaultBookValues.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.returnMethod=s.returnMethod.bind(Object(O.a)(s)),s.delete=s.delete.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,responseMessage:"",updateData:!1})}},{key:"linkShowTicket",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:function(e){return o.openShowTicket(e,t)},children:Object(u.jsx)(B.C,{size:"14"})})}},{key:"linkShowTicker",value:function(e,t,a,s,n){var o=this;return this.setState({modalData:t,updateData:!1}),Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:function(e){return o.openShowTicker(e,t)},children:e})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{fill:"#ffc107",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-warning",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{fill:"#dc3545",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-danger",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{fill:"#ffc107",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-warning",children:e})]}):"Exprd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):void 0}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1})}},{key:"fromDateChange",value:function(e){this.setState({fromDateValue:e,updateData:!0})}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e,updateData:!0})}},{key:"amendcheckBoxComponent",value:function(e,t,a,s,n){var o=this,i=n+a;if("Acptd"===t.dispDescr)return Object(u.jsx)("div",{children:this.props.message?Object(u.jsx)(B.l,{className:"text-danger"}):Object(u.jsx)("input",{type:"checkbox",name:i,id:i,value:t.issueId,onClick:function(s){return o.amendCheck(e,a,t,s)}})})}},{key:"deletecheckBoxComponent",value:function(e,t,a,s,n){var o=this,i=n+a;if("Acptd"===t.dispDescr)return Object(u.jsx)("div",{children:this.props.message?Object(u.jsx)(B.l,{className:"text-danger"}):Object(u.jsx)("input",{type:"checkbox",name:i,id:i,value:t.issueId,onClick:function(s){return o.deleteAmendCheck(e,a,t,s)}})})}},{key:"amendCheck",value:function(e,t,a,s){var n=this;bk=[],pk="",s&&!0===s.target.checked?this.state.checkArray.push(a.issueId):this.state.checkArray&&this.state.checkArray.splice(this.state.checkArray.indexOf(a.issueId),1);var o=document.getElementById("amend");null!==o&&o.addEventListener("click",(function(e){return n.amendAction(n.state.checkArray)}))}},{key:"deleteAmendCheck",value:function(e,t,a,s){var n=this;bk=[],pk=[],s&&!0===s.target.checked?pk.push(a.issueId):pk.splice(pk.indexOf(a.issueId),1);var o=document.getElementById("delete");null!==o&&o.addEventListener("click",(function(e){return n.delete(pk)}),!0)}},{key:"amendAction",value:function(e){e.length>1?this.openMpModal(e):this.openModal(e[0])}},{key:"delete",value:function(e){this.setState({checkArray:e}),e.length>0&&this.setState({actionTitle:"Delete",actionMessage:yh,alertShow:!0,issueIds:e,updateData:!1})}},{key:"confirmAction",value:function(e){var t=this,a=this.state.checkArray;this.setState({alertShow:!1,updateData:!1});var s=[],n=[],o={};a.length>1?(a.map((function(e){(n=By.filter((function(t){return t.issueId===e}))).length>0&&(o.productType=n[0].productType,o.issueId=n[0].issueId,o.transType=n[0].transType,s.push(o))})),w()({method:"POST",url:N.URL+ec,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data[1],updateData:!0,checkArray:[],selectedData:[]})}))):((n=By.filter((function(e){return e.issueId===a[0]}))).length>0&&(o.productType=n[0].productType,o.issueId=n[0].issueId,o.transType=n[0].transType),w()({method:"POST",url:N.URL+zl,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data,updateData:!0,checkArray:[],selectedData:[]})}))),this.setState({issueIds:[],updateData:!1})}},{key:"returnMethod",value:function(e,t){this.setState({checkArray:[],showMpModal:!1,showModal:!1,responseMessage:e,updateData:!0})}},{key:"openModal",value:function(e){var t;(t=By.filter((function(t){return t.issueId===e}))).length>0&&(Py=t[0],this.setState({showModal:!0,responseMessage:"",updateData:!1}))}},{key:"openMpModal",value:function(e){var t=[];bk=[],e.map((function(e){(t=By.filter((function(t){return t.issueId===e}))).length>0&&("85"===(Py=t[0]).transType?"I"===Py.issueType&&(Py.fromPage="INVSALE"):Py.fromPage="AMEND",bk.push(Py))})),Py.fromDate=Vu(this.state.formDateValue),Py.toDate=Vu(this.state.toDateValue),this.setState({showMpModal:!0,responseMessage:"",updateData:!1})}},{key:"setScreenData",value:function(e){By=e}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All",updateData:!1})}},{key:"render",value:function(){var e=this,t={};return t.linkShowTicket=this.linkShowTicket,t.linkShowTicker=this.linkShowTicker,t.imgComponent=this.imgComponent,t.checkBoxComponent=this.checkBoxComponent,t.amendcheckBoxComponent=this.amendcheckBoxComponent,t.deletecheckBoxComponent=this.deletecheckBoxComponent,Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Book",id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:zh},onchange:this.bookChange,selected:this.state.bookId,id:"bookId",stateMethod:this.getDefaultBookValues})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.fromDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.modalShowTicketData&&Object(u.jsx)(W.a,{md:3,children:Object(u.jsx)(yp,{close:function(){return e.hideModal()},prodType:zh,reqParams:this.state.modalShowTicketData,apiCall:tl})}),Object(u.jsx)(W.a,{md:""!==this.state.modalShowTicketData?9:"auto",children:Object(u.jsx)(Yb,{cprops:"3"!==sessionStorage.getItem("membercatid")?Co:No,apiCall:ar,updateData:this.state.updateData,wsUrl:!0,reqParams:{bookId:this.state.bookId,prodType:zh,fromDate:Vu(this.state.fromDateValue),toDate:Vu(this.state.toDateValue),loginId:sessionStorage.getItem("loginid"),socketSource:"TRADE"},edit:!1,calBack:this.setScreenData,mappings:Sy,customComponents:t,keyField:"issueId",screenName:"TRADE_BLOTTER",subTitle:" YCD",flagPdf:!0})})]}),Object(u.jsx)(Wy,{show:this.state.showModal,onHide:function(){return e.hideModal()},prodType:zh,modalData:Py,returnMethod:this.returnMethod}),Object(u.jsx)(Qy,{show:this.state.showMpModal,onHide:function(){return e.hideModal()},prodType:zh,selectedData:bk,cprops:Do,mappings:Ty,keyField:"issueId",title:"Trade Amend",returnMethod:this.returnMethod}),Object(u.jsx)(rp,{size:"lg",show:this.state.ShowTickerModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:zh,modalDataRow:this.state.modalShowTickerData,message:this.props.message}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideModal()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})]})}}]),a}(o.a.Component),xk=[],fk=!1,gk=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openShowTicket=function(e,t){s.setState({modalShowTicketData:t,ShowTicketModal:!0,updateData:!1})},s.openMpModal=function(e,t){var a=xk[t];a=e,s.setState({buyInData:a,showMpModal:!0,isMultiple:!0,updateData:!1})},s.state={cmodal:!0,showModal:!1,showAmendModal:!1,modalData:"",fromDateValue:new Date,toDateValue:new Date,modalDataRow:"",modalShowTicketData:"",ShowTicketModal:!1,buyInData:[],actionTitle:"",actionMessage:"",alertShow:!1,actionFlag:"",issueIds:[],isMultiple:!1,requestArray:[],bookId:"",showError:!1,updateData:!0,amendrequestArray:[]},s.linkShowTicket=s.linkShowTicket.bind(Object(O.a)(s)),s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkShowTicker=s.linkShowTicker.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.amendcheckBoxComponent=s.amendcheckBoxComponent.bind(Object(O.a)(s)),s.deletecheckBoxComponent=s.deletecheckBoxComponent.bind(Object(O.a)(s)),s.amendAction=s.amendAction.bind(Object(O.a)(s)),s.openSingleModal=s.openSingleModal.bind(Object(O.a)(s)),s.openMpModal=s.openMpModal.bind(Object(O.a)(s)),s.setScreenData=s.setScreenData.bind(Object(O.a)(s)),s.delete=s.delete.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s.returnMethod=s.returnMethod.bind(Object(O.a)(s)),s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.getDefaultBookValues=s.getDefaultBookValues.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,updateData:!1})}},{key:"linkShowTicket",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:function(e){return o.openShowTicket(e,t)},children:Object(u.jsx)(B.C,{size:"14"})})}},{key:"openModal",value:function(e,t){var a;Object.keys(e).map((function(s){e[s]===t&&(s!==rn&&s!==ln||(a=s))})),this.setState({modalData:a,modalDataRow:e,showModal:!0,updateData:!1})}},{key:"hideModal",value:function(){this.setState({showModal:!1,ShowTicketModal:!1,showAmendModal:!1,showMpModal:!1,alertShow:!1,updateData:!0,modalShowTicketData:""})}},{key:"linkShowTicker",value:function(e,t,a,s,n){if("0"!==e)return Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:this.openModal.bind(this,t,e),children:e})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Exprd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):void 0}},{key:"amendcheckBoxComponent",value:function(e,t,a,s,n){var o=this,i=n+a;if("Acptd"===t.dispDescr)return Object(u.jsx)("div",{children:this.props.message?Object(u.jsx)(B.l,{className:"text-danger"}):Object(u.jsx)("input",{type:"checkbox",name:i,id:i,value:t.issueId,onClick:function(s){return o.amendCheck(e,a,t,s)}})})}},{key:"deletecheckBoxComponent",value:function(e,t,a,s,n){var o=this,i=n+a;if("Acptd"===t.dispDescr)return Object(u.jsx)("div",{children:this.props.message?Object(u.jsx)(B.l,{className:"text-danger"}):Object(u.jsx)("input",{type:"checkbox",name:i,id:i,value:t.issueId,onClick:function(s){return o.deleteAmendCheck(e,a,t,s)}})})}},{key:"amendCheck",value:function(e,t,a,s){var n=this;fk=!1;var o=this.state.amendrequestArray,i=this.state.issueIds,l=[];if(s.target.checked){l.push(t);var c={};(c=xk.filter((function(e){return e.issueId===s.target.value}))[0]).amount=c.amount+"",c.net=c.net?c.net:"0.00",c.interest=c.interest?c.interest:"0.00",o.push(c),this.setState({issueIds:i,amendrequestArray:o,updateData:!1})}else{l.splice(l.indexOf(t),1);var r=o;r=r.filter((function(e){return e.issueId!==s.target.value})),this.setState({issueIds:i,amendrequestArray:r,updateData:!1})}var d=document.getElementById("amend");null!==d&&d.addEventListener("click",(function(e){return n.amendAction(s,t,l)}),!0)}},{key:"deleteAmendCheck",value:function(e,t,a,s){var n=this;fk=!1;var o=this.state.requestArray,i=this.state.issueIds,l=[];if(s.target.checked){l.push(t);var c={};(c=xk.filter((function(e){return e.issueId===s.target.value}))[0]).amount=c.amount+"",c.net=c.net?c.net:"0.00",c.interest=c.interest?c.interest:"0.00",o.push(c),this.setState({issueIds:i,requestArray:o,updateData:!1}),fk=!0}else{l.splice(l.indexOf(t),1);var r=o;r=r.filter((function(e){return e.issueId!==s.target.value})),this.setState({issueIds:i,requestArray:r,updateData:!1}),fk=!0}var d=document.getElementById("delete");null!==d&&d.addEventListener("click",(function(e){return n.delete(o,s,t,l)}),!0)}},{key:"delete",value:function(e,t,a,s){!0===fk&&this.setState({actionTitle:"Delete",actionMessage:yh,alertShow:!0,issueIds:e,updateData:!1})}},{key:"confirmAction",value:function(e){var t=this,a=this.state.requestArray;this.setState({alertShow:!1,updateData:!1}),a.length>1?w()({method:"POST",url:N.URL+ec,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data[1],updateData:!0})})):w()({method:"POST",url:N.URL+zl,timeout:N.apiTimeOut,data:a[0],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data,updateData:!0})})),this.setState({issueIds:[],updateData:!1})}},{key:"amendAction",value:function(e,t,a){var s=this.state.amendrequestArray;s.length>1?this.openMpModal(s,a):this.openSingleModal(s,a)}},{key:"openSingleModal",value:function(e,t){var a=e;this.setState({buyInData:a,showAmendModal:!0,isMultiple:!1,updateData:!1})}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!0})}},{key:"fromDateChange",value:function(e){this.setState({fromDateValue:e,updateData:!0})}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e,updateData:!0})}},{key:"setScreenData",value:function(e){xk=e}},{key:"returnMethod",value:function(e,t){this.setState({responseMessage:e,amendrequestArray:t,updateData:!0})}},{key:"tickerChange",value:function(e){this.setState({bookId:e.target.value,updateData:!0})}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All",updateData:!1})}},{key:"render",value:function(){var e=this,t={};t.linkShowTicket=this.linkShowTicket,t.linkShowTicker=this.linkShowTicker,t.imgComponent=this.imgComponent,t.amendcheckBoxComponent=this.amendcheckBoxComponent,t.deletecheckBoxComponent=this.deletecheckBoxComponent;var a=this.state,s=a.isMultiple,n=a.amendrequestArray;return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Book",id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Jh},onchange:this.tickerChange,selected:this.state.bookId,id:"bookId",stateMethod:this.getDefaultBookValues})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.fromDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsxs)(H.a,{className:"d-flex",children:[""!==this.state.modalShowTicketData&&Object(u.jsx)(W.a,{md:3,children:Object(u.jsx)(yp,{close:function(){return e.hideModal()},prodType:Jh,reqParams:this.state.modalShowTicketData,apiCall:tl})}),Object(u.jsx)(W.a,{md:""!==this.state.modalShowTicketData?9:"auto",children:Object(u.jsx)(Yb,{cprops:"3"!==sessionStorage.getItem("membercatid")?Co:No,apiCall:ar,updateData:this.state.updateData,wsUrl:!0,reqParams:{prodType:Jh,fromDate:Vu(this.state.fromDateValue),toDate:Vu(this.state.toDateValue),loginId:sessionStorage.getItem("loginid"),bookId:this.state.bookId,socketSource:"TRADE"},edit:!1,mappings:Sy,customComponents:t,calBack:this.setScreenData,keyField:"issueId",screenName:"TRADE_BLOTTER",subTitle:" ADN",flagPdf:!0})})]}),this.state.modalData===ln&&Object(u.jsx)(rp,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:Jh,modalData:this.state.modalData,modalDataRow:this.state.modalDataRow,message:this.props.message}),!1===s?Object(u.jsx)(Wy,{show:this.state.showAmendModal,onHide:function(){return e.hideModal()},prodType:Jh,modalData:n[0],returnMethod:this.returnMethod}):Object(u.jsx)(qy,{show:this.state.showMpModal,onHide:function(){return e.hideModal()},prodType:Jh,data:n,cprops:Io,mappings:wy,keyField:"issueId",title:"Trade Amend",returnMethod:this.returnMethod}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideModal()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})})}}]),a}(o.a.Component),Ok=gk,vk=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,heading:"cp"},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.handleSelect=s.handleSelect.bind(Object(O.a)(s)),s.discountCalculator=s.discountCalculator.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===ur&&this.setState({cmodal:!0})}},{key:"handleSelect",value:function(e){var t=this,a="";"cp"===e&&(a=Hh),"ecp"===e&&(a=Zh),"mcp"===e&&(a=Wh),"ycd"===e&&(a=zh),"ecd"===e&&(a=qh),"frcp"===e&&(a=Kh),"frcd"===e&&(a=Gh),w()({method:"POST",url:N.URL+ac,timeout:N.apiTimeOut,data:{productType:a},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({message:e.data})})),this.setState({heading:e})}},{key:"discountCalculator",value:function(){}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"componentDidMount",value:function(){var e=this;w()({method:"POST",url:N.URL+ac,timeout:N.apiTimeOut,data:{productType:Hh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({message:t.data})}))}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsxs)("span",{className:"float-right d-flex",children:[Object(u.jsxs)("span",{className:"d-flex pr-2",children:[Object(u.jsx)(B.o,{id:"amendHeader",className:"mr-1"})," Amend"]}),Object(u.jsxs)("span",{className:"d-flex  pr-2",children:[Object(u.jsx)(B.y,{id:"cancelHeader",className:"mr-1 mt2"}),"Cancel"]}),Object(u.jsxs)("span",{className:" d-flex  pr-5",children:[Object(u.jsx)(B.C,{size:"14",className:"mr-1 mt2"})," Ticket"]}),Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})]})})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{className:"d-inline-block",children:Object(u.jsxs)(hb.a,{defaultActiveKey:"cp",onSelect:this.handleSelect,transition:!1,id:"noanim-tab-example",children:[Object(u.jsx)(ei.a,{eventKey:"cp",title:"CP",children:"cp"===this.state.heading&&Object(u.jsx)(Zy,{message:this.state.message})}),Object(u.jsx)(ei.a,{eventKey:"ecd",title:"ECD",children:"ecd"===this.state.heading&&Object(u.jsx)(ek,{message:this.state.message})}),Object(u.jsx)(ei.a,{eventKey:"ecp",title:"ECP",children:"ecp"===this.state.heading&&Object(u.jsx)(ok,{message:this.state.message})}),Object(u.jsx)(ei.a,{eventKey:"frcd",title:"FRCD",children:"frcd"===this.state.heading&&Object(u.jsx)(lk,{message:this.state.message})}),Object(u.jsx)(ei.a,{eventKey:"frcp",title:"FRCP",children:"frcp"===this.state.heading&&Object(u.jsx)(rk,{message:this.state.message})}),Object(u.jsx)(ei.a,{eventKey:"mcp",title:"MCP",children:"mcp"===this.state.heading&&Object(u.jsx)(uk,{message:this.state.message})}),Object(u.jsx)(ei.a,{eventKey:"ycd",title:"YCD",children:"ycd"===this.state.heading&&Object(u.jsx)(jk,{message:this.state.message})}),Object(u.jsx)(ei.a,{eventKey:"adn",title:"ADN",children:"adn"===this.state.heading&&Object(u.jsx)(Ok,{message:this.state.message})})]})})})})})]})})}}]),a}(o.a.Component),yk=[];yk.issuerPositionLimit="Issuer Position Limit",yk.issuerName=Kt,yk.issuerAmount=Cn,yk.amount=ds,yk.grandTotal="Thresold ($m)";var kk=[];kk.prodName=is,kk.issuerAmount=Cn;var Dk=[];Dk.tickerCode=hs,Dk.issuerAmount=Cn;var Ck,Nk=[];Nk.tradeDate=bn,Nk.settleDate=Ts,Nk.maturityDate=la,Nk.amount=Ka,Nk.price=es,Nk.cusip=Ze;var Sk,wk,Tk,Ik,Mk={showExpandColumn:!0,expandByColumnOnly:!0,onlyOneExpanding:!0,renderer:function(e,t){return Object(u.jsx)("div",{children:Object(u.jsx)(lp,{cprops:Nk,apiCall:yi,reqParams:{issuerId:Ck,productType:"1200"},keyField:"1",excelFlag:"true"})})}},Ak=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={columns:[],data:[],isLoading:!1},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({data:t.data.programProductData}),t.data.programProductData.length>0&&e.setState({columns:Qo(t.data.programProductData,kk),isLoading:!0})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;e!==this.props&&this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({data:e.data.programProductData}),e.data.programProductData.length>0&&a.setState({columns:Qo(e.data.programProductData,kk),isLoading:!0})}))}},{key:"render",value:function(){return Ck=this.props.issuerId,this.state.data,Object(u.jsx)(u.Fragment,{children:!0===this.state.isLoading?this.state.columns&&this.state.columns.length>0?Object(u.jsx)(Z.a,{data:this.state.data,expandRow:Mk,keyField:this.props.keyField,columns:this.state.columns,filter:Ro()(),striped:!0,hover:!0,wrapperClasses:"fo2table table-responsive"}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."}):Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})})})}}]),a}(o.a.Component),Rk={showExpandColumn:!0,expandByColumnOnly:!0,onlyOneExpanding:!0,renderer:function(e,t){return Object(u.jsx)("div",{children:Object(u.jsx)(Ak,{apiCall:yi,reqParams:{productType:wk,issuerId:Sk[t].issuerId},keyField:"issuerId",issuerId:Sk[t].issuerId})})}},Ek=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={columns:[],data:[],isLoading:!1},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({data:t.data.issuerProgramData}),t.data.issuerProgramData.length>0&&e.setState({columns:Qo(t.data.issuerProgramData,Dk),isLoading:!0})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;e!==this.props&&this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({data:e.data.issuerProgramData}),e.data.issuerProgramData.length>0&&a.setState({columns:Qo(e.data.issuerProgramData,Dk),isLoading:!0})}))}},{key:"render",value:function(){return Sk=this.state.data,wk=this.props.reqParams.productType,Object(u.jsx)(u.Fragment,{children:!0===this.state.isLoading?this.state.columns&&this.state.columns.length>0?Object(u.jsx)("div",{style:{width:"100%"},children:Object(u.jsx)(Z.a,{data:this.state.data,expandRow:Rk,keyField:this.props.keyField,columns:this.state.columns,filter:Ro()(),striped:!0,hover:!0,wrapperClasses:"fo2table table-responsive"})}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."}):Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})})})}}]),a}(o.a.Component),Fk={showExpandColumn:!0,expandByColumnOnly:!0,onlyOneExpanding:!0,renderer:function(e,t){return Object(u.jsx)("div",{children:Object(u.jsx)(Ek,{apiCall:yi,reqParams:{productType:Ik,issuerId:Tk[t].issuerId},keyField:"issuerId",issuerId:Tk[t].issuerId})})}},Pk=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={columns:[],data:[],isLoading:!1},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({data:t.data.productIssuerData}),t.data.productIssuerData.length>0&&e.setState({columns:Qo(t.data.productIssuerData,yk),isLoading:!0})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;e!==this.props&&this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({data:e.data.productIssuerData}),e.data.productIssuerData.length>0&&a.setState({columns:Qo(e.data.productIssuerData,yk),isLoading:!0})}))}},{key:"render",value:function(){return Tk=this.state.data,Ik=this.props.reqParams.productType,Object(u.jsx)(u.Fragment,{children:!0===this.state.isLoading?this.state.data&&this.state.data.length>0&&this.state.columns&&this.state.columns.length>0?Object(u.jsxs)("div",{style:{width:"100%"},children:[this.state.data.length>0&&Object(u.jsx)("div",{className:"text-right pdAd",children:Object(u.jsx)(Vb,{tableColumns:this.state.columns,tableData:this.state.data,screenTitle:"ISSUER_POSITION_LIMIT",subTitle:""})}),Object(u.jsx)(Z.a,{data:this.state.data,expandRow:Fk,keyField:this.props.keyField,columns:this.state.columns,filter:Ro()(),striped:!0,hover:!0,wrapperClasses:"fo2table table-responsive"})]}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."}):Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})})})}}]),a}(o.a.Component),Bk=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getDefaultPrdValues=function(){s.setState({productValue:"1200"})},s.state={cmodal:!0,productValue:"All"},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.productChange=s.productChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.linkname!==e.linkname&&this.props.linkname===Mr&&this.setState({cmodal:!0})}},{key:"productChange",value:function(e){this.setState({productValue:e.target.value})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsx)(H.a,{md:4,children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Product",id:"lbl_product"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:vi,reqParams:{},onchange:this.productChange,stateMethod:this.getDefaultPrdValues,selected:this.state.productValue})})]})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(Pk,{apiCall:yi,reqParams:{productType:this.state.productValue},keyField:"issuerId"})})]})]})})}}]),a}(o.a.Component),Lk=[];Lk.rollTypeDesc=ys,Lk.rollDateDesc=ks,Lk.floatIndex=At,Lk.settlementDate=Ts,Lk.maturityDate=la,Lk.amount=ga,Lk.firstCoupon=It,Lk.cusip=Ze,Lk.actionId=ie;var _k=[];function Uk(e,t,a){var s=[];return Object.values(t).map((function(e){})),Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&(o="actionId"===e?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.buttonComponent(t,s,n,o,e)}}:"amount"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),align:"right",formatter:function(e,t,a,s){return Lo(e)}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1},s.push(o)));return""})),""})),s}function Vk(e,t,a){var s=[];return Object.values(t).map((function(e){})),Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&(o="actionId"===e?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.actionComponent(t,s,n,o,e)}}:"amount"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),align:"right",formatter:function(e,t,a,s){return Lo(e)}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1},s.push(o)));return""})),""})),s}_k.actionId=ie,_k.rollTypeDesc=ys,_k.rollDateDesc=ks,_k.libortype=At,_k.settlementDate=Ts,_k.maturityDate=la,_k.amount=ga,_k.firstCoupon=It,_k.cusip=Ze;var Yk=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={data:"",isLoading:!0},s.buttonComponent=s.buttonComponent.bind(Object(O.a)(s)),s.buyAction=s.buyAction.bind(Object(O.a)(s)),s.postData=s.postData.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.modelReqData;this.postData(e,"/getCompletedSheets")}},{key:"postData",value:function(e,t){var a=this;w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:{productType:e.productType,programId:e.programId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&a.setState({data:e.data,isLoading:!0})}))}},{key:"buttonComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(D.a,{size:"sm",onClick:function(s){o.buyAction(e,t,a,s)},children:"Enter Buy Ticket"})}},{key:"buyAction",value:function(e,t,a,s){var n=this.props.openMethod;t.coupon=t.firstCoupon,t.availableToday=t.amount,t.refIssueId=t.issueId,t.action="INIT",n(t)}},{key:"render",value:function(){var e={};return e.buttonComponent=this.buttonComponent,Object(u.jsx)("div",{className:"modal-content modal-lyr-cnt",children:!0===this.state.isLoading?Object(u.jsx)("div",{className:"modal-body1 text-center",children:Object(u.jsx)("div",{className:"col-md-12 col-sm-12",children:Object(u.jsx)("div",{className:"react-bootstrap-table fo2table table-responsive",children:this.state.data&&this.state.data.length>0?Object(u.jsx)(Yb,{cprops:Lk,mappings:Uk,mapdata:this.state.data,customComponents:e,excelFlag:"true",keyField:"1"}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."})})})}):""})}}]),a}(o.a.Component),Hk=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).actionComponent=function(e,t,a,n,o){var i="actionId";return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"radio",name:i,id:i+a,onClick:function(n){s.onRadioClick(e,t,a,n)}})})},s.hideError=function(){s.setState({showError:!1})},s.state={data:"",buyData:{},isLoading:!0},s.actionComponent=s.actionComponent.bind(Object(O.a)(s)),s.onRadioClick=s.onRadioClick.bind(Object(O.a)(s)),s.postData=s.postData.bind(Object(O.a)(s)),s.submitData=s.submitData.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.modelReqData;this.postData(e,"/getPendingSheets")}},{key:"postData",value:function(e,t){var a=this;w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:{productType:e.productType,programId:e.programId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&a.setState({data:e.data})})),this.setState({isLoading:!0})}},{key:"onRadioClick",value:function(e,t,a,s){this.setState({buyData:t})}},{key:"submitData",value:function(){var e=this.props.openMethod;Object.keys(this.state.buyData).length>0?e(this.state.buyData):this.setState({actionTitle:"Alert",actionMessage:"Please check Radio button",showError:!0})}},{key:"render",value:function(){var e=this,t={};return t.actionComponent=this.actionComponent,Object(u.jsxs)("div",{className:"modal-content modal-lyr-cnt",children:[!0===this.state.isLoading?Object(u.jsxs)("div",{className:"modal-body1 text-center",children:[Object(u.jsx)("div",{className:"col-md-12 col-sm-12",children:Object(u.jsx)("div",{className:"react-bootstrap-table fo2table table-responsive",children:this.state.data&&this.state.data.length>0?Object(u.jsx)(Yb,{cprops:_k,mappings:Vk,customComponents:t,mapdata:this.state.data,excelFlag:"true",keyField:"1"}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."})})}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:this.state.data.length>0&&Object(u.jsx)("button",{id:"lyr-submit",onClick:function(t){e.submitData(e)},className:"btn btn-success btn-xs lyrsubmitfocus",children:"Submit"})})]}):"",Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})}}]),a}(o.a.Component),Wk=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectData:""},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.fromPage,a=e.modalHead;return a&&Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,dialogClassName:"buyIn-modal","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:a})}),Object(u.jsxs)(P.a.Body,{children:["completeFRSheets"===t&&Object(u.jsx)(Yk,{modelReqData:this.props.modelReqData,openMethod:this.props.openMethod}),"incompleteFRSheets"===t&&Object(u.jsx)(Hk,{modelReqData:this.props.modelReqData,openMethod:this.props.openMethod})]})]})}}]),a}(o.a.Component),qk=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).hideAlert=function(){s.setState({alertShow:!1})},s.showCompleteSheets=function(){s.setState({fromPage:"completeFRSheets"}),s.setState({popUpTitle:ld}),s.setState({showCompSheetModal:!0})},s.showInCompleteSheets=function(){s.setState({fromPage:"incompleteFRSheets"}),s.setState({popUpTitle:cd}),s.setState({showInCompSheetModal:!0})},s.clearData=function(){document.getElementById("amount")&&(document.getElementById("amount").value=""),document.getElementById("settlementDate")&&(document.getElementById("settlementDate").value=""),document.getElementById("maturityDate")&&(document.getElementById("maturityDate").value=""),document.getElementById("firstCoupon")&&(document.getElementById("firstCoupon").value=""),document.getElementById("price")&&(document.getElementById("price").value=""),document.getElementById("salesPerson")&&(document.getElementById("salesPerson").value=""),document.getElementById("cusip")&&(document.getElementById("cusip").value=""),document.getElementById("saleSpread")&&(document.getElementById("saleSpread").value=""),document.getElementById("tradeValue")&&(document.getElementById("tradeValue").value=""),document.getElementById("clientVal")&&(document.getElementById("clientVal").value=""),document.getElementById("notes")&&(document.getElementById("notes").value=""),document.getElementById("disclaimer")&&(document.getElementById("disclaimer").value="")},s.onDateChange=function(e,t){void 0!==e&&null!==e&&(s.state.frData[t]=Yu(e,"MM/DD/YY"),s.setState({updateFlag:!0}))},s.onProductChange=function(e,t){s.setState({isLoading:!1}),s.setState({product:e.target.value,frData:[]}),document.getElementById("programId").value="";var a={productType:e.target.value};s.setState({isLoading:!0}),s.postData(a,Bl)},s.onContentChange=function(e,t){s.state.frData[t]=e.target.value,s.setState({updateFlag:!0})},s.doRadioChange=function(e,t){s.state.frData[t]=e.target.value,s.setState({updateFlag:!0})},s.onFileChange=function(e){s.setState({selectedFile:e.target.files[0],selectedFileName:e.target.files[0].name})},s.onFileUpload=function(e){var t=new FormData;if(null!==s.state.selectedFile&&null!==s.state.selectedFile.name&&void 0!==s.state.selectedFile.name){JSON.parse(sessionStorage.getItem("user"));t.append("file",s.state.selectedFile,s.state.selectedFile.name),t.append("omstoken",sessionStorage.getItem("token")),w()({method:"POST",url:N.URL+"/uploadFrFile",timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"multipart/mixed",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){(0,s.props.tabHandler)("preliminaryTermSheet",e)}))}else{(0,s.props.tabHandler)("preliminaryTermSheet",e)}},s.state={updateFlag:!1,frData:"",popUpTitle:"",fromPage:"",product:"",buyData:{},showCompSheetModal:!1,showInCompSheetModal:!1,showModal:!1,showError:!1,selectedFile:null,selectedFileName:"",isLoading:!0,holidayData:[],productWeekData:[]},s.getBaseData=s.getBaseData.bind(Object(O.a)(s)),s.onDateChange=s.onDateChange.bind(Object(O.a)(s)),s.onProductChange=s.onProductChange.bind(Object(O.a)(s)),s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.submitData=s.submitData.bind(Object(O.a)(s)),s.setDefaultProgram=s.setDefaultProgram.bind(Object(O.a)(s)),s.setDefaultRollDate=s.setDefaultRollDate.bind(Object(O.a)(s)),s.fillTermsheet=s.fillTermsheet.bind(Object(O.a)(s)),s.openBuyModal=s.openBuyModal.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"setDefaultProgram",value:function(e,t){this.setState({updateFlag:!0})}},{key:"setDefaultRollDate",value:function(e,t){this.state.frData.rollDate=e,this.setState({rollDate:e}),this.setState({updateFlag:!0})}},{key:"componentDidMount",value:function(){var e=this;if(void 0!==this.state.frData&&0!==this.state.frData.length||this.getBaseData(),this.props.prelimData&&0===this.props.prelimData.length){this.setState({updateFlag:!0});var t={productType:0===this.state.product.length?Kh:this.state.product};this.postData(t,Bl)}var a=[],s=[];w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:void 0!==this.state.frData&&void 0!==this.state.frData.productType?this.state.frData.productType:Kh,currencyCode:"USD"},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){a=t.data.holidayDatesInfo,s=t.data.productWeekData,e.setState({holidayData:a,productWeekData:s})})),this.setState({isLoading:!0})}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(e!==this.props){this.setState({updateFlag:!1,isLoading:!0});var s=[],n=[];w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:void 0!==this.state.frData&&void 0!==this.state.frData.productType?this.state.frData.productType:Kh,currencyCode:"USD"},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){s=e.data.holidayDatesInfo,n=e.data.productWeekData,a.setState({holidayData:s,productWeekData:n})})),this.getBaseData()}}},{key:"getBaseData",value:function(){var e=this.props.prelimData;if(void 0!==e&&""!==e)this.setState({frData:e,updateFlag:!0});else{this.setState({updateFlag:!0});var t={productType:0===this.state.product.length?Kh:this.state.product};this.postData(t,Bl)}}},{key:"postData",value:function(e,t){var a=this;this.setState({isLoading:!1}),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(t===Ll?a.onFileUpload(e.data):a.setState({frData:e.data,updateFlag:!0,isLoading:!0}))}))}},{key:"fillTermsheet",value:function(e){e.price=e.issuePrice,this.setState({frData:e}),this.setState({showInCompSheetModal:!1})}},{key:"hideCompSheetModal",value:function(){this.setState({showCompSheetModal:!1})}},{key:"hideInCompSheetModal",value:function(){this.setState({showInCompSheetModal:!1})}},{key:"submitData",value:function(){this.verify(this.state.frData)&&(this.state.frData.amount=Po(this.state.frData.amount),this.postData(this.state.frData,Ll))}},{key:"verify",value:function(e){var t="";if(""===e.firstCoupon||void 0===e.firstCoupon?t=lh:""===e.amount||0===e.amount?t=ch:""===e.maturityDate||void 0===e.maturityDate?t=Lm:0===t.length&&Wu(e.settlementDate,e.maturityDate)>0?t=jm:""!==e.price&&void 0!==e.price||(t=rh),void 0!==e.amount&&!1===Bo(e.amount,"1234567890.,mmMMkkKK")&&(t=wm),t)return this.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1;this.setState({actionTitle:"Alert",actionMessage:"Proceed to Preliminary Term Sheet?",alertShow:!0,actionFlag:"SAVE",apiUrl:undefined})}},{key:"confirmAction",value:function(e){if("SAVE"===e){this.setState({alertShow:!1}),this.state.frData.amount=Po(this.state.frData.amount),this.state.frData.rollDate=void 0!==this.state.frData.rollDate?this.state.frData.rollDate:this.state.rollDate;var t=this.state.frData;null!==this.state.selectedFile&&null!==this.state.selectedFile.name&&void 0!==this.state.selectedFile.name&&(t.fileName=this.state.selectedFile.name),this.postData(t,Ll)}}},{key:"onOfferChange",value:function(e){return Uo(e)}},{key:"openBuyModal",value:function(e){this.setState({buyData:e}),this.setState({showCompSheetModal:!1}),this.setState({showModal:!0})}},{key:"hideModal",value:function(){this.setState({showModal:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.holidayData,s=t.productWeekData;return this.actionComponent,document.getElementById("programId")&&console.log("frData",document.getElementById("programId").value),this.state.frData&&!0===this.state.updateFlag&&Object(u.jsx)(u.Fragment,{children:!0===this.state.isLoading?Object(u.jsxs)("div",{className:"panel-body",children:[Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-2",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",id:"lbl_product",children:"Product:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4",children:Object(u.jsx)(Dp,{name:"productType",id:"productType",apiCall:"/getTermProductTypes",reqParams:{},onchange:function(t){e.onProductChange(t,"productType")},selected:void 0!==this.state.frData&&void 0!==this.state.frData.productType?this.state.frData.productType:Kh})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-2",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",id:"lbl_dayscount",children:"Issuer Name:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4",children:Object(u.jsx)(Dp,{name:"programId",id:"programId",apiCall:"/getProductProgramsMap",reqParams:{productType:void 0!==this.state.frData&&void 0!==this.state.frData.productType?this.state.frData.productType:Kh,loginId:sessionStorage.getItem("loginid")},onchange:function(t){e.onContentChange(t,"programId")},stateMethod:this.setDefaultProgram,selected:void 0===this.state.frData.programId?"":this.state.frData.programId})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",id:"lbl_securityType",children:"Security Type:"}),Object(u.jsxs)("div",{className:"mr-2",style:{marginLeft:"16px"},children:[Object(u.jsx)("input",{type:"radio",name:"securityType",id:"securityType",value:"f1",checked:void 0!==this.state.frData.securityType&&"f1"===this.state.frData.securityType,onChange:function(t){e.doRadioChange(t,"securityType")}}),Object(u.jsx)("span",{className:"ml-1",children:"Float"})]}),Object(u.jsxs)("div",{className:"col-md-2 col-sm-2 col-xs-2",children:[Object(u.jsx)("input",{type:"radio",name:"securityType",id:"securityType",value:"fx",checked:void 0!==this.state.frData.securityType&&"fx"===this.state.frData.securityType,onChange:function(t){e.doRadioChange(t,"securityType")}}),Object(u.jsx)("span",{className:"ml-1",children:"Fixed"})]}),Object(u.jsx)("label",{className:"form-label col-md-1.5 col-sm-1.5 col-xs-1.5 text-left mr-2",id:"lbl_callable",children:"Callable:"}),Object(u.jsxs)("div",{className:"mr-2",children:[Object(u.jsx)("input",{type:"radio",name:"callable",id:"callable",value:"Y",checked:void 0!==this.state.frData.callable&&"Y"===this.state.frData.callable,onChange:function(t){e.doRadioChange(t,"callable")}}),Object(u.jsx)("span",{className:"ml-1",children:"Yes"})]}),Object(u.jsxs)("div",{className:"mr-2",children:[Object(u.jsx)("input",{type:"radio",name:"callable",id:"callable",value:"N",checked:void 0!==this.state.frData.callable&&"N"===this.state.frData.callable,onChange:function(t){e.doRadioChange(t,"callable")}}),Object(u.jsx)("span",{className:"ml-1",children:"No"})]})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsxs)("div",{className:"col-md-8 col-sm-8 col-xs-8",children:[Object(u.jsx)("button",{type:"button",onClick:this.showCompleteSheets,className:"btn btn-primary btn-xs ",id:"completedSheets",children:"Completed Sheets"}),Object(u.jsx)("button",{type:"button",onClick:this.showInCompleteSheets,className:"btn btn-primary btn-xs ml-5",id:"incompleteTermSheet",children:"Incomplete Term Sheets"})]})})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0 ",children:Object(u.jsxs)("div",{className:"row p4 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",id:"lbl_floatIndex",children:"Float Index:"}),Object(u.jsxs)("div",{className:"mr-2",style:{marginLeft:"16px"},children:[Object(u.jsx)("input",{type:"radio",name:"floatIndex",id:"floatIndex",value:"180",checked:void 0!==this.state.frData.floatIndex&&"180"===this.state.frData.floatIndex,onChange:function(t){e.doRadioChange(t,"floatIndex")},disabled:"f1"===this.state.frData.securityType?"":"disabled"}),Object(u.jsx)("span",{className:"ml-1",children:"SOFR"})]}),Object(u.jsxs)("div",{className:"mr-2",children:[Object(u.jsx)("input",{type:"radio",name:"floatIndex",id:"floatIndex",value:"270",checked:void 0!==this.state.frData.floatIndex&&"270"===this.state.frData.floatIndex,onChange:function(t){e.doRadioChange(t,"floatIndex")},disabled:"f1"===this.state.frData.securityType?"":"disabled"}),Object(u.jsx)("span",{className:"ml-1",children:"Prime"})]}),Object(u.jsxs)("div",{className:"mr-2",children:[Object(u.jsx)("input",{type:"radio",name:"floatIndex",id:"floatIndex",value:"360",checked:void 0!==this.state.frData.floatIndex&&"360"===this.state.frData.floatIndex,onChange:function(t){e.doRadioChange(t,"floatIndex")},disabled:"f1"===this.state.frData.securityType?"":"disabled"}),Object(u.jsx)("span",{className:"ml-1",children:"FF Eff"})]}),Object(u.jsxs)("div",{className:"mr-2",children:[Object(u.jsx)("input",{type:"radio",name:"floatIndex",id:"floatIndex",value:"400",checked:void 0!==this.state.frData.floatIndex&&"400"===this.state.frData.floatIndex,onChange:function(t){e.doRadioChange(t,"floatIndex")},disabled:"f1"===this.state.frData.securityType?"":"disabled"}),Object(u.jsx)("span",{className:"ml-1",children:"FF Open"})]}),Object(u.jsxs)("div",{className:"mr-2",children:[Object(u.jsx)("input",{type:"radio",name:"fIndex",id:"fIndex",value:"440",checked:void 0!==this.state.frData.floatIndex&&"440"===this.state.frData.floatIndex,onChange:function(t){e.doRadioChange(t,"floatIndex")},disabled:"f1"===this.state.frData.securityType?"":"disabled"}),Object(u.jsx)("span",{className:"ml-1",children:"T-Bill"})]})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",id:"lbl_firstCoupon",children:"First Coupon:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4",children:Object(u.jsx)(Eu,{name:"firstCoupon",id:"firstCoupon",onChange:function(t){e.onContentChange(t,"firstCoupon")},value:void 0===this.state.frData.firstCoupon?"":this.state.frData.firstCoupon,className:"form-control input-sm"})}),Object(u.jsx)("span",{style:{color:"red",fontSize:"14px"},children:"*"})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",id:"lbl_flipper",children:"Flipper:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4",children:Object(u.jsx)(Eu,{name:"flipper",id:"flipper",onChange:function(t){e.onContentChange(t,"flipper")},value:this.state.frData.flipper,className:"form-control input-sm"})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",id:"lbl_callDate",children:"Call Type/Date:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4",children:Object(u.jsx)(Ju,{label:"callDate",id:"callDate",dateValue:void 0===this.state.frData||void 0===this.state.frData.callDate?"":new Date(this.state.frData.callDate),fromDateFlg:!1,toDateFlg:!1,disabled:"Y"===this.state.frData.callable?"":"disabled",onchange:function(t){e.onDateChange(t,"callDate")}})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",id:"lbl_spread",children:"Spread(bps):"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4",children:Object(u.jsx)(Eu,{name:"spread",id:"spread",onChange:function(t){e.onContentChange(t,"spread")},value:this.state.frData.spread,className:"form-control input-sm",disabled:"f1"===this.state.frData.securityType?"":"disabled"})})]})}),Object(u.jsx)("div",{className:"col-md-9 col-sm-9 col-xs-9 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-2 col-sm-2 col-xs-2 text-left",id:"lbl_rollType",children:"Roll Type:"}),Object(u.jsxs)("div",{className:"col-md-2 col-sm-2 col-xs-2",children:[Object(u.jsx)("input",{type:"radio",name:"rollType",id:"rollType",value:"30",checked:void 0!==this.state.frData.rollType&&"30"===this.state.frData.rollType,onChange:function(t){e.doRadioChange(t,"rollType")}}),Object(u.jsx)("span",{className:"ml-1",children:"Monthly"})]}),Object(u.jsxs)("div",{className:"col-md-2 col-sm-2 col-xs-2",children:[Object(u.jsx)("input",{type:"radio",name:"rollType",id:"rollType",value:"90",checked:void 0!==this.state.frData.rollType&&"90"===this.state.frData.rollType,onChange:function(t){e.doRadioChange(t,"rollType")}}),Object(u.jsx)("span",{className:"ml-1",children:"Quarterly"})]}),Object(u.jsxs)("div",{className:"col-md-2 col-sm-2 col-xs-2",children:[Object(u.jsx)("input",{type:"radio",name:"rollType",id:"rollType",value:"1",checked:void 0!==this.state.frData.rollType&&"1"===this.state.frData.rollType,onChange:function(t){e.doRadioChange(t,"rollType")}}),Object(u.jsx)("span",{className:"ml-1",children:"Daily"})]}),Object(u.jsxs)("div",{className:"col-md-2 col-sm-2 col-xs-2",children:[Object(u.jsx)("input",{type:"radio",name:"rollType",id:"rollType",value:"1000",checked:void 0!==this.state.frData.rollType&&"1000"===this.state.frData.rollType,onChange:function(t){e.doRadioChange(t,"rollType")}}),Object(u.jsx)("span",{className:"ml-1",children:"Pay at Maturity"})]})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",id:"lbl_rollData",children:"Roll Date:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4",children:Object(u.jsx)(Dp,{name:"rollDate",id:"rollDate",apiCall:"/rollDatesMap",reqParams:{},onchange:function(t){e.onContentChange(t,"rollDate")},stateMethod:this.setDefaultRollDate,selected:void 0!==this.state.frData&&void 0!==this.state.frData.rollDate?this.state.frData.rollDate:""})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",id:"lbl_amount",children:"Amount ($m):"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4",children:Object(u.jsx)(Eu,{name:"amount",id:"amount",onBlur:function(t){e.onOfferChange(t),e.onContentChange(t,"amount")},value:0===this.state.frData.amount?"":this.state.frData.amount,className:"form-control input-sm"})}),Object(u.jsx)("span",{style:{color:"red",fontSize:"14px"},children:"*"})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",id:"lbl_settlementDate",children:"Settle Date:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4",children:(s.length>0||a.length>0)&&Object(u.jsx)(Ju,{minDate:new Date,label:"settlementDate",id:"settlementDate",dateValue:void 0===this.state.frData||void 0===this.state.frData.settlementDate?new Date:new Date(this.state.frData.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"settlementDate")},currency:"USD",holidayData:a,productWeekData:s})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",id:"lbl_maturityDate",children:"Maturity Date:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4",children:(s.length>0||a.length>0)&&Object(u.jsx)(Ju,{label:"maturityDate",id:"maturityDate",dateValue:void 0===this.state.frData||void 0===this.state.frData.maturityDate?"":new Date(this.state.frData.maturityDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"maturityDate")},currency:"USD",holidayData:a,productWeekData:s})}),Object(u.jsx)("span",{style:{color:"red",fontSize:"14px"},children:"*"})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",id:"lbl_issuePrice",children:"Issue Price:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4",children:Object(u.jsx)(Eu,{name:"price",id:"price",onChange:function(t){e.onContentChange(t,"price")},value:this.state.frData.price,className:"form-control input-sm"})}),Object(u.jsx)("span",{style:{color:"red",fontSize:"14px"},children:"*"})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsxs)("div",{className:"col-md-2 col-sm-2 col-xs-2",children:[Object(u.jsx)("input",{type:"radio",name:"offertype",id:"offertype",value:"D",checked:void 0===this.state.frData.offertype||"D"===this.state.frData.offertype,onChange:function(t){e.doRadioChange(t,"offertype")}}),Object(u.jsx)("span",{className:"ml-1",children:"Discount"})]}),Object(u.jsxs)("div",{className:"col-md-4 col-sm-4 col-xs-4",children:[Object(u.jsx)("input",{type:"radio",name:"offertype",id:"offertype",value:"P",checked:void 0!==this.state.frData.offertype&&"P"===this.state.frData.offertype,onChange:function(t){e.doRadioChange(t,"offertype")}}),Object(u.jsx)("span",{className:"ml-1",children:"PAR + Commision"})]})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",id:"lbl_cusip",children:"CUSIP:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4",children:Object(u.jsx)(Eu,{name:"cusip",id:"cusip",onChange:function(t){e.onContentChange(t,"cusip")},value:this.state.frData.cusip,className:"form-control input-sm"})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",id:"lbl_release",children:"Release On BBG:"}),Object(u.jsxs)("div",{className:"col-md-2 col-sm-2 col-xs-2",children:[Object(u.jsx)("input",{type:"radio",name:"relBbg",id:"relBbg",value:"Y",checked:void 0!==this.state.frData.relBbg&&"Y"===this.state.frData.relBbg,onChange:function(t){e.doRadioChange(t,"relBbg")}}),Object(u.jsx)("span",{className:"ml-1",children:"Yes"})]}),Object(u.jsxs)("div",{className:"col-md-2 col-sm-2 col-xs-2",children:[Object(u.jsx)("input",{type:"radio",name:"relBbg",id:"relBbg",value:"N",checked:void 0===this.state.frData.relBbg||"N"===this.state.frData.relBbg,onChange:function(t){e.doRadioChange(t,"relBbg")}}),Object(u.jsx)("span",{className:"ml-1",children:"No"})]})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",id:"lbl_saleSpread",children:"Sale Spread:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4",children:Object(u.jsx)(Eu,{name:"saleSpread",id:"saleSpread",onChange:function(t){e.onContentChange(t,"saleSpread")},value:this.state.frData.saleSpread,className:"form-control input-sm"})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",id:"lbl_salePrice",children:"Sale Price:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4",children:Object(u.jsx)(Eu,{name:"salePrice",id:"salePrice",onChange:function(t){e.onContentChange(t,"salePrice")},value:this.state.frData.salePrice,className:"form-control input-sm"})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",id:"lbl_salesPerson",children:"Sales Person:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4",children:Object(u.jsx)(Dp,{name:"salesPerson",id:"salesPerson",apiCall:il,reqParams:{userType:"3",All:"true"},onchange:function(t){e.onContentChange(t,"salesPerson")},selected:void 0!==this.state.frData&&void 0!==this.state.frData.salesPerson?this.state.frData.salesPerson:"none"})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",id:"lbl_tradeValue",children:"Trade Value:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4",children:Object(u.jsx)(Eu,{name:"tradeValue",id:"tradeValue",onChange:function(t){e.onContentChange(t,"tradeValue")},value:this.state.frData.tradeValue,className:"form-control input-sm"})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",id:"lbl_clientValue",children:"Client Value(bps):"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4",children:Object(u.jsx)(Eu,{name:"clientVal",id:"clientVal",onChange:function(t){e.onContentChange(t,"clientVal")},value:this.state.frData.clientVal,className:"form-control input-sm"})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",id:"lbl_additionalNotes",children:"Additional Notes:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6",children:Object(u.jsx)("textarea",{type:"text",name:"notes",id:"notes",onChange:function(t){e.onContentChange(t,"notes")},value:this.state.frData.notes,className:"md-textarea form-control",rows:"2"})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",id:"lbl_additionalNotes",children:"Disclaimer :"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6",children:Object(u.jsx)("textarea",{type:"text",name:"disclaimer",id:"disclaimer",onChange:function(t){e.onContentChange(t,"disclaimer")},value:this.state.frData.disclaimer,className:"md-textarea form-control",rows:"2"})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left",id:"lbl_upload",children:"Upload Document :"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4",children:Object(u.jsx)("input",{type:"file",id:"uploadFile",name:"uploadFile",onChange:this.onFileChange})})]})}),Object(u.jsxs)("div",{className:"text-center md-2",children:[Object(u.jsx)("button",{type:"button",onClick:function(t){e.submitData(e)},className:"marginauto btn btn-primary btn-xs",name:"prebutton",id:"prebutton",children:"Preliminary Term Sheet"}),Object(u.jsx)("button",{type:"button",onClick:function(t){e.clearData(e)},className:"marginauto btn btn-primary btn-xs ml-1",name:"clear",id:"clear",children:"Clear"})]}),Object(u.jsx)("div",{children:Object(u.jsx)(Wk,{show:this.state.showCompSheetModal,onHide:function(){return e.hideCompSheetModal()},modalHead:this.state.popUpTitle,fromPage:this.state.fromPage,modelReqData:this.state.frData,openMethod:this.openBuyModal})}),Object(u.jsx)("div",{children:Object(u.jsx)(Wk,{show:this.state.showInCompSheetModal,onHide:function(){return e.hideInCompSheetModal()},modalHead:this.state.popUpTitle,fromPage:this.state.fromPage,modelReqData:this.state.frData,openMethod:this.fillTermsheet})}),Object(u.jsx)("div",{children:Object(u.jsx)(kj,{show:this.state.showModal,onHide:function(){return e.hideModal()},modalData:this.state.buyData})}),Object(u.jsxs)("div",{children:[Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})]}):Object(u.jsx)(Fb,{})})}}]),a}(o.a.Component),zk=a(121),Gk=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).doChangeCusip=function(e){s.props.prelimData;s.setState({issuerCusip:e.target.value})},s.doBackChange=function(e){var t=s.props,a=t.prelimData;(0,t.tabHandler)("fRTermSheet",a)},s.doTermSheet=function(e){var t=s.props.prelimData,a={};a.issueId=t.issueId,""==s.state.issuerCusip?a.cusip=t.cusip:a.cusip=s.state.issuerCusip,s.postData(a,"/printFRtermSheets")},s.onFileDownLoad=function(){var e={},t="";if(s.setState({actionMsgs:[]}),null!=sessionStorage.getItem("user")){var a=JSON.parse(sessionStorage.getItem("user"));null!=a&&void 0!==a&&void 0!==a[0]&&(t=a[0].token)}e.fileName=s.props.prelimData.fileName,w()({method:"POST",url:N.URL+"/download",timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",token:t,Accept:"multipart/form-data"},responseType:"arraybuffer"}).then((function(e){var t=new Blob([e.data],{type:"multipart/form-data"});zk.saveAs(t,e.headers.expires)}))},s.state={issuerCusip:""},s.doTermSheet=s.doTermSheet.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"postData",value:function(e,t){var a=this;w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(0,a.props.tabHandler)("printTermSheet",e.data)}))}},{key:"render",value:function(){var e=this,t=this.props.prelimData;return Object(u.jsxs)("div",{class:"panel-body",children:[Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"issuerName",children:"Issuer Name:"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"lbl_issuerName",children:t.issuerName})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"issueType",children:"Issue Type:"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left removewrap",id:"lbl_issueType",children:t.issuerType})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"ticker",children:"Ticker:"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"lbl_ticker",children:t.ticker})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_cuisp",children:"CUSIP:"}),Object(u.jsx)("div",{class:"col-md-4 col-sm-4 col-xs-4",children:Object(u.jsx)(Eu,{name:"issuerCusip",id:"issuerCusip",value:0===this.state.issuerCusip.length?t.cusip:this.state.issuerCusip,className:"text-left",onBlur:function(t){e.doChangeCusip(t)}})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"amount",children:"Amount:"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"lbl_amount",children:Lo(t.amount)})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"issuePrice",children:"Issue Price:"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"lbl_issuePrice",children:t.price})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"netMoney",children:"Net Money:"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"lbl_netMoney",children:Lo(t.netAmount)})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"tradeDate",children:"Trade Date:"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"lbl_tradeDate",children:t.issuedate})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"settleDate",children:"Settle Date:"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"lbl_settleDate",children:t.settleDateStr})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"maturityDatae",children:"Maturity date:"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"lbl_maturityDatae",children:t.maturityDateStr})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"interestPayment",children:"Interest Payment Dates:"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"lbl_interestPayment",children:t.paymentDateDescr})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"numberOfDays",children:"Number of Days:"}),Object(u.jsxs)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"lbl_numberOfDays",children:[t.noOfDays," days"]})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"referenceIndex",children:"Reference Index:"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"lbl_referenceIndex",children:t.libortype})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"spread",children:"Spread:"}),Object(u.jsxs)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"lbl_spread",children:[t.spread," (bps)"]})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"initialCoupon",children:"Initial Coupon:"}),Object(u.jsxs)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"lbl_initialCoupon",children:[t.coupon," %"]})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"firstPayment",children:"First Payment Date:"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"lbl_firstPayment",children:t.paymentDate})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"interestPayment",children:"Interest Payment Dates:"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"lbl_interestPayment",children:t.issuePayDates})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"interestDetermination",children:"Interest Determination Dates:"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"lbl_interestDetermination",children:t.issueDetDates})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"countConvention",children:"Day Count Convention:"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"lbl_countConvention",children:"Actual/360"})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"countConvention",children:"Day Count Convention:"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"lbl_countConvention",children:"Modified Following, Adjusted"})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"dealer",children:"Dealer and DTC#:"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"lbl_dealer",children:"ABC Securities (0123)"})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"disclaimer",children:"Disclaimer:"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"lbl_disclaimer",children:t.disclaimer})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"dealer",children:"Document Name:"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"lbl_dealer",children:Object(u.jsx)("button",{class:"btn btn-link",href:t.filePath+t.fileName,name:"documentName",id:"documentName",onClick:function(t){e.onFileDownLoad(e)},children:t.fileName})})]})}),Object(u.jsxs)("div",{class:"text-center md-2",children:[Object(u.jsx)("button",{type:"button",class:"marginauto btn btn-primary btn-xs",name:"prebutton",id:"prebutton",onClick:function(t){e.doTermSheet(e)},children:"Print Term Sheet"}),Object(u.jsx)("button",{type:"button",class:"marginauto btn btn-primary btn-xs ml-1",name:"back",id:"back",onClick:function(t){e.doBackChange(e)},children:"Back"})]})]})}}]),a}(o.a.Component),Kk=a(121),Zk=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).doBuyTicket=function(e){var t=s.props.prelimData;t.availableToday=t.amount,t.refIssueId=t.issueId,t.action="INIT",s.setState({buyData:t}),s.setState({showModal:!0})},s.doNewTermSheet=function(e){(0,s.props.tabHandler)("fRTermSheet",[]),s.setState({prelimData:[]})},s.downloadPdf=function(e){var t,a,n=s.props.prelimData,o="I"===e?1.5:1.35,i="I"===e?"Issuer Floating Rate Commercial Paper Term Sheet":"Floating Rate Commercial Paper Term Sheet",l={};"I"===e?(t={"Issuer Name:":n.issuerName,"Issue Type:":n.issuerType,Ticker:n.ticker,"CUSIP:":n.cusip,"Amount:":Lo(n.amount),"Issue Price":n.price,"Bid Price":o,"Net Money:":Lo(n.netAmount),"Trade Date:":n.issuedate,"Settle Date:":n.settleDateStr,"Maturity date":n.maturityDateStr,"Interest Payment Dates:":n.paymentDateDescr,"Number of Days:":n.noOfDays,"Reference Index:":n.libortype,"Spread:":n.spread+"(bps)","Initial Coupon:":n.coupon+"%","First Payment Date:":"March 01, 2021"},Object(g.a)(t,"Interest Payment Dates:",n.issuePayDates),Object(g.a)(t,"Interest Determination Dates:",n.issueDetDates),Object(g.a)(t,"Day Count Convention:","Actual/360"),Object(g.a)(t,"Day Count Convention:","Modified Following, Adjusted"),Object(g.a)(t,"Dealer and DTC#:","ABC Securities (0123)"),Object(g.a)(t,"Document Name:",n.fileName),Object(g.a)(t,"Disclaimer:",n.disclaimer),l=t):(a={"Issuer Name:":n.issuerName,"Issue Type:":n.issuerType,Ticker:n.ticker,"CUSIP:":n.cusip,"Amount:":Lo(n.amount),"Issue Price":n.price,"Offer Price":o,"Net Money:":Lo(n.netAmount),"Trade Date:":n.issuedate,"Settle Date:":n.settleDateStr,"Maturity date":n.maturityDateStr,"Interest Payment Dates:":n.paymentDateDescr,"Number of Days:":n.noOfDays,"Reference Index:":n.libortype,"Spread:":n.spread+"(bps)","Initial Coupon:":n.coupon+"%","First Payment Date:":"March 01, 2021"},Object(g.a)(a,"Interest Payment Dates:",n.issuePayDates),Object(g.a)(a,"Interest Determination Dates:",n.issueDetDates),Object(g.a)(a,"Day Count Convention:","Actual/360"),Object(g.a)(a,"Day Count Convention:","Modified Following, Adjusted"),Object(g.a)(a,"Dealer and DTC#:","ABC Securities (0123)"),Object(g.a)(a,"Document Name:",n.fileName),Object(g.a)(a,"Disclaimer:",n.disclaimer),l=a);var c="I"===e?"Issuer Pdf":"Sales Pdf",r=[];Object.keys(l).map((function(e){var t=[];t.push(e),t.push(l[e]),r.push(t)}));var d=new Lb.default("landscape","pt","A4");d.setFontSize(18),d.text(i,40,40),Ub()(d,{margin:{top:60},columnStyles:{0:{fontStyle:"bold"}},head:[],body:r,styles:{fontSize:9}}),d.save(c+".pdf")},s.onFileDownLoad=function(){var e={},t="";if(s.setState({actionMsgs:[]}),null!=sessionStorage.getItem("user")){var a=JSON.parse(sessionStorage.getItem("user"));null!=a&&void 0!==a&&void 0!==a[0]&&(t=a[0].token)}e.fileName=s.props.prelimData.fileName,w()({method:"POST",url:N.URL+"/download",timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",token:t,Accept:"multipart/form-data"},responseType:"arraybuffer"}).then((function(e){var t=new Blob([e.data],{type:"multipart/form-data"});Kk.saveAs(t,e.headers.expires)}))},s.state={data:"",showModal:!1,buyData:[]},s.doNewTermSheet=s.doNewTermSheet.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideModal",value:function(){this.setState({showModal:!1})}},{key:"render",value:function(){var e=this,t=this.props.prelimData;return Object(u.jsxs)("div",{children:[t.productType===Kh?Object(u.jsxs)("p",{align:"center",className:"font-weight-bold",children:["Floating Rate Commercial Paper Term Sheet",Object(u.jsxs)("div",{className:"pdficon",children:[Object(u.jsx)("button",{type:"button",class:"marginauto btn btn-primary btn-xs ml-1",name:"Issuer_pdf",id:"Issuer_pdf",onClick:function(t){e.downloadPdf("I")},children:"Issuer Pdf"}),Object(u.jsx)("button",{type:"button",class:"marginauto btn btn-primary btn-xs ml-1",name:"Sales_Pdf",id:"Sales_Pdf",onClick:function(t){e.downloadPdf("S")},children:"Sales Pdf"})]})]}):Object(u.jsxs)("p",{align:"center",className:"font-weight-bold",children:["Floating Rate Certificate of Deposits Term Sheet",Object(u.jsxs)("div",{className:"pdficon",children:[Object(u.jsx)("button",{type:"button",class:"marginauto btn btn-primary btn-xs ml-1",name:"Issuer_pdf",id:"Issuer_pdf",onClick:function(t){e.downloadPdf("I")},children:"Issuer Pdf"}),Object(u.jsx)("button",{type:"button",class:"marginauto btn btn-primary btn-xs ml-1",name:"Sales_Pdf",id:"Sales_Pdf",onClick:function(t){e.downloadPdf("S")},children:"Sales Pdf"})]})]}),Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left font-weight-bold",id:"issuerName",children:"Issuer Name:"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_issuerName",children:t.issuerName})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left font-weight-bold",id:"issueType",children:"Issue Type:"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left ",id:"lbl_issueType",children:t.issuerType})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left font-weight-bold",id:"ticker",children:"Ticker:"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_ticker",children:t.ticker})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left font-weight-bold",id:"cuisp",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_cuisp",children:t.cusip})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left font-weight-bold",id:"amount",children:"Amount:"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_amount",children:Lo(t.amount)})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left font-weight-bold",id:"issuePrice",children:"Issue Price:"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_issuePrice",children:t.price})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left font-weight-bold",id:"netMoney",children:"Net Money:"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_netMoney",children:Lo(t.netAmount)})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left font-weight-bold",id:"tradeDate",children:"Trade Date:"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_tradeDate",children:t.issuedate})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left font-weight-bold",id:"settleDate",children:"Settle Date:"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_settleDate",children:t.settleDateStr})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left font-weight-bold",id:"maturityDatae",children:"Maturity date:"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_maturityDatae",children:t.maturityDateStr})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left font-weight-bold valign-top",id:"interestPayment",children:"Interest Payment Dates:"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_interestPayment",children:t.paymentDateDescr})]})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left font-weight-bold",id:"numberOfDays",children:"Number of Days:"}),Object(u.jsxs)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_numberOfDays",children:[t.noOfDays," days"]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left font-weight-bold",id:"referenceIndex",children:"Reference Index:"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_referenceIndex",children:t.libortype})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left font-weight-bold",id:"spread",children:"Spread:"}),Object(u.jsxs)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_spread",children:[t.spread," (bps)"]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left font-weight-bold",id:"initialCoupon",children:"Initial Coupon:"}),Object(u.jsxs)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_initialCoupon",children:[t.coupon," %"]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left font-weight-bold",id:"firstPayment",children:"First Payment Date:"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_firstPayment",children:t.paymentDate})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left font-weight-bold valign-top",id:"interestPayment",children:"Interest Payment Dates:"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_interestPayment",children:t.issuePayDates})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left font-weight-bold valign-top",id:"interestDetermination",children:"Interest Determination Dates:"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_interestDetermination",children:t.issueDetDates})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left font-weight-bold",id:"countConvention",children:"Day Count Convention:"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_countConvention",children:"Actual/360"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left font-weight-bold",id:"countConvention",children:"Day Count Convention:"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_countConvention",children:"Modified Following, Adjusted"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4  text-left font-weight-bold",id:"dealer",children:"Dealer and DTC#:"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"lbl_dealer",children:"ABC Securities (0123)"})]}),Object(u.jsx)("div",{children:Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"disclaimer",children:"Disclaimer:"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-4 text-left",id:"lbl_disclaimer",children:t.disclaimer})]})}),Object(u.jsx)("div",{children:Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"filename",children:"Document Name:"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-4 text-left",id:"lbl_filename",children:Object(u.jsx)("button",{href:t.filePath+t.fileName,className:"btn btn-link",name:"documentName",id:"documentName",onClick:function(t){e.onFileDownLoad(e)},children:t.fileName})})]})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{className:"text-center",children:[Object(u.jsx)("button",{type:"button",class:"marginauto btn btn-primary btn-xs ml-1",name:"buyTicket",id:"buyTicket",onClick:function(t){e.doBuyTicket(e)},children:"Enter Buy Ticket"}),Object(u.jsx)("button",{type:"button",class:"marginauto btn btn-primary btn-xs ml-1",name:"newSheet",id:"newSheet",onClick:function(t){e.doNewTermSheet(e)},children:"New FR Term Sheet"})]})}),Object(u.jsx)("div",{children:Object(u.jsx)(kj,{show:this.state.showModal,onHide:function(){return e.hideModal()},modalData:this.state.buyData})})]})}}]),a}(n.Component),Jk=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,heading:"fRTermSheet",prelimData:""},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.handleSelect=s.handleSelect.bind(Object(O.a)(s)),s.discountCalculator=s.discountCalculator.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Kr&&this.setState({cmodal:!0})}},{key:"handleSelect",value:function(e,t){void 0!==t?this.setState({heading:e,prelimData:t}):this.setState({heading:e})}},{key:"discountCalculator",value:function(){}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{className:"d-inline-block",children:Object(u.jsxs)(hb.a,{activeKey:this.state.heading,transition:!1,id:"noanim-tab-example",children:[Object(u.jsx)(ei.a,{eventKey:"fRTermSheet",title:"FR Term Sheet",children:"fRTermSheet"===this.state.heading&&Object(u.jsx)(qk,{prelimData:this.state.prelimData,tabHandler:this.handleSelect})}),Object(u.jsx)(ei.a,{eventKey:"preliminaryTermSheet",title:"Preliminary Term Sheet",children:"preliminaryTermSheet"===this.state.heading&&Object(u.jsx)(Gk,{prelimData:this.state.prelimData,tabHandler:this.handleSelect})}),Object(u.jsx)(ei.a,{eventKey:"printTermSheet",title:"Print Term Sheet",children:"printTermSheet"===this.state.heading&&Object(u.jsx)(Zk,{prelimData:this.state.prelimData,tabHandler:this.handleSelect})})]})})})})})]})})}}]),a}(o.a.Component),Qk=[];Qk.cusip=Ze,Qk.productType=is,Qk.currencyCode=We,Qk.amount=de,Qk.settle=Rs,Qk.settlementDate=Ms,Qk.maturityDate=da,Qk.rateAmount=ps,Qk.bookId=Se,Qk.status=qs;var Xk=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,productTypeValue:"",formDateValue:new Date,toDateValue:new Date},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.productTypeChange=s.productTypeChange.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===br&&this.setState({cmodal:!0})}},{key:"productTypeChange",value:function(e){this.setState({productTypeValue:e.target.value})}},{key:"fromDateChange",value:function(e){this.setState({formDateValue:e})}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:3,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Book",id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:this.state.productTypeValue},onchange:this.tickerChange,selected:this.state.tickerId,id:"bookId"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Product",id:"lbl_product"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:vi,reqParams:{},onchange:this.productTypeChange,selected:this.state.productTypeValue,id:"programId"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Maturity Date From",id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})}),Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(D.a,{id:"refresh",className:"btn btn-primary btn-xs mr-1",onClick:this.doRefresh,children:"Refresh"})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(lp,{cprops:Qk,apiCall:"/getIncompleteSecurities",reqParams:{bookid:"",productType:Hh,fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue)},keyField:"1"})})]})]})})}}]),a}(o.a.Component),$k=[];$k.ticket=dn,$k.ticker=cn,$k.shortName=X,$k.prodCode=ls,$k.currencyCode=ze,$k.amount=ga,$k.settle=Rs,$k.settlementDate=Ms,$k.maturityDate=da,$k.bid=ps,$k.yield=In,$k.price=es,$k.msgType=Te,$k.bookNo=Se,$k.dispDescr=qs,$k.allocationFlag="Allocation";var eD,tD;function aD(e,t,a){var s=[];return Object.keys(t).map((function(e){var n;e&&(n=a&&e===ln||a&&e===ln?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkShowComponent(t,s,n,o,e)}}:!a||e!==xa&&e!==ct?a&&e===pe?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.buttonComponent(t,s,n,o,e)}}:e===re||e===$a?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)()}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.imgComponent(t,s,n,o,e)}},s.push(n));return""})),s}var sD=[],nD=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectData:"",showError:!1,totalAmt:""},s.doSubmit=s.doSubmit.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.doCancel=s.doCancel.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.apiCall){var t=this.props.reqParams,a="";t&&(a={investerCassii:t.investerCassii}),w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({selectData:t.data})}))}}},{key:"onContentChange",value:function(e,t){""!==e.target.value&&_o(e),eD=this.props.reqParams;var a=0;this.state.selectData.subAcctList&&this.state.selectData.subAcctList.map((function(e,t){if(""!==document.getElementById("amountArry"+t).value.trim()){var s=parseFloat(Po(document.getElementById("amountArry"+t).value.trim()));a+=s}})),(sD=[]).push(Po(e.target.value.trim())+"~"+eD.cassii),eD[t]=sD,this.setState({totalAmt:a})}},{key:"doCancel",value:function(){this.props.onHide("")}},{key:"doSubmit",value:function(e){var t,a=this;t=this.props.reqParams,this.state.totalAmt!==t.amount?this.setState({actionTitle:"Alert",actionMessage:"Total Amount Should be Equals To Amount",showError:!0}):w()({method:"POST",url:N.URL+"/saveTradeAllocationEntry",timeout:N.apiTimeOut,data:{productType:t.productType,issueId:t.issueId,transType:t.transType,amountArry:t.amountArry},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data.length>0&&(tD=" "===e.data?"":e.data,a.setState({updateFlag:!0})),a.props.onHide(tD)}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(e!==this.props&&("0",this.setState({totalAmt:""}),this.props.apiCall)){var s=this.props.reqParams,n="";s&&(n={investerCassii:s.investerCassii}),w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:n,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({selectData:e.data})}))}}},{key:"render",value:function(){var e=this,t=this.props,a=t.modalHead,s=t.reqParams;t.maindata;return a&&Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,size:this.props.size,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:cr})}),Object(u.jsx)(P.a.Body,{children:this.state.selectData&&Object(u.jsxs)("div",{children:[Object(u.jsx)(H.a,{md:2,children:Object(u.jsxs)(W.a,{md:5,children:[Object(u.jsxs)(W.a,{xs:3,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Issuer",id:"lbl_Issuer"}),":"]}),Object(u.jsx)(W.a,{xs:9,className:"d-inline-block",children:s&&Object(u.jsx)(ni,{className:"removewrap",label:s.issuerName,id:"issuerName"})})]})}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{md:4,children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Amount",id:"lbl_amount"}),":"]}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:s&&Object(u.jsx)(ni,{label:Lo(s.amount),id:"amount"})})]}),Object(u.jsxs)(W.a,{md:8,children:[Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:"\xa0"}),Object(u.jsxs)(W.a,{xs:3,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Top Account",id:"lbl_topaccount"}),":"]}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:s&&Object(u.jsxs)("span",{children:[Object(u.jsx)(ni,{label:s.accountName,id:"topaccount"}),"( ",Object(u.jsx)(ni,{label:s.investerCassii,id:"investerCassii"})," )"]})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)("h6",{children:"New Offerings"}),Object(u.jsx)("div",{className:"fo2table",children:Object(u.jsxs)("table",{width:"100%",className:"table table-border table-stripped",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:je}),Object(u.jsx)("th",{children:de}),Object(u.jsx)("th",{children:Qe})]})}),Object(u.jsx)("tbody",{children:this.state.selectData&&this.state.selectData.subAcctList.map((function(t,a){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t.accountName}),Object(u.jsx)("td",{children:Object(u.jsx)(Eu,{name:"amountArry"+a,id:"amountArry"+a,value:"",className:"text-right",onBlur:function(t){e.onContentChange(t,"amountArry"+a)}})}),Object(u.jsx)("td",{children:Object(u.jsx)(Eu,{id:"comments"+a})})]})}))})]})})]})}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{className:"col-md-12 text-center mt-2",children:[Object(u.jsxs)(W.a,{xs:1,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Total",id:"lbl_total"}),":"]}),Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"totalVal",id:"totalVal",value:Lo(this.state.totalAmt),className:"text-right"})})]})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsx)(W.a,{}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(D.a,{id:"confirmSubmit",className:"btn btn-primary btn-xs mr-1 btn-success",onClick:this.doSubmit,children:"Confirm & Submit"}),Object(u.jsx)(D.a,{id:"cancel",className:"btn btn-primary btn-xs mr-1",onClick:this.doCancel,children:"Cancel"})]})]})]})})]})}}]),a}(o.a.Component),oD=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).bookChange=function(e){s.setState({msg:"",bookId:e.target.value,updateData:!0})},s.hideAllocationModal=function(e){s.setState({msg:e,showAllocationModal:!1,updateData:!0})},s.hideError=function(){s.setState({showError:!1})},s.state={bookId:"",cmodal:!0,showShowModal:!1,showAllocationModal:!1,productTypeValue:Hh,formDateValue:new Date,toDateValue:new Date,modalDataRow:"",msg:"",allocationDataRow:{},updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.productTypeChange=s.productTypeChange.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.linkShowComponent=s.linkShowComponent.bind(Object(O.a)(s)),s.buttonComponent=s.buttonComponent.bind(Object(O.a)(s)),s.openShowModal=s.openShowModal.bind(Object(O.a)(s)),s.openAllocationModal=s.openAllocationModal.bind(Object(O.a)(s)),s.getDefaultBookValues=s.getDefaultBookValues.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===br&&this.setState({cmodal:!0,updateData:!1})}},{key:"openShowModal",value:function(e,t){this.setState({modalDataRow:e,showShowModal:!0,updateData:!1})}},{key:"openAllocationModal",value:function(e,t){this.setState({allocationDataRow:e,showAllocationModal:!0,updateData:!1})}},{key:"productTypeChange",value:function(e){this.setState({msg:"",productTypeValue:e.target.value,updateData:!0})}},{key:"fromDateChange",value:function(e){var t="",a=new Date;if(a=Yu(this.state.toDateValue,"MM/DD/YYYY"),Yu(e,"MM/DD/YYYY")>a&&(t="From Date should be less than To Date "),t)return this.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1;this.setState({msg:"",formDateValue:e,updateData:!0})}},{key:"toDateChange",value:function(e){var t="",a=new Date;if(a=Yu(this.state.formDateValue,"MM/DD/YYYY"),Yu(e,"MM/DD/YYYY")<a&&(t="To Date Should be Greater than From Date"),t)return this.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1;this.setState({msg:"",toDateValue:e,updateData:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1}),this.props.onRemove(this.props.linkname)}},{key:"hideShowModal",value:function(){this.setState({showShowModal:!1,updateData:!0})}},{key:"linkShowComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openShowModal.bind(this,t,e),children:e})}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All",updateData:!1})}},{key:"buttonComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(D.a,{size:"sm",id:n+a,onClick:function(e){o.openAllocationModal(t,a,e)},children:"Allocation"})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{id:e+a,className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{id:e+a,className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{id:e+a,className:"text-warning pdl4",children:e})]}):void 0}},{key:"render",value:function(){var e=this,t={};return t.linkShowComponent=this.linkShowComponent,t.buttonComponent=this.buttonComponent,t.imgComponent=this.imgComponent,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h6",{children:void 0!==this.state.msg&&""!==this.state.msg?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.msg}):""}),this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:3,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Book",id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{bookId:this.state.bookId,productType:""===this.state.productTypeValue?Hh:this.state.productTypeValue},onchange:this.bookChange,selected:this.state.bookId,id:"bookId",stateMethod:this.getDefaultBookValues})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Product",id:"lbl_product"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:vi,reqParams:{},onchange:this.productTypeChange,selected:this.state.productTypeValue,id:"programId"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})}),Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(D.a,{id:"refresh",className:"btn btn-primary btn-xs mr-1",onClick:this.doRefresh,children:"Refresh"})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:$k,apiCall:"/tradeAllocationData",updateData:this.state.updateData,reqParams:{bookId:this.state.bookId,productType:""===this.state.productTypeValue?Hh:this.state.productTypeValue,fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue)},mappings:aD,customComponents:t,keyField:"1",excelFlag:"true"})}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]}),Object(u.jsx)(kp,{size:"md",show:this.state.showShowModal,onHide:function(){return e.hideShowModal()},modalHead:"Show Ticket",prodType:""===this.state.productTypeValue?Hh:this.state.productTypeValue,modalDataRow:this.state.modalDataRow}),Object(u.jsx)(nD,{size:"lg",show:this.state.showAllocationModal,onHide:this.hideAllocationModal,modalHead:"Allocation",prodType:Hh,apiCall:"/getTradeAllocationEntry",reqParams:this.state.allocationDataRow})]})]})}}]),a}(o.a.Component),iD=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.stopAllTrading=s.stopAllTrading.bind(Object(O.a)(s)),s.removeOfferings=s.removeOfferings.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===eu&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"stopAllTrading",value:function(){}},{key:"removeOfferings",value:function(){}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{className:"col-md-12 text-center",children:Object(u.jsx)(D.a,{id:"stopAlltrad",onClick:this.stopAllTrading(),children:"Stop All Trading"})})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{className:"col-md-12 text-center mt-5",children:Object(u.jsx)(D.a,{id:"removeOffer",onClick:this.removeOfferings(),children:"Remove Offerings"})})})]})]})})}}]),a}(o.a.Component),lD=[];lD.productName=we,lD.offerStatus=Ks,lD.tradeStatus=Zs;var cD=[];cD.bookName=we,cD.offerStatus=Ks,cD.tradeStatus=Zs;var rD=[];function dD(e,t,a,s){var n=[];return Object.keys(t).map((function(e){var o;e&&(o=a&&e===Ga?{dataField:e,text:t[e],headerAttrs:{hidden:s},formatter:a.switchComponent}:a&&e===Nn?{dataField:e,text:t[e],headerAttrs:{hidden:s},formatter:a.switchTradeComponent}:{dataField:e,text:t[e],formatter:a.showBookName},n.push(o));return""})),n}rD.programName=hs,rD.offerStatus=Ks,rD.tradeStatus=Zs;var mD=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleSwitchChange=function(e){s.props.changeSwitch(e.target.checked,s.props.parentId),s.setState({checked:e.target.checked})},s.state={checked:s.props.isChecked},s}return Object(l.a)(a,[{key:"render",value:function(){this.props.parentId,this.state.checked;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("input",{checked:this.state.checked,onChange:this.handleSwitchChange,className:"react-switch-checkbox",id:"react-switch-"+this.props.id,type:"checkbox"}),Object(u.jsxs)("label",{className:"react-switch-label",htmlFor:"react-switch-"+this.props.id,children:[Object(u.jsx)("span",{className:"react-switch-uncheck",children:Object(u.jsx)(B.j,{})}),Object(u.jsx)("span",{className:"react-switch-button"}),Object(u.jsx)("span",{className:"react-switch-check",children:Object(u.jsx)(B.D,{})})]})]})}}]),a}(n.Component),hD=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleOfferSwitch=function(e,t){e||(document.getElementById("react-switch-offer-"+s.props.rowData.productType+"-"+t).checked=e,document.getElementById("react-switch-offer-"+s.props.rowData.productType).checked=e)},s.handleTradeSwitch=function(e,t){e||(document.getElementById("react-switch-trade-"+s.props.rowData.productType+"-"+t).checked=e,document.getElementById("react-switch-trade-"+s.props.rowData.productType).checked=e)},s.state={cmodal:!0,reqParams:{productType:""},data1:[],columns1:[],checked:!1},s.switchComponent=s.switchComponent.bind(Object(O.a)(s)),s.switchTradeComponent=s.switchTradeComponent.bind(Object(O.a)(s)),s.expandSubSubChilds=s.expandSubSubChilds.bind(Object(O.a)(s)),s.showBookName=s.showBookName.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"showBookName",value:function(e,t,a,s,n){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("span",{className:"drillIcon",style:{marginLeft:60,color:"#d9cb50",fontWeight:500},children:t.programName})})}},{key:"expandSubSubChilds",value:function(e){return{showExpandColumn:!0,expandByColumnOnly:!0,onlyOneExpanding:!0,expandHeaderColumnRenderer:function(e){e.isAnyExpands;return Object(u.jsx)(u.Fragment,{})},expandColumnRenderer:function(e){e.expanded;return Object(u.jsx)(u.Fragment,{})},renderer:function(e,t){return Object(u.jsx)(u.Fragment,{})}}}},{key:"switchComponent",value:function(e,t,a){return Object(u.jsx)(mD,{parentId:this.props.parentId,changeSwitch:this.handleOfferSwitch,isChecked:this.props.offerCheck,id:"offer-"+t.bookId+"-"+t.programId})}},{key:"switchTradeComponent",value:function(e,t,a){return Object(u.jsx)(mD,{parentId:this.props.parentId,changeSwitch:this.handleTradeSwitch,isChecked:this.props.tradeCheck,id:"trade-"+t.bookId+"-"+t.programId})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.rowData,a=this.state.reqParams;var s={};s.showBookName=this.showBookName,s.switchComponent=this.switchComponent,s.switchTradeComponent=this.switchTradeComponent,w()({method:"POST",url:N.URL+Pl,timeout:N.apiTimeOut,data:{productType:t.productType,bookId:t.bookId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({data1:t.data.bookProgramList,columns1:dD(t.data.bookProgramList,rD,s,!0)})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this,s=this.props.rowData;if(e!==this.props){var n=this.state.reqParams;n&&n;var o={};o.showBookName=this.showBookName,o.switchComponent=this.switchComponent,o.switchTradeComponent=this.switchTradeComponent,w()({method:"POST",url:N.URL+Pl,timeout:N.apiTimeOut,data:{productType:s.productType,bookId:s.bookId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({data1:e.data.bookProgramList,columns1:dD(e.data.prodBookList,cD,o,!0)})}))}}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.columns1.length>0&&Object(u.jsx)(Z.a,{data:this.state.data1,expandRow:this.expandSubSubChilds(),keyField:"subSubChildName",columns:this.state.columns1,striped:!0,hover:!0,wrapperClasses:"maxheightauto fo2table stptable"})})}}]),a}(o.a.Component),uD=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).isOfferChecked=function(e,t){var a=document.getElementById("react-switch-offer-"+e+"-"+t);return void 0!==a&&a.checked},s.isTradeChecked=function(e,t){var a=document.getElementById("react-switch-trade-"+e+"-"+t);return void 0!==a&&a.checked},s.handleOfferSwitch=function(e,t){var a=document.getElementById("react-switch-offer-"+s.props.parentId+"-"+t);if(null!==a){for(var n=document.querySelectorAll("input[type='checkbox']"),o=0;o<n.length;o++)n[o].id.includes("offer-"+t)&&(n[o].checked=a.checked);a.checked||(document.getElementById("react-switch-offer-"+s.props.parentId).checked=a.checked)}},s.handleTradeSwitch=function(e,t){var a=document.getElementById("react-switch-trade-"+s.props.parentId+"-"+t);if(null!==a){for(var n=document.querySelectorAll("input[type='checkbox']"),o=0;o<n.length;o++)n[o].id.includes("trade-"+t)&&(n[o].checked=a.checked);a.checked||(document.getElementById("react-switch-trade-"+s.props.parentId).checked=a.checked)}},s.state={cmodal:!0,reqParams:{productType:""},data1:[],columns1:[],checked:!1},s.switchComponent=s.switchComponent.bind(Object(O.a)(s)),s.switchTradeComponent=s.switchTradeComponent.bind(Object(O.a)(s)),s.expandSubChilds=s.expandSubChilds.bind(Object(O.a)(s)),s.showBookName=s.showBookName.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"showBookName",value:function(e,t,a,s,n){return Object(u.jsx)("span",{className:"drillIcon",style:{marginLeft:30,color:"#319da0",fontWeight:500},children:t.bookName})}},{key:"expandSubChilds",value:function(){var e=this;return{showExpandColumn:!0,expandByColumnOnly:!0,onlyOneExpanding:!1,expandHeaderColumnRenderer:function(e){e.isAnyExpands;return Object(u.jsx)(u.Fragment,{})},expandColumnRenderer:function(e){return e.expanded?Object(u.jsx)("span",{className:"expandicon",children:Object(u.jsx)(B.u,{})}):Object(u.jsx)("span",{className:"expandicon",children:Object(u.jsx)(B.w,{})})},renderer:function(t,a){return Object(u.jsx)("span",{class:"subchildData",id:"subchildData"+t.bookId,children:Object(u.jsx)(hD,{parentId:t.bookId,rowData:t,offerCheck:e.isOfferChecked(t.productType,t.bookId),tradeCheck:e.isTradeChecked(t.productType,t.bookId)})})}}}},{key:"switchComponent",value:function(e,t,a){return Object(u.jsx)(mD,{parentId:t.bookId,changeSwitch:this.handleOfferSwitch,isChecked:this.props.offerCheck,id:"offer-"+t.productType+"-"+t.bookId})}},{key:"switchTradeComponent",value:function(e,t,a){return Object(u.jsx)(mD,{parentId:t.bookId,changeSwitch:this.handleTradeSwitch,isChecked:this.props.tradeCheck,id:"trade-"+t.productType+"-"+t.bookId})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.rowData,a=this.state.reqParams;var s={};s.showBookName=this.showBookName,s.switchComponent=this.switchComponent,s.switchTradeComponent=this.switchTradeComponent,w()({method:"POST",url:N.URL+Pl,timeout:N.apiTimeOut,data:{productType:t.productType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({data1:t.data.prodBookList,columns1:dD(t.data.prodBookList,cD,s,!0)})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this,s=this.props.rowData;if(e!==this.props){var n=this.state.reqParams;n&&n;var o={};o.showBookName=this.showBookName,o.switchComponent=this.switchComponent,o.switchTradeComponent=this.switchTradeComponent,w()({method:"POST",url:N.URL+Pl,timeout:N.apiTimeOut,data:{productType:s.productType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({data1:e.data.prodBookList,columns1:dD(e.data.prodBookList,cD,o,!0)})}))}}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.columns1.length>0&&Object(u.jsx)(Z.a,{data:this.state.data1,expandRow:this.expandSubChilds(),keyField:"subChildName",columns:this.state.columns1,striped:!0,hover:!0,wrapperClasses:"maxheightauto fo2table stptable"})})}}]),a}(o.a.Component),bD=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).isTradeChecked=function(e){var t=document.getElementById("react-switch-trade-"+e);return null!==t&&t.checked},s.isOfferChecked=function(e){var t=document.getElementById("react-switch-offer-"+e);return void 0!==t&&t.checked},s.handleOfferSwitch=function(e,t){var a=document.getElementById("react-switch-offer-"+t);if(null!==a)for(var n=document.querySelectorAll("input[type='checkbox']"),o=0;o<n.length;o++)if(n[o].id.includes("offer-"+t)){n[o].checked=a.checked;var i=n[o].id.split("-")[4];s.checkSubChildList(i,a.checked,"offer")}},s.handleTradeSwitch=function(e,t){var a=document.getElementById("react-switch-trade-"+t);if(null!==a)for(var n=document.querySelectorAll("input[type='checkbox']"),o=0;o<n.length;o++)if(n[o].id.includes("trade-"+t)){n[o].checked=a.checked;var i=n[o].id.split("-")[4];s.checkSubChildList(i,a.checked,"trade")}},s.checkSubChildList=function(e,t,a){for(var s=document.querySelectorAll("input[type='checkbox']"),n=0;n<s.length;n++)s[n].id.includes(a+"-"+e)&&(s[n].checked=t)},s.state={cmodal:!0,reqParams:{productType:""},data:[],columns:[],checked:!1},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.switchComponent=s.switchComponent.bind(Object(O.a)(s)),s.switchTradeComponent=s.switchTradeComponent.bind(Object(O.a)(s)),s.handleSwitchChange=s.handleSwitchChange.bind(Object(O.a)(s)),s.expandChilds=s.expandChilds.bind(Object(O.a)(s)),s.showBookName=s.showBookName.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"expandChilds",value:function(){var e=this;return{showExpandColumn:!0,expandByColumnOnly:!0,onlyOneExpanding:!1,expandHeaderColumnRenderer:function(e){e.isAnyExpands;return Object(u.jsx)(u.Fragment,{})},expandColumnRenderer:function(e){return e.expanded?Object(u.jsx)("span",{className:"expandicon",children:Object(u.jsx)(B.u,{})}):Object(u.jsx)("span",{className:"expandicon",children:Object(u.jsx)(B.w,{})})},renderer:function(t,a){return Object(u.jsx)("span",{className:"childData",id:"childData"+t.productType,children:Object(u.jsx)(uD,{parentId:t.productType,rowData:t,offerCheck:e.isOfferChecked(t.productType),tradeCheck:e.isTradeChecked(t.productType)})})}}}},{key:"handleSwitchChange",value:function(e,t,a){for(var s=document.querySelectorAll("input[type='checkbox']"),n=0;n<s.length;n++)s[n].checked=e;this.setState(Object(g.a)({},a,e))}},{key:"switchComponent",value:function(e,t,a){return Object(u.jsx)(mD,{parentId:t.productType,changeSwitch:this.handleOfferSwitch,id:"offer-"+t.productType})}},{key:"switchTradeComponent",value:function(e,t,a){return Object(u.jsx)(mD,{parentId:t.productType,changeSwitch:this.handleTradeSwitch,id:"trade-"+t.productType})}},{key:"componentDidMount",value:function(){var e=this,t=this.state.reqParams,a="";t&&(a=t);var s={};s.showBookName=this.showBookName,s.switchComponent=this.switchComponent,s.switchTradeComponent=this.switchTradeComponent,w()({method:"POST",url:N.URL+Pl,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data.productList.length>0&&e.setState({data:t.data,columns:dD(t.data.productList,lD,s,!1)})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(e!==this.props){var s=this.state.reqParams,n="";s&&(n=s);var o={};o.showBookName=this.showBookName,o.switchComponent=this.switchComponent,o.switchTradeComponent=this.switchTradeComponent,w()({method:"POST",url:N.URL+Pl,timeout:N.apiTimeOut,data:n,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({}),e.data.productList.length>0&&a.setState({data:e.data,columns:dD(e.data.productList,lD,o,!1)})}))}}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"showBookName",value:function(e,t,a,s,n){t.level;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("span",{className:"drillIcon",style:{color:"#42855b",fontWeight:500},children:t.productName})})}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsx)(ai.a.Body,{children:this.state.columns.length>0?Object(u.jsxs)("div",{className:"col-md-8",children:[Object(u.jsxs)(H.a,{md:"3",children:[Object(u.jsx)(W.a,{}),Object(u.jsx)(W.a,{className:"text-right",children:Object(u.jsx)(ni,{label:"Stop All",id:"Stopall"})}),Object(u.jsx)(W.a,{children:Object(u.jsx)(Y.a,{onChange:this.handleSwitchChange,id:"stopAll",checked:this.state.stopAll})})]}),Object(u.jsx)(Z.a,{data:this.state.data.productList,expandRow:this.expandChilds(),keyField:"productName",columns:this.state.columns,striped:!0,hover:!0,wrapperClasses:"maxheightauto fo2table stptable"})]}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."})})]})})}}]),a}(o.a.Component),pD=[];function jD(e,t,a,s){var n=[];return Object.keys(t).map((function(s){return Object.keys(e[0]).map((function(e){var o;e===s&&(t[e]&&(o=a&&e===_e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.imgComponent(t,s,n,o,e)}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1},n.push(o)));return""})),""})),n}pD.check=Oa,pD.acctName=Xe,pD.shortName=Ls,pD.masterAccount=va,pD.acctType=ne,pD.socialCode=Js;var xD,fD,gD=[],OD=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getDefaultScValues=function(e,t){s.setState({socialId:e}),gD.socialId=e},s.getDefaultAcctValues=function(e,t){s.setState({acctTypeId:e}),gD.acctTypeId=e},s.doSave=function(e){var t="";if(""===gD.acctName||void 0===gD.acctName?t="Please Enter Client Firm Name":""===gD.shortName||void 0===gD.shortName?t="Please Enter Short Name":""!==gD.masterAccount&&void 0!==gD.masterAccount||(t="Please Enter Master Account"),void 0!==gD.masterAccount&&!1===Bo(gD.masterAccount,"1234567890")&&(t="Please enter valid  Master Account"),t)return s.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1;s.setState({actionTitle:"New Save",actionMessage:"Are you sure, you want to save the data ?",alertShow:!0,actionFlag:"SAVE",apiUrl:e})},s.postData=function(e,t){w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(xD=e.data),s.props.onHide(xD)}))},s.clearState=function(){s.setState({masterData:[],respMessage:""})},s.hideAlert=function(){s.setState({alertShow:!1})},s.hideError=function(){s.setState({showError:!1})},s.state={socialId:"",masterData:[],acctTypeId:"",alertShow:!1,errorMessage:"",showError:!1,checkMessage:""},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){gD=[],this.clearState()}},{key:"componentDidUpdate",value:function(e,t){e!==this.props&&this.setState({checkMessage:""})}},{key:"onContentChange",value:function(e,t){"acctName"===t&&(gD[t]=e.target.value),"shortName"===t&&(gD[t]=e.target.value),"masterAccount"===t&&(gD[t]=e.target.value),"remarks"===t&&(gD[t]=e.target.value)}},{key:"onFieldChange",value:function(e,t){"socialId"===t?this.setState({socialId:e.target.value}):"acctTypeId"===t&&this.setState({acctTypeId:e.target.value}),gD[t]=e.target.value}},{key:"confirmAction",value:function(e){if("SAVE"===e){this.setState({alertShow:!1,checkMessage:""});var t={};Object.keys(gD).map((function(e){t[e]=gD[e]})),this.postData(t,fD)}}},{key:"checkMasterAccount",value:function(e,t){var a=this;if(this.setState({checkMessage:""}),gD.masterAccount!==e.target.value){var s={};s.masterAccount=e.target.value,gD.masterAccount=e.target.value,fD=$l,w()({method:"POST",url:N.URL+$l,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&a.setState({checkMessage:e.data})}))}}},{key:"handleClear",value:function(){document.getElementById("acctName")&&(document.getElementById("acctName").value=""),document.getElementById("shortName")&&(document.getElementById("shortName").value=""),document.getElementById("masterAccount")&&(document.getElementById("masterAccount").value=""),document.getElementById("remarks")&&(document.getElementById("remarks").value="")}},{key:"render",value:function(){var e=this,t=this.props,a=t.modalHead,s=t.editData;return void 0!==s&&""!==s?(gD=this.props.editData,fD="/editAccountDetails"):fD="/newAccountDetails",a&&Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,size:this.props.size,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.modalHead})}),Object(u.jsxs)(P.a.Body,{children:[Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um}),void 0!==this.state.checkMessage&&""!==this.state.checkMessage?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.checkMessage}):"",Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Xe,id:"lbl_acctName"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"acctName",id:"acctName",value:s.acctName,className:"text-left",onBlur:function(t){e.onContentChange(t,"acctName")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Ls,id:"lbl_shortName"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"shortName",id:"shortName",value:s.shortName,className:"text-left",onBlur:function(t){e.onContentChange(t,"shortName")}})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:va,id:"lbl_masterAccount"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"masterAccount",id:"masterAccount",value:s.masterAccount,className:"text-left",onBlur:function(t){e.checkMasterAccount(t,"masterAccount")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:ne,id:"lbl_acctTypeId"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:"/getAccountTypes",reqParams:{},onchange:function(t){e.onFieldChange(t,"acctTypeId")},selected:s.acctTypeId,stateMethod:this.getDefaultAcctValues,id:"acctTypeId"})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Js,id:"lbl_socialId"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:"/getSocialCodesMap",reqParams:{},onchange:function(t){e.onFieldChange(t,"socialId")},selected:s.socialId,stateMethod:this.getDefaultScValues,id:"socialId"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Ca,id:"lbl_remarks"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"remarks",id:"remarks",value:s.remarks,className:"text-left",onBlur:function(t){e.onContentChange(t,"remarks")}})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{className:"text-center",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"save",onClick:function(t){e.doSave(fD)},children:"Save"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"clear",onClick:function(t){e.handleClear()},children:"Clear"})]})})]}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})}}]),a}(o.a.Component),vD=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).hideNewLayer=function(e){s.setState({respMessage:e,newlayer:!1,updateData:!0})},s.editAccount=function(e){s.setState({actionTitle:"Edit",actionMessage:"Are you sure, that you want to edit the data? ",alertShow:!0,actionFlag:"EDIT",editMasterAccountData:e,updateData:!1,respMessage:""})},s.deleteAccount=function(e){s.setState({actionTitle:"Delete",actionMessage:"Are you sure, you want to delete the data ?",alertShow:!0,actionFlag:"DELETE",deleteData:e,updateData:!1,respMessage:""})},s.hideAlert=function(){s.setState({alertShow:!1,updateData:!0})},s.state={cmodal:!0,respMessage:"",editMasterAccountData:[],actionTitle:"",actionMessage:"",alertShow:!1,actionFlag:"",newlayer:!1,updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.createNew=s.createNew.bind(Object(O.a)(s)),s.imgComponent=s.imgComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Br&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"createNew",value:function(){this.setState({actionTitle:"New",actionMessage:"Are you sure, you want to create new account ?",alertShow:!0,actionFlag:"NEW",editMasterAccountData:"",updateData:!1,respMessage:""})}},{key:"imgComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("button",{id:n+a,href:"javascript:void(0);",className:"btn btn-link",onClick:function(e){o.editAccount(t)},children:[Object(u.jsx)(B.o,{})," "]}),Object(u.jsx)("button",{id:n+a,href:"javascript:void(0);",className:"btn btn-link",onClick:function(e){o.deleteAccount(t)},children:Object(u.jsx)(B.y,{})})]})}},{key:"confirmAction",value:function(e){var t=this;"DELETE"===e?(this.setState({alertShow:!1}),w()({method:"POST",url:N.URL+"/deleteAccountDetails",timeout:N.apiTimeOut,data:{acctNbr:this.state.deleteData.acctNbr},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&t.setState({respMessage:e.data,updateData:!0})}))):("EDIT"===e||"NEW"===e)&&this.setState({alertShow:!1,newlayer:!0})}},{key:"render",value:function(){var e=this,t={};return t.imgComponent=this.imgComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsxs)("strong",{className:"cursor",children:[Object(u.jsx)("div",{className:"d-inline-block col-md-10",children:"View/Edit Master Accounts"}),Object(u.jsxs)("div",{className:"d-inline-block cross",id:"new",onClick:function(t){e.createNew()},children:[be," New"]}),Object(u.jsx)("div",{className:"d-inline-block float-right cross",onClick:this.closemodel,children:"X"})]})}),void 0!==this.state.respMessage&&""!==this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:pD,apiCall:"/getMasterAcount",reqParams:{"":""},keyField:"uploadId",mappings:jD,updateData:this.state.updateData,customComponents:t,screenName:"VIEWEDIT_MASTERACCOUNT",flagPdf:!0})})}),Object(u.jsx)(OD,{size:"lg",show:this.state.newlayer,onHide:this.hideNewLayer,modalHead:this.state.editMasterAccountData?"Edit Account":"New Account",editData:this.state.editMasterAccountData}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})})}}]),a}(o.a.Component),yD=[];function kD(e,t,a,s){var n=[];return Object.keys(t).map((function(s){return Object.keys(e[0]).map((function(e){var o;e===s&&(t[e]&&(o=a&&e===_e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.imgComponent(t,s,n,o,e)}}:!a||"positionLimit"!==e&&"thresHold"!==e?a&&"issuerName"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),align:"left",formatter:function(t,s,n,o){return a.tooltipComponent(t,s,n,o,e)}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.amountComponent(t,s,n,o,e)},align:"right"},n.push(o)));return""})),""})),n}yD.check=Oa,yD.issuerCode=Zt,yD.issuerName=Jt,yD.issuerAccount=Qt,yD.masterAccount=va,yD.positionLimit="Position Limit",yD.thresHold=mn,yD.phone1=Ln,yD.phone1=Ln,yD.email=Un,yD.groupEmail="Group Email";var DD,CD,ND=[],SD=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getDefaultCountryValues=function(e,t){s.setState({countryCode:e})},s.getDefaultParentValues=function(e,t){s.setState({parentIssuer:e})},s.onContentChange=function(e,t){"issuerName"===t&&(ND[t]=e.target.value),"issuerCode"===t&&(ND[t]=e.target.value),"issuerAccount"===t&&(ND[t]=e.target.value),"positionLimit"===t&&(ND[t]=Po(e.target.value)),"thresHold"===t&&(ND[t]=Po(e.target.value)),"countryCode"===t&&(ND[t]=e.target.value),"phone1"===t&&(ND[t]=e.target.value),"email"===t&&(ND[t]=e.target.value),"groupEmail"===t&&(ND[t]=e.target.value)},s.onFieldChange=function(e,t){"parentIssuer"===t&&s.setState({parentIssuer:e.target.value}),"countryCode"===t&&s.setState({countryCode:e.target.value}),ND[t]=e.target.value},s.doSave=function(e){var t="";if(void 0===ND.groupEmail||""===ND.groupEmail?t="Please enter Group Email Address":void 0!==ND.groupEmail&&""!==ND.groupEmail&&(-1==ND.groupEmail.indexOf("@")&&(t="Please enter valid Group Email Address, Group Email with out an @ is not a valid Group Email Address"),Bo(ND.groupEmail,"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_@-.")?Bo(ND.groupEmail,"0123456789.@")&&(t="Please enter valid Group Email Address"):t="Please enter valid Group Email Address",ND.groupEmail.indexOf("@")!=ND.groupEmail.lastIndexOf("@")&&(t="Please enter valid Group Email Address"),-1!=ND.groupEmail.indexOf(" ")&&(t="Please enter valid Group Email Address"),-1==ND.groupEmail.indexOf(".")&&(t="Please enter valid Group Email Address"),ND.groupEmail.lastIndexOf(".")==ND.groupEmail.length-1&&(t="Please enter valid Group Email Address"),ND.groupEmail.indexOf("@")==ND.groupEmail.length-1&&(t="Please enter valid Group Email Address"),ND.groupEmail.indexOf("@")!=ND.groupEmail.indexOf(".")-1&&ND.groupEmail.indexOf(".")!=ND.groupEmail.indexOf("@")-1||(t="Please enter valid Group Email Address"),0!=ND.groupEmail.indexOf("@")&&0!=ND.groupEmail.indexOf(".")||(t="Please enter valid Group Email Address"),-1!=ND.groupEmail.indexOf("..")&&(t="Please enter valid Group Email Address"),-1!=ND.groupEmail.indexOf(".")&&ND.groupEmail.lastIndexOf(".")<ND.groupEmail.lastIndexOf("@")&&(t="Please enter valid Group Email Address")),""===ND.issuerName||void 0===ND.issuerName?t="Please Enter Issuer":""===ND.issuerCode||void 0===ND.issuerCode?t="Please Enter Issuer Code":""===ND.issuerAccount||void 0===ND.issuerAccount?t="Please Enter Issuer Account":""===ND.masterAccount||void 0===ND.masterAccount?t="Please Enter Master Account":""===ND.positionLimit||void 0===ND.positionLimit?t="Please Enter Position Limit ($m)":""===ND.thresHold||void 0===ND.thresHold?t="Please Enter Threshold($m)":parseFloat(ND.positionLimit)<parseFloat(ND.thresHold)?t="Position Limit should be greater than Threshold":void 0===ND.phone1?t="Please enter valid Phone Number":isNaN(parseFloat(ND.phone1))?t="Please enter valid Phone numbers only":10!==ND.phone1.length?t="Please enter valid Phone numbers(max 10 Number)":void 0===ND.email||""===ND.email?t="Please enter E-Mail Address":void 0!==ND.email&&""!==ND.email?(-1==ND.email.indexOf("@")&&(t="Please enter valid E-Mail Address, Email with out an @ is not a valid E-Mail Address"),Bo(ND.email,"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_@-.")?Bo(ND.email,"0123456789.@")&&(t="Please enter valid E-Mail Address"):t="Please enter valid E-Mail Address",ND.email.indexOf("@")!=ND.email.lastIndexOf("@")&&(t="Please enter valid E-Mail Address"),-1!=ND.email.indexOf(" ")&&(t="Please enter valid E-Mail Address"),-1==ND.email.indexOf(".")&&(t="Please enter valid E-Mail Address"),ND.email.lastIndexOf(".")==ND.email.length-1&&(t="Please enter valid E-Mail Address"),ND.email.indexOf("@")==ND.email.length-1&&(t="Please enter valid E-Mail Address"),ND.email.indexOf("@")!=ND.email.indexOf(".")-1&&ND.email.indexOf(".")!=ND.email.indexOf("@")-1||(t="Please enter valid E-Mail Address"),0!=ND.email.indexOf("@")&&0!=ND.email.indexOf(".")||(t="Please enter valid E-Mail Address"),-1!=ND.email.indexOf("..")&&(t="Please enter valid E-Mail Address"),-1!=ND.email.indexOf(".")&&ND.email.lastIndexOf(".")<ND.email.lastIndexOf("@")&&(t="Please enter valid E-Mail Address")):void 0!==ND.issuerAccount?!1===Bo(ND.issuerAccount,"1234567890")&&(t="Please enter valid  Issuer Account"):void 0!==ND.masterAccount&&!1===Bo(ND.masterAccount,"1234567890")&&(t="Please enter valid  Master Account"),t)return s.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1;ND.positionLimit=Po(ND.positionLimit),ND.thresHold=Po(ND.thresHold),s.setState({actionTitle:"New Save",actionMessage:"Are you sure, you want to save the issuer?",alertShow:!0,actionFlag:"SAVE",apiUrl:e})},s.postData=function(e,t){w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&s.setState({respMessage:e.data}),s.props.onHide(s.state.respMessage)}))},s.hideAlert=function(){s.setState({alertShow:!1})},s.hideError=function(){s.setState({showError:!1})},s.clearState=function(){s.setState({respMessage:"",checkMessage:""})},s.state={selectData:"",respMessage:"",masterData:[],checkMessage:""},s}return Object(l.a)(a,[{key:"handleClear",value:function(){document.getElementById("parentIssuer")&&(document.getElementById("parentIssuer").value="none"),document.getElementById("countryCode")&&(document.getElementById("countryCode").value="US"),document.getElementById("issuerCode")&&(document.getElementById("issuerCode").value=""),document.getElementById("issuerName")&&(document.getElementById("issuerName").value=""),document.getElementById("issuerAccount")&&(document.getElementById("issuerAccount").value=""),document.getElementById("positionLimit")&&(document.getElementById("positionLimit").value=""),document.getElementById("thresHold")&&(document.getElementById("thresHold").value=""),document.getElementById("masterAccount")&&(document.getElementById("masterAccount").value=""),document.getElementById("phone1")&&(document.getElementById("phone1").value=""),document.getElementById("email")&&(document.getElementById("email").value=""),document.getElementById("groupEmail")&&(document.getElementById("groupEmail").value=""),this.setState({countryCode:"US"})}},{key:"onOfferChange",value:function(e){if(""!==e.target.value)return _o(e)}},{key:"confirmAction",value:function(e){if("SAVE"===e){this.setState({alertShow:!1});var t={};Object.keys(ND).map((function(e){t[e]=ND[e]})),t.parentIssuer=this.state.parentIssuer,t.countryCode=this.state.countryCode,this.postData(t,DD)}}},{key:"checkIssuerName",value:function(e,t){var a=this;this.setState({checkMessage:""});var s={};ND.issuerName!==e.target.value&&(s.issuerName=e.target.value,ND.issuerName=e.target.value,DD=Jl,w()({method:"POST",url:N.URL+Jl,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&a.setState({checkMessage:e.data})})))}},{key:"checkIssuerCode",value:function(e,t){var a=this;this.setState({checkMessage:""});var s={};ND.issuerCode!==e.target.value&&(s.issuerCode=e.target.value,ND.issuerCode=e.target.value,DD=Ql,w()({method:"POST",url:N.URL+Ql,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&a.setState({checkMessage:e.data})})))}},{key:"checkIssuerAccount",value:function(e,t){var a=this;this.setState({checkMessage:""});var s={};s.issuerAccount=e.target.value,ND.issuerAccount=e.target.value,DD=Xl,w()({method:"POST",url:N.URL+Xl,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&a.setState({checkMessage:e.data})}))}},{key:"checkMasterAcct",value:function(e,t){var a=this;this.setState({checkMessage:""});var s={};s.masterAccount=e.target.value,ND.masterAccount=e.target.value,DD=Kl,w()({method:"POST",url:N.URL+Kl,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&a.setState({checkMessage:e.data})}))}},{key:"componentDidUpdate",value:function(e,t){t!==this.state&&(this.state.checkMessage="")}},{key:"render",value:function(){var e=this,t=this.props,a=t.modalHead,s=t.editIssuerData;return void 0!==s&&""!==s?(ND=this.props.editIssuerData,DD="/editMasterIssuerDetails"):DD="/newMasterIssuerDetails",a&&Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,size:this.props.size,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.modalHead})}),Object(u.jsxs)(P.a.Body,{children:[Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um}),void 0!==this.state.checkMessage&&""!==this.state.checkMessage?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.checkMessage}):"",Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Kt,id:"lbl_issuerName"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"issuerName",id:"issuerName",value:s?s.issuerName:"",className:"text-left",onBlur:function(t){e.checkIssuerName(t,"issuerName")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Zt,id:"lbl_issuerCode"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"issuerCode",id:"issuerCode",value:s?s.issuerCode:"",className:"text-left",onBlur:function(t){e.checkIssuerCode(t,"issuerCode")}})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Qt,id:"lbl_issuerAccount"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"issuerAccount",id:"issuerAccount",value:s?s.issuerAccount:"",className:"text-left",onBlur:function(t){e.checkIssuerAccount(t,"issuerAccount")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:va,id:"lbl_masterAccount"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"masterAccount",id:"masterAccount",value:s?s.masterAccount:"",className:"text-left",onBlur:function(t){e.checkMasterAcct(t,"masterAccount")}})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:ds,id:"lbl_positionLimit"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"positionLimit",id:"positionLimit",value:s?Lo(s.positionLimit):"",className:"text-left",onBlur:function(t){e.onOfferChange(t),e.onContentChange(t,"positionLimit")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:un,id:"lbl_threshold"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"thresHold",id:"thresHold",value:s?Lo(s.thresHold):"",className:"text-left",onBlur:function(t){e.onOfferChange(t),e.onContentChange(t,"thresHold")}})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Parent Issuer",id:"lbl_parentIssuer"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:"/getParentIssuerMap",reqParams:{All:"true"},onchange:function(t){e.onFieldChange(t,"parentIssuer")},selected:s.parentIssuer,stateMethod:this.getDefaultParentValues,id:"parentIssuer"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:bo,id:"lbl_country"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Sc,reqParams:{All:"false"},onchange:function(t){e.onFieldChange(t,"countryCode")},selected:s?s.countryCode:this.state.countryCode,stateMethod:this.getDefaultCountryValues,id:"countryCode"})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Phone",id:"lbl_phone"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"phone1",id:"phone1",value:s?s.phone1:"",className:"text-left",onBlur:function(t){e.onContentChange(t,"phone1")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Email",id:"lbl_email"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"email",id:"email",value:s?s.email:"",className:"text-left",onBlur:function(t){e.onContentChange(t,"email")}})})]})]}),Object(u.jsx)(H.a,{md:2,children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Group Email",id:"lbl_groupEmail"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"groupEmail",id:"groupEmail",value:s?s.groupEmail:"",className:"text-left",onBlur:function(t){e.onContentChange(t,"groupEmail")}})})]})}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{className:"text-center",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"save",onClick:function(t){e.doSave(DD)},children:"Save"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"clear",onClick:function(t){e.handleClear()},children:"Clear"})]})})]}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})}}]),a}(o.a.Component),wD=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).hideNewLayer=function(e){s.setState({respMessage:e,newlayer:!1,updateData:!0,editIssuerData:[]})},s.getDefaultValues=function(e,t){s.setState({issuerId:"All",countryCodeCC:"All",updateData:!1})},s.issuerChange=function(e){var t;s.setState((t={},Object(g.a)(t,e.target.id,e.target.value),Object(g.a)(t,"respMessage",""),Object(g.a)(t,"updateData",!0),t))},s.countryChange=function(e){var t;s.setState((t={},Object(g.a)(t,e.target.id,e.target.value),Object(g.a)(t,"respMessage",""),Object(g.a)(t,"updateData",!0),t))},s.editIssuer=function(e){s.setState({actionTitle:"Edit",actionMessage:"Are you sure, you want to edit the issuer?",alertShow:!0,actionFlag:"EDIT",editIssuerData:e,updateData:!1,respMessage:""})},s.deleteIssuer=function(e){s.setState({actionTitle:"Delete",actionMessage:"Are you sure, you want to delete the issuer ?",alertShow:!0,actionFlag:"DELETE",deleteData:e,updateData:!1,respMessage:""})},s.hideAlert=function(){s.setState({alertShow:!1})},s.state={cmodal:!0,respMessage:"",editIssuerData:[],deleteData:"",updateData:!0,newlayer:!1},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.createNew=s.createNew.bind(Object(O.a)(s)),s.imgComponent=s.imgComponent.bind(Object(O.a)(s)),s.amountComponent=s.amountComponent.bind(Object(O.a)(s)),s.tooltipComponent=s.tooltipComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Br&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"createNew",value:function(){this.setState({actionTitle:"New Creation",actionMessage:"Are you sure, you want to Create New Issuer?",alertShow:!0,actionFlag:"NEW",editIssuerData:"",updateData:!1,respMessage:""})}},{key:"amountComponent",value:function(e,t,a,s){return Lo(e)}},{key:"imgComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{href:"javascript:void(0);",className:"btn btn-link",onClick:function(e){o.editIssuer(t)},id:n+a,children:Object(u.jsx)(B.o,{})}),Object(u.jsx)("button",{href:"javascript:void(0);",className:"btn btn-link",onClick:function(e){return o.deleteIssuer(t)},id:n+a,children:Object(u.jsx)(B.y,{})})]})}},{key:"tooltipComponent",value:function(e,t,a,s,n){return Object(u.jsx)("div",{className:"wt-ellipsis",children:Object(u.jsx)(Hp,{action:e,placement:"left",children:Object(u.jsx)("span",{children:e})})})}},{key:"confirmAction",value:function(e){var t=this;"DELETE"===e?(this.setState({alertShow:!1}),w()({method:"POST",url:N.URL+"/deleteMasterIssuerDetails",timeout:N.apiTimeOut,data:{issuerId:this.state.deleteData.issuerId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&t.setState({respMessage:e.data,updateData:!0})}))):("EDIT"===e||"NEW"===e)&&this.setState({alertShow:!1,newlayer:!0})}},{key:"render",value:function(){var e=this,t={};return t.imgComponent=this.imgComponent,t.amountComponent=this.amountComponent,t.tooltipComponent=this.tooltipComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsxs)("strong",{className:"cursor",children:[Object(u.jsx)("div",{className:"d-inline-block col-md-2",children:dd}),Object(u.jsx)("div",{className:"d-inline-block cross col-md-7",children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:1,className:"d-inline-block",children:Object(u.jsx)(ni,{label:bo,id:"lbl_Country",className:"text-white"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Sc,reqParams:{All:"true"},onchange:this.countryChange,selected:this.state.countryCodeCC,stateMethod:this.getDefaultValues,id:"countryCodeCC"})}),Object(u.jsx)(W.a,{xs:1,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Jt,id:"lbl_issuerId",className:"text-white"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Si,reqParams:{All:"true",countryCode:this.state.countryCodeCC},onchange:this.issuerChange,selected:this.state.issuerId,stateMethod:this.getDefaultValues,id:"issuerId"})})]})}),Object(u.jsxs)("div",{className:"d-inline-block cross",onClick:this.createNew,children:[be," New"]}),Object(u.jsx)("div",{className:"d-inline-block float-right cross",onClick:this.closemodel,children:"X"})]})}),void 0!==this.state.respMessage&&""!==this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",Object(u.jsx)(ai.a.Body,{children:this.state.countryCodeCC||this.state.issuerId?Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:yD,apiCall:_l,reqParams:{countryCode:this.state.countryCodeCC,issuerId:this.state.issuerId},keyField:"uploadId",mappings:kD,updateData:this.state.updateData,customComponents:t,screenName:"VIEWEDIT_ISSUERS",flagPdf:!0})}):Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})})}),Object(u.jsx)(SD,{size:"lg",show:this.state.newlayer,onHide:this.hideNewLayer,modalHead:this.state.editIssuerData?"Edit Issuer Details":"New Issuer Details",editIssuerData:this.state.editIssuerData}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})})}}]),a}(o.a.Component),TD={},ID=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).msgTimeOut=function(e){setTimeout((function(){s.setState({responseMessage:"",responseNewMessage:"",updateData:!1})}),5e3),s.setState({updateData:!0})},s.state={cmodal:!0,book:"",ticker:"",bookId:"",tickerId:"",screenName:"Offerings",issueId:"",issuerId:"",selectedBookId:"",responseMessage:"",actionTitle:{},actionMessage:{},alertShow:!1,actionFlag:"",mapData:[],showError:!1,updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.newCommitment=s.newCommitment.bind(Object(O.a)(s)),s.bookChange=s.bookChange.bind(Object(O.a)(s)),s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.checkBoxComponent=s.checkBoxComponent.bind(Object(O.a)(s)),s.onCheckboxClick=s.onCheckboxClick.bind(Object(O.a)(s)),s.offerTextBoxComponent=s.offerTextBoxComponent.bind(Object(O.a)(s)),s.limitTextBoxComponent=s.limitTextBoxComponent.bind(Object(O.a)(s)),s.actionComponent=s.actionComponent.bind(Object(O.a)(s)),s.onOfferChange=s.onOfferChange.bind(Object(O.a)(s)),s.onLimitChange=s.onLimitChange.bind(Object(O.a)(s)),s.editCommitment=s.editCommitment.bind(Object(O.a)(s)),s.convert=s.convert.bind(Object(O.a)(s)),s.noWebSocket=s.noWebSocket.bind(Object(O.a)(s)),s.returnMethod=s.returnMethod.bind(Object(O.a)(s)),s.onAmountKey=s.onAmountKey.bind(Object(O.a)(s)),s.openAlert=s.openAlert.bind(Object(O.a)(s)),s.hideAlert=s.hideAlert.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s.getDefaultBookValues=s.getDefaultBookValues.bind(Object(O.a)(s)),s.getDefaultTickerValues=s.getDefaultTickerValues.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.setScreenData=s.setScreenData.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Lr&&this.setState({cmodal:!0,updateData:!1})}},{key:"componentDidMount",value:function(){var e=this;w()({method:"POST",url:N.URL+ac,timeout:N.apiTimeOut,data:{productType:Wh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({message:t.data,updateData:!0})}))}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1}),this.props.onRemove(this.props.linkname)}},{key:"newCommitment",value:function(){void 0===this.state.message||""===this.state.message?this.setState({screenName:"NEW",updateData:!1}):this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"bookChange",value:function(e){this.setState({responseMessage:"",responseNewMessage:"",bookId:e.target.value,updateData:!0})}},{key:"tickerChange",value:function(e){var t=document.getElementById("ticker"),a=t.options[t.selectedIndex].text;"All Tickers"===a&&(a="All"),this.setState({responseMessage:"",responseNewMessage:"",ticker:a,tickerId:e.target.value,updateData:!0})}},{key:"onCheckboxClick",value:function(e,t,a,s){void 0===this.state.message||""===this.state.message?(TD={ticker:a.ticker,issueId:e,bookId:a.bookId,offer:Po(a.offer),offerRate:Po(document.getElementById("offer"+t).value),offeringlimit:Po(document.getElementById("limit"+t).value)},s.target.checked&&this.setState({actionTitle:rm,actionMessage:hm,alertShow:!0,actionFlag:"DELETE",updateData:!1})):this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"onOfferChange",value:function(e,t,a,s,n){!1===Bo(e.target.value,"1234567890.")?(this.setState({actionTitle:"Alert",actionMessage:Vm,showError:!0,updateData:!1}),e.target.value=a,e.target.focus()):(""!==e.target.value&&_o(e),TD={ticker:s.ticker,issueId:t,bookId:s.bookId,offer:Po(s.offer),offerRate:Po(e.target.value),offeringlimit:null!==document.getElementById("limit"+n)&&Po(document.getElementById("limit"+n).value)})}},{key:"onLimitChange",value:function(e,t,a,s,n){!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?(this.setState({actionTitle:"Alert",actionMessage:Um,showError:!0,updateData:!1}),e.target.value=a,e.target.focus()):(Uo(e),TD={ticker:s.ticker,issueId:t,bookId:s.bookId,offer:Po(s.offer),offerRate:Po(document.getElementById("offer"+n).value),offeringlimit:Po(e.target.value)})}},{key:"fieldComponent",value:function(e,t,a,s){var n=s.colId;return"0000"===t.refIssueId||"Issuer"===n||"SD"===n||"Range"===n||"Scale"===n?"Offer Quant($m)"===n?Lo(e):e:void 0}},{key:"checkBoxComponent",value:function(e,t,a,s){var n=this,o="issueId"+a;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(s){n.onCheckboxClick(e,a,t,s)}})})}},{key:"offerTextBoxComponent",value:function(e,t,a,s){var n=this,o="offer"+a;return Object(u.jsx)(Eu,{name:o,id:o,value:e,onBlur:function(e){n.onOfferChange(e,t.issueId,t.offer,t,a)},onKeyPress:function(e){n.onAmountKey(e,t.issueId,"Offer",t,a)},className:"text-right"})}},{key:"limitTextBoxComponent",value:function(e,t,a,s){var n=this,o="limit"+a;return e=Lo(e),"0000"===t.refIssueId?Object(u.jsx)(Eu,{name:o,id:o,value:e,onBlur:function(e){n.onLimitChange(e,t.issueId,t.offeringlimit,t,a)},onKeyPress:function(e){n.onAmountKey(e,t.issueId,"Limit",t,a)},className:"text-right"}):void 0}},{key:"actionComponent",value:function(e,t,a,s){var n=this;if("0000"===t.refIssueId)return Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"btn btn-link",id:"edit"+a,onClick:function(){n.editCommitment(e)},style:{marginRight:"0.5em",marginLeft:"1em"},children:Object(u.jsx)("img",{src:"/omsservice/images/edit-icon.png",alt:"edit"})})},a)}},{key:"editCommitment",value:function(e){void 0===this.state.message||""===this.state.message?this.setState({screenName:"Edit",issueId:e}):this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"convert",value:function(e,t,a){void 0===this.state.message||""===this.state.message?this.setState({screenName:"Convert",issueId:e,issuerId:t,selectedBookId:a,updateData:!1}):this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"noWebSocket",value:function(e){this.setState({screenName:"NoWebSocket",issueId:e,updateData:!1})}},{key:"returnMethod",value:function(e,t,a){this.msgTimeOut(),this.setState({screenName:"Offerings",responseMessage:"",responseNewMessage:e,updateData:!1,tickerId:t,selTicker:a})}},{key:"onAmountKey",value:function(e,t,a,s,n){if(this.setState({responseNewMessage:""}),void 0===this.state.message||""===this.state.message){var o=this.state;o.bookId,o.ticker;if("Enter"===e.key){var i,l=!0;0!==(TD={ticker:s.ticker,issueId:t,bookId:s.bookId,offer:Po(s.offer),offerRate:Po(document.getElementById("offer"+n).value),offeringlimit:null!==document.getElementById("limit"+n)&&Po(document.getElementById("limit"+n).value)}).offeringlimit.length&&0!==parseFloat(TD.offeringlimit)||(l=!1,i=Um),0!==TD.offerRate.length&&0!==parseFloat(TD.offerRate)||(l=!1,i=Vm),"Limit"===a&&parseFloat(Po(e.target.value))>=parseFloat(s.minimumPieceSize)&&parseFloat(Po(e.target.value))<=parseFloat(Po(s.availableCredit))||"Offer"===a&&parseFloat(Po(s.availableToday))>=parseFloat(s.minimumPieceSize)&&parseFloat(Po(s.availableToday))<=parseFloat(Po(s.availableCredit))?l?this.setState({actionTitle:"Publish",actionMessage:"Are you sure, you want to Publish the Commitment ?",alertShow:!0,actionFlag:"PUBLISH",updateData:!1}):this.setState({actionTitle:"Alert",actionMessage:i,showError:!0,updateData:!1}):(!1,i="Amount Should be greater than or equal to ("+s.minimumPieceSize+") and less than or equal to Unsold Amount",this.setState({actionTitle:"Alert",actionMessage:i,showError:!0,updateData:!1}))}}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"openAlert",value:function(){this.setState({alertShow:!0,updateData:!1})}},{key:"hideAlert",value:function(){this.setState({alertShow:!1,updateData:!0})}},{key:"confirmAction",value:function(e){var t=this;if("DELETE"===e){this.setState({alertShow:!1});var a=[{}];a[0]=TD.issueId;var s=[{}];s[0]=TD.bookId;var n=[{}];n[0]=TD.ticker,w()({method:"POST",url:N.URL+ui,timeout:N.apiTimeOut,data:{issues:a,bookId:s,ticker:n},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){void 0!==e.data[0].responseMessage&&e.data[0].responseMessage.length>0&&(t.msgTimeOut(),t.setState({responseMessage:e.data[0].responseMessage,updateData:!0})),t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}))}else"PUBLISH"===e&&(this.setState({alertShow:!1}),w()({method:"POST",url:N.URL+hl,timeout:N.apiTimeOut,data:TD,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){void 0!==e.data[0].responseMessage&&e.data[0].responseMessage.length>0&&(t.msgTimeOut(),t.setState({responseMessage:e.data[0].responseMessage,updateData:!0})),t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})})))}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All",updateData:!1})}},{key:"getDefaultTickerValues",value:function(e,t){this.setState({tickerId:e,updateData:!1})}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"setScreenData",value:function(e){CD=e}},{key:"render",value:function(){var e=this,t={};return t.checkBoxComponent=this.checkBoxComponent,t.offerTextBoxComponent=this.offerTextBoxComponent,t.limitTextBoxComponent=this.limitTextBoxComponent,t.actionComponent=this.actionComponent,t.fieldComponent=this.fieldComponent,Object(u.jsx)(u.Fragment,{children:"Offerings"===this.state.screenName?Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),void 0!==this.state.message&&this.state.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.state.message}):"",Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:3,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:Se,id:"lbl_investor"}),":"]}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Wh,allFlag:"true"},onchange:this.bookChange,selected:this.state.bookId,stateMethod:this.getDefaultBookValues,id:"bookId"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:3,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:cn,id:"lbl_investor"}),":"]}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:ji,reqParams:{tickerId:this.state.tickerId,bookId:this.state.bookId,productType:Wh,All:"true"},onchange:this.tickerChange,selected:this.state.tickerId,id:"ticker",stateMethod:this.getDefaultTickerValues})})]}),Object(u.jsx)(W.a,{className:"d-inline-block text-center",children:Object(u.jsx)(D.a,{id:"newCommitment",size:"sm",onClick:this.newCommitment,children:"New Commitment"})})]}),this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",this.state.responseNewMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseNewMessage})}):"",Object(u.jsx)(H.a,{children:""!==this.state.responseNewMessage?Object(u.jsx)(u.Fragment,{children:this.state.tickerId&&Object(u.jsx)(Yb,{cprops:FO,apiCall:ar,updateData:this.state.updateData,wsUrl:!0,reqParams:{ticker:this.state.selTicker,book:this.state.bookId,prodType:Wh,socketSource:"OFFERINGS"},edit:!0,fixedTable:!0,mappings:MO,customComponents:t,calBack:this.setScreenData,mapdata:CD,keyField:"issueId",fromPage:"Offerings",excelFlag:"true"})}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(Yb,{cprops:FO,apiCall:ar,updateData:this.state.updateData,wsUrl:!0,reqParams:{ticker:this.state.ticker,book:this.state.bookId,prodType:Wh,socketSource:"OFFERINGS"},edit:!0,fixedTable:!0,mappings:MO,customComponents:t,calBack:this.setScreenData,mapdata:CD,keyField:"issueId",fromPage:"Offerings",excelFlag:"true"})})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})})]})]}):"Edit"===this.state.screenName?Object(u.jsx)(VO,{issueId:this.state.issueId,apiCall:Xi,reqParams:{issueId:this.state.issueId,productType:Wh},data:this.state.payload,returnMethod:this.returnMethod,closemodel:this.closemodel,fromPage:this.state.screenName,linkname:"Edit MCP Commitment"}):"NEW"===this.state.screenName?Object(u.jsx)(VO,{returnMethod:this.returnMethod,closemodel:this.closemodel,fromPage:this.state.screenName,offerData:CD,linkname:"New MCP Commitment"}):"Convert"===this.state.screenName?Object(u.jsx)(Ny,{apiCall:Zi,reqParams:{issueId:this.state.issuerId,prodType:Wh,bookId:this.state.bookId},returnMethod:this.returnMethod,onRemove:this.props.onRemove,fromPage:this.state.screenName,linkname:"MCP Commitment Conversion"}):""})}}]),a}(o.a.Component),MD=[];function AD(e,t,a,s){var n=[];return Object.keys(t).map((function(s){return Object.keys(e[0]).map((function(e){var o;e===s&&(t[e]&&(o=a&&e===_e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.imgComponent(t,s,n,o,e)}}:a&&e===ms?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkTickerComponent(t,s,n,o,e)}}:"creditLimit"===e||"thresHold"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1},n.push(o)));return""})),""})),n}MD.check=it,MD.parentName=Kt,MD.program=hs,MD.ticker=cn,MD.bbTicker=Ae,MD.twTicker=Sn,MD.cassii=Q,MD.thresHold=mn,MD.creditLimit=hn,MD.shortName=Zt,MD.cusipBaseOne=jt,MD.cusipBaseTwo=xt,MD.prodId=ls,MD.cptype=Os,MD.issuerType=Dn,MD.primaryTraderName=us,MD.secTraderName=Qs;var RD=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).doCheck=function(e){var t=s.state.currencyData;!0===e.target.checked?t.find((function(t){return t.key===e.target.id})).isChecked=e.target.checked:t.find((function(t){return t.key===e.target.id})).isChecked=!1,s.setState({currencyData:t})},s.doSave=function(){var e=[];s.state.currencyData.map((function(t){!0===t.isChecked&&e.push({currencyCode:t.key})})),s.props.onHide(e),s.setState({show:!1})},s.loadImages=function(e){var t="";return"USD"===e&&(t=gu),"EUR"===e&&(t=Ou),"GBP"===e&&(t=vu),"AUD"===e&&(t=yu),"CHF"===e&&(t=ku),"JPY"===e&&(t=Du),"INR"===e&&(t=Cu),"CAD"===e&&(t=Nu),t},s.getAssociatedCurr=function(e){w()({method:"POST",url:N.URL+Yl,timeout:N.apiTimeOut,data:{programId:s.props.programId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){if(t.data){var a=e;a&&t.data.map((function(e){a.find((function(t){return t.key===e.key}))&&(a.find((function(t){return t.key===e.key})).isChecked=!0)})),s.setState({currencyData:a,show:!0})}else s.setState({currencyData:e,show:!0})}))},s.openCurreny=function(){w()({method:"POST",url:N.URL+ic,timeout:N.apiTimeOut,data:{productType:"1200"},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){var t=[];e.data&&(e.data.map((function(e){t.push({key:e.currency,value:e.currency,isChecked:!1})})),s.getAssociatedCurr(t))}))},s.hideLayer=function(){s.setState({show:!1,cnt:0})},s.state={currencyData:[],cnt:0},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state.show;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("a",{onClick:this.openCurreny,children:"Currency"}),Object(u.jsxs)(P.a,{show:t,onHide:this.hideLayer,size:this.props.size,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.modalHead})}),Object(u.jsxs)(P.a.Body,{children:[Object(u.jsx)(H.a,{md:3,children:this.state.currencyData.map((function(t){return Object(u.jsxs)(W.a,{className:"mb-1",children:[e.loadImages(t.value),Object(u.jsx)(mp,{name:t.value,id:t.key,checked:t.isChecked,onChange:e.doCheck,className:"ml-1"}),Object(u.jsx)(ni,{label:t.value})]})}))}),Object(u.jsx)(H.a,{className:"mt-2",children:Object(u.jsx)(W.a,{className:"text-center",children:Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"lyr-save",onClick:function(t){e.doSave()},children:"Save"})})})]})]})]})}}]),a}(o.a.Component),ED=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).doCheck=function(e){var t=s.state.calenderData;!0===e.target.checked?t.find((function(t){return t.key===e.target.id})).isChecked=e.target.checked:t.find((function(t){return t.key===e.target.id})).isChecked=!1,s.setState({calenderData:t})},s.doSave=function(){var e=[];s.state.calenderData.map((function(t){!0===t.isChecked&&e.push({calenderCode:t.key})})),s.props.onHide(e),s.setState({show:!1})},s.loadImages=function(e){var t="";return"US"===e&&(t=gu),"EUR"===e&&(t=Ou),"London"===e&&(t=vu),"Australia"===e&&(t=yu),"Canada"===e&&(t=Nu),t},s.getAssociatedCal=function(e){w()({method:"POST",url:N.URL+"/getProgramCalendar",timeout:N.apiTimeOut,data:{programId:s.props.programId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){if(t.data){var a=e;a&&t.data.map((function(e){a.find((function(t){return t.value===e.key}))&&(a.find((function(t){return t.value===e.key})).isChecked=!0)})),s.setState({calenderData:a,show:!0})}else s.setState({calenderData:e,show:!0})}))},s.openCalendar=function(){w()({method:"POST",url:N.URL+"/getCalenderMap",timeout:N.apiTimeOut,data:{productType:"1200"},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){var t=[];e.data&&(e.data.map((function(e){t.push({key:e.value,value:e.value,isChecked:!1})})),s.getAssociatedCal(t))}))},s.hideLayer=function(){s.setState({show:!1,cnt:0})},s.state={calenderData:[],cnt:0},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state.show;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("a",{onClick:this.openCalendar,children:"Calendar"}),Object(u.jsxs)(P.a,{show:t,onHide:this.hideLayer,size:this.props.size,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.modalHead})}),Object(u.jsxs)(P.a.Body,{children:[Object(u.jsx)(H.a,{md:3,children:this.state.calenderData.map((function(t){return Object(u.jsxs)(W.a,{className:"mb-1",children:[e.loadImages(t.value),Object(u.jsx)(mp,{name:t.value,id:t.key,checked:t.isChecked,onChange:e.doCheck,className:"ml-1"}),Object(u.jsx)(ni,{label:t.value})]})}))}),Object(u.jsx)(H.a,{className:"mt-2",children:Object(u.jsx)(W.a,{className:"text-center",children:Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"lyr-save",onClick:function(t){e.doSave()},children:"Save"})})})]})]})]})}}]),a}(o.a.Component),FD=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).doCheck=function(e){var t=s.state.otherTraders;!0===e.target.checked?t.find((function(t){return t.key===e.target.id})).isChecked=e.target.checked:t.find((function(t){return t.key===e.target.id})).isChecked=!1,s.setState({otherTraders:t})},s.doSave=function(){var e=[];s.state.otherTraders.map((function(t){!0===t.isChecked&&e.push({otherTraders:t.key})})),s.setState({tradersData:e}),s.props.onHide(s.state.tradersData)},s.state={otherTraders:[]},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;w()({method:"POST",url:N.URL+il,timeout:N.apiTimeOut,data:{userType:"2",All:"true"},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){var a=[];t.data&&(t.data.map((function(e){a.push({key:e.key,value:e.value})})),e.setState({otherTraders:a}))}))}},{key:"componentDidUpdate",value:function(){document.getElementsByClassName("modal-backdrop")[1]&&document.getElementsByClassName("modal-backdrop")[1].setAttribute("id","currency")}},{key:"render",value:function(){var e=this,t=this.props,a=t.modalHead;t.prodType;return a&&Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,size:this.props.size,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.modalHead})}),Object(u.jsxs)(P.a.Body,{children:[Object(u.jsx)(H.a,{md:3,children:this.state.otherTraders.map((function(t){return Object(u.jsxs)(W.a,{className:"mb-1",children:[Object(u.jsx)(mp,{name:t.value,id:t.key,defaultChecked:"",onChange:e.doCheck,className:"ml-1"}),Object(u.jsx)(ni,{label:t.value})]})}))}),Object(u.jsx)(H.a,{className:"mt-2",children:Object(u.jsx)(W.a,{className:"text-center",children:Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"save",onClick:function(t){e.doSave()},children:"Save"})})})]})]})}}]),a}(o.a.Component),PD=[],BD=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getDefaultLtModdy=function(e,t){PD.ltMoody=e},s.getDefaultIssuer=function(e,t){s.setState({issuerName:t}),PD.issuerName=t,PD.issuerId=e,w()({method:"POST",url:N.URL+_l,timeout:N.apiTimeOut,data:{issuerId:e},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data[0]&&Object.keys(e.data[0]).map((function(t){PD[t]=e.data[0][t]})),s.setState({updateFlag:!0}))}))},s.getDefaultProduct=function(e,t){PD.productType=e,s.setState({productType:e}),PD.productValue=t},s.getDefaultDFBook=function(e,t){PD.bookId=e},s.getDefaultSTrader=function(e,t){PD.secTraderId=e},s.getDefaultPTrader=function(e,t){PD.traderId=e},s.getDefaultAlgorithmic=function(e,t){PD.cusipIsAlgorithmic=e},s.getDefaultPgmprodType=function(e,t){PD.pgmProductType=e},s.getDefaultDelRelease=function(e,t){PD.dealerRelease=e},s.getDefaultIndustry=function(e,t){PD.industry=e},s.getDefaultIpaProgram=function(e,t){PD.ipaNumber=e},s.getDefaultDomicile=function(e,t){PD.domicile=e},s.getDefaultTier=function(e,t){PD.tierId=e},s.getDefaultRegType=function(e,t){PD.cptype=e},s.getDefaultSandp=function(e,t){PD.sAndP=e},s.getDefaultFitch=function(e,t){PD.fitchRating=e},s.getDefaultMoody=function(e,t){PD.moodyRating=e},s.getDefaultLtSandp=function(e,t){PD.ltSandP=e},s.getDefaultLtFitch=function(e,t){PD.ltFitch=e},s.openCalender=function(){s.setState({calLayer:!0})},s.hideCurLayer=function(e){PD.currencyData=e},s.hideCalLayer=function(e){PD.calenderData=e,s.setState({calLayer:!1})},s.hideotherLayer=function(e){PD.otherTraders=e,s.setState({otherLayer:!1})},s.onDateChange=function(e,t){s.setState({dateOpened:Yu(e,"MM/DD/YY")}),PD[t]=Yu(e,"MM/DD/YY")},s.onContentChange=function(e,t){PD[t]="minSize"===t||"maxAmount"===t||"incAmount"===t||"creditLimit"===t||"thresHold"===t?Po(e.target.value):e.target.value,s.setState({ck:0})},s.checkProgramDet=function(e,t){s.setState({checkMessage:""});var a={};PD[t]!==e.target.value&&(a[t]=e.target.value,a.productType=PD.productType,PD[t]=e.target.value,"program"!==t&&"ticker"!==t&&"bbTicker"!==t&&"twTicker"!==t&&"cassii"!==t||(w()({method:"POST",url:N.URL+"/checkValidProgram",timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&s.setState({checkMessage:e.data})})),s.clearMsgState()))},s.issuerNameChange=function(e,t){s.setState({issuerName:e.target.value}),w()({method:"POST",url:N.URL+_l,timeout:N.apiTimeOut,data:{issuerId:e.target.value},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data[0]&&Object.keys(e.data[0]).map((function(t){PD[t]=e.data[0][t]})),s.setState({updateFlag:!0}))}))},s.doClear=function(e,t){document.getElementById("program")&&(document.getElementById("program").value=""),document.getElementById("ticker")&&(document.getElementById("ticker").value=""),document.getElementById("bbTicker")&&(document.getElementById("bbTicker").value=""),document.getElementById("twTicker")&&(document.getElementById("twTicker").value=""),document.getElementById("cassii")&&(document.getElementById("cassii").value=""),document.getElementById("isin")&&(document.getElementById("isin").value=""),document.getElementById("sedol")&&(document.getElementById("sedol").value=""),document.getElementById("minSize")&&(document.getElementById("minSize").value=""),document.getElementById("maxAmount")&&(document.getElementById("maxAmount").value=""),document.getElementById("incAmount")&&(document.getElementById("incAmount").value=""),document.getElementById("maxNofDays")&&(document.getElementById("maxNofDays").value=""),document.getElementById("thresHold")&&(document.getElementById("thresHold").value=""),document.getElementById("creditLimit")&&(document.getElementById("creditLimit").value=""),document.getElementById("ipaProgramId")&&(document.getElementById("ipaProgramId").value=""),document.getElementById("ipaIssuerId")&&(document.getElementById("ipaIssuerId").value=""),document.getElementById("notes")&&(document.getElementById("notes").value=""),document.getElementById("cusipBaseOne")&&(document.getElementById("cusipBaseOne").value=""),document.getElementById("cusipBaseTwo")&&(document.getElementById("cusipBaseTwo").value=""),s.setState({updateFlag:!0})},s.doSave=function(){var e="";if(""===PD.program||void 0===PD.program?e="Please Enter Program.":""===PD.ticker||void 0===PD.ticker?e="Please Enter ticker.":""===PD.bbTicker||void 0===PD.bbTicker?e="Please enter Bloomberg Ticker.":""===PD.twTicker||void 0===PD.twTicker?e="Please enter TradeWeb Ticker.":""===PD.cassii||void 0===PD.cassii?e="Please enter Issuer Account.":""===PD.isin||void 0===PD.isin?e="Please enter ISIN":""===PD.sedol||void 0===PD.sedol?e="Please enter SEDOL":""===PD.minSize||void 0===PD.minSize?e="Please enter Min Piece ($m).":""===PD.maxAmount||void 0===PD.maxAmount?e="Please Enter Valid Max Amt ($m).":""===PD.incAmount||void 0===PD.incAmount?e="Please Enter Inc Amt($m)":""===PD.maxNofDays||void 0===PD.maxNofDays?e="Please Enter Maximum Days":""===PD.creditLimit||void 0===PD.creditLimit?e="Please enter Credit Limit":parseFloat(PD.creditLimit)>parseFloat(PD.maxAmount)?e="Max Amount should be greater than Credit limit":parseFloat(PD.thresHold)>parseFloat(PD.creditLimit)?e="Credit limit should be greater than Threshold limit":""===PD.ipaProgramId||void 0===PD.ipaProgramId?e="Please enter IPA Program Id.":""===PD.ipaIssuerId||void 0===PD.ipaIssuerId?e="Please enter IPA Issuer ID":parseFloat(PD.thresHold)>parseFloat(PD.maxAmount)?e="Max Amount should be greater than Threshold":"2300"!==PD.productType&&"1200"!==PD.productType&&"1400"!==PD.productType&&"1600"!==PD.productType&&"2400"!==PD.productType&&"2700"!==PD.productType||(""===PD.cusipBaseOne||void 0===PD.cusipBaseOne?e="Please Enter CUSIP Base Yr 1-2":PD.cusipBaseOne&&6!==PD.cusipBaseOne.length?e="Please Enter 6-digits of CUSIP Base Yr 1-2":""===PD.cusipBaseTwo||void 0===PD.cusipBaseTwo?e="Please Enter CUSIP Base Yr 3-4":PD.cusipBaseTwo&&6!==PD.cusipBaseTwo.length&&(e="Please Enter 6-digits of CUSIP Base Yr 3-4")),e)return s.setState({actionTitle:"Alert",actionMessage:e,showError:!0}),!1;s.setState({actionTitle:"New Save",actionMessage:"Are you sure, you want to save the program ?",alertShow:!0,actionFlag:"SAVE",respMessage:""})},s.postData=function(e,t){w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&s.setState({respMessage:e.data,refreshFlag:!1}),s.props.onHide(s.state.respMessage)}))},s.hideAlert=function(){s.setState({alertShow:!1})},s.hideError=function(){s.setState({showError:!1})},s.clearMsgState=function(){s.setState({checkMessage:""})},s.clearState=function(){s.setState({respMessage:"",refreshFlag:!1})},s.hideLayer=function(){s.clearState(),s.props.onHide()},s.doCheck=function(e){!0===e.target.checked?PD[e.target.id]="Y":PD[e.target.id]="N"},s.state={selectData:"",issuerValue:"",productValue:"",curLayer:!1,calLayer:!1,otherLayer:!1,calenderData:"",respMessage:"",checkMessage:"",refreshFlag:!1,dateOpened:"",isin:"",sedol:"",updateFlag:!1},s.productChange=s.productChange.bind(Object(O.a)(s)),s.openOther=s.openOther.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){e.show!==this.props.show&&!0===this.props.show&&(this.setState({productType:"",refreshFlag:!1,checkMessage:""}),PD=[],this.setState({productType:"",refreshFlag:!0}),PD=void 0===this.props.editPgmData?{}:this.props.editPgmData)}},{key:"onOfferChange",value:function(e){if(""!==e.target.value)return Uo(e)}},{key:"productChange",value:function(e){PD.productType=e.traget.id,this.setState({productType:e.traget.id})}},{key:"openOther",value:function(){var e=this;w()({method:"POST",timeout:N.apiTimeOut,data:{},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&e.setState({otherData:t.data,otherLayer:!0})}))}},{key:"confirmAction",value:function(e){if("SAVE"===e){var t="NEW"===this.props.actionFlag?"/newProgramDetails":"/editProgramDetails";this.setState({alertShow:!1});var a={};Object.keys(PD).map((function(e){a.regType=PD.cptype,a[e]=PD[e]})),this.postData(a,t)}}},{key:"render",value:function(){var e=this,t=this.props.actionFlag;return!0===this.state.refreshFlag&&Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.hideLayer,size:this.props.size,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.modalHead})}),Object(u.jsxs)(P.a.Body,{children:[Object(u.jsxs)("div",{className:"tblborderbottom mt-2",children:[Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um}),void 0!==this.state.checkMessage&&""!==this.state.checkMessage?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.checkMessage}):"",Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Kt,id:"lbl_issuerName"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:"NEW"===t?Object(u.jsx)(Dp,{apiCall:Si,reqParams:{All:"false"},onchange:function(t){e.issuerNameChange(t,"issuerName")},selected:this.state.issuerName,stateMethod:this.getDefaultIssuer,id:"issuerName"}):Object(u.jsx)(ni,{label:PD.issuerName,id:"lbl_prod"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Product",id:"lbl_prod"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:"NEW"===t?Object(u.jsx)(Dp,{apiCall:vi,reqParams:{},onchange:function(t){e.onContentChange(t,"productType")},selected:PD&&PD.productType,stateMethod:this.getDefaultProduct,id:"productType"}):Object(u.jsx)(ni,{label:PD.prodName,id:"lbl_prod"})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:hs,id:"lbl_program"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{id:"program",value:PD?PD.program:"",className:"text-left",onBlur:function(t){e.checkProgramDet(t,"program")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:cn,id:"lbl_ticker"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{id:"ticker",value:PD?PD.ticker:"",className:"text-left",onBlur:function(t){e.checkProgramDet(t,"ticker")}})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Ae,id:"lbl_bbticker"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{id:"bbTicker",value:PD?PD.bbTicker:"",className:"text-left",onBlur:function(t){e.checkProgramDet(t,"bbTicker")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Sn,id:"lbl_twTicker"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{id:"twTicker",value:PD?PD.twTicker:"",className:"text-left",onBlur:function(t){e.checkProgramDet(t,"twTicker")}})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Qt,id:"lbl_issuerAccount"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{id:"cassii",value:PD?PD.cassii:"",className:"text-left",onBlur:function(t){e.checkProgramDet(t,"cassii")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Default Book",id:"lbl_bookId"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:"/getDefaultBooksList",reqParams:{productType:PD.productType},onchange:function(t){e.onContentChange(t,"bookId")},selected:PD&&PD.bookId,stateMethod:this.getDefaultDFBook,id:"bookId"})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:us,id:"lbl_traderId"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{id:"traderId",apiCall:il,reqParams:{userType:"2",All:"false"},onchange:function(t){e.onContentChange(t,"traderId")},selected:PD&&PD.traderId,stateMethod:this.getDefaultPTrader})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Qs,id:"lbl_secTraderId"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{id:"secTraderId",apiCall:il,reqParams:{userType:"2",All:"false"},onchange:function(t){e.onContentChange(t,"secTraderId")},selected:PD&&PD.secTraderId,stateMethod:this.getDefaultSTrader})})]})]}),Object(u.jsx)(H.a,{md:2,children:Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsxs)("span",{children:[Object(u.jsx)(B.s,{})," ",Object(u.jsx)("a",{onClick:this.openOther,children:"Other Traders"})]})})})})]}),Object(u.jsxs)("div",{className:"tblborderbottom mt-2",children:["2200"===PD.productType||"2900"===PD.productType?Object(u.jsx)(H.a,{}):Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:jt,id:"lbl_CUSIPBASEONE"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{id:"cusipBaseOne",value:PD?PD.cusipBaseOne:"",className:"text-left",maxlength:"6",onBlur:function(t){e.onContentChange(t,"cusipBaseOne")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:xt,id:"lbl_CUSIPBASETWO"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{id:"cusipBaseTwo",value:PD?PD.cusipBaseTwo:"",className:"text-left",maxlength:"6",onBlur:function(t){e.onContentChange(t,"cusipBaseTwo")}})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Wt,id:"lbl_isin"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{id:"isin",value:PD?PD.isin:"",className:"text-left",onBlur:function(t){e.onContentChange(t,"isin")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"SEDOL",id:"lbl_CUSIPBASETWO"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{id:"sedol",value:PD?PD.sedol:"",className:"text-left",onBlur:function(t){e.onContentChange(t,"sedol")}})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:ft,id:"lbl_DATE_OPENED_LABEL"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Ju,{id:"dateOpened",label:ft,onchange:function(t){e.onDateChange(t,"dateOpened")},dateValue:""===this.state.dateOpened?new Date:new Date(this.state.dateOpened)})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:va,id:"lbl_masterAcct"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:PD&&PD.masterAccount?PD.masterAccount+"-"+(PD.masterAcctName?PD.masterAcctName:PD.mastAcctName):"",id:"val_masterAcct"})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:ua,id:"lbl_MINIMUMPICE"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{id:"minSize",value:PD?Lo(PD.minSize):"",className:"text-right",onBlur:function(t){e.onOfferChange(t),e.onContentChange(t,"minSize")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Max Amt($m)",id:"lbl_MAX_AMT_M"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{id:"maxAmount",value:PD?Lo(PD.maxAmount):"",className:"text-right",onBlur:function(t){e.onOfferChange(t),e.onContentChange(t,"maxAmount")}})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Inc Amt($m)",id:"lbl_INC_AMT_M"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{id:"incAmount",value:PD?Lo(PD.incAmount):"",className:"text-right",onBlur:function(t){e.onOfferChange(t),e.onContentChange(t,"incAmount")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Maximum Days",id:"lbl_MAXIMUM_DAYS"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{id:"maxNofDays",value:PD?PD.maxNofDays:"",className:"text-left",onBlur:function(t){e.onContentChange(t,"maxNofDays")}})})]})]}),Object(u.jsxs)(H.a,{md:2,children:["2200"===PD.productType||"2900"===PD.productType?Object(u.jsx)(u.Fragment,{}):Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Algorithmic",id:"lbl_algorithmic"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:xl,reqParams:{},onchange:function(t){e.onContentChange(t,"cusipIsAlgorithmic")},selected:PD&&PD.algorithmic,stateMethod:this.getDefaultAlgorithmic,id:"cusipIsAlgorithmic"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:hn,id:"lbl_creditLimit"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{id:"creditLimit",value:PD?Lo(PD.creditLimit):"",className:"text-left",onBlur:function(t){e.onOfferChange(t),e.onContentChange(t,"creditLimit")}})})]})]}),Object(u.jsx)(H.a,{md:2,children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:mn,id:"lbl_thresHold"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{id:"thresHold",value:PD?Lo(PD.thresHold):"",className:"text-left",onBlur:function(t){e.onOfferChange(t),e.onContentChange(t,"thresHold")}})})]})})]}),Object(u.jsxs)("div",{className:"tblborderbottom mt-2",children:[Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Ht,id:"lbl_IPA"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:PD.productType&&Object(u.jsx)(Dp,{apiCall:"/getProgramIpaMap",reqParams:{productType:PD.productType},onchange:function(t){e.onContentChange(t,"ipaNumber")},selected:PD&&PD.ipaNumber,stateMethod:this.getDefaultIpaProgram,id:"ipaNumber"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"IPA Program ID",id:"lbl_IPA_PROGRAM_ID"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{id:"ipaProgramId",value:PD&&PD.ipaProgramId,className:"text-left",onBlur:function(t){e.onContentChange(t,"ipaProgramId")}})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Dealer Release",id:"lbl_DEALER_RELEASE"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:xl,reqParams:{},onchange:function(t){e.onContentChange(t,"dealerRelease")},selected:PD&&PD.dealerRelease,stateMethod:this.getDefaultDelRelease,id:"dealerRelease"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"IPA Issuer ID",id:"lbl_IPA_ISSUER_ID"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{id:"ipaIssuerId",value:PD&&PD.ipaIssuerId,className:"text-left",onBlur:function(t){e.onContentChange(t,"ipaIssuerId")}})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:bs,id:"lbl_PRODUCT_TYPE"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:"/getProgramProductTypeMap",reqParams:{},onchange:function(t){e.onContentChange(t,"pgmProductType")},selected:PD&&PD.pgmProductType,stateMethod:this.getDefaultPgmprodType,id:"pgmProductType"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Industry",id:"lbl_INDUSTRY"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:"/getIndustryMap",reqParams:{},onchange:function(t){e.onContentChange(t,"industry")},selected:PD&&PD.industry,stateMethod:this.getDefaultIndustry,id:"industry"})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Domicile",id:"lbl_DOMICILE_LABEL"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:"/getDomicileMap",reqParams:{},onchange:function(t){e.onContentChange(t,"domicile")},stateMethod:this.getDefaultDomicile,selected:PD&&PD.domicile,id:"domicile"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Tier",id:"lbl_TIER"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:"/getTierMap",reqParams:{},onchange:function(t){e.onContentChange(t,"tierId")},selected:PD&&PD.tierId,stateMethod:this.getDefaultTier,id:"tierId"})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Os,id:"lbl_REG_TYPE"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:"/getRegTypeMap",reqParams:{},onchange:function(t){e.onContentChange(t,"cptype")},selected:PD&&PD.cptype,stateMethod:this.getDefaultRegType,id:"cptype"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Note",id:"lbl_NOTE"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Eu,{id:"notes",value:PD?PD.notes:"",className:"text-left",onBlur:function(t){e.onContentChange(t,"notes")}})})]})]}),Object(u.jsxs)(H.a,{md:3,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"ST Ratings:S&P",id:"lbl_ST_RATINGS_SANDP"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:jl,reqParams:{actionFlag:"SANDP"},onchange:function(t){e.onContentChange(t,"sAndP")},selected:PD&&PD.sAndP,stateMethod:this.getDefaultSandp,id:"sAndP"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Ft,id:"lbl_FITCH"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:jl,reqParams:{actionFlag:"FITCH"},onchange:function(t){e.onContentChange(t,"fitchRating")},selected:PD&&PD.fitchRating,stateMethod:this.getDefaultFitch,id:"fitchRating"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:ya,id:"lbl_MOODY"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:jl,reqParams:{actionFlag:"MOODY"},onchange:function(t){e.onContentChange(t,"moodyRating")},selected:PD&&PD.moodyRating,stateMethod:this.getDefaultMoody,id:"moodyRating"})})]})]}),Object(u.jsxs)(H.a,{md:3,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"LT Ratings:S&P",id:"lbl_LT_RATINGS_SANDP"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:jl,reqParams:{actionFlag:"LTSANDP"},onchange:function(t){e.onContentChange(t,"ltSandP")},selected:PD&&PD.ltSandP,stateMethod:this.getDefaultLtSandp,id:"ltSandP"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Ft,id:"lbl_FITCH"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:jl,reqParams:{actionFlag:"LTFITCH"},onchange:function(t){e.onContentChange(t,"ltFitch")},selected:PD&&PD.ltFitch,stateMethod:this.getDefaultLtFitch,id:"ltFitch"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:ya,id:"lbl_MOODY"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:jl,reqParams:{actionFlag:"LTMOODY"},onchange:function(t){e.onContentChange(t,"ltMoody")},selected:PD&&PD.ltMoody,stateMethod:this.getDefaultLtModdy,id:"ltMoody"})})]})]}),Object(u.jsxs)(H.a,{md:3,children:[Object(u.jsx)(W.a,{}),Object(u.jsx)(W.a,{}),Object(u.jsx)(W.a,{children:Object(u.jsxs)(W.a,{className:"d-inline-block",children:[("2400"===PD.productType||"2700"===PD.productType)&&Object(u.jsxs)("span",{children:[Object(u.jsx)(B.b,{}),Object(u.jsx)(ED,{size:"md",show:this.state.calLayer,onHide:this.hideCalLayer,modalHead:"Calendar",calenderData:this.state.calenderData,programId:PD&&PD.programId})]}),("2200"===PD.productType||"2900"===PD.productType)&&Object(u.jsxs)("span",{children:[Object(u.jsx)(B.b,{}),Object(u.jsx)(RD,{size:"md",show:this.state.curLayer,onHide:this.hideCurLayer,modalHead:"Currencies",currencyData:this.state.currencyData,programId:PD&&PD.programId})]}),Object(u.jsxs)("span",{className:"ml-2",children:[Object(u.jsx)("input",{type:"checkbox",className:"mr-0",name:"epims",id:"epims",defaultChecked:"Y"===PD.epims,onClick:function(t){e.doCheck(t)}}),Object(u.jsx)(ni,{className:"pdl4",label:"ePIMS",id:"lbl_EPIMS"})]})]})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{className:"text-center",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"save",onClick:this.doSave,children:"Save"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"clear",onClick:function(a){e.doClear(t,PD)},children:"Clear"})]})})]}),Object(u.jsx)(FD,{size:"md",show:this.state.otherLayer,onHide:this.hideotherLayer,modalHead:"Other Traders",otherTrades:this.state.otherTrades}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})}}]),a}(o.a.Component),LD=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getDefaultIssuerValues=function(){s.setState({issuerId:"All"})},s.hideNewLayer=function(e){s.setState({newlayer:!1,respMessage:void 0!==e?e:"",updateData:!0})},s.editProgram=function(e){s.setState({editPgmData:e,newlayer:!0,respMessage:"",programId:e.programId,actionFlag:"EDIT"})},s.deleteProgram=function(e){s.setState({actionTitle:"Delete",actionMessage:"Are you sure, you want to delete the Program ?",alertShow:!0,actionFlag:"DELETE",deleteData:e,updateData:!1,respMessage:""})},s.hideAlert=function(){s.setState({alertShow:!1,updateData:!0})},s.state={cmodal:!0,productTypeValue:"",statusValue:"",newlayer:!1,editPgmData:{},productValue:"",issuerId:"",updateData:!0,respMessage:""},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.createNew=s.createNew.bind(Object(O.a)(s)),s.productChange=s.productChange.bind(Object(O.a)(s)),s.issuerChange=s.issuerChange.bind(Object(O.a)(s)),s.imgComponent=s.imgComponent.bind(Object(O.a)(s)),s.linkTickerComponent=s.linkTickerComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Br&&this.setState({cmodal:!0})}},{key:"issuerChange",value:function(e){this.setState({respMessage:"",issuerId:e.target.value,updateData:!0})}},{key:"productChange",value:function(e){this.setState({respMessage:"",productValue:e.target.value,updateData:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"createNew",value:function(){this.setState({actionTitle:"New Creation",actionMessage:"Are you sure, you want to Create New Program?",alertShow:!0,actionFlag:"NEW",editPgmData:{},updateData:!1,respMessage:""})}},{key:"linkTickerComponent",value:function(e,t,a,s,n){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("button",{id:n+a,className:"btn btn-link",onClick:this.editProgram.bind(this,t,e),children:e})})}},{key:"imgComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("button",{href:"javascript:void(0);",className:"btn btn-link",onClick:function(e){return o.deleteProgram(t)},id:n+a,children:Object(u.jsx)(B.y,{})})})}},{key:"confirmAction",value:function(e){var t=this;"DELETE"===e?(this.setState({alertShow:!1}),w()({method:"POST",url:N.URL+"/deleteProgramDetails",timeout:N.apiTimeOut,data:{programId:this.state.deleteData.programId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&t.setState({respMessage:e.data,updateData:!0})}))):"NEW"===e&&this.setState({alertShow:!1,newlayer:!0})}},{key:"render",value:function(){var e=this,t={};return t.imgComponent=this.imgComponent,t.linkTickerComponent=this.linkTickerComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsxs)("strong",{className:"cursor",children:[Object(u.jsx)("div",{className:"d-inline-block col-md-2",children:md}),Object(u.jsx)("div",{className:"d-inline-block cross col-md-7",children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:1,className:"d-inline-block",children:Object(u.jsx)(ni,{className:"text-white",label:"Product",id:"lbl_prod"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:vi,reqParams:{All:"true"},onchange:this.productChange,stateMethod:this.getDefaultPrdValues,selected:this.state.productValue,id:"product"})}),Object(u.jsx)(W.a,{xs:1,className:"d-inline-block",children:Object(u.jsx)(ni,{className:"text-white",label:"Issuer",id:"lbl_issuer"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Si,reqParams:{},onchange:this.issuerChange,stateMethod:this.getDefaultIssuerValues,selected:this.state.issuerId,id:"issuer"})})]})}),Object(u.jsxs)("div",{className:"d-inline-block cross",onClick:this.createNew,children:[be," New"]}),Object(u.jsx)("div",{className:"d-inline-block float-right cross",onClick:this.closemodel,children:"X"})]})}),void 0!==this.state.respMessage&&""!==this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:MD,apiCall:"/getProgramsData",reqParams:{issuerId:this.state.issuerId,productType:this.state.productValue},keyField:"1",mappings:AD,customComponents:t,updateData:this.state.updateData,screenName:"VIEWEDIT_PROGRAMS",flagPdf:!0})})}),Object(u.jsx)(BD,{size:"lg",show:this.state.newlayer,onHide:this.hideNewLayer,modalHead:"EDIT"===this.state.actionFlag?"Edit Program Details":"New Program Details",editPgmData:"EDIT"===this.state.actionFlag?this.state.editPgmData:{},actionFlag:this.state.actionFlag}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})})}}]),a}(o.a.Component),_D=[];_D.check=Oa,_D.acctName=ee,_D.shortName=Ls,_D.cassiiAcctNbr=se,_D.subCassiiAcctNbr="Sub Account Number",_D.masterAccount=va;var UD=[];function VD(e,t,a,s){var n=[];return Object.keys(t).map((function(s){return Object.keys(e[0]).map((function(e){var o;e===s&&(t[e]&&(o=a&&e===_e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.imgComponent(t,s,n,o,e)}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1},n.push(o)));return""})),""})),n}function YD(e,t,a,s){var n=[];return Object.keys(t).map((function(s){return Object.keys(e[0]).map((function(e){var o;e===s&&(t[e]&&(o=a&&e===et?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.checkBoxComponent(t,s,n,o,e)}}:!a||e!==$&&e!==Bs&&e!==$e&&e!==ae?{dataField:e,text:t[e],editable:!1}:{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.textBoxComponent(t,s,n,o,e)}},n.push(o)));return""})),""})),n}UD.smcheck=Ue,UD.acctName="Sub Account CASSII",UD.shortName="Sub Account Name",UD.cassiiAcctNbr="Sub Account Short Name",UD.acctNbr="Top CASSII Account";var HD,WD=[],qD=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).onContentChange=function(e,t){"acctName"===t&&(WD[t]=e.target.value),"shortName"===t&&(WD[t]=e.target.value),"masterAccount"===t&&(WD[t]=e.target.value),"cassiiAcctNbr"===t&&(WD[t]=e.target.value)},s.onFieldChange=function(e,t){WD[t]=e.target.value},s.doSave=function(e){var t="";if(""===WD.acctName||void 0===WD.acctName?t="Please Enter Account Name":""===WD.shortName||void 0===WD.shortName?t="Please Enter Short Name":""===WD.cassiiAcctNbr||void 0===WD.cassiiAcctNbr?t="Please Enter Account Number":""!==WD.masterAccount&&void 0!==WD.masterAccount||(t="Please Enter Master Account "),void 0!==WD.masterAccount&&!1===Bo(WD.masterAccount,"1234567890")&&(t="Please enter valid  Master Account"),void 0!==WD.cassiiAcctNbr&&!1===Bo(WD.cassiiAcctNbr,"1234567890")&&(t="Please enter valid  Account Account"),t)return s.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1;s.setState({actionTitle:"New Save",actionMessage:"Are you sure, you want to save the data ?",alertShow:!0,actionFlag:"SAVE",apiUrl:e})},s.postData=function(e,t){w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&s.setState({respMessage:e.data}),s.props.onHide(s.state.respMessage)}))},s.hideError=function(){s.setState({showError:!1})},s.hideAlert=function(){s.setState({alertShow:!1})},s.clearState=function(){s.setState({respMessage:"",checkMessage:""})},s.state={selectData:"",alertShow:!1,apiUrl:""},s}return Object(l.a)(a,[{key:"confirmAction",value:function(e){if("SAVE"===e){this.setState({alertShow:!1});var t={};Object.keys(WD).map((function(e){t[e]=WD[e]})),this.postData(t,HD)}}},{key:"checkMasterAcct",value:function(e,t){var a=this,s={};s.masterAccount=e.target.value,WD.masterAccount=e.target.value,w()({method:"POST",url:N.URL+"/checkValidInvestorMasterAcct",timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&a.setState({checkMessage:e.data})})),this.clearState()}},{key:"handleClear",value:function(){document.getElementById("acctName")&&(document.getElementById("acctName").value=""),document.getElementById("shortName")&&(document.getElementById("shortName").value=""),document.getElementById("cassiiAcctNbr")&&(document.getElementById("cassiiAcctNbr").value=""),document.getElementById("masterAccount")&&(document.getElementById("masterAccount").value="")}},{key:"render",value:function(){var e=this,t=this.props,a=t.modalHead,s=t.editData;return void 0!==s&&""!==s?(WD=this.props.editData,HD="/editInvestorAccountDetails"):HD="/newInvestorAccountDetails",a&&Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,size:this.props.size,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.modalHead})}),Object(u.jsxs)(P.a.Body,{children:[Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um}),void 0!==this.state.checkMessage&&""!==this.state.checkMessage?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.checkMessage}):"",Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:ee,id:"lbl_ACCTNAME"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"acctName",id:"acctName",value:s.acctName,className:"text-left",onBlur:function(t){e.onContentChange(t,"acctName")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Ls,id:"lbl_shortName"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"shortName",id:"shortName",value:s.shortName,className:"text-left",onBlur:function(t){e.onContentChange(t,"shortName")}})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:se,id:"lbl_cassiiAcctNbr"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"cassiiAcctNbr",id:"cassiiAcctNbr",value:s.cassiiAcctNbr,className:"text-left",onBlur:function(t){e.onContentChange(t,"cassiiAcctNbr")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:va,id:"lbl_masterAccount"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"masterAccount",id:"masterAccount",value:s.masterAccount,className:"text-left",onBlur:function(t){e.checkMasterAcct(t,"masterAccount")}})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{className:"text-center",children:[this.state.checkMessage&&this.state.checkMessage.length>0?Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"save",children:"Save"}):Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"save",onClick:function(t){e.doSave(HD)},children:"Save"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"clear",onClick:function(t){e.handleClear()},children:"Clear"})]})})]}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})}}]),a}(o.a.Component),zD=[],GD=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).textBoxComponent=function(e,t,a,n,o){return"acctName"===o?Object(u.jsx)(Eu,{name:o+a,id:o+a,value:e,onBlur:function(e){s.subCassii(e,a,"acctName")}},a):"shortName"===o?Object(u.jsx)(Eu,{name:o+a,id:o+a,value:e,onBlur:function(e){s.subaccName(e,a,"shortName")}},a):"cassiiAcctNbr"===o?Object(u.jsx)(Eu,{name:o+a,id:o+a,value:e,onBlur:function(e){s.subaccshortName(e,a,"cassiiAcctNbr")}},a):"acctNbr"===o?Object(u.jsx)(Eu,{name:o+a,id:o+a,value:e,onBlur:function(e){s.topCassi(e,a,"acctNbr")}},a):void 0},s.hideError=function(){s.setState({showError:!1})},s.subAccount=function(){s.setState({actionTitle:"New Sub Account",actionMessage:"Are you sure, you want to create new sub account?",alertShow:!0,actionFlag:"SUB"}),s.setState({checkMessage:""})},s.hideAlert=function(){s.setState({alertShow:!1})},s.doSave=function(){var e="";s.setState({respMessage:"",rejectReason:"",checkMessage:""});var t=!1,a="",n="",o="";return s.state.data&&s.state.data.map((function(e,s){var i=document.getElementById("smcheck"+s);null!=i&&!0===i.checked&&(t=!0,""===document.getElementById("acctName"+s).value&&""===a&&(a=s),""===document.getElementById("shortName"+s).value&&""===n&&(n=s),""===document.getElementById("acctNbr"+s).value&&""===o&&(o=s))})),e?(s.setState({actionTitle:"Alert",actionMessage:e,showError:!0}),!1):(t?""!==a?(e="Please enter valid Sub Account CASSII.",document.getElementById("acctName"+a).focus()):""!==n?(e="Please enter valid Sub Account Name.",document.getElementById("shortName"+n).focus()):""!==o?e="Please enter valid Top CASSII Account.":s.setState({actionTitle:dm,actionMessage:fh,alertShow:!0,actionFlag:"SAVE",updateData:!1}):e="Please check atleast once checkbox",e?(s.setState({actionTitle:"Alert",actionMessage:e,showError:!0}),!1):void 0)},s.btnAction=function(e){if("add"===e.target.id){var t=s.state.data;t.push({smcheck:"",acctName:"",shortName:"",cassiiAcctNbr:"",acctNbr:""}),s.setState({data:t})}else"save"===e.target.id||"clear"===e.target.id||s.setState({alertShow:!1,show:!1,data:[],columns:[]})},s.onHide=function(){s.setState({alertShow:!1,show:!1,data:[],columns:[]})},s.state={selectData:"",show:!1,data:[],columns:[],checkMessage:"",respMessage:"",rejectReason:"",smcheck:""},s.checkBoxComponent=s.checkBoxComponent.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"checkBoxComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:n+a,id:n+a,onClick:function(t){o.onCheckboxClick(e,a,t)}},a)})}},{key:"onCheckboxClick",value:function(e,t,a){this.setState({smcheck:a.target.checked,isLoading:!0})}},{key:"subaccName",value:function(e,t,a){var s=this;this.setState({checkMessage:""});var n={};n.subAcctName=e.target.value,this.state.data[t].subAcctName=e.target.value,$c,w()({method:"POST",url:N.URL+$c,timeout:N.apiTimeOut,data:n,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&s.setState({checkMessage:e.data})}))}},{key:"subCassii",value:function(e,t,a){var s=this;this.setState({checkMessage:""});var n={};n.subAcctCassii=e.target.value,this.state.data[t].subAcctCassii=e.target.value,er,w()({method:"POST",url:N.URL+er,timeout:N.apiTimeOut,data:n,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&s.setState({checkMessage:e.data})}))}},{key:"subaccshortName",value:function(e,t,a){var s=this;this.setState({checkMessage:""});var n={};n.subAcctShortName=e.target.value,this.state.data[t].subAcctShortName=e.target.value,Xc,w()({method:"POST",url:N.URL+Xc,timeout:N.apiTimeOut,data:n,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&s.setState({checkMessage:e.data})}))}},{key:"confirmAction",value:function(e){this.setState({isLoading:!1,alertShow:!1,data:[],columns:[]});var t=[{smcheck:"",acctName:"",shortName:"",cassiiAcctNbr:"",acctNbr:""}];if(this.setState({columns:YD(t,UD,zD),data:t,isLoading:!0,show:!0}),"SAVE"===e){var a=[];this.state.data&&this.state.data.map((function(e,t){var s=document.getElementById("smcheck"+t);if(null!=s&&!0===s.checked){var n={smcheck:!!s.checked,acctName:e.subAcctName,shortName:e.subAcctShortName,subCassiiAcctNbr:e.subAcctCassii,cassiiAcctNbr:e.acctNbr};a.push(n)}})),this.postData(a,Vl),this.setState({isLoading:!0})}}},{key:"topCassi",value:function(e,t,a){var s=!1;this.setState({respMessage:"",rejectReason:"",checkMessage:""}),this.setState({cassiiAcctNbr:e.target.value}),this.state.data[t].acctNbr=e.target.value,this.props.cData&&this.props.cData.map((function(t,a){e.target.value===t.cassiiAcctNbr&&(s=!0)})),s||this.setState({checkMessage:"Top CASSII Account Doesn't Exists."})}},{key:"postData",value:function(e,t){var a=this;this.setState({isLoading:!1}),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(void 0!==e.data&&e.data.length>0&&a.setState({respMessage:e.data}),a.setState({alertShow:!1,show:!1,data:[],columns:[]}),a.props.onHide(a.state.respMessage))}))}},{key:"render",value:function(){var e=this,t={};t.checkBoxComponent=this.checkBoxComponent,t.textBoxComponent=this.textBoxComponent;var a=this.props,s=a.modalHead,n=(a.prodType,a.cData,this.state),o=n.show,i=(n.isLoading,n.data);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"d-inline-block mr-3 cross",onClick:this.subAccount,children:[be," Sub Account"]}),i.length>0?Object(u.jsxs)(P.a,{show:o,onHide:this.onHide,size:this.props.size,dialogClassName:"modal rate","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsxs)(P.a.Title,{id:"contained-modal-title-vcenter",children:[" ",s," "]})}),Object(u.jsxs)(P.a.Body,{children:[Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um}),void 0!==this.state.checkMessage&&""!==this.state.checkMessage?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.checkMessage}):"",Object(u.jsx)(H.a,{children:i&&i.length>0?Object(u.jsx)("div",{style:{width:"95%",margin:"auto"},children:Object(u.jsx)(Z.a,{data:i,keyField:"acctNbr",columns:YD(i,UD,t),striped:!0,hover:!0,wrapperClasses:"fo2table table-responsive"})}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."})}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{className:"text-center",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"add",onClick:this.btnAction,children:"Add"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"save",onClick:this.doSave,children:"Save"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"clear",onClick:this.btnAction,children:"Clear"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"return",onClick:this.btnAction,children:"Return"})]})})]})]}):"",Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})}}]),a}(o.a.Component),KD=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getDefaultValues=function(e,t){s.setState({accttypevalue:"C",updateData:!1})},s.hideNewLayer=function(e){s.setState({newlayer:!1,respMessage:e,updateData:!0,editInvData:[]})},s.hideSubNewLayer=function(e){s.setState({newSublayer:!1,respMessage:e,updateData:!0})},s.editInvAccount=function(e){s.setState({actionTitle:"Edit",actionMessage:"Are you sure, that you want to edit the data? ",alertShow:!0,actionFlag:"EDIT",editInvData:e,updateData:!1})},s.deleteInvAccount=function(e){s.setState({actionTitle:"Delete",actionMessage:"Are you sure, you want to delete the account?",alertShow:!0,actionFlag:"DELETE",deleteData:e,updateData:!1})},s.hideAlert=function(){s.setState({alertShow:!1,updateData:!0})},s.state={cmodal:!0,accttypevalue:"",statusValue:"",respMessage:"",editInvData:[],actionTitle:"",actionMessage:"",alertShow:!1,actionFlag:"",newlayer:!1,newSublayer:!1,cData:[],updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.accountTypeChange=s.accountTypeChange.bind(Object(O.a)(s)),s.createNew=s.createNew.bind(Object(O.a)(s)),s.imgComponent=s.imgComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!1}),w()({method:"POST",url:N.URL+Ul,timeout:N.apiTimeOut,data:{productType:this.state.prodId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){void 0!==t.data&&t.data.length>0&&e.setState({cData:t.data,updateData:!0})}))}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===ud&&this.setState({cmodal:!0})}},{key:"accountTypeChange",value:function(e){this.setState({accttypevalue:e.target.value,updateData:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1}),this.props.onRemove(this.props.linkname)}},{key:"createNew",value:function(){this.setState({actionTitle:"New",actionMessage:"Are you sure, you want to create new account?",alertShow:!0,actionFlag:"NEW",editInvData:"",respMessage:"",updateData:!1})}},{key:"imgComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{id:n+a,href:"javascript:void(0);",className:"btn btn-link",onClick:function(e){o.editInvAccount(t)},children:Object(u.jsx)(B.o,{})}),Object(u.jsx)("button",{id:n+a,href:"javascript:void(0);",className:"btn btn-link",onClick:function(e){return o.deleteInvAccount(t)},children:Object(u.jsx)(B.y,{})})]})}},{key:"confirmAction",value:function(e){var t=this;"DELETE"===e?(this.setState({alertShow:!1}),w()({method:"POST",url:N.URL+"/deleteInvestorAccountDetails",timeout:N.apiTimeOut,data:{acctNbr:this.state.deleteData.acctNbr},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&t.setState({respMessage:e.data,updateData:!0})}))):"EDIT"===e||"NEW"===e?this.setState({alertShow:!1,newlayer:!0,updateData:!1}):"NEWSUB"===e&&this.setState({alertShow:!1,newSublayer:!0,updateData:!1})}},{key:"render",value:function(){var e=this,t={};return t.imgComponent=this.imgComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsxs)("strong",{className:"cursor",children:[Object(u.jsx)("div",{className:"d-inline-block col-md-2",children:ud}),Object(u.jsx)("div",{className:"d-inline-block cross col-md-7",children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(ni,{className:"text-white",label:ne,id:"lbl_accountType"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:"/getInvAccountTypes",reqParams:{},onchange:this.accountTypeChange,selected:this.state.accttypevalue,stateMethod:this.getDefaultValues,id:"accountType"})})]})}),Object(u.jsxs)("div",{className:"d-inline-block col-md-3 text-right pr-0",children:[Object(u.jsxs)("div",{className:"d-inline-block mr-3 cross",onClick:this.createNew,children:[be," New"]}),Object(u.jsx)(GD,{size:"lg",modalHead:"Sub Account",onHide:this.hideSubNewLayer,api:Vl,cData:this.state.cData}),Object(u.jsx)("div",{className:"d-inline-block cross",onClick:this.closemodel,children:"X"})]})]})}),this.state.respMessage&&"Save Successful."===this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",this.state.respMessage&&"Save Unsuccessful."===this.state.respMessage?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.respMessage}):"",this.state.respMessage&&"Update Successful."===this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",this.state.respMessage&&"Delete Successful."===this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:_D,apiCall:Ul,reqParams:{},keyField:"uploadId",mappings:VD,customComponents:t,screenName:"VIEWEDIT_INVESTOR_ACCOUNT",updateData:this.state.updateData,flagPdf:!0})})}),Object(u.jsx)(qD,{size:"lg",show:this.state.newlayer,onHide:this.hideNewLayer,modalHead:this.state.editInvData?"Edit Account":"New Account",editData:this.state.editInvData}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})})}}]),a}(o.a.Component),ZD=[];function JD(e,t,a,s){var n=[];return Object.keys(t).map((function(s){return Object.keys(e[0]).map((function(e){var o;e===s&&(t[e]&&(o=a&&e===_e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.imgComponent(t,s,n,o,e)}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1},n.push(o)));return""})),""})),n}ZD.check=Oa,ZD.bookNo="Trader Book No",ZD.bookCode="Trader Book Code",ZD.bookDescription="Trader Book Description",ZD.status=qs;var QD,XD=[],$D=[],eC=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getDefaultStatusValues=function(e,t){s.setState({status:"Y"})},s.getDefaultBooksValues=function(e,t){s.setState({traderId:e})},s.getDefaultDPValues=function(e,t){s.setState({department:e})},s.onContentChange=function(e,t){"bookName"===t&&(XD[t]=e.target.value),"bookDescription"===t&&(XD[t]=e.target.value),"bookNo"===t&&(XD[t]=e.target.value),"bookCode"===t&&(XD[t]=e.target.value)},s.onFieldChange=function(e,t){"traderId"===t?s.setState({traderId:e.target.value}):"status"===t?s.setState({status:e.target.value}):"department"===t&&s.setState({department:e.target.value}),XD[t]=e.target.value},s.onchkBoxChange=function(e){$D.push(e.target.value)},s.doSave=function(e){var t="";if(""===XD.bookName||void 0===XD.bookName?t="Please Enter Book Name":""===XD.bookDescription||void 0===XD.bookDescription?t="Please Enter Book Description":""===XD.bookNo||void 0===XD.bookNo?t="Please Enter Book Number":""!==XD.bookCode&&void 0!==XD.bookCode||(t="Please Enter Book Code"),t)return s.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1;s.setState({actionTitle:"New Save",actionMessage:"Are you sure, you want to save the data?",alertShow:!0,actionFlag:"SAVE",apiUrl:e})},s.doCheck=function(e){var t=s.state.productData;t.find((function(t){return t.id===e.target.id})).isChecked=e.target.checked,XD.productData=t,s.setState({productData:t})},s.postData=function(e,t){w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&s.setState({respMessage:e.data}),s.props.onHide(s.state.respMessage)}))},s.hideAlert=function(){s.setState({alertShow:!1})},s.hideError=function(){s.setState({showError:!1})},s.onHideLayer=function(){s.setState({selectData:"",masterData:[],productData:[],prodData:[],status:"",traderId:"",showError:"",department:""}),s.props.onHide()},s.state={selectData:"",masterData:[],productData:[],prodData:[],status:"",traderId:"",showError:""},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){void 0!==this.state.productData&&0!==this.state.productData.length||this.getProductCodes()}},{key:"componentDidUpdate",value:function(){void 0!==this.state.productData&&0!==this.state.productData.length||this.getProductCodes()}},{key:"getProductCodes",value:function(){var e=this;w()({method:"POST",url:N.URL+"/getProductCodeTypes",timeout:N.apiTimeOut,data:{},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){var a=[];t.data&&(t.data.map((function(e){a.push({id:e.key,value:e.value,isChecked:!0})})),XD.productData=a,e.setState({productData:a}))}))}},{key:"confirmAction",value:function(e){var t=[];if("SAVE"===e){this.setState({alertShow:!1});var a={};Object.keys(XD).map((function(e){a[e]=XD[e]})),this.state.productData.map((function(e){!0===e.isChecked&&t.push({productType:e.id})})),a.productData=t,a.status=this.state.status,a.traderId=this.state.traderId,a.department=this.state.department,this.postData(a,QD)}}},{key:"handleClear",value:function(){document.getElementById("bookName")&&(document.getElementById("bookName").value=""),document.getElementById("bookDescription")&&(document.getElementById("bookDescription").value=""),document.getElementById("bookNo")&&(document.getElementById("bookNo").value=""),this.state.productData&&this.state.productData.map((function(e){document.getElementById(e.id).checked=!1}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.modalHead,s=t.editTradeData;return void 0!==s&&""!==s?(XD=this.props.editTradeData,QD="/editTraderBooksDetails"):QD="/newTraderBooksDetails",a&&Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.onHideLayer,size:this.props.size,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.modalHead})}),Object(u.jsxs)(P.a.Body,{children:[Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(ni,{label:we,id:"lbl_bookName"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"bookName",id:"bookName",value:s.bookName,className:"text-left",onBlur:function(t){e.onContentChange(t,"bookName")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(ni,{label:pn,id:"lbl_traderId"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:il,reqParams:{userType:"2",All:"false"},onchange:function(t){e.onFieldChange(t,"traderId")},selected:void 0!==s?s.traderId:this.state.traderId,stateMethod:this.getDefaultBooksValues,id:"traderId"})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Re,id:"lbl_bookDescription"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"bookDescription",id:"bookDescription",value:s.bookDescription,className:"text-left",onBlur:function(t){e.onContentChange(t,"bookDescription")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(ni,{label:qs,id:"lbl_status"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Vi,reqParams:{},onchange:function(t){e.onFieldChange(t,"status")},selected:this.state.status,stateMethod:this.getDefaultStatusValues,id:"status"})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Ee,id:"lbl_bookNo"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"bookNo",id:"bookNo",value:s.bookNo,className:"text-left",onBlur:function(t){e.onContentChange(t,"bookNo")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Fe,id:"lbl_bookCode"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"bookCode",id:"bookCode",value:s.bookCode,className:"text-left",onBlur:function(t){e.onContentChange(t,"bookCode")}})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Department",id:"lbl_department"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:dc,reqParams:{},onchange:function(t){e.onFieldChange(t,"department")},selected:this.state.department,stateMethod:this.getDefaultDPValues,id:"department"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:5,className:"d-inline-block align-top",children:Object(u.jsx)(ni,{label:is,id:"lbl_products"})}),Object(u.jsx)(W.a,{xs:7,className:"d-inline-block",children:this.state.productData&&this.state.productData.map((function(t){return Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block text-nowrap",style:{paddingLeft:"5px",paddingRight:"5px"},children:[Object(u.jsx)(mp,{name:t.value,id:t.id,checked:t.isChecked,onChange:e.doCheck}),Object(u.jsx)(ni,{label:t.value})]})}))})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{className:"text-center",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"save",onClick:function(t){e.doSave(QD)},children:"Save"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"clear",onClick:function(t){e.handleClear()},children:"Clear"})]})})]}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})}}]),a}(o.a.Component),tC=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).hideNewLayer=function(e){s.setState({respMessage:e,newlayer:!1,updateData:!0,editTradeData:[]})},s.editTradeBook=function(e){s.setState({actionTitle:"Edit",actionMessage:"Are you sure, that you want to edit the data?",alertShow:!0,actionFlag:"EDIT",editTradeData:e,updateData:!1})},s.deleteTradeBook=function(e){s.setState({actionTitle:"Delete",actionMessage:"Are you sure, that you want to delete the Book Records?",alertShow:!0,actionFlag:"DELETE",deleteData:e,updateData:!1})},s.hideAlert=function(){s.setState({alertShow:!1})},s.state={cmodal:!0,respMessage:"",editTradeData:"",newlayer:!1,updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.createNew=s.createNew.bind(Object(O.a)(s)),s.imgComponent=s.imgComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Br&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"createNew",value:function(){this.setState({actionTitle:"New Creation",actionMessage:"Are you sure, you want to create new trade book?",alertShow:!0,actionFlag:"NEW",editTradeData:"",updateData:!1})}},{key:"imgComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{id:n+a,href:"javascript:void(0);",className:"btn btn-link",onClick:function(e){o.editTradeBook(t)},children:Object(u.jsx)(B.o,{})}),Object(u.jsx)("button",{id:n+a,href:"javascript:void(0);",className:"btn btn-link",onClick:function(e){o.deleteTradeBook(t)},children:Object(u.jsx)(B.y,{})})]})}},{key:"confirmAction",value:function(e){var t=this;"DELETE"===e?(this.setState({alertShow:!1}),w()({method:"POST",url:N.URL+"/deleteTraderBooksDetails",timeout:N.apiTimeOut,data:{traderBook:this.state.deleteData.bookId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&t.setState({respMessage:e.data,updateData:!0})}))):("EDIT"===e||"NEW"===e)&&this.setState({alertShow:!1,newlayer:!0})}},{key:"render",value:function(){var e=this,t={};return t.imgComponent=this.imgComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsxs)("strong",{className:"cursor",children:[Object(u.jsx)("div",{className:"d-inline-block col-md-10",children:bd}),Object(u.jsxs)("div",{className:"d-inline-block cross",onClick:this.createNew,children:[be," New"]}),Object(u.jsx)("div",{className:"d-inline-block float-right cross",onClick:this.closemodel,children:"X"})]})}),void 0!==this.state.respMessage&&""!==this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:ZD,apiCall:"/viewTraderBooksDetails",reqParams:{"":""},keyField:"1",mappings:JD,customComponents:t,updateData:this.state.updateData,screenName:"VIEWEDIT_TRADER_BOOKS",flagPdf:!0})})}),Object(u.jsx)(eC,{size:"lg",show:this.state.newlayer,onHide:this.hideNewLayer,modalHead:this.state.editTradeData?"Edit Trader Book":"New Trader Book",editTradeData:this.state.editTradeData}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})})}}]),a}(o.a.Component),aC=[];function sC(e,t,a,s){var n=[];return Object.keys(t).map((function(s){return Object.keys(e[0]).map((function(e){var o;e===s&&(t[e]&&(o=a&&e===_e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.imgComponent(t,s,n,o,e)}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1,align:"creditLimit"===e||"threshold"===e?"right":"left"},n.push(o)));return""})),""})),n}aC.check=Oa,aC.issuerId=Kt,aC.ticker=cn,aC.creditLimit=hn,aC.threshold=un;var nC={},oC=!1,iC=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).isNewToSave=function(e,t){var a=!1;return void 0===e&&void 0===t&&(a=!0),a},s.getDefaultProductValue=function(e,t){s.setState({productType:e})},s.getDefaultTickerValue=function(e,t){s.setState({programId:e})},s.onFieldChange=function(e,t){s.setState({isLoading:!1});var a=s.state.programId,n=s.state.productType;oC=!1,"programId"===t&&(a=e.target.value),"productType"===t&&(n=e.target.value),w()({method:"POST",url:N.URL+Ac,timeout:N.apiTimeOut,data:{productType:n,traderBook:a},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){nC=void 0===e.data[0]?{}:e.data[0],oC=s.isNewToSave(nC.thresHold,nC.creditLimit),s.setState({editProgramCreditData:e.data[0],programId:a,productType:n,isLoading:!0})}))},s.onContentChange=function(e,t){"creditLimit"===t&&(nC[t]=Po(e.target.value)),"threshold"===t&&(nC[t]=Po(e.target.value))},s.doSave=function(){var e="";if(void 0===nC||""===nC.creditLimit||void 0===nC.creditLimit?e="Please enter valid Credit Limit":void 0===nC||""===nC.threshold||void 0===nC.threshold?e="Please enter valid Threshold":parseFloat(nC.creditLimit)<parseFloat(nC.threshold)&&(e="Credit Limit greater than Threshold"),e)return s.setState({actionTitle:"Alert",actionMessage:e,showError:!0}),!1;nC.creditLimit=Po(nC.creditLimit),nC.threshold=Po(nC.threshold),s.setState({actionTitle:"New Save",actionMessage:"Are you sure, you want to save the data?",alertShow:!0,actionFlag:"SAVE"})},s.postData=function(e,t){w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&s.setState({respMessage:e.data,editProgramCreditData:[]}),s.props.onHide(s.state.respMessage)}))},s.hideAlert=function(){s.setState({alertShow:!1})},s.hideError=function(){s.setState({showError:!1})},s.doReturn=function(e){s.props.onHide()},s.state={cmodal:!0,programId:"",productType:"",respMessage:"",showError:!1,isLoading:!0,editProgramCreditData:[]},s}return Object(l.a)(a,[{key:"getSnapshotBeforeUpdate",value:function(e,t){return e.actionFlag!==this.props.actionFlag||e.editProgramCreditData!==this.props.editProgramCreditData||null}},{key:"componentDidUpdate",value:function(e,t,a){if(e!==this.props&&!0===a){var s=void 0===this.props.editProgramCreditData?{}:this.props.editProgramCreditData;oC=this.isNewToSave(s.thresHold,s.creditLimit),this.setState({editProgramCreditData:s,programId:"",productType:""}),nC=s}}},{key:"onOfferChange",value:function(e){return _o(e)}},{key:"confirmAction",value:function(e){if("SAVE"===e){var t=!0===oC?"/newProgramCreditLimits":"/editProgramCreditLimits";this.setState({alertShow:!1});var a={};a.thresHold=void 0!==nC.threshold?nC.threshold:Po(this.state.editProgramCreditData.threshold),a.creditLimit=void 0!==nC.creditLimit?nC.creditLimit:Po(this.state.editProgramCreditData.creditLimit),a.programId=this.state.programId,a.productType=this.state.productType,this.postData(a,t)}}},{key:"handleClear",value:function(){document.getElementById("creditLimit")&&(document.getElementById("creditLimit").value=""),document.getElementById("threshold")&&(document.getElementById("threshold").value="")}},{key:"render",value:function(){var e=this,t=this.props,a=t.modalHead,s=(t.actionFlag,this.state.editProgramCreditData);return Object(u.jsx)(u.Fragment,{children:a&&Object(u.jsx)(u.Fragment,{children:!0===this.state.isLoading?Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,size:this.props.size,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.modalHead})}),Object(u.jsxs)(P.a.Body,{children:[Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:is,id:"lbl_product"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:vi,reqParams:{},onchange:function(t){e.onFieldChange(t,"productType")},selected:s&&void 0!==s.productType?s.productType:this.state.productType,id:"productType",stateMethod:this.getDefaultProductValue})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:cn,id:"lbl_ticker"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:ji,onchange:function(t){e.onFieldChange(t,"programId")},selected:s&&void 0!==s.programId?s.programId:this.state.programId,id:"programId",reqParams:{productType:this.state.productType,All:"false"},stateMethod:this.getDefaultTickerValue})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:6,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:hn,id:"lbl_creditLimit"}),"($m)"]}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"creditLimit",id:"creditLimit",value:s&&void 0!==s.creditLimit?s.creditLimit:"",className:"text-left",onBlur:function(t){e.onOfferChange(t),e.onContentChange(t,"creditLimit")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:mn,id:"lbl_threshold"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"threshold",id:"threshold",value:s&&void 0!==s.threshold?s.threshold:"",className:"text-left",onBlur:function(t){e.onOfferChange(t),e.onContentChange(t,"threshold")}})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{className:"text-center",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"save",onClick:function(t){e.doSave()},children:"Save"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"clear",onClick:function(t){e.handleClear()},children:"Clear"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"return",onClick:function(t){e.doReturn()},children:"Return"})]})})]}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]}):""})})}}]),a}(o.a.Component),lC=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).editProgramCredit=function(e){s.setState({actionTitle:"Edit",actionMessage:"Are you sure, you want to edit the credit details?",alertShow:!0,actionFlag:"EDIT",editProgramCreditData:e,updateData:!1,respMessage:""})},s.hideNewLayer=function(e){s.setState({respMessage:e,newlayer:!1,updateData:!0})},s.deleteProgramCredit=function(e){s.setState({actionTitle:"Delete",actionMessage:"Are you sure, you want to delete the credit details ?",alertShow:!0,actionFlag:"DELETE",deleteProgramCreditData:e,updateData:!1,respMessage:""})},s.hideAlert=function(){s.setState({alertShow:!1,updateData:!0})},s.state={cmodal:!0,productTypeValue:"",statusValue:"",formDateValue:_u(),toDateValue:Uu(),newlayer:!1,editProgramCreditData:[],respMessage:"",updateData:!0,deleteProgramCreditData:[]},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.productChange=s.productChange.bind(Object(O.a)(s)),s.createNew=s.createNew.bind(Object(O.a)(s)),s.imgComponent=s.imgComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Br&&this.setState({cmodal:!0})}},{key:"productChange",value:function(e){this.setState({respMessage:"",productTypeValue:e.target.value,updateData:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"createNew",value:function(){this.setState({actionTitle:"New Creation",actionMessage:"Are you sure, you want to create new credit details?",alertShow:!0,actionFlag:"NEW",editProgramCreditData:[],updateData:!1,respMessage:""})}},{key:"imgComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{href:"javascript:void(0);",className:"btn btn-link",onClick:function(e){o.editProgramCredit(t)},id:n+a,children:Object(u.jsx)(B.o,{})}),Object(u.jsx)("button",{href:"javascript:void(0);",className:"btn btn-link",onClick:function(e){return o.deleteProgramCredit(t)},id:n+a,children:Object(u.jsx)(B.y,{})})]})}},{key:"confirmAction",value:function(e){var t=this;"NEW"===e||"EDIT"===e?this.setState({alertShow:!1,newlayer:!0}):"DELETE"===e&&(this.setState({alertShow:!1}),w()({method:"POST",url:N.URL+"/deleteProgramCreditLimits",timeout:N.apiTimeOut,data:{programId:this.state.deleteProgramCreditData.programId,productType:this.state.deleteProgramCreditData.productType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&t.setState({respMessage:e.data,updateData:!0})})))}},{key:"render",value:function(){var e=this,t=this.state.actionFlag,a={};return a.imgComponent=this.imgComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsxs)("strong",{className:"cursor",children:[Object(u.jsx)("div",{className:"d-inline-block col-md-2",children:pd}),Object(u.jsx)("div",{className:"d-inline-block cross col-md-7",children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:1,className:"d-inline-block",children:Object(u.jsx)(ni,{className:"text-white",label:"Product",id:"lbl_prod"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:vi,reqParams:{All:"true"},onchange:this.productChange,selected:this.state.productTypeValue,id:"prod"})})]})}),Object(u.jsxs)("div",{className:"d-inline-block cross",onClick:this.createNew,children:[be," New"]}),Object(u.jsx)("div",{className:"d-inline-block float-right cross",onClick:this.closemodel,children:"X"})]})}),void 0!==this.state.respMessage&&""!==this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:aC,apiCall:Ac,reqParams:{productType:this.state.productTypeValue},keyField:"1",mappings:sC,updateData:this.state.updateData,customComponents:a,screenName:"PROGRAM_CREDIT_LIMITS",flagPdf:!0})})}),Object(u.jsx)(iC,{size:"lg",show:this.state.newlayer,onHide:this.hideNewLayer,actionFlag:t,modalHead:"EDIT"===t?"Edit Program Credit Limits":"New Program Credit Limits",editProgramCreditData:this.state.editProgramCreditData}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})})}}]),a}(o.a.Component),cC=[];function rC(e,t,a,s){var n=[];return Object.keys(t).map((function(s){return Object.keys(e[0]).map((function(e){var o;e===s&&(t[e]&&(o=a&&e===Dt?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.imgComponent(t,s,n,o,e)}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1},n.push(o)));return""})),""})),n}cC.ipaCode=Xt,cC.ipaName=$t,cC.ipaRegion=Cs,cC.ipaLocation=na,cC.ipaMessage="PIM/EPIM",cC.electronic=Oa;var dC,mC,hC=[],uC=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getDefaultRegionValues=function(e,t){s.setState({ipaRegion:e})},s.getDefaultValues=function(e,t){s.setState({ipaMessage:e})},s.onContentChange=function(e,t){"ipaCode"===t&&(hC[t]=e.target.value),"ipaName"===t&&(hC[t]=e.target.value),"ipaLocation"===t&&(hC[t]=e.target.value)},s.onFieldChange=function(e,t){"ipaMessage"===t?s.setState({ipaMessage:e.target.value}):"ipaRegion"===t&&s.setState({ipaRegion:e.target.value}),hC[t]=e.target.value},s.doSave=function(e){var t="";if(""===hC.ipaCode||void 0===hC.ipaCode?t="Please enter IPA CODE":""===hC.ipaName||void 0===hC.ipaName?t="Please Enter IPA NAME":""!==hC.ipaLocation&&void 0!==hC.ipaLocation||(t="Please Enter IPA Location"),void 0!==hC.ipaCode&&!1===Bo(hC.ipaCode,"1234567890")&&(t="Please enter valid IPA CODE"),t)return s.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1;s.setState({actionTitle:"Save",actionMessage:"Are you sure, you want to save the data?",alertShow:!0,actionFlag:"SAVE",apiUrl:e})},s.postData=function(e,t){w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&s.setState({respMessage:e.data.responseMessage}),s.props.onHide(s.state.respMessage)}))},s.hideAlert=function(){s.setState({alertShow:!1})},s.hideError=function(){s.setState({showError:!1})},s.state={selectData:"",errorMessage:""},s}return Object(l.a)(a,[{key:"confirmAction",value:function(e){if("SAVE"===e){this.setState({alertShow:!1});var t={};Object.keys(hC).map((function(e){t[e]=hC[e]})),t.ipaNumber=hC.ipaNumber,t.actionFlag=mC,t.ipaMessage=this.state.ipaMessage,t.ipaRegion=this.state.ipaRegion,this.postData(t,dC)}}},{key:"doClear",value:function(){document.getElementById("ipaCode")&&(document.getElementById("ipaCode").value=""),document.getElementById("ipaName")&&(document.getElementById("ipaName").value=""),document.getElementById("ipaLocation")&&(document.getElementById("ipaLocation").value="")}},{key:"render",value:function(){var e=this,t=this.props,a=t.modalHead,s=t.editIpaData;return void 0!==s&&""!==s?(hC=this.props.editIpaData,dC="/editIpaData",mC="EDIT"):(dC="/saveIpaData",mC="SAVE"),a&&Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,size:this.props.size,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.modalHead})}),Object(u.jsxs)(P.a.Body,{children:[Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Xt,id:"lbl_ipaCode"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"ipaCode",id:"ipaCode",value:s.ipaCode,className:"text-left",onBlur:function(t){e.onContentChange(t,"ipaCode")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:$t,id:"lbl_ipaName"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"ipaName",id:"ipaName",value:s.ipaName,className:"text-left",onBlur:function(t){e.onContentChange(t,"ipaName")}})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Cs,id:"lbl_ipaRegion"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:"/regionMapData",reqParams:{},onchange:function(t){e.onFieldChange(t,"ipaRegion")},selected:s.ipaRegion,stateMethod:this.getDefaultRegionValues,id:"ipaRegion"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:na,id:"lbl_ipaLocation"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"ipaLocation",id:"ipaLocation",value:s.ipaLocation,className:"text-left",onBlur:function(t){e.onContentChange(t,"ipaLocation")}})})]})]}),Object(u.jsx)(H.a,{md:2,children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Message",id:"lbl_ipaMessage"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:"/ipaMessagetype",reqParams:{},onchange:function(t){e.onFieldChange(t,"ipaMessage")},selected:s.ipaMessage,stateMethod:this.getDefaultValues,id:"ipaMessage"})})]})}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{className:"text-center",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"save",onClick:function(t){e.doSave(dC)},children:"Save"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"clear",onClick:function(t){e.doClear()},children:"Clear"})]})})]}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})}}]),a}(o.a.Component),bC=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).hideNewLayer=function(e){s.setState({respMessage:e,newlayer:!1,updateData:!0})},s.editIpaData=function(e){s.setState({actionTitle:"Edit",actionMessage:"Are you sure, that you want to edit the data?",alertShow:!0,actionFlag:"EDIT",editIpaData:e,updateData:!1})},s.deleteIpaData=function(e){s.setState({actionTitle:"Delete",actionMessage:"Are you sure, that you want to delete the data?",alertShow:!0,actionFlag:"DELETE",deleteData:e,updateData:!1})},s.hideAlert=function(){s.setState({alertShow:!1,updateData:!0})},s.state={cmodal:!0,newlayer:!1,actionTitle:"",actionMessage:"",alertShow:!1,actionFlag:"",respMessage:"",editIpaData:"",updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.createNew=s.createNew.bind(Object(O.a)(s)),s.imgComponent=s.imgComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Br&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"createNew",value:function(){this.setState({actionTitle:"New Creation",actionMessage:"Are you sure, you want to create new account?",alertShow:!0,actionFlag:"NEW",editIpaData:"",updateData:!0})}},{key:"imgComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{href:"javascript:void(0);",className:"btn btn-link",onClick:function(e){o.editIpaData(t)},id:n+a,children:Object(u.jsx)(B.o,{})}),Object(u.jsx)("button",{href:"javascript:void(0);",className:"btn btn-link",onClick:function(e){return o.deleteIpaData(t)},id:n+a,children:Object(u.jsx)(B.y,{})})]})}},{key:"confirmAction",value:function(e){var t=this;"DELETE"===e?(this.setState({alertShow:!1}),w()({method:"POST",url:N.URL+"/deleteIpaData",timeout:N.apiTimeOut,data:{ipaNumber:this.state.deleteData.ipaNumber},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&t.setState({respMessage:e.data.responseMessage,updateData:!0})}))):("EDIT"===e||"NEW"===e)&&this.setState({alertShow:!1,newlayer:!0})}},{key:"render",value:function(){var e=this,t={};return t.imgComponent=this.imgComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsxs)("strong",{className:"cursor",children:[Object(u.jsx)("div",{className:"d-inline-block col-md-2",children:jd}),Object(u.jsx)("div",{className:"d-inline-block cross col-md-7"}),Object(u.jsxs)("div",{className:"d-inline-block cross",onClick:this.createNew,children:[be," New"]}),Object(u.jsx)("div",{className:"d-inline-block float-right cross",onClick:this.closemodel,children:"X"})]})}),void 0!==this.state.respMessage&&""!==this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:cC,apiCall:"/getIpaData",reqParams:{"":""},keyField:"1",mappings:rC,customComponents:t,updateData:this.state.updateData,screenName:"VIEWEDIT_IPA_DATA",flagPdf:!0})})}),Object(u.jsx)(uC,{size:"lg",show:this.state.newlayer,onHide:this.hideNewLayer,modalHead:this.state.editIpaData?"Edit IPA Data":"New IPA Data",editIpaData:this.state.editIpaData}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})})}}]),a}(o.a.Component),pC=[];function jC(e,t,a,s){var n=[];return Object.keys(t).map((function(s){return Object.keys(e[0]).map((function(e){var o;e===s&&(t[e]&&(o=a&&e===_e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.imgComponent(t,s,n,o,e)}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1},n.push(o)));return""})),""})),n}pC.check=Oa,pC.salesPersonName=Ns,pC.bookName="Sales Book Name",pC.bookDescription="Sales Book Description",pC.bookNo="Sales Book No",pC.bookCode="Sales Book Code",pC.status=qs,pC.bookId=kt;var xC,fC=[],gC=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getDefaultSalesValues=function(e,t){s.setState({salesPersonId:e})},s.getDefaultValues=function(e,t){s.setState({status:"Y"})},s.onContentChange=function(e,t){"bookName"===t&&(fC[t]=e.target.value),"bookDescription"===t&&(fC[t]=e.target.value),"bookNo"===t&&(fC[t]=e.target.value),"bookCode"===t&&(fC[t]=e.target.value)},s.onFieldChange=function(e,t){"salesPersonId"===t?s.setState({salesPersonId:e.target.value}):"status"===t&&s.setState({status:e.target.value}),fC[t]=e.target.value},s.doSave=function(e){var t="";if(""===fC.bookName||void 0===fC.bookName?t="Please Enter Book Name":""===fC.bookDescription||void 0===fC.bookDescription?t="Please Enter Book Description":""===fC.bookNo||void 0===fC.bookNo?t="Please Enter Book Number":""!==fC.bookCode&&void 0!==fC.bookCode||(t="Please Enter Book Code"),t)return s.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1;s.setState({actionTitle:"New Save",actionMessage:"Are you sure, you want to save the data?",alertShow:!0,actionFlag:"SAVE",apiUrl:e})},s.postData=function(e,t){w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&s.setState({respMessage:e.data}),s.props.onHide(s.state.respMessage)}))},s.hideAlert=function(){s.setState({alertShow:!1})},s.hideError=function(){s.setState({showError:!1})},s.state={selectData:"",salesPersonId:"",respMessage:"",status:"",showError:!1},s}return Object(l.a)(a,[{key:"confirmAction",value:function(e){if("SAVE"===e){this.setState({alertShow:!1});var t={};Object.keys(fC).map((function(e){t[e]=fC[e]})),t.salesPersonId=this.state.salesPersonId,t.status=this.state.status,this.postData(t,xC)}}},{key:"handleClear",value:function(){document.getElementById("bookName")&&(document.getElementById("bookName").value=""),document.getElementById("bookDescription")&&(document.getElementById("bookDescription").value=""),document.getElementById("bookNo")&&(document.getElementById("bookNo").value=""),document.getElementById("bookCode")&&(document.getElementById("bookCode").value="")}},{key:"render",value:function(){var e=this,t=this.props,a=t.modalHead,s=t.editSalesData;return void 0!==s&&""!==s?(fC=this.props.editSalesData,xC="/editSaleBooksDetails"):xC="/newSaleBooksDetails",a&&Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,size:this.props.size,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.modalHead})}),Object(u.jsxs)(P.a.Body,{children:[Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Ns,id:"lbl_loginid"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:il,reqParams:{userType:"3",All:"true"},onchange:function(t){e.onFieldChange(t,"salesPersonId")},selected:s.salesPersonId,stateMethod:this.getDefaultSalesValues,id:"salesPersonId"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:we,id:"lbl_bookname"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"bookName",id:"bookName",value:s.bookName,className:"text-left",onBlur:function(t){e.onContentChange(t,"bookName")}})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Re,id:"lbl_bookdec"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"bookDescription",id:"bookDescription",value:s.bookDescription,className:"text-left",onBlur:function(t){e.onContentChange(t,"bookDescription")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:qs,id:"lbl_status"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Vi,reqParams:{},onchange:function(t){e.onFieldChange(t,"status")},selected:s.status,stateMethod:this.getDefaultValues,id:"status"})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Ee,id:"lbl_booknumber"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"bookNo",id:"bookNo",value:s.bookNo,className:"text-left",onBlur:function(t){e.onContentChange(t,"bookNo")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:Fe,id:"lbl_bookcode"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"bookCode",id:"bookCode",value:s.bookCode,className:"text-left",onBlur:function(t){e.onContentChange(t,"bookCode")}})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{className:"text-center",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"save",onClick:function(t){e.doSave(xC)},children:"Save"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"clear",onClick:function(t){e.handleClear()},children:"Clear"})]})})]}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})}}]),a}(o.a.Component),OC=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).hideNewLayer=function(e){s.setState({respMessage:e,newlayer:!1,updateData:!0})},s.editSalesBook=function(e){s.setState({actionTitle:"Edit",actionMessage:"Are you sure, that you want to edit the data?",alertShow:!0,actionFlag:"EDIT",editSalesData:e,updateData:!1})},s.deleteSalesBook=function(e){s.setState({actionTitle:"Delete",actionMessage:"Are you sure, that you want to delete the Book Records?",alertShow:!0,actionFlag:"DELETE",deleteData:e,updateData:!1})},s.hideAlert=function(){s.setState({alertShow:!1,updateData:!0})},s.state={cmodal:!0,editSalesData:[],respMessage:"",newlayer:!1,deleteData:"",updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.createNew=s.createNew.bind(Object(O.a)(s)),s.imgComponent=s.imgComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Br&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"createNew",value:function(){this.setState({actionTitle:"New Creation",actionMessage:"Are you sure, you want to create new sales book?",alertShow:!0,actionFlag:"NEW",editSalesData:"",updateData:!1})}},{key:"imgComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{href:"javascript:void(0);",className:"btn btn-link",onClick:function(e){o.editSalesBook(t)},id:n+a,children:Object(u.jsx)(B.o,{})}),Object(u.jsx)("button",{href:"javascript:void(0);",className:"btn btn-link",onClick:function(e){o.deleteSalesBook(t)},id:n+a,children:Object(u.jsx)(B.y,{})})]})}},{key:"confirmAction",value:function(e){var t=this;"DELETE"===e?(this.setState({alertShow:!1}),w()({method:"POST",url:N.URL+"/deleteSaleBooksDetails",timeout:N.apiTimeOut,data:{salesBook:this.state.deleteData.bookId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&t.setState({respMessage:e.data,updateData:!0})}))):("EDIT"===e||"NEW"===e)&&this.setState({alertShow:!1,newlayer:!0})}},{key:"render",value:function(){var e=this,t={};return t.imgComponent=this.imgComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsxs)("strong",{className:"cursor",children:[Object(u.jsx)("div",{className:"d-inline-block col-md-2",children:xd}),Object(u.jsx)("div",{className:"d-inline-block cross col-md-7"}),Object(u.jsxs)("div",{className:"d-inline-block cross",onClick:this.createNew,children:[be," New"]}),Object(u.jsx)("div",{className:"d-inline-block float-right cross",onClick:this.closemodel,children:"X"})]})}),void 0!==this.state.respMessage&&""!==this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:pC,apiCall:"/viewSaleBooksDetails",reqParams:{"":""},keyField:"1",mappings:jC,customComponents:t,updateData:this.state.updateData,screenName:"VIEWEDIT_SALES_BOOKS",flagPdf:!0})})}),Object(u.jsx)(gC,{size:"lg",show:this.state.newlayer,onHide:this.hideNewLayer,modalHead:this.state.editSalesData?"Edit Sales Book":"New Sales Book",editSalesData:this.state.editSalesData}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})})}}]),a}(o.a.Component),vC=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectData:""},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.apiCall?w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){var a,s;(e.setState({selectData:t.data}),e.props.stateMethod)&&(Object.keys(t.data).map((function(e,n){0===n&&(a=e,s=t.data[e])})),e.props.stateMethod(a,s))})):this.props.data&&this.setState({selectData:this.props.data})}},{key:"componentDidUpdate",value:function(e,t){var a=this;e!==this.props&&(this.props.apiCall?w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({selectData:e.data})})):this.props.data&&this.setState({selectData:this.props.data}))}},{key:"render",value:function(){var e=this,t=this.state.selectData;return t&&Object(u.jsx)(k.a.Control,{id:this.props.id,name:this.props.name,as:"select",multiple:"multiple",custom:!0,onChange:this.props.onchange,seleted:this.props.selected,children:t.map((function(t,a){return Object(u.jsx)("option",{value:t[e.props.keyId],children:t[e.props.valueId]},t[e.props.keyId])}))})}}]),a}(o.a.Component),yC=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getDefaultBookValues=function(e,t){s.setState({bookId:"All"})},s.programsChange=function(e){s.setState({programId:e.target.value})},s.booksMultiChange=function(e){s.setState({booksId:e.target.value})},s.doTransfer=function(){var e="";if(0===s.state.programId||void 0===s.state.programId?e="Please select at least one Program.":0!==s.state.booksId&&void 0!==s.state.booksId||(e="Please select at least one Book."),e)return s.setState({actionTitle:"Alert",actionMessage:e,showError:!0}),!1;s.setState({actionTitle:"Transfer",actionMessage:"Are you sure, you want to Transfer the data ?",alertShow:!0,actionFlag:"SAVE",apiUrl:Hl})},s.postData=function(e,t){w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:{programList:e},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&s.setState({respMessage:e.data})}))},s.hideAlert=function(){s.setState({alertShow:!1})},s.hideError=function(){s.setState({showError:!1})},s.state={cmodal:!0,bookId:"",respMessage:"",actionTitle:"",actionMessage:"",showError:""},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.bookChange=s.bookChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===fd&&this.setState({cmodal:!0})}},{key:"bookChange",value:function(e){this.setState({bookId:e.target.value})}},{key:"closemodel",value:function(){this.setState({cmodal:!1,respMessage:""}),this.props.onRemove(this.props.linkname)}},{key:"confirmAction",value:function(e){if("SAVE"===e){this.setState({alertShow:!1});var t=[],a={};a.programId=this.state.programId,a.bookId=this.state.booksId,t.push(a),this.postData(t,this.state.apiUrl)}}},{key:"render",value:function(){var e=this;return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsxs)("strong",{className:"cursor",children:[Object(u.jsx)("div",{className:"d-inline-block col-md-3",children:fd}),Object(u.jsx)("div",{className:"d-inline-block cross col-md-5",children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:1,className:"d-inline-block",children:Object(u.jsx)(ni,{className:"text-white",label:"Book",id:"lbl_book"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{bookId:this.state.bookId},onchange:this.bookChange,selected:this.state.bookId,stateMethod:this.getDefaultBookValues,id:"book"})})]})}),Object(u.jsx)("div",{className:"d-inline-block cross",children:"Note: Programs will be Transferred at Bid Price"}),Object(u.jsx)("div",{className:"d-inline-block float-right cross",onClick:this.closemodel,children:"X"})]})}),void 0!==this.state.respMessage&&""!==this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{md:3,children:[Object(u.jsxs)(W.a,{className:"text-center",children:[Object(u.jsx)(ni,{label:"Programs",id:"lbl_programs"}),Object(u.jsx)(vC,{apiCall:Wl,reqParams:{traderBook:this.state.bookId},onchange:this.programsChange,selected:this.state.programId,keyId:"programId",valueId:"parentName",id:"programId"})]}),Object(u.jsx)(W.a,{className:"text-center",children:Object(u.jsxs)(D.a,{className:"btn btn-primary btn-xs mr-1 md-btn",id:"transfer",onClick:function(t){e.doTransfer(e)},children:[Object(u.jsx)(B.r,{className:"mr-1"}),Object(u.jsx)("span",{children:"Transfer"})]})}),Object(u.jsxs)(W.a,{className:"text-center",children:[Object(u.jsx)(ni,{label:"Books",id:"lbl_books"}),Object(u.jsx)(vC,{apiCall:"/getTraderBookProductsList",reqParams:{traderBook:this.state.bookId},onchange:this.booksMultiChange,selected:this.state.booksId,keyId:"bookId",id:"bookId",valueId:"bookName"})]})]})}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})})}}]),a}(o.a.Component),kC=a(541),DC=[],CC=[],NC=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getDefaultBookValues=function(e,t){s.setState({bookId:"All"})},s.programsChange=function(e){s.setState({programId:e.target.value})},s.booksMultiChange=function(e){s.setState({booksId:e.target.value})},s.selectProgramField=function(e,t){if((CC=[]).includes(t)){var a=CC.filter((function(e,a,s){return e!=t}));CC=a}else CC.push(t);s.setState({refresh:!1})},s.selectBookField=function(e,t){(DC=[]).push(t),s.setState({refresh:!1})},s.doTransfer=function(){var e=s.state,t=e.programList,a=e.booksList,n=[],o="";if(0===CC.length?o=Ih:0===DC.length&&(o=wh),o)return s.setState({actionTitle:"Alert",actionMessage:o,showError:!0}),!1;t.map((function(e,t){CC.includes(e.programId)?DC.length>0&&a.find((function(e){return e.bookId===DC[0]})).programList.push(e):n.push(e)})),s.setState({booksList:a,programList:n})},s.doSave=function(){var e="";if(0===CC.length?e=Sh:0===DC.length?e=wh:s.setState({actionTitle:"Transfer",actionMessage:Nh,alertShow:!0,actionFlag:"SAVE",apiUrl:Hl}),e)return s.setState({actionTitle:"Alert",actionMessage:e,showError:!0}),!1},s.doClear=function(){},s.postData=function(e,t){w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:{programList:e},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&s.setState({respMessage:e.data})}))},s.hideAlert=function(){s.setState({alertShow:!1})},s.hideError=function(){s.setState({showError:!1})},s.state={cmodal:!0,bookId:"",respMessage:"",actionTitle:"",actionMessage:"",showError:"",programList:[],booksList:[],refresh:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.bookChange=s.bookChange.bind(Object(O.a)(s)),s.getProgramsData=s.getProgramsData.bind(Object(O.a)(s)),s.getBooksData=s.getBooksData.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"getProgramsData",value:function(){var e=Object(f.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"POST",url:N.URL+Wl,timeout:N.apiTimeOut,data:{traderBook:this.state.bookId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}});case 2:return t=e.sent,this.getBooksData(),this.setState({programList:t.data}),e.abrupt("return",t.data);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBooksData",value:function(){var e=Object(f.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"POST",url:N.URL+"/getTransferBookProgramList",timeout:N.apiTimeOut,data:{traderBook:this.state.bookId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}});case 2:return t=e.sent,this.setState({booksList:t.data}),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){DC=[],CC=[],this.getProgramsData()}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===fd&&this.setState({cmodal:!0})}},{key:"bookChange",value:function(e){this.setState({bookId:e.target.value}),this.getProgramsData()}},{key:"closemodel",value:function(){this.setState({cmodal:!1,respMessage:""}),this.props.onRemove(this.props.linkname)}},{key:"confirmAction",value:function(e){if("SAVE"===e){this.setState({alertShow:!1});var t=[],a={};a.programId=CC[0],a.bookId=DC[0],t.push(a),this.postData(t,this.state.apiUrl)}}},{key:"render",value:function(){var e=this,t=this.state,a=t.programList,s=t.booksList;return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",style:{padding:"5px 8px"},children:Object(u.jsxs)("strong",{className:"cursor",children:[Object(u.jsx)("div",{className:"d-inline-block col-md-2",children:fd}),Object(u.jsx)("div",{className:"d-inline-block cross col-md-7",children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:1,className:"d-inline-block",children:Object(u.jsx)(ni,{className:"text-white",label:"Book",id:"lbl_book"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{bookId:this.state.bookId,allFlag:"false"},onchange:this.bookChange,selected:this.state.bookId,stateMethod:this.getDefaultBookValues,id:"book"})})]})}),Object(u.jsx)("div",{className:"d-inline-block cross",children:Object(u.jsxs)("span",{style:{fontSize:"12px",fontWeight:"normal"},children:[" Note : ",Mh]})}),Object(u.jsx)("div",{className:"d-inline-block float-right cross",onClick:this.closemodel,children:"X"})]})}),void 0!==this.state.respMessage&&""!==this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{md:3,children:[Object(u.jsxs)(W.a,{className:"text-center transfer col-md-5",children:[Object(u.jsx)(ni,{label:"Programs",id:"lbl_programs"}),Object(u.jsx)(kC.a,{children:a&&a.map((function(t,a){var s=CC.includes(t.programId)?"active":"";return Object(u.jsxs)(kC.a.Item,{className:s,id:t.programId,action:!0,href:function(a){e.selectProgramField(a,t.programId)},children:[t.ticker," - ",t.shortName," - ",t.prodName]})}))})]}),Object(u.jsx)(W.a,{className:"text-center col-md-2",children:Object(u.jsxs)(D.a,{className:"tranbtn btn-primary btn-xs mr-1 trasfer-btn-top",id:"transfer",onClick:function(t){e.doTransfer(t)},children:[Object(u.jsx)(B.r,{className:"mr-1"}),Object(u.jsx)("span",{children:"Transfer"})]})}),Object(u.jsxs)(W.a,{className:"text-center transfer col-md-5",children:[Object(u.jsx)(ni,{label:"Books",id:"lbl_books"}),Object(u.jsx)(kC.a,{children:s&&s.map((function(t,a){var s=DC.includes(t.bookId)?"active":"";return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(kC.a.Item,{className:s+" bk_lst",id:t.bookId,action:!0,href:function(a){e.selectBookField(a,t.bookId)},children:t.bookName}),Object(u.jsx)(SC,{programs:t.programList})]})}))})]})]})}),Object(u.jsx)("br",{}),a&&0===a.length&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(W.a,{className:"text-center transfer col-md-8 mx-auto",children:Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:Th})})}),Object(u.jsx)(H.a,{md:12,className:"mttp05",children:Object(u.jsxs)(W.a,{className:"text-center transfer",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"Save",onClick:function(t){e.doSave(t)},children:"Save"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"Clear",onClick:function(t){e.doClear(t)},children:"Clear"})]})}),Object(u.jsx)("br",{}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})})}}]),a}(o.a.Component),SC=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.programs;return Object(u.jsx)(u.Fragment,{children:e&&e.map((function(e,t){return Object(u.jsxs)(kC.a.Item,{className:"pl20",id:e.programId,children:[e.ticker," - ",e.shortName," - ",e.prodName]})}))})}}]),a}(o.a.Component),wC=NC,TC=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).getDefaultBookValues=function(e,t){s.setState({bookId:"All"})},s.companyChange=function(e){s.setState({companyName:e.target.value})},s.issuerChange=function(e){s.setState({programId:e.target.value})},s.doTransfer=function(){var e="";if(""===s.state.programId||void 0===s.state.programId?e="Please select at least one IsuuerName.":""!==s.state.companyName&&void 0!==s.state.companyName||(e="Please select at least one Companyname."),e)return s.setState({actionTitle:"Alert",actionMessage:e,showError:!0}),!1;s.setState({actionTitle:"Transfer",actionMessage:"Are you sure, you want to Transfer the data ?",alertShow:!0,actionFlag:"SAVE",apiUrl:"/saveCompanyCassiiAssociation"})},s.postData=function(e){w()({method:"POST",url:N.URL+s.state.apiUrl,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&s.setState({respMessage:e.data})}))},s.hideAlert=function(){s.setState({alertShow:!1})},s.hideError=function(){s.setState({showError:!1})},s.state={cmodal:!0,bookId:"",programId:"",showError:"",apiUrl:""},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.bookChange=s.bookChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Od&&this.setState({cmodal:!0})}},{key:"bookChange",value:function(e){this.setState({bookId:e.target.value})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"confirmAction",value:function(e){if("SAVE"===e){this.setState({alertShow:!1});var t={};t.issuerId=this.state.programId,t.companyName=this.state.companyName,this.postData(t)}}},{key:"render",value:function(){var e=this;return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsxs)("strong",{className:"cursor",children:[Object(u.jsx)("div",{className:"d-inline-block col-md-2",children:Od}),Object(u.jsx)("div",{className:"d-inline-block cross col-md-7",children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:1,className:"d-inline-block",children:Object(u.jsx)(ni,{className:"text-white",label:"Book",id:"lbl_book"})}),Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{bookId:this.state.bookId},onchange:this.bookChange,selected:this.state.bookId,stateMethod:this.getDefaultBookValues,id:"book"})})]})}),Object(u.jsx)("div",{className:"d-inline-block float-right cross",onClick:this.closemodel,children:"X"})]})}),void 0!==this.state.respMessage&&""!==this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{md:3,children:[Object(u.jsxs)(W.a,{className:"text-center",children:[Object(u.jsx)(ni,{label:"Issuers",id:"lbl_issuers"}),Object(u.jsx)(vC,{apiCall:"/issuerCassiiAssociation",reqParams:{salesBook:this.state.bookId},onchange:this.issuerChange,selected:this.state.programId,keyId:"programId",id:"issuerId",valueId:"issuerName"})]}),Object(u.jsx)(W.a,{className:"text-center",children:Object(u.jsxs)(D.a,{className:"btn btn-primary btn-xs md-btn",id:"transfer",onClick:function(t){e.doTransfer(e)},children:[Object(u.jsx)(B.r,{className:"mr-1"}),Object(u.jsx)("span",{children:"Transfer"})]})}),Object(u.jsxs)(W.a,{className:"text-center",children:[Object(u.jsx)(ni,{label:"Companies",id:"lbl_companies"}),Object(u.jsx)(vC,{apiCall:"/companyCassiiAssociation",reqParams:{salesBook:this.state.bookId},onchange:this.companyChange,selected:this.state.companyName,id:"cassii",valueId:"companyName"})]})]})}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})})}}]),a}(o.a.Component),IC={},MC=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).onTradeProcess=function(e){s.setState({tradeProcess:e.target.value}),IC.tradeProcess=e.target.value},s.msgTimeOut=function(e){s.setState({isLoading:!1}),setTimeout((function(){s.setState({responseMessage:""}),s.setState({isLoading:!1}),w()({method:"POST",url:N.URL+sc,timeout:N.apiTimeOut,data:{productType:s.state.prodId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&void 0!==e.data.productWeekData&&e.data.productWeekData.length>0&&(void 0!==e.data.productParamData&&e.data.productParamData.length>0&&Object.keys(e.data.productParamData).map((function(t){IC[t]=e.data.productParamData[t]})),s.setState({data:e.data,weekData:e.data.productWeekData,isLoading:!0}))}))}),5e3)},s.state={cmodal:!0,data:[],prodId:"1200",companyId:"",tradeProcess:"",responseMessage:"",weekData:[],isLoading:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.onChange=s.onChange.bind(Object(O.a)(s)),s.onchkBoxChange=s.onchkBoxChange.bind(Object(O.a)(s)),s.productChange=s.productChange.bind(Object(O.a)(s)),s.daybasisChange=s.daybasisChange.bind(Object(O.a)(s)),s.saveDeskParameters=s.saveDeskParameters.bind(Object(O.a)(s)),s.onStartTimeChange=s.onStartTimeChange.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.isTime=s.isTime.bind(Object(O.a)(s)),s.tradeProcessSelect=s.tradeProcessSelect.bind(Object(O.a)(s)),s.dayBasisSelect=s.dayBasisSelect.bind(Object(O.a)(s)),s.productChangeSelect=s.productChangeSelect.bind(Object(O.a)(s)),s.handleReset=s.handleReset.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!1}),w()({method:"POST",url:N.URL+sc,timeout:N.apiTimeOut,data:{productType:this.state.prodId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&void 0!==t.data.productWeekData&&t.data.productWeekData.length>0&&(void 0!==t.data.productParamData&&t.data.productParamData.length>0&&Object.keys(t.data.productParamData).map((function(e){IC[e]=t.data.productParamData[e]})),e.setState({data:t.data,weekData:t.data.productWeekData,isLoading:!0}))}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;e!==this.props&&(this.setState({isLoading:!1}),w()({method:"POST",url:N.URL+sc,timeout:N.apiTimeOut,data:{productType:this.state.prodId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&void 0!==e.data.productWeekData&&e.data.productWeekData.length>0&&(void 0!==e.data.productParamData&&e.data.productParamData.length>0&&Object.keys(e.data.productParamData).map((function(t){IC[t]=e.data.productParamData[t]})),a.setState({data:e.data,weekData:e.data.productWeekData,isLoading:!0}))})))}},{key:"tradeProcessSelect",value:function(e,t){IC.tradeProcess=e}},{key:"dayBasisSelect",value:function(e,t){IC.dayBasis=e}},{key:"productChangeSelect",value:function(e,t){IC.prodId=e}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"onChange",value:function(e,t){IC[t]=e.target.value}},{key:"onStartTimeChange",value:function(e,t){IC[t]=e.target.value;var a;0===IC[t].length&&(!1,a=bh,this.setState({actionTitle:"Alert",actionMessage:a,showError:!0})),!1===Bo(e.target.value,"1234567890:APM ")&&(this.setState({actionTitle:"Alert",actionMessage:bh,showError:!0}),e.target.value="",e.target.focus())}},{key:"onEndTimeChange",value:function(e,t){IC[t]=e.target.value;var a;0===IC[t].length&&(!1,a=ph,this.setState({actionTitle:"Alert",actionMessage:a,showError:!0})),!1===Bo(e.target.value,"1234567890:APM ")&&(this.setState({actionTitle:"Alert",actionMessage:ph,showError:!0}),e.target.value="",e.target.focus())}},{key:"onTextChange",value:function(e,t){IC[t]=e.target.value;!1===Bo(e.target.value,"1234567890")&&(this.setState({actionTitle:"Alert",actionMessage:jh,showError:!0}),e.target.value="",e.target.focus())}},{key:"onRateChange",value:function(e,t){IC[t]=e.target.value;!1===Bo(e.target.value,"1234567890.")&&(this.setState({actionTitle:"Alert",actionMessage:xh,showError:!0}),e.target.value="",e.target.focus())}},{key:"onchkBoxChange",value:function(e,t){var a=this.state.weekData;a.find((function(t){return t.descr===e.target.id})).weekCheck=e.target.checked,this.setState({weekData:a})}},{key:"productChange",value:function(e){this.setState({prodId:e.target.value,isLoading:!1});var t={productType:e.target.value};this.postData(t,sc)}},{key:"postData",value:function(e,t){var a=this;this.setState({isLoading:!1,responseMessage:""}),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&a.setState({data:e.data,weekData:e.data.productWeekData,isLoading:!0})}))}},{key:"isTime",value:function(e,t){var a,s,n,o,i,l,c,r;if(null==t)return!0;if((a=t).length>0){var d=0;return n=(s=a).substring(0,2),o=s.substring(2,3),i=s.substring(3,5),l=s.substring(5,6),c=s.substring(6,7),r=s.substring(7,8),s.substring(6,8),""==a||a.length<0?void alert(e+"\n"+Ah):n<=0&&i<=0?void alert(e+"\n"+Rh):n<=0||n>12?(alert(e+"\n"+Eh),!1):i<0||i>59?(alert(e+"\n"+Fh),!1):l.length>1&&" "!=l||"P"!=c&&"A"!=c||"M"!=r?(alert(e+"\n"+Ph),!1):Bo(a,"0123456789:AMPamp ")?":"!=o?(alert(e+"\n"+Ph),!1):1!=d:(alert(e+"\n"+Bh),!1)}if(!(""==a||a.length<0))return!0;alert(e)}},{key:"saveDeskParameters",value:function(){var e=this;this.setState({isLoading:!1}),Object.keys(this.state.data.productParamData).forEach((function(t){IC[t]=e.state.data.productParamData[t]})),IC.productWeekData=this.state.weekData,this.isTime(bh,IC.tradeStartTime)&&this.isTime(ph,IC.tradeEndTime)&&w()({method:"POST",url:N.URL+"/setDeskParameterDetails",timeout:N.apiTimeOut,data:IC,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({responseMessage:t.data.responseMessage}),(void 0!==t.data.responseMessage&&t.data.responseMessage.length>0||void 0!==t.data.responseMessage&&t.data.responseMessage.length>0)&&(e.msgTimeOut(),e.setState({responseMessage:t.data.responseMessage})),e.setState({isLoading:!0})}))}},{key:"daybasisChange",value:function(e){this.setState({dayBasis:e.target.value}),IC.dayBasis=e.target.value}},{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"handleReset",value:function(){var e=this;this.setState({isLoading:!1}),w()({method:"POST",url:N.URL+sc,timeout:N.apiTimeOut,data:{productType:this.state.prodId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&void 0!==t.data.productWeekData&&t.data.productWeekData.length>0&&(void 0!==t.data.productParamData&&t.data.productParamData.length>0&&Object.keys(t.data.productParamData).map((function(e){IC[e]=t.data.productParamData[e]})),e.setState({data:t.data,weekData:t.data.productWeekData,isLoading:!0}))}))}},{key:"render",value:function(){var e=this,t=this.state.data;return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsx)(u.Fragment,{children:!0===this.state.isLoading?Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",Object(u.jsxs)(H.a,{md:3,children:[Object(u.jsxs)(W.a,{md:1,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Trading Desk",id:"lbl_tradingdesk"}),":"]}),Object(u.jsx)(W.a,{md:2,className:"d-inline-block",children:Object(u.jsx)(k.a.Control,{id:"tradingdesk",name:"tradingdesk",as:"select",custom:!0,onChange:this.onChange,value:this.state.companyId,children:Object(u.jsx)("option",{value:"43839171",children:"Your Trading Desk"})})}),Object(u.jsxs)(W.a,{md:1,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Product",id:"lbl_product"}),":"]}),Object(u.jsx)(W.a,{md:2,className:"d-inline-block",children:Object(u.jsx)(Dp,{name:"prodId",id:"prodId",apiCall:vi,reqParams:{},stateMethod:this.productChangeSelect,onchange:function(t){e.productChange(t)},selected:void 0!==this.state&&void 0!==this.state.prodId?this.state.prodId:Hh})})]}),Object(u.jsx)("div",{className:"subHead text-left mt-1",children:"Desk Parameter"}),Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{md:2,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Start Trading Time",id:"lbl_starttime"}),":"]}),Object(u.jsx)(W.a,{md:2,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"tradeStartTime",id:"tradeStartTime",value:void 0!==t.productParamData?t.productParamData.tradeStartTime:"",onChange:function(t){e.onStartTimeChange(t,"tradeStartTime")}})})]}),Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{md:2,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"End Trading Time",id:"lbl_endtime"}),":"]}),Object(u.jsx)(W.a,{md:2,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"tradeEndTime",id:"tradeEndTime",value:t.productParamData?t.productParamData.tradeEndTime:"",onChange:function(t){e.onEndTimeChange(t,"tradeEndTime")}})})]}),Object(u.jsx)("div",{className:"subHead text-left mt-1",children:"Currency Settings"}),Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{md:2,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Trade Processing",id:"lbl_tradeprocess"}),":"]}),Object(u.jsx)(W.a,{md:2,className:"d-inline-block",children:Object(u.jsx)(Dp,{name:"tradeProcess",id:"tradeProcess",data:Su,reqParams:{},stateMethod:this.tradeProcessSelect,onchange:function(t){e.onTradeProcess(t)},selected:""===this.state.tradeProcess?t.productParamData&&t.productParamData.tradeProcess:this.state.tradeProcess})})]}),Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{md:2,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Timeout for Trading",id:"lbl_timeouttrading"}),":"]}),Object(u.jsx)(W.a,{md:2,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"tradeTimeOut",id:"tradeTimeOut",value:t.productParamData?t.productParamData.tradeTimeOut:"",onChange:function(t){e.onTextChange(t,"tradeTimeOut")}})}),Object(u.jsx)(ni,{label:"seconds"})]}),Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{md:2,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Variable Rate",id:"lbl_variablerate"}),":"]}),Object(u.jsx)(W.a,{md:2,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"rate",id:"rate",value:t.productParamData?t.productParamData.rate:"",onChange:function(t){e.onRateChange(t,"rate")}})})]}),Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{md:2,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Amount Decimals",id:"lbl_amountdecimals"}),":"]}),Object(u.jsx)(W.a,{md:2,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"amtDecimals",id:"amtDecimals",value:t.productParamData?t.productParamData.amtDecimals:"",onChange:function(t){e.onTextChange(t,"amtDecimals")}})})]}),Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{md:2,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Rate Decimals",id:"lbl_ratedecimals"}),":"]}),Object(u.jsx)(W.a,{md:2,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"rateDecimals",id:"rateDecimals",value:t.productParamData?t.productParamData.rateDecimals:"",onChange:function(t){e.onTextChange(t,"rateDecimals")}})})]}),Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{md:2,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Day Basis",id:"lbl_daybasis"}),":"]}),Object(u.jsx)(W.a,{md:2,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:lc,id:"dayBasis",name:"dayBasis",reqParams:{},stateMethod:this.dayBasisSelect,onchange:function(t){e.daybasisChange(t)},selected:""===this.state.dayBasis?t.productParamData&&t.productParamData.dayBasis:this.state.dayBasis})})]}),Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{md:2,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Rate Reasonability Check",id:"lbl_ratecheck"}),":"]}),Object(u.jsx)(W.a,{md:2,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"rrCheck",id:"rrCheck",value:t.productParamData?t.productParamData.rrCheck:"",onChange:function(t){e.onTextChange(t,"rrCheck")}})}),Object(u.jsx)(ni,{label:"(In basis points) *"})]}),Object(u.jsx)("div",{className:"subHead text-left mt-1",children:"Product Work Sheet"}),Object(u.jsx)(H.a,{md:7,className:"mt-1",children:this.state.weekData&&this.state.weekData.map((function(t){return Object(u.jsxs)(W.a,{children:[Object(u.jsx)(mp,{id:t.descr,name:t.descr,checked:t.weekCheck,onChange:e.onchkBoxChange}),Object(u.jsx)(ni,{label:t.descr,id:"lbl_"+t.descr.toLowerCase()})]},t.dayId)}))}),Object(u.jsxs)("div",{className:"text-center mt-2 mb-2",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"save",onClick:this.saveDeskParameters,children:"Save"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"reset",onClick:this.handleReset,children:"Reset"})]})]})]}):Object(u.jsx)(Fb,{})})})}}]),a}(o.a.Component);function AC(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&(o=a&&e===Fn?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.checkBoxComponent(t,s,n,o,e)}}:a&&e===qe?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.ccyBoxComponent(t,s,n,o,e)}}:a&&e===Ke?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.textBoxComponent(t,s,n,o,e)}}:a&&e===nt?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.selectBoxComponent(t,s,n,o,e)}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1},s.push(o)));return""})),""})),s}var RC,EC=[];EC.weekCheck=" ",EC.currency=We,EC.currencyName="Currency Name",EC.dayBasis="Day Count";var FC=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).selectBoxComponent=function(e,t,a,n,o){return Object(u.jsx)(Dp,{apiCall:lc,reqParams:{},onchange:s.bookChange,selected:s.state.bookId,stateMethod:s.getDefaultBookValues,id:o+a},a)},s.onSave=function(){var e=!1;RC&&RC.map((function(t,a){var s=document.getElementById("weekCheck"+a);null!=s&&!0===s.checked&&(e=!0)})),e?s.setState({actionTitle:dm,actionMessage:vh,alertShow:!0,actionFlag:"SAVE"}):alert("Please check atleast once checkbox")},s.state={cmodal:!0,mainApiCall:ic,responseMessage:""},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.checkBoxComponent=s.checkBoxComponent.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.selectBoxComponent=s.selectBoxComponent.bind(Object(O.a)(s)),s.addClick=s.addClick.bind(Object(O.a)(s)),s.setScreenData=s.setScreenData.bind(Object(O.a)(s)),s.ccyBoxComponent=s.ccyBoxComponent.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s.hideAlert=s.hideAlert.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideAlert",value:function(){this.setState({alertShow:!1})}},{key:"confirmAction",value:function(e){if("SAVE"===e){this.setState({alertShow:!1});var t=[],a=!1;RC&&RC.map((function(e,s){var n=document.getElementById("weekCheck"+s);if(null!=n&&!0===n.checked){a=!0;var o="";o=document.getElementById("currency"+s)?document.getElementById("currency"+s).value:RC[s].currency;var i=document.getElementById("currencyName"+s).value,l=document.getElementById("dayBasis"+s).value,c="";c="365"===l?"A365":"366"===l?"AA":"A360";var r={weekCheck:n.checked,currency:o,currencyName:i,dayBasis:l,dayBasisCode:c};t.push(r)}})),a?this.postData("/setCurrencyDetails",t):alert("Please check atleast once checkbox")}else"ADD"===e&&(this.setState({alertShow:!1}),void 0!==RC?this.setState({rowCnt:RC.length+1}):this.setState({rowCnt:1}),RC=[],this.setState({mainApiCall:"/addCurrencyDetails"}))}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===kd&&this.setState({cmodal:!0})}},{key:"setScreenData",value:function(e){RC=e}},{key:"addClick",value:function(e){this.setState({actionTitle:mm,actionMessage:Oh,alertShow:!0,actionFlag:"ADD"})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"checkBoxComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:n+a,id:n+a,onClick:function(t){o.onCheckboxClick(e,a,t)}},a)})}},{key:"onCheckboxClick",value:function(e,t,a){}},{key:"ccyBoxComponent",value:function(e,t,a,s,n){return""===e?Object(u.jsx)(Eu,{name:n+a,id:n+a,value:e},a):e}},{key:"textBoxComponent",value:function(e,t,a,s,n){return Object(u.jsx)(Eu,{name:n+a,id:n+a,value:e},a)}},{key:"postData",value:function(e,t){var a=this;w()({method:"POST",url:N.URL+e,timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&a.setState({responseMessage:e.data})}))}},{key:"render",value:function(){var e=this,t={};return t.checkBoxComponent=this.checkBoxComponent,t.textBoxComponent=this.textBoxComponent,t.selectBoxComponent=this.selectBoxComponent,t.ccyBoxComponent=this.ccyBoxComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[this.state.responseMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage}):"",Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm}),Object(u.jsx)(Yb,{cprops:EC,apiCall:this.state.mainApiCall,reqParams:{"":""},keyField:"currencydetails",mappings:AC,customComponents:t,calBack:this.setScreenData,mapdata:RC,wsUrl:!1,excelFlag:"true"}),Object(u.jsxs)("div",{className:"text-center mt-2 mb-2",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"add",onClick:this.addClick,children:"Add"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"save",onClick:this.onSave,children:"Save"})]})]})]})})}}]),a}(o.a.Component);function PC(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&(o=a&&e===Fn?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.checkBoxComponent(t,s,n,o,e)}}:a&&e===Lt?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.textBoxComponent(t,s,n,o,e)}}:e===_t?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.dateComponent(t,s,n,o,e)}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1},s.push(o)));return""})),""})),s}var BC,LC=[];LC.weekCheck=" ",LC.description="Holiday",LC.holidayDate="Date(DD/MM/YY)";var _C=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).checkBoxComponent=function(e,t,a,n,o){return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o+a,id:o+a,onClick:function(t){s.onCheckboxClick(e,a,t)}},a)})},s.textBoxComponent=function(e,t,a,s,n){return Object(u.jsx)(Eu,{name:n+a,id:n+a,value:e},a)},s.onDelete=function(){var e=!1;BC&&BC.map((function(t,a){var s=document.getElementById("weekCheck"+a);null!=s&&!0===s.checked&&(e=!0)})),e?s.setState({actionTitle:rm,actionMessage:hh,alertShow:!0,actionFlag:"DELETE",updateData:!1}):alert("Please check atleast once checkbox")},s.onSave=function(){var e=!1,t="",a="";BC&&BC.map((function(s,n){var o=document.getElementById("weekCheck"+n);if(null!=o&&!0===o.checked){e=!0,""===document.getElementById("description"+n).value&&""===t&&(t=n);var i=document.getElementById("holidayDate"+n).value;void 0!==i&&""!==i||""!==a||(a=n)}})),e?""!==t?alert("Please enter valid description"):""!==a?alert("Please enter Valid date"):s.setState({actionTitle:dm,actionMessage:uh,alertShow:!0,actionFlag:"SAVE",updateData:!1}):alert("Please check atleast once checkbox")},s.getDefaultCurrencyValues=function(e,t){s.setState({currencyValue:e,updateData:!1})},s.getDefaultYearValues=function(e,t){s.setState({yearValue:"2022",updateData:!1})},s.state={cmodal:!0,currencyValue:"",yearValue:"",mainApiCall:oc,alertShow:!1,respMsg:"",actionTitle:"",actionMessage:"",actionFlag:"",updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.checkBoxComponent=s.checkBoxComponent.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.currencyChange=s.currencyChange.bind(Object(O.a)(s)),s.yearChange=s.yearChange.bind(Object(O.a)(s)),s.addClick=s.addClick.bind(Object(O.a)(s)),s.setScreenData=s.setScreenData.bind(Object(O.a)(s)),s.dateComponent=s.dateComponent.bind(Object(O.a)(s)),s.hideAlert=s.hideAlert.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"confirmAction",value:function(e){var t=this;if("SAVE"===e){this.setState({alertShow:!1});var a=[],s=!1;BC&&BC.map((function(e,n){var o=document.getElementById("weekCheck"+n);if(null!=o&&!0===o.checked){s=!0;var i,l="",c="",r=t.state.yearValue;i=t.state.currencyValue,document.getElementById("description"+n)&&(l=document.getElementById("description"+n).value),document.getElementById("holidayDate"+n)&&(c=document.getElementById("holidayDate"+n).value);var d={weekCheck:o.checked,currency:i,description:l,holidayDate:c,holidayYear:r,loginId:"53722005"};a.push(d)}})),s?this.postData(a,"/insertHoliday"):alert("Please check atleast once checkbox")}else if("ADD"===e)this.setState({alertShow:!1,updateData:!1}),void 0!==BC?this.setState({rowCnt:BC.length+1}):this.setState({rowCnt:1}),BC=[],this.setState({mainApiCall:"/addHolidayDetails",updateData:!0});else if("DELETE"===e){this.setState({alertShow:!1,updateData:!0});a=[],s=!1;BC&&BC.map((function(e,n){var o=document.getElementById("weekCheck"+n);if(null!=o&&!0===o.checked){s=!0;var i,l,c="",r=t.state.yearValue;i=t.state.currencyValue,document.getElementById("description"+n)&&(c=document.getElementById("description"+n).value),document.getElementById("holidayDate"+n)&&document.getElementById("holidayDate"+n).value,l=BC[n].hDate;var d={weekCheck:o.checked,currency:i,description:c,holidayDate:Yu(l,"D/M/YYYY"),holidayYear:r};a.push(d)}})),s?this.postData(a,"/deleteHoliday"):alert("Please check atleast once checkbox")}}},{key:"hideAlert",value:function(){this.setState({alertShow:!1,updateData:!1})}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===yd&&this.setState({cmodal:!0,updateData:!1})}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1}),this.props.onRemove(this.props.linkname)}},{key:"onCheckboxClick",value:function(e,t,a){}},{key:"dateComponent",value:function(e,t,a,s,n){var o=this;return""===e?Object(u.jsx)(nj,{label:n+a,id:n+a,dateValue:Yu(e,"YYYY-MM-DD"),fromDateFlg:!1,toDateFlg:!1,onchange:function(e){o.onDateChange(e,n,a)}}):Object(u.jsx)(Eu,{name:n+a,id:n+a,readOnly:!0,value:e},a)}},{key:"onDateChange",value:function(e,t,a){BC[a][t]=Yu(e,"M/D/YY")}},{key:"currencyChange",value:function(e){BC=[],this.setState({currencyValue:e.target.value,mainApiCall:oc,updateData:!1});var t={CURRENCY:this.state.currencyValue,year:this.state.yearValue};this.getData(t,oc)}},{key:"yearChange",value:function(e){BC=[],this.setState({yearValue:e.target.value,mainApiCall:oc,updateData:!1});var t={year:this.state.yearValue};this.getData(t,oc)}},{key:"setScreenData",value:function(e){BC=e}},{key:"addClick",value:function(e){this.setState({actionTitle:mm,actionMessage:gh,alertShow:!0,actionFlag:"ADD",updateData:!1})}},{key:"getData",value:function(e,t){var a=this;w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&a.setState({maindata:e.data,updateData:!0}),a.setState({mainApiCall:oc,updateData:!0})}))}},{key:"postData",value:function(e,t){var a=this;w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&a.setState({respMsg:e.data,updateData:!0}),a.setState({mainApiCall:oc,updateData:!0})}))}},{key:"render",value:function(){var e=this,t={};return t.checkBoxComponent=this.checkBoxComponent,t.textBoxComponent=this.textBoxComponent,t.dateComponent=this.dateComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[this.state.respMsg?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMsg}):"",Object(u.jsxs)(H.a,{md:3,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:6,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Trading Desk",id:"lbl_tradingdesk"}),":"]}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(k.a.Control,{id:"tradingdesk",name:"tradingdesk",as:"select",custom:!0,onChange:this.onchange,value:"43839171",children:Object(u.jsx)("option",{value:"43839171",children:"Your Trading Desk"})})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:6,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Currency",id:"lbl_currency"}),":"]}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Ei,reqParams:{},onchange:this.currencyChange,selected:this.state.currencyValue,stateMethod:this.getDefaultCurrencyValues,id:"currency"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Year",id:"lbl_year"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:"/getYears",reqParams:{},onchange:this.yearChange,selected:this.state.yearValue,id:"year",stateMethod:this.getDefaultYearValues})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})}),Object(u.jsx)(Yb,{cprops:LC,apiCall:this.state.mainApiCall,reqParams:{CURRENCY:""==this.state.currencyValue?"AUD":this.state.currencyValue,year:""==this.state.yearValue?"2022":this.state.yearValue},keyField:"holidaydetails",updateData:this.state.updateData,mappings:PC,customComponents:t,calBack:this.setScreenData,mapdata:BC,wsUrl:!1,excelFlag:"true"}),Object(u.jsxs)("div",{className:"text-center mt-2 mb-2",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"add",onClick:this.addClick,children:"Add"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"save",onClick:this.onSave,children:"Save"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"delete",onClick:this.onDelete,children:"Delete"})]})]})]})})}}]),a}(o.a.Component),UC=[];UC.loginname=An,UC.roledesc=En,UC.name=Pn,UC.jpmsid=Bn,UC.phone=_n,UC.email=Un,UC.status=qs,UC.action=oe;var VC=[];function YC(e,t,a,s){var n=[];return Object.keys(t).map((function(s){return Object.keys(e[0]).map((function(e){var o;e===s&&(t[e]&&(o=a&&e===Rn?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.roleComponent}:a&&e===Ws?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.statusComponent}:a&&e===Vn?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.imgComponent(t,s,n,o,e)}}:a&&e===Mn?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.linkUserProdComponent}:a&&e===Mn?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkUserProdComponent(t,s,n,o,e)}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1},n.push(o)));return""})),""})),n}VC.loginname=An,VC.roledesc=En,VC.desk=Yn,VC.name=Pn,VC.jpmsid=Bn,VC.phone=_n,VC.email=Un,VC.status=qs,VC.action=oe;var HC,WC,qC,zC,GC,KC,ZC=[],JC=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).doReturn=function(e){s.props.onHide()},s.hideLayer=function(){s.setState({checkMessage:""}),s.props.onHide()},s.state={selectData:"",showError:!1,checkMessage:""},s.doSubmit=s.doSubmit.bind(Object(O.a)(s)),s.getDefaultValues=s.getDefaultValues.bind(Object(O.a)(s)),s.getDefaultBookValues=s.getDefaultBookValues.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"checkLoginName",value:function(e,t){var a=this;this.setState({checkMessage:""});var s={};s.loginName=e.target.value,ZC.loginName=e.target.value,Zl,w()({method:"POST",url:N.URL+Zl,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&a.setState({checkMessage:e.data})}))}},{key:"onContentChange",value:function(e,t){ZC[t]=e.target.value,this.setState({ck:0})}},{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"verifyUser",value:function(){if(void 0===ZC||""===ZC)return this.setState({actionTitle:"Alert",actionMessage:"Please enter Login Name",showError:!0}),!1;if(void 0===ZC.loginname||""===ZC.loginname)return this.setState({actionTitle:"Alert",actionMessage:"Please enter Login Name",showError:!0}),!1;if(void 0===ZC.firstName||""===ZC.firstName)return this.setState({actionTitle:"Alert",actionMessage:"Please enter First Name",showError:!0}),!1;if(void 0===ZC.lastName||""===ZC.lastName)return this.setState({actionTitle:"Alert",actionMessage:"Please enter Last Name",showError:!0}),!1;if(void 0===ZC.email||""===ZC.email)return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address",showError:!0}),!1;if(void 0!==ZC.email&&""!==ZC.email){if(-1==ZC.email.indexOf("@"))return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address, Email with out an @ is not a valid E-Mail Address",showError:!0}),!1;if(!Bo(ZC.email,"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_@-."))return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address",showError:!0}),!1;if(Bo(ZC.email,"0123456789.@"))return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address",showError:!0}),!1;if(ZC.email.indexOf("@")!=ZC.email.lastIndexOf("@"))return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address",showError:!0}),!1;if(-1!=ZC.email.indexOf(" "))return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address",showError:!0}),!1;if(-1==ZC.email.indexOf("."))return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address",showError:!0}),!1;if(ZC.email.lastIndexOf(".")==ZC.email.length-1)return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address",showError:!0}),!1;if(ZC.email.indexOf("@")==ZC.email.length-1)return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address",showError:!0}),!1;if(ZC.email.indexOf("@")==ZC.email.indexOf(".")-1||ZC.email.indexOf(".")==ZC.email.indexOf("@")-1)return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address",showError:!0}),!1;if(0==ZC.email.indexOf("@")||0==ZC.email.indexOf("."))return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address",showError:!0}),!1;if(-1!=ZC.email.indexOf(".."))return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address",showError:!0}),!1;if(-1!=ZC.email.indexOf(".")&&ZC.email.lastIndexOf(".")<ZC.email.lastIndexOf("@"))return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address",showError:!0}),!1}return!(void 0!==ZC.phone&&""!==ZC.phone&&!Bo(ZC.phone,"0123456789-"))||(this.setState({actionTitle:"Alert",actionMessage:"Please enter valid Phone Number",showError:!0}),!1)}},{key:"doSubmit",value:function(e){var t=this,a={};Object.keys(ZC).map((function(e){a[e]=ZC[e]})),a.companycatid=this.props.companycatid,a.companyid=this.props.companyid,[].push(a),this.verifyUser()&&w()({method:"POST",url:N.URL+e,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data.length>0&&(HC=" "===e.data?"":e.data,t.setState({updateFlag:!0})),t.props.onHide(HC),ZC=[]}))}},{key:"getDefaultValues",value:function(e,t){this.setState({roledesc:e}),ZC.roledesc=e}},{key:"getDefaultBookValues",value:function(e,t){this.setState({defaultBook:e}),ZC.defaultBook=e}},{key:"render",value:function(){var e=this,t=this.props,a=t.modalHead,s=t.reqParams;return void 0!==s&&""!==s?(ZC=this.props.reqParams,WC="/editUser",qC="Update User"):(WC="/newUser",qC="Add New User"),a&&Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.hideLayer,size:this.props.size,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.modalHead})}),Object(u.jsxs)(P.a.Body,{children:[Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um}),void 0!==this.state.checkMessage&&""!==this.state.checkMessage?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.checkMessage}):"",Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Login Name :",id:"lbl_loginName"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"loginame",id:"loginname",value:s.loginname,className:"text-left",onBlur:function(t){e.checkLoginName(t,"loginname")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Role Type :",id:"lbl_roledesc"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:"/getUserRoles",reqParams:{companyCategory:this.props.companycatid},onchange:function(t){e.onContentChange(t,"roledesc")},selected:s.roledesc,stateMethod:this.getDefaultValues,id:"roledesc"})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"First Name :",id:"lbl_firstName"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"firstName",id:"firstName",value:s.firstName,className:"text-left",onBlur:function(t){e.onContentChange(t,"firstName")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Last Name :",id:"lbl_lastName"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"lastName",id:"lastName",value:s.lastName,className:"text-left",onBlur:function(t){e.onContentChange(t,"lastName")}})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Email :",id:"lbl_email"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"email",id:"email",value:s.email,className:"text-left",onBlur:function(t){e.onContentChange(t,"email")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Phone :",id:"lbl_accountType"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"phone",id:"phone",value:s.phone,className:"text-left",onBlur:function(t){e.onContentChange(t,"phone")}})})]})]}),("1"===this.props.membercatid||"6"===this.props.membercatid)&&Object(u.jsx)("div",{children:Object(u.jsx)(H.a,{md:2,children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"ID :",id:"lbl_jpmsid"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"jpmsid",id:"jpmsid",value:s.jpmsid,className:"text-left",onBlur:function(t){e.onContentChange(t,"jpmsid")}})})]})})}),"2"===this.props.membercatid&&Object(u.jsxs)("div",{children:[Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"ID :",id:"lbl_jpmsid"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"jpmsid",id:"jpmsid",value:s.jpmsid,className:"text-left",onBlur:function(t){e.onContentChange(t,"jpmsid")}})})]}),Object(u.jsxs)(W.a,{className:"d-inline-flex",children:[Object(u.jsxs)(W.a,{className:"mr-1 col-4 pl-0 pr-0",children:[Object(u.jsx)(mp,{id:"stopTrading",className:"mr-0 ml-3 veralign"})," ",Object(u.jsx)(ni,{label:" Stop Trading"})]}),Object(u.jsxs)(W.a,{className:"col-4 pl-0 pr-0",children:[Object(u.jsx)(mp,{id:"removeOfferings",className:"mr-0 veralign"})," ",Object(u.jsx)(ni,{label:"Remove Offerings"})]}),Object(u.jsxs)(W.a,{className:"col-5 pl-0 pr-0",children:[Object(u.jsx)(mp,{id:"transferSecrty",className:"mr-0 veralign"})," ",Object(u.jsx)(ni,{label:"Transfer Securities"})]})]})]}),Object(u.jsx)(H.a,{md:2,children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Default Book :",id:"lbl_book"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{},onchange:function(t){e.onContentChange(t,"defaultBook")},stateMethod:this.getDefaultBookValues,selected:s.defaultBook,disabled:!!s,id:"defaultBook"})})]})})," "]}),"3"===this.props.membercatid&&Object(u.jsx)("div",{children:Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Salesperson ID :",id:"lbl_accountType"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"cpspid",id:"cpspid",value:s.cpspid,className:"text-left",onBlur:function(t){e.onContentChange(t,"cpspid")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"ID :",id:"lbl_jpmsid"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"jpmsid",id:"jpmsid",value:s.jpmsid,className:"text-left",onBlur:function(t){e.onContentChange(t,"jpmsid")}})})]})]})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{className:"text-center",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"updateUser",onClick:function(t){e.doSubmit(WC)},children:qC}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"clear",onClick:function(t){e.doReturn(e)},children:"Return"})]})})]})]})}}]),a}(o.a.Component),QC=[],XC=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectData:""},s.doSubmit=s.doSubmit.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"onContentChange",value:function(e,t){QC[t]=e.target.value}},{key:"doSubmit",value:function(){var e=this,t=[],a={};Object.keys(QC).map((function(e){a[e]=QC[e]})),t.push(a),w()({method:"POST",url:N.URL+"/updateSSOUserAssociation",timeout:N.apiTimeOut,data:{adminId:t[0].adminId,traderUser:t[0].traderUser,supportUser:t[0].supportUser},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data.length>0&&(zC=" "===t.data?"":t.data,e.setState({updateFlag:!0})),e.props.onHide(zC)}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.modalHead;t.prodType;return a&&Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,size:this.props.size,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.modalHead})}),Object(u.jsxs)(P.a.Body,{children:[Object(u.jsx)(H.a,{md:2,children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Admin User:",id:"lbl_adminUser"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:"/getAdminUsers",reqParams:{userType:"1"},onchange:function(t){e.onContentChange(t,"adminId")},id:"adminUser"})})]})}),Object(u.jsx)(H.a,{md:2,children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Trader User:",id:"lbl_traderUser"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"traderUser",id:"traderUser",value:"",className:"text-right",onBlur:function(t){e.onContentChange(t,"traderUser")}})})]})}),Object(u.jsx)(H.a,{md:2,children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Front office :",id:"lbl_frontOffice"})}),Object(u.jsx)(W.a,{xs:6,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"supportUser",id:"supportUser",value:"",className:"text-right",onBlur:function(t){e.onContentChange(t,"supportUser")}})})]})}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{className:"text-center",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"update",onClick:this.doSubmit,children:"Update"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"clear",children:"Clear"})]})})]})]})}}]),a}(o.a.Component),$C=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).hideNewLayer=function(e){s.setState({newlayer:!1,msg:e,updateData:!0})},s.hideNewSSOLayer=function(e){s.setState({newSSOlayer:!1,msg:e,updateData:!0})},s.state={cmodal:!0,productTypeValue:"",statusValue:"",formDateValue:_u(),toDateValue:Uu(),newSSOlayer:!1,dataRow:"",newlayer:!1,updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.createNew=s.createNew.bind(Object(O.a)(s)),s.createNewUserAss=s.createNewUserAss.bind(Object(O.a)(s)),s.doDelete=s.doDelete.bind(Object(O.a)(s)),s.doEdit=s.doEdit.bind(Object(O.a)(s)),s.imgComponent=s.imgComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Br&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"createNew",value:function(){this.setState({actionTitle:"Alert",actionMessage:"Are you sure, you want to Create New User ?",alertShow:!0,actionFlag:"NEW",updateData:!1,row:""})}},{key:"hideAlert",value:function(){this.setState({alertShow:!1,updateData:!1})}},{key:"createNewUserAss",value:function(){this.setState({actionTitle:"Alert",actionMessage:"Are you sure, you want to Associate SSO User ?",alertShow:!0,actionFlag:"SSONEW",updateData:!1,row:""})}},{key:"doEdit",value:function(e){this.setState({actionTitle:"Alert",actionMessage:"Are you sure, you want edit user ?",alertShow:!0,actionFlag:"EDIT",updateData:!1,row:e})}},{key:"confirmAction",value:function(e,t,a){"EDIT"!==e&&"NEW"!==e||(this.setState({alertShow:!1}),this.openLayer(t)),"EDIT"!==e&&"NEW"!==e||(this.setState({alertShow:!1}),this.openLayer(t)),"SSONEW"===e&&(this.setState({alertShow:!1}),this.setState({newSSOlayer:!0})),"DELETE"===e&&(this.setState({alertShow:!1}),this.doDeleteAction(t,a))}},{key:"openLayer",value:function(e){this.setState({dataRow:e}),this.setState({newlayer:!0})}},{key:"doDelete",value:function(e,t){var a="";"N"===t?a="Are you sure, you want to disable user":"D"===t?a="Are you sure, you want to delete the data permanently":"Y"===t&&(a="Are you sure , You want to Enable the User"),this.setState({actionTitle:"Alert",actionMessage:a,alertShow:!0,actionFlag:"DELETE",status:t,updateData:!1,row:e})}},{key:"doDeleteAction",value:function(e,t){var a=this;w()({method:"POST",url:N.URL+bi,timeout:N.apiTimeOut,data:{status:t,loginId:e.loginid},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){if(e.data.length>0){var t="";t=" "===e.data?"":e.data,a.setState({updateFlag:!0,msg:t,updateData:!0})}}))}},{key:"statusComponent",value:function(e,t,a){return"N"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"Disabled"})]}):"Y"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"Active"})]}):void 0}},{key:"roleComponent",value:function(e,t,a){return"A"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"ADMIN"})]}):"V"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"VIEW"})]}):"O"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"ADMIN-VIEW"})]}):void 0}},{key:"imgComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(u.Fragment,{children:"N"!==t.status?Object(u.jsxs)("div",{children:[Object(u.jsxs)("button",{className:"btn btn-link",href:"javascript:void(0);",id:n+a,onClick:function(e){o.doEdit(t,a,e)},children:[Object(u.jsx)("div",{children:Object(u.jsx)(Hp,{action:"Edit User",children:Object(u.jsx)(B.o,{})})})," "]}),Object(u.jsxs)("button",{className:"btn btn-link",href:"javascript:void(0);",id:n+a,onClick:function(e){o.doDelete(t,"N",e)},children:[Object(u.jsx)("div",{children:Object(u.jsx)(Hp,{action:"Disable User",children:Object(u.jsx)(B.y,{})})})," "]}),Object(u.jsxs)("button",{className:"btn btn-link",href:"javascript:void(0);",id:n+a,onClick:function(e){o.doDelete(t,"D",e)},children:[Object(u.jsx)("div",{children:Object(u.jsx)(Hp,{action:"Delete User",children:Object(u.jsx)(B.n,{})})})," "]})]}):Object(u.jsxs)("div",{children:["  ",Object(u.jsxs)("button",{className:"btn btn-link",href:"javascript:void(0);",id:n+a,onClick:function(e){o.doDelete(t,"Y",e)},children:[Object(u.jsx)("div",{children:Object(u.jsx)(Hp,{action:"Enable User",children:Object(u.jsx)(B.j,{})})})," "]}),Object(u.jsxs)("button",{className:"btn btn-link",href:"javascript:void(0);",id:n+a,onClick:function(e){o.doDelete(t,"D",e)},children:[Object(u.jsx)("div",{children:Object(u.jsx)(Hp,{action:"Delete User",children:Object(u.jsx)(B.n,{})})})," "]})]})})}},{key:"render",value:function(){var e=this,t={};return t.statusComponent=this.statusComponent,t.roleComponent=this.roleComponent,t.imgComponent=this.imgComponent,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h6",{children:void 0!==this.state.msg&&""!==this.state.msg?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.msg}):""}),this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsxs)("strong",{className:"cursor",children:[Object(u.jsx)("div",{className:"d-inline-block col-md-2",children:wd}),Object(u.jsxs)("div",{className:"d-inline-block col-md-10 text-right pr-0",children:[Object(u.jsxs)("div",{className:"d-inline-block mr-3 cross",onClick:this.createNewUserAss,children:[be," ",Ad]}),Object(u.jsxs)("div",{className:"d-inline-block mr-3 cross",onClick:this.createNew,children:[be,"  Create New User"]}),Object(u.jsx)("div",{className:"d-inline-block cross",onClick:this.closemodel,children:"X"})]})]})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:UC,apiCall:nc,updateData:this.state.updateData,reqParams:{subSource:"ADMINGRP"},keyField:"1",mappings:YC,customComponents:t,excelFlag:"true"})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},row:this.state.row,onConfirm:function(){return e.confirmAction(e.state.actionFlag,e.state.row,e.state.status)},messageType:cm})})]}),Object(u.jsx)(JC,{size:"lg",show:this.state.newlayer,onHide:this.hideNewLayer,modalHead:this.state.dataRow?"Edit User Information":"Add New User",companycatid:"100",companyid:"10000",membercatid:"1",reqParams:this.state.dataRow}),Object(u.jsx)(XC,{size:"lg",show:this.state.newSSOlayer,onHide:this.hideNewSSOLayer,modalHead:"SSO User Association",companycatid:"100",companyid:"10000",membercatid:"1"})]})]})}}]),a}(o.a.Component),eN=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).doCheck=function(e,t){!0===e.target.checked?s.state.selectData.subProductStatus[t.groupid]="Y":s.state.selectData.subProductStatus[t.groupid]="N";var a=document.querySelectorAll('*[id^="scheck"]'),n=0;a.forEach((function(e){!0===e.checked&&n++})),n===a.length?document.getElementById("checkAll").checked=!0:document.getElementById("checkAll").checked=!1,s.setState({setFlag:!0})},s.doCheckAll=function(e){!0===e.target.checked?s.state.selectData.userAssignParentProducts.map((function(e,t){e&&(s.state.selectData.subProductStatus[e.groupid]="Y",void 0!=document.getElementById("scheck"+t)&&(document.getElementById("scheck"+t).checked=!0))})):s.state.selectData.userAssignParentProducts.map((function(e,t){e&&(s.state.selectData.subProductStatus[e.groupid]="N",void 0!=document.getElementById("scheck"+t)&&(document.getElementById("scheck"+t).checked=!1))})),s.state.flag="Y"===GC,s.setState({setFlag:!0})},s.doSave=function(e){var t,a=[],n=s.props.reqParams;Object.keys(s.state.selectData.subProductStatus).map((function(e){(t={groupid:e,status:s.state.selectData.subProductStatus[e]}).loginId=n.loginid,t.companyId=s.props.companyid,t.companyCategory=s.props.companycatid,a.push(t)})),w()({method:"POST",url:N.URL+"/saveUserProdPerm",timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data.length>0&&(" "===e.data?(s.setState({respMessage:""}),""):s.setState({respMessage:e.data}))}))},s.doReturn=function(e){s.props.onHide()},s.state={flag:!1,setFlag:!1,selectData:""},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.apiCall){var t=this.props.reqParams,a="";t&&(a={loginId:t.loginid,companyId:this.props.companyid,companyCategory:this.props.companycatid}),w()({method:"POST",url:N.URL+dl,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({selectData:t.data})}))}}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(e!==this.props&&(this.setState({totalAmt:""}),this.props.apiCall)){var s=this.props.reqParams,n="";s&&(n={loginId:s.loginid,companyId:this.props.companyid,companyCategory:this.props.companycatid}),w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:n,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({selectData:e.data}),a.setState({respMessage:""})}))}}},{key:"render",value:function(){var e=this,t=this.props,a=t.modalHead,s=t.reqParams;return a&&Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,size:this.props.size,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,id:"userprodsetup",children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.modalHead})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:[Object(u.jsx)("div",{className:"heading",children:Object(u.jsx)("h3",{className:"title",children:"User / Product Setup "})}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:Object(u.jsxs)("label",{id:"userName",className:"from-label col-md-6 col-sm-6 col-xs-6 text-center font-weight-bold",children:["User Name : ",s.loginname]})}),Object(u.jsx)("h6",{children:void 0!==this.state.respMessage&&""!==this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):""}),Object(u.jsxs)("div",{className:"modal-cls",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{type:"checkbox",name:"checkAll",id:"checkAll",onClick:function(t){e.doCheckAll(t)}}),Object(u.jsx)("label",{id:"checkAll",className:"from-label col-md-8 col-sm-8 col-xs-8 text-left ",children:"Check All"})]}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 mb-1",children:this.state.selectData&&this.state.selectData.userAssignParentProducts.map((function(t,a){if(e.state.flag=!1,KC=t&&t.groupid,null!==e.state.selectData.subProductStatus&&void 0!=e.state.selectData.subProductStatus)return Object.keys(e.state.selectData.subProductStatus).map((function(t){t===KC&&(GC=e.state.selectData.subProductStatus[t],e.state.flag="Y"===GC)})),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{type:"checkbox",name:"scheck"+a,id:"scheck"+a,defaultChecked:void 0!==e.state.flag&&!0===e.state.flag,onClick:function(a){e.doCheck(a,t)}}),Object(u.jsxs)("label",{id:"productName",className:"from-label col-md-10 col-sm-10 col-xs-10 text-left ",children:[t.prodName,"-",t.currencyCode]})]})}))}),Object(u.jsxs)("div",{class:"text-center md-2",children:[Object(u.jsx)("button",{type:"button",class:"marginauto btn btn-primary btn-xs",name:"save",id:"save",onClick:function(t){e.doSave(e)},children:"Save"}),Object(u.jsx)("button",{type:"button",class:"marginauto btn btn-primary btn-xs ml-1",name:"return",id:"return",onClick:function(t){e.doReturn(e)},children:"Return"})]})]})]})})]})}}]),a}(o.a.Component),tN=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).hideNewLayer=function(e){s.setState({newlayer:!1,msg:e,updateData:!0})},s.hideuserProdLayer=function(e){s.setState({userProdlayer:!1,msg:e,updateData:!0})},s.state={cmodal:!0,productTypeValue:"",statusValue:"",formDateValue:_u(),toDateValue:Uu(),dataRow:"",newlayer:!1,userProdlayer:!1,updateData:!1},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.createNew=s.createNew.bind(Object(O.a)(s)),s.doDelete=s.doDelete.bind(Object(O.a)(s)),s.doEdit=s.doEdit.bind(Object(O.a)(s)),s.imgComponent=s.imgComponent.bind(Object(O.a)(s)),s.linkUserProdComponent=s.linkUserProdComponent.bind(Object(O.a)(s)),s.openUserProdModal=s.openUserProdModal.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Br&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"createNew",value:function(){this.setState({actionTitle:"Alert",actionMessage:"Are you sure, you want to Create New User ?",alertShow:!0,actionFlag:"NEW",updateData:!1,row:""})}},{key:"hideAlert",value:function(){this.setState({alertShow:!1,updateData:!1})}},{key:"doEdit",value:function(e){this.setState({actionTitle:"Alert",actionMessage:"Are you sure, you want edit user ?",alertShow:!0,actionFlag:"EDIT",updateData:!1,row:e})}},{key:"confirmAction",value:function(e,t,a){"EDIT"!==e&&"NEW"!==e||(this.setState({alertShow:!1}),this.openLayer(t)),"DELETE"===e&&(this.setState({alertShow:!1}),this.doDeleteAction(t,a))}},{key:"openLayer",value:function(e){this.setState({dataRow:e,newlayer:!0})}},{key:"doDelete",value:function(e,t){var a="";"N"===t?a="Are you sure, you want to disable user":"D"===t?a="Are you sure, you want to delete the data permanently":"Y"===t&&(a="Are you sure , You want to Enable the User"),this.setState({actionTitle:"Alert",actionMessage:a,alertShow:!0,actionFlag:"DELETE",updateData:!1,status:t,row:e})}},{key:"doDeleteAction",value:function(e,t){var a=this;w()({method:"POST",url:N.URL+bi,timeout:N.apiTimeOut,data:{status:t,loginId:e.loginid},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){if(e.data.length>0){var t="";t=" "===e.data?"":e.data,a.setState({updateFlag:!0,msg:t,updateData:!0})}}))}},{key:"statusComponent",value:function(e,t,a){return"N"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"Disabled"})]}):"Y"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"Active"})]}):void 0}},{key:"roleComponent",value:function(e,t,a){return"T"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"TRADER"})]}):"V"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"VIEW"})]}):void 0}},{key:"linkUserProdComponent",value:function(e,t,a,s,n){var o=this;return"N"!==t.status?Object(u.jsx)("button",{id:n+a,href:"javascript:void(0);",className:"btn btn-link",onClick:function(e){o.openUserProdModal(t)},children:e}):e}},{key:"openUserProdModal",value:function(e){this.setState({dataRow:e,userProdlayer:!0})}},{key:"imgComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(u.Fragment,{children:"N"!==t.status?Object(u.jsxs)("div",{children:[Object(u.jsxs)("button",{href:"javascript:void(0);",className:"btn btn-link",id:n+a,onClick:function(e){o.doEdit(t,a,e)},children:[Object(u.jsx)("div",{children:Object(u.jsx)(Hp,{action:"Edit User",children:Object(u.jsx)(B.o,{})})})," "]}),Object(u.jsxs)("button",{className:"btn btn-link",href:"javascript:void(0);",id:n+a,onClick:function(e){o.doDelete(t,"N",e)},children:[Object(u.jsx)("div",{children:Object(u.jsx)(Hp,{action:"Disable User",children:Object(u.jsx)(B.y,{})})})," "]}),Object(u.jsx)("button",{href:"javascript:void(0);",className:"btn btn-link",id:n+a,onClick:function(e){o.doDelete(t,"D",e)},children:Object(u.jsx)("div",{children:Object(u.jsx)(Hp,{action:"Delete User",children:Object(u.jsx)(B.n,{})})})})]}):Object(u.jsxs)("div",{children:["  ",Object(u.jsx)("button",{href:"javascript:void(0);",className:"btn btn-link",id:n+a,onClick:function(e){o.doDelete(t,"Y",e)},children:Object(u.jsx)("div",{children:Object(u.jsx)(Hp,{action:"Enable User",children:Object(u.jsx)(B.j,{})})})}),Object(u.jsx)("button",{href:"javascript:void(0);",className:"btn btn-link",id:n+a,onClick:function(e){o.doDelete(t,"D",e)},children:Object(u.jsx)("div",{children:Object(u.jsx)(Hp,{action:"Delete User",children:Object(u.jsx)(B.n,{})})})})]})})}},{key:"render",value:function(){var e=this,t={};return t.statusComponent=this.statusComponent,t.roleComponent=this.roleComponent,t.imgComponent=this.imgComponent,t.linkUserProdComponent=this.linkUserProdComponent,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h6",{children:void 0!==this.state.msg&&""!==this.state.msg?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.msg}):""}),this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsxs)("strong",{className:"cursor",children:[Object(u.jsx)("div",{className:"d-inline-block col-md-2",children:Td}),Object(u.jsxs)("div",{className:"d-inline-block col-md-10 text-right pr-0",children:[Object(u.jsxs)("div",{className:"d-inline-block mr-3 cross",onClick:this.createNew,children:[be," Create New User"]}),Object(u.jsx)("div",{className:"d-inline-block cross",onClick:this.closemodel,children:"X"})]})]})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:VC,apiCall:nc,updateData:this.state.updateData,reqParams:{subSource:"ADMNTRDG"},keyField:"1",mappings:YC,customComponents:t,excelFlag:"true"})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},row:this.state.row,onConfirm:function(){return e.confirmAction(e.state.actionFlag,e.state.row,e.state.status)},messageType:cm})})]}),Object(u.jsx)(JC,{size:"lg",show:this.state.newlayer,onHide:this.hideNewLayer,modalHead:this.state.dataRow?"Edit User Information":"Add New User",companycatid:"300",companyid:"43839171",membercatid:"2",reqParams:this.state.dataRow}),!0===this.state.userProdlayer&&Object(u.jsx)(eN,{size:"lg",show:this.state.userProdlayer,onHide:this.hideuserProdLayer,modalHead:"User / Product Setup",companycatid:"300",companyid:"43839171",membercatid:"2",apiCall:dl,reqParams:this.state.dataRow})]})]})}}]),a}(o.a.Component),aN=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).hideNewLayer=function(e){s.setState({newlayer:!1,msg:e,updateData:!0})},s.hideuserProdLayer=function(e){s.setState({userProdlayer:(!1).valueOf,msg:e,updateData:!0})},s.state={cmodal:!0,productTypeValue:"",statusValue:"",formDateValue:_u(),toDateValue:Uu(),dataRow:"",updateData:!1,newlayer:!1},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.createNew=s.createNew.bind(Object(O.a)(s)),s.doDelete=s.doDelete.bind(Object(O.a)(s)),s.doEdit=s.doEdit.bind(Object(O.a)(s)),s.imgComponent=s.imgComponent.bind(Object(O.a)(s)),s.linkUserProdComponent=s.linkUserProdComponent.bind(Object(O.a)(s)),s.openUserProdModal=s.openUserProdModal.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Br&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"createNew",value:function(){this.setState({actionTitle:"Alert",actionMessage:"Are you sure, you want to Create New User ?",alertShow:!0,actionFlag:"NEW",updateData:!1,row:""})}},{key:"hideAlert",value:function(){this.setState({alertShow:!1,updateData:!1})}},{key:"linkUserProdComponent",value:function(e,t,a,s,n){var o=this;return"N"!==t.status?Object(u.jsx)("button",{id:n+a,href:"javascript:void(0);",className:"btn btn-link",onClick:function(e){o.openUserProdModal(t)},children:e}):e}},{key:"openUserProdModal",value:function(e){this.setState({dataRow:e,userProdlayer:!0})}},{key:"doEdit",value:function(e){this.setState({actionTitle:"Alert",actionMessage:"Are you sure, you want edit user ?",alertShow:!0,actionFlag:"EDIT",updateData:!1,row:e})}},{key:"confirmAction",value:function(e,t,a){"EDIT"!==e&&"NEW"!==e||(this.setState({alertShow:!1}),this.openLayer(t)),"DELETE"===e&&(this.setState({alertShow:!1}),this.doDeleteAction(t,a))}},{key:"openLayer",value:function(e){this.setState({dataRow:e,newlayer:!0})}},{key:"doDelete",value:function(e,t){var a="";"N"===t?a="Are you sure, you want to disable user":"D"===t?a="Are you sure, you want to delete the data permanently":"Y"===t&&(a="Are you sure , You want to Enable the User"),this.setState({actionTitle:"Alert",actionMessage:a,alertShow:!0,actionFlag:"DELETE",updateData:!1,status:t,row:e})}},{key:"doDeleteAction",value:function(e,t){var a=this;w()({method:"POST",url:N.URL+bi,timeout:N.apiTimeOut,data:{status:t,loginId:e.loginid},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){if(e.data.length>0){var t="";t=" "===e.data?"":e.data,a.setState({updateFlag:!0,msg:t,updateData:!0})}}))}},{key:"statusComponent",value:function(e,t,a){return"N"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"Disabled"})]}):"Y"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"Active"})]}):void 0}},{key:"roleComponent",value:function(e,t,a){if("S"===e)return Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"SALESPERSON"})]})}},{key:"imgComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(u.Fragment,{children:"N"!==t.status?Object(u.jsxs)("div",{children:[Object(u.jsxs)("button",{href:"javascript:void(0);",className:"btn btn-link",id:n+a,onClick:function(e){o.doEdit(t,a,e)},children:[Object(u.jsx)("div",{children:Object(u.jsx)(Hp,{action:"Edit User",children:Object(u.jsx)(B.o,{})})})," "]}),Object(u.jsxs)("button",{href:"javascript:void(0);",className:"btn btn-link",id:n+a,onClick:function(e){o.doDelete(t,"N",e)},children:[Object(u.jsx)("div",{children:Object(u.jsx)(Hp,{action:"Disable User",children:Object(u.jsx)(B.y,{})})})," "]}),Object(u.jsx)("button",{href:"javascript:void(0);",className:"btn btn-link",id:n+a,onClick:function(e){o.doDelete(t,"D",e)},children:Object(u.jsx)("div",{children:Object(u.jsx)(Hp,{action:"Delete User",children:Object(u.jsx)(B.n,{})})})})]}):Object(u.jsxs)("div",{children:["  ",Object(u.jsxs)("button",{href:"javascript:void(0);",className:"btn btn-link",id:n+a,onClick:function(e){o.doDelete(t,"Y",e)},children:[Object(u.jsx)("div",{children:Object(u.jsx)(Hp,{action:"Enable User",children:Object(u.jsx)(B.j,{})})})," "]}),Object(u.jsxs)("button",{href:"javascript:void(0);",className:"btn btn-link",id:n+a,onClick:function(e){o.doDelete(t,"D",e)},children:[Object(u.jsx)("div",{children:Object(u.jsx)(Hp,{action:"Delete User",children:Object(u.jsx)(B.n,{})})})," "]})]})})}},{key:"render",value:function(){var e=this,t={};return t.statusComponent=this.statusComponent,t.roleComponent=this.roleComponent,t.imgComponent=this.imgComponent,t.linkUserProdComponent=this.linkUserProdComponent,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h6",{children:void 0!==this.state.msg&&""!==this.state.msg?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.msg}):""}),this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsxs)("strong",{className:"cursor",children:[Object(u.jsx)("div",{className:"d-inline-block col-md-4",children:Id}),Object(u.jsxs)("div",{className:"d-inline-block col-md-8 text-right pr-0",children:[Object(u.jsxs)("div",{className:"d-inline-block mr-3 cross",onClick:this.createNew,children:[be," Create New User"]}),Object(u.jsx)("div",{className:"d-inline-block cross",onClick:this.closemodel,children:"X"})]})]})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:VC,apiCall:nc,updateData:this.state.updateData,reqParams:{subSource:"ADMNSALE"},keyField:"1",mappings:YC,customComponents:t,excelFlag:"true"})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},row:this.state.row,onConfirm:function(){return e.confirmAction(e.state.actionFlag,e.state.row,e.state.status)},messageType:cm})})]}),Object(u.jsx)(JC,{size:"lg",show:this.state.newlayer,onHide:this.hideNewLayer,modalHead:this.state.dataRow?"Edit User Information":"Add New User",companycatid:"400",companyid:"77027013",membercatid:"3",reqParams:this.state.dataRow}),!0===this.state.userProdlayer&&Object(u.jsx)(eN,{size:"lg",show:this.state.userProdlayer,onHide:this.hideuserProdLayer,modalHead:"User / Product Setup",companycatid:"400",companyid:"77027013",membercatid:"3",apiCall:dl,reqParams:this.state.dataRow})]})]})}}]),a}(o.a.Component),sN=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).hideNewLayer=function(e){s.setState({newlayer:!1,msg:e,updateData:!0})},s.hideuserProdLayer=function(e){s.setState({userProdlayer:!1,msg:e,updateData:!0})},s.state={cmodal:!0,productTypeValue:"",statusValue:"",formDateValue:_u(),toDateValue:Uu(),dataRow:"",newlayer:!1,updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.createNew=s.createNew.bind(Object(O.a)(s)),s.doDelete=s.doDelete.bind(Object(O.a)(s)),s.doEdit=s.doEdit.bind(Object(O.a)(s)),s.imgComponent=s.imgComponent.bind(Object(O.a)(s)),s.linkUserProdComponent=s.linkUserProdComponent.bind(Object(O.a)(s)),s.openUserProdModal=s.openUserProdModal.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Br&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"createNew",value:function(){this.setState({actionTitle:"Alert",actionMessage:"Are you sure, you want to Create New User ?",alertShow:!0,actionFlag:"NEW",updateData:!1,row:""})}},{key:"hideAlert",value:function(){this.setState({alertShow:!1,updateData:!1})}},{key:"linkUserProdComponent",value:function(e,t,a,s,n){var o=this;return"N"!==t.status?Object(u.jsx)("button",{id:n+a,href:"javascript:void(0);",className:"btn btn-link",onClick:function(e){o.openUserProdModal(t)},children:e}):e}},{key:"openUserProdModal",value:function(e){this.setState({userProdlayer:!0,dataRow:e})}},{key:"doEdit",value:function(e){this.setState({actionTitle:"Alert",actionMessage:"Are you sure, you want edit user ?",alertShow:!0,actionFlag:"EDIT",updateData:!1,row:e})}},{key:"confirmAction",value:function(e,t,a){"EDIT"!==e&&"NEW"!==e||(this.setState({alertShow:!1}),this.openLayer(t)),"DELETE"===e&&(this.setState({alertShow:!1}),this.doDeleteAction(t,a))}},{key:"openLayer",value:function(e){this.setState({newlayer:!0,dataRow:e})}},{key:"doDelete",value:function(e,t){var a="";"N"===t?a="Are you sure, you want to disable user":"D"===t?a="Are you sure, you want to delete the data permanently":"Y"===t&&(a="Are you sure , You want to Enable the User"),this.setState({actionTitle:"Alert",actionMessage:a,alertShow:!0,actionFlag:"DELETE",updateData:!1,status:t,row:e})}},{key:"doDeleteAction",value:function(e,t){var a=this;w()({method:"POST",url:N.URL+bi,timeout:N.apiTimeOut,data:{status:t,loginId:e.loginid},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){if(e.data.length>0){var t="";t=" "===e.data?"":e.data,a.setState({updateFlag:!0,msg:t,updateData:!0})}}))}},{key:"statusComponent",value:function(e,t,a){return"N"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"Disabled"})]}):"Y"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"Active"})]}):void 0}},{key:"roleComponent",value:function(e,t,a){return"A"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"ADMIN"})]}):"T"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"TRADER"})]}):"S"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"SALESPERSON"})]}):"I"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"ISSUERUSER"})]}):void 0}},{key:"imgComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(u.Fragment,{children:"N"!==t.status?Object(u.jsxs)("div",{children:[Object(u.jsxs)("button",{href:"javascript:void(0);",className:"btn btn-link",id:n+a,onClick:function(e){o.doEdit(t,a,e)},children:[Object(u.jsx)("div",{children:Object(u.jsx)(Hp,{action:"Edit User",children:Object(u.jsx)(B.o,{})})}),"  "]}),Object(u.jsxs)("button",{href:"javascript:void(0);",className:"btn btn-link",id:n+a,onClick:function(e){o.doDelete(t,"N",e)},children:[Object(u.jsx)("div",{children:Object(u.jsx)(Hp,{action:"Disable User",children:Object(u.jsx)(B.y,{})})})," "]}),Object(u.jsxs)("button",{href:"javascript:void(0);",className:"btn btn-link",id:n+a,onClick:function(e){o.doDelete(t,"D",e)},children:[Object(u.jsx)("div",{children:Object(u.jsx)(Hp,{action:"Delete User",children:Object(u.jsx)(B.n,{})})})," "]})]}):Object(u.jsxs)("div",{children:["  ",Object(u.jsxs)("button",{href:"javascript:void(0);",className:"btn btn-link",id:n+a,onClick:function(e){o.doDelete(t,"Y",e)},children:[Object(u.jsx)("div",{children:Object(u.jsx)(Hp,{action:"Enable User",children:Object(u.jsx)(B.j,{})})})," "]}),Object(u.jsxs)("button",{href:"javascript:void(0);",className:"btn btn-link",id:n+a,onClick:function(e){o.doDelete(t,"D",e)},children:[Object(u.jsx)("div",{children:Object(u.jsx)(Hp,{action:"Delete User",children:Object(u.jsx)(B.n,{})})})," "]})]})})}},{key:"render",value:function(){var e=this,t={};return t.statusComponent=this.statusComponent,t.roleComponent=this.roleComponent,t.imgComponent=this.imgComponent,t.linkUserProdComponent=this.linkUserProdComponent,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h6",{children:void 0!==this.state.msg&&""!==this.state.msg?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.msg}):""}),this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsxs)("strong",{className:"cursor",children:[Object(u.jsx)("div",{className:"d-inline-block col-md-2",children:Md}),Object(u.jsxs)("div",{className:"d-inline-block col-md-10 text-right pr-0",children:[Object(u.jsxs)("div",{className:"d-inline-block mr-3 cross",onClick:this.createNew,children:[be," Create New User"]}),Object(u.jsx)("div",{className:"d-inline-block cross",onClick:this.closemodel,children:"X"})]})]})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:VC,apiCall:nc,updateData:this.state.updateData,reqParams:{subSource:"ADMNISSU"},keyField:"1",mappings:YC,customComponents:t,excelFlag:"true"})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},row:this.state.row,onConfirm:function(){return e.confirmAction(e.state.actionFlag,e.state.row,e.state.status)},messageType:cm})})]}),Object(u.jsx)(JC,{size:"lg",show:this.state.newlayer,onHide:this.hideNewLayer,modalHead:this.state.dataRow?"Edit User Information":"Add New User",companycatid:"600",companyid:"43839171",membercatid:"6",reqParams:this.state.dataRow}),!0===this.state.userProdlayer&&Object(u.jsx)(eN,{size:"lg",show:this.state.userProdlayer,onHide:this.hideuserProdLayer,modalHead:"User / Product Setup",companycatid:"600",companyid:"43839171",membercatid:"6",apiCall:dl,reqParams:this.state.dataRow})]})]})}}]),a}(o.a.Component);function nN(e,t,a){var s=[];return Object.keys(e[0]).map((function(e){if(t[e]){var n={dataField:e,text:t[e],formatter:function(e){return a.spanComponent(e)}};s.push(n)}return""})),s}function oN(e,t,a){var s=[];return Object.keys(e[0]).map((function(e){if(t[e]){var n={dataField:e,text:t[e],formatter:function(e){return a.spanComponent(e)}};s.push(n)}return""})),s}function iN(e,t,a){var s=[];return Object.keys(e[0]).map((function(e){if(t[e]){if("ticker"===e)n={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n){return a.linkComponent(t,s,n,e)}};else if("pandl"===e)n={dataField:e,text:t[e],formatter:function(t,s,n){return a.pandlComponent(t,s,n,e)},align:"right"};else if("maturityDate"===e)n={dataField:e,text:t[e],formatter:a.tickerComponent,headerAttrs:{hidden:!0},formatExtraData:{colId:e}};else var n={dataField:e,text:t[e],formatter:function(e){return a.spanComponent(e)}};s.push(n)}return""})),s}function lN(e,t){for(var a=0;a<e.length;a++){var s=e[a],n={};n.security=s.prodCode,n.totalPositionAmt=s[co],n.totalNetSet=s[ro],n[lo]=s.sumofNintyDays,n.totalUnrealized=s[mo],n.totalRealized=s[ho],n.totalPandL=s.sumofPandl,n.dv01=s.dv01,n.conv01=s.conv01,n.tot01=s.tot01,n.mktVal=s[ro],n.netOpen=s[ro],n.income=s[ro],n.lstNet=s[ro],n.productType=s.productType,t.push(n)}return t}var cN=[];cN.security=is,cN.totalPositionAmt=Wn,cN.totalNetSet=qn,cN[lo]=zn,cN.totalUnrealized=Kn,cN.totalRealized=Zn,cN.totalPandL=Jn,cN.dv01=Qn,cN.conv01=Xn,cN.tot01=$n,cN.mktVal=eo,cN.netOpen=to,cN.lstNet=ao,cN.income=so;var rN=[];rN.prodCode=Hn,rN[co]=Wn,rN[ro]=qn,rN.sumofNintyDays=zn,rN[mo]=Kn,rN[ho]=Zn,rN.sumofPandl=Jn,rN.dv01=Qn,rN.conv01=Xn,rN.tot01=$n,rN[ro]=eo,rN[ro]=to,rN[ro]=ao,rN[ro]=so;var dN=[];dN.bookName=Se,dN[co]=Wn,dN[ro]=qn,dN.sumofNintyDays=zn,dN.pandl=Jn,dN.sumofUnrealizedpl=Kn,dN.sumofRealizedpl=Zn,dN.dv01=Qn,dN.conv01=Xn,dN.tot01=$n,dN.mktVal=eo,dN.netOpen=to,dN.lstNet=ao,dN.income=so;var mN=[];mN.ticker=Hn,mN.amount=Wn,mN.netSettlePosition=qn,mN.nintyDays=zn,mN.unrealizedpl=Kn,mN.realizedpl=Zn,mN.pandl=Jn,mN.dv01=Qn,mN.conv01=Xn,mN.tot01=$n,mN.mktVal=eo,mN.netOpen=to,mN.lstNet=ao,mN.income=so;var hN,uN=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=(e.programId,e.issueId),a=e.prodType;return Object(u.jsx)("div",{className:"tab-pane mt-1",children:Object(u.jsx)("div",{className:"react-bootstrap-table fo2table table-responsive",children:Object(u.jsx)(lp,{cprops:To,apiCall:ol,reqParams:{issueId:t,productType:a},keyField:"1",excelFlag:"true"})})})}}]),a}(o.a.Component),bN=uN,pN=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.programId,a=e.issueId,s=e.prodType;return t?Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,size:this.props.size,dialogClassName:"modal rate","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.modalHead})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsx)(bN,{programId:t,issueId:a,prodType:s,apiCall:ol})})]}):""}}]),a}(o.a.Component),jN=pN,xN=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={columns:[],issuerData:[],updateFlag:!1,isLoading:!0},s.tickerComponent=s.tickerComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){if(e.tickerComponent,t.data){for(var a=t.data.deskViewIssuerAmts,s=0;s<a.length;s++)a[s].mktVal=a[s].netSettlePosition,a[s].netOpen=a[s].netSettlePosition,a[s].lstNet=a[s].netSettlePosition,a[s].income=a[s].netSettlePosition;e.setState({issuerData:a,isLoading:!1}),e.setState({columns:iN(a,mN,e.props.customComponents)})}}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;e!==this.props&&this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){if(a.tickerComponent,e.data){for(var t=e.data.deskViewIssuerAmts,s=0;s<t.length;s++)t[s].mktVal=t[s].netSettlePosition,t[s].netOpen=t[s].netSettlePosition,t[s].lstNet=t[s].netSettlePosition,t[s].income=t[s].netSettlePosition;a.setState({issuerData:t,isLoading:!1}),a.setState({columns:iN(t,mN,a.props.customComponents)})}}))}},{key:"tickerComponent",value:function(e,t){return e.ticker+" "+e.maturityDate+" "+e.prodCode}},{key:"render",value:function(){return Object(u.jsxs)(u.Fragment,{children:[!1===this.state.isLoading?this.state.columns&&this.state.columns.length>0?Object(u.jsx)("div",{style:{width:"100%"},children:Object(u.jsx)(Z.a,{data:this.state.issuerData,keyField:this.props.keyField,columns:this.state.columns,filter:Ro()(),striped:!0,hover:!0,wrapperClasses:"fo2table table-responsive nomht"})}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."}):Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})}),this.props.modalData===on&&Object(u.jsx)(uO,{size:"lg",show:this.props.showModal,onHide:this.props.hideModal,modalHead:"Security",modalData:this.props.modalData,modalDataRow:this.props.modalDataRow,prodType:this.props.modalDataRow.productType}),this.props.modalPLData===uo&&Object(u.jsx)(jN,{size:"lg",show:this.props.showPLModal,onHide:this.props.hidePLModal,modalHead:"Security - P&L History",issueId:this.props.modalPLDataRow.issueId,programId:this.props.modalPLDataRow.programId,prodType:this.props.modalPLDataRow.productType})]})}}]),a}(o.a.Component),fN={},gN="",ON="",vN="",yN={},kN="",DN={},CN=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={columns:[],bookData:[],updateFlag:!1,isLoading:!0},s.spanComponent=s.spanComponent.bind(Object(O.a)(s)),s.linkComponent=s.linkComponent.bind(Object(O.a)(s)),s.pandlComponent=s.pandlComponent.bind(Object(O.a)(s)),s.hidePLModal=s.hidePLModal.bind(Object(O.a)(s)),s.hideModal=s.hideModal.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){if(t.data){for(var a=t.data.deskViewBookAmts,s=0;s<a.length;s++)a[s].mktVal=a[s].sumofNetsetts,a[s].netOpen=a[s].sumofNetsetts,a[s].lstNet=a[s].sumofNetsetts,a[s].income=a[s].sumofNetsetts;e.setState({bookData:a,isLoading:!1}),e.setState({columns:oN(a,dN,e.props.customComponents)})}}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;e!==this.props&&this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){if(e.data){for(var t=e.data.deskViewBookAmts,s=0;s<t.length;s++)t[s].mktVal=t[s].sumofNetsetts,t[s].netOpen=t[s].sumofNetsetts,t[s].lstNet=t[s].sumofNetsetts,t[s].income=t[s].sumofNetsetts;a.setState({bookData:t,isLoading:!1}),a.setState({columns:oN(t,dN,a.props.customComponents)})}}))}},{key:"spanComponent",value:function(e){return Object(u.jsx)(u.Fragment,{children:void 0!==e&&0===e.indexOf("-")?Object(u.jsxs)("div",{className:"text-right text-danger",children:["(",e.replace("-",""),")"]}):Object(u.jsx)("div",{className:"text-right",children:e})})}},{key:"linkComponent",value:function(e,t,a,s){return Object(u.jsx)("button",{className:"btn btn-link",id:s+a,onClick:this.openModal.bind(this,t,e),children:e})}},{key:"pandlComponent",value:function(e,t,a,s){return Object(u.jsx)("button",{className:"btn btn-link",id:s+a,onClick:this.openPLModal.bind(this,t,e),children:e})}},{key:"openPLModal",value:function(e,t){var a;Object.keys(e).map((function(s){e[s]===t&&s===uo&&(a=s)})),gN=a,DN=e,ON=!0,this.setState({updateFlag:!0})}},{key:"hidePLModal",value:function(){ON=!1,this.setState({updateFlag:!1})}},{key:"openModal",value:function(e,t){var a;Object.keys(e).map((function(s){e[s]===t&&s===on&&(a=s)})),e.ticker=e.tickerId,vN=a,yN=e,kN=!0,this.setState({updateFlag:!0})}},{key:"hideModal",value:function(){kN=!1,this.setState({updateFlag:!1})}},{key:"render",value:function(){var e=this;fN.spanComponent=this.spanComponent,fN.linkComponent=this.linkComponent,fN.pandlComponent=this.pandlComponent;var t=this.props.reqParams,a={showExpandColumn:!0,expandByColumnOnly:!0,onlyOneExpanding:!0,renderer:function(a,s){return Object(u.jsx)(xN,{apiCall:hc,reqParams:{productType:a.productType,bookId:a.bookId,fromPage:t.fromPage},keyField:"prodId",customComponents:fN,modalPLData:gN,modalPLDataRow:DN,showPLModal:ON,modalData:vN,modalDataRow:yN,showModal:kN,hidePLModal:e.hidePLModal,hideModal:e.hideModal})}};return Object(u.jsx)(u.Fragment,{children:!1===this.state.isLoading?this.state.columns&&this.state.columns.length>0?Object(u.jsx)("div",{style:{width:"100%"},children:Object(u.jsx)(Z.a,{data:this.state.bookData,expandRow:a,keyField:this.props.keyField,columns:this.state.columns,filter:Ro()(),striped:!0,hover:!0,wrapperClasses:"fo2table table-responsive nomht"})}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."}):Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})})})}}]),a}(o.a.Component),NN={},SN={showExpandColumn:!0,expandByColumnOnly:!0,onlyOneExpanding:!0,nonExpandable:["Total"],renderer:function(e,t){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(CN,{apiCall:hc,reqParams:{productType:e.productType,fromPage:hN.fromPage},keyField:"bookId",customComponents:NN})})}},wN=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={columns:[],data:[],isLoading:!1},s.spanComponent=s.spanComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;hN=this.props.reqParams,this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){var a=[],s=t.data.deskViewProdTotals;if(s.mktVal=s.totalNetSet,s.netOpen=s.totalNetSet,s.lstNet=s.totalNetSet,s.income=s.totalNetSet,a.push(s),t.data.deskViewProdAmts&&t.data.deskViewProdAmts.length>0){var n=t.data.deskViewProdAmts;a=lN(n,a),e.setState({data:a,deskViewProdAmts:n,isLoading:!0}),e.setState({columns:nN(a,cN,e.props.customComponents)})}}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;hN=this.props.reqParams,e!==this.props&&this.props.apiCall&&w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){if(e.data){var t=[],s=e.data.deskViewProdTotals;if(s.mktVal=s.totalNetSet,s.netOpen=s.totalNetSet,s.lstNet=s.totalNetSet,s.income=s.totalNetSet,t.push(s),e.data.deskViewProdAmts&&e.data.deskViewProdAmts.length>0){var n=e.data.deskViewProdAmts;t=lN(n,t),a.setState({data:t,deskViewProdAmts:n,isLoading:!0}),a.setState({columns:nN(t,cN,a.props.customComponents)})}}}))}},{key:"spanComponent",value:function(e){return Object(u.jsx)(u.Fragment,{children:void 0!==e&&0===e.indexOf("-")?Object(u.jsxs)("div",{className:"text-right text-danger",children:["(",e.replace("-",""),")"]}):Object(u.jsx)("div",{className:"text-right",children:e})})}},{key:"render",value:function(){return NN.spanComponent=this.spanComponent,this.state.deskViewProdAmts,Object(u.jsx)(u.Fragment,{children:!0===this.state.isLoading?this.state.columns&&this.state.columns.length>0?Object(u.jsx)("div",{style:{width:"100%"},children:Object(u.jsx)(Z.a,{data:this.state.data,expandRow:SN,keyField:this.props.keyField,columns:this.state.columns,filter:Ro()(),striped:!0,hover:!0,wrapperClasses:"fo2table table-responsive nomht"})}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."}):Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})})})}}]),a}(o.a.Component),TN=a(59),IN=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(TN.Bar,{data:this.props.data,width:100,height:this.props.height?this.props.height:20,options:{responsive:!0,plugins:{legend:!1,title:{display:!0}}}})})}}]),a}(o.a.Component),MN=IN,AN=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(TN.Line,{data:this.props.data,width:100,height:this.props.height?this.props.height:20})})}}]),a}(o.a.Component),RN=AN,EN=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.fromPage;return Object(u.jsx)(u.Fragment,{children:"DASHBOARD"===e?Object(u.jsx)(TN.Pie,{options:{responsive:!0,plugins:{legend:!1,title:{display:!0}}},data:this.props.data,width:100,height:40}):Object(u.jsx)(TN.Doughnut,{data:this.props.data,width:100,height:20})})}}]),a}(o.a.Component),FN=EN,PN=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(TN.Line,{data:this.props.data,width:100,height:20})})}}]),a}(o.a.Component),BN=PN,LN={labels:["O/N","1W","1M","2M","3M","4M","5M","6M","Over 6M"],datasets:[{label:"ABCP",fill:!1,bezierCurve:!1,lineTension:0,backgroundColor:"rgb(106, 115, 123)",borderColor:"rgb(106, 115, 123)",borderWidth:1,data:[337916144,467207170,429159238,413456661,475224723,446830239,413924741,385498692,432153626]},{label:"Non-ABCP",fill:!1,bezierCurve:!1,lineTension:0,backgroundColor:"rgb(0, 164, 228)",borderColor:"rgb(0, 164, 228)",borderWidth:1,data:[219865001,385498692,245224723,337916144,427916144,377207170,399159238,339865001,313456661]}]},_N={labels:["O/N","1W","1M","2M","3M","4M","5M","6M","Over 6M"],datasets:[{label:"ABCP",fill:!1,bezierCurve:!1,lineTension:0,backgroundColor:"rgb(106, 115, 123)",borderColor:"rgb(106, 115, 123)",borderWidth:1,data:[337916144,467207170,429159238,413456661,475224723,446830239,413924741,385498692,432153626]},{label:"Non-ABCP",fill:!1,bezierCurve:!1,lineTension:0,backgroundColor:"rgb(0, 164, 228)",borderColor:"rgb(0, 164, 228)",borderWidth:1,data:[219865001,283456661,245224723,202153626,427916144,377207170,399159238,339865001,313456661]}]},UN={labels:["O/N","1W","1M","2M","3M","4M","5M","6M","Over 6M"],datasets:[{label:"ABCP",fill:!0,bezierCurve:!1,backgroundColor:"rgb(106, 115, 123)",borderColor:"rgb(106, 115, 123)",borderWidth:1,data:[337916144,467207170,429159238,413456661,475224723,446830239,413924741,385498692,432153626]},{label:"Non-ABCP",bezierCurve:!1,fill:!0,backgroundColor:"rgb(0, 164, 228)",borderColor:"rgb(0, 164, 228)",borderWidth:1,data:[219865001,283456661,245224723,202153626,427916144,377207170,399159238,339865001,313456661]}]},VN={labels:["ABCP","Non-ABCP"],datasets:[{data:[3801371234,2808304225],backgroundColor:["rgb(106, 115, 123)","rgb(0, 164, 228)"],hoverOffset:4,options:zN}]},YN={labels:["O/N","1W","1M","2M","3M","4M","5M","6M","Over 6M"],datasets:[{label:"Tier 1",fill:!1,bezierCurve:!1,lineTension:0,backgroundColor:"rgb(106, 115, 123)",borderColor:"rgb(106, 115, 123)",borderWidth:1,data:[337916144,467207170,429159238,413456661,475224723,446830239,413924741,385498692,432153626]},{label:"Tier 2",fill:!1,bezierCurve:!1,lineTension:0,backgroundColor:"rgb(0, 164, 228)",borderColor:"rgb(0, 164, 228)",borderWidth:1,data:[432153626,283456661,399159238,202153626,339865001,399159238,339865001,429159238,475224723]}]},HN={labels:["O/N","1W","1M","2M","3M","4M","5M","6M","Over 6M"],datasets:[{label:"Tier 1",fill:!1,bezierCurve:!1,lineTension:0,backgroundColor:"rgb(106, 115, 123)",borderColor:"rgb(106, 115, 123)",borderWidth:1,data:[337916144,467207170,429159238,413456661,475224723,446830239,413924741,385498692,432153626]},{label:"Tier 2",fill:!1,bezierCurve:!1,lineTension:0,backgroundColor:"rgb(0, 164, 228)",borderColor:"rgb(0, 164, 228)",borderWidth:1,data:[219865001,283456661,245224723,202153626,427916144,377207170,399159238,339865001,313456661]}]},WN={labels:["O/N","1W","1M","2M","3M","4M","5M","6M","Over 6M"],datasets:[{label:"Tier 1",bezierCurve:!1,backgroundColor:"rgb(106, 115, 123)",borderColor:"rgb(106, 115, 123)",borderWidth:1,data:[337916144,467207170,429159238,413456661,475224723,446830239,413924741,385498692,432153626]},{label:"Tier 2",bezierCurve:!1,backgroundColor:"rgb(0, 164, 228)",borderColor:"rgb(0, 164, 228)",borderWidth:1,data:[219865001,283456661,245224723,202153626,427916144,377207170,399159238,339865001,313456661]}]},qN={labels:["Tier 1","Tier 2"],datasets:[{data:[3801371234,2808304225],backgroundColor:["rgb(106, 115, 123)","rgb(0, 164, 228)"],hoverOffset:4,options:zN}]},zN={plugins:{legend:!1}},GN={labels:["O/N","1W","1M","2M","3M","4M","5M","6M","Over 6M"],datasets:[{label:"CP",fill:!1,bezierCurve:!1,lineTension:0,backgroundColor:"rgb(231, 203, 113)",borderColor:"rgb(231, 203, 113)",borderWidth:1,data:[337916144,467207170,429159238,413456661,475224723,446830239,413924741,385498692,432153626]},{label:"YCD",fill:!1,bezierCurve:!1,lineTension:0,backgroundColor:"rgb(255, 221, 0)",borderColor:"rgb(255, 221, 0)",borderWidth:1,data:[219865001,283456661,245224723,202153626,427916144,377207170,399159238,339865001,313456661]},{label:"MCP",fill:!1,bezierCurve:!1,lineTension:0,backgroundColor:"rgb(106, 115, 123)",borderColor:"rgb(106, 115, 123)",borderWidth:1,data:[377207170,467207170,313456661,429159238,339865001,202153626,385498692,219865001,339865001]},{label:"ECP",fill:!1,bezierCurve:!1,lineTension:0,backgroundColor:"rgb(255, 177, 175)",borderColor:"rgb(255, 177, 175)",borderWidth:1,data:[432153626,283456661,399159238,202153626,339865001,399159238,339865001,429159238,475224723]},{label:"ECD",fill:!1,bezierCurve:!1,lineTension:0,backgroundColor:"rgb(0, 164, 228)",borderColor:"rgb(0, 164, 228)",borderWidth:1,data:[313456661,202153626,377207170,467207170,339865001,429159238,139865001,385498692,219865001]},{label:"FRCP",fill:!1,bezierCurve:!1,lineTension:0,backgroundColor:"rgb(221, 134, 128)",borderColor:"rgb(221, 134, 128)",borderWidth:1,data:[219865001,377207170,202153626,202153626,399159238,467207170,429159238,339865001,313456661]},{label:"FRCD",fill:!1,bezierCurve:!1,lineTension:0,backgroundColor:"rgb(252, 168, 208)",borderColor:"rgb(252, 168, 208)",borderWidth:1,data:[337916144,467207170,377207170,219865001,399159238,429159238,385498692,339865001,202153626]}]},KN={labels:["O/N","1W","1M","2M","3M","4M","5M","6M"],datasets:[{label:"CP",fill:!1,bezierCurve:!1,lineTension:0,backgroundColor:"rgb(231, 203, 113)",borderColor:"rgb(231, 203, 113)",borderWidth:1,data:[337916144,467207170,429159238,413456661,475224723,446830239,413924741,385498692,432153626]},{label:"YCD",fill:!1,bezierCurve:!1,lineTension:0,backgroundColor:"rgb(255, 221, 0)",borderColor:"rgb(255, 221, 0)",borderWidth:1,data:[219865001,283456661,245224723,202153626,427916144,377207170,399159238,339865001,313456661]},{label:"MCP",fill:!1,bezierCurve:!1,lineTension:0,backgroundColor:"rgb(106, 115, 123)",borderColor:"rgb(106, 115, 123)",borderWidth:1,data:[377207170,467207170,313456661,429159238,339865001,202153626,385498692,219865001,339865001]},{label:"ECP",fill:!1,bezierCurve:!1,lineTension:0,backgroundColor:"rgb(255, 177, 175)",borderColor:"rgb(255, 177, 175)",borderWidth:1,data:[432153626,283456661,399159238,202153626,339865001,399159238,339865001,429159238,475224723]},{label:"ECD",fill:!1,bezierCurve:!1,lineTension:0,backgroundColor:"rgb(0, 164, 228)",borderColor:"rgb(0, 164, 228)",borderWidth:1,data:[313456661,202153626,377207170,467207170,339865001,429159238,139865001,385498692,219865001]},{label:"FRCP",fill:!1,bezierCurve:!1,lineTension:0,backgroundColor:"rgb(221, 134, 128)",borderColor:"rgb(221, 134, 128)",borderWidth:1,data:[219865001,377207170,202153626,202153626,399159238,467207170,429159238,339865001,313456661]},{label:"FRCD",fill:!1,bezierCurve:!1,lineTension:0,backgroundColor:"rgb(252, 168, 208)",borderColor:"rgb(252, 168, 208)",borderWidth:1,data:[337916144,467207170,377207170,219865001,399159238,429159238,385498692,339865001,202153626]}]},ZN={labels:["O/N","1W","1M","2M","3M","4M","5M","6M"],datasets:[{label:"CD",bezierCurve:!1,backgroundColor:"rgb(231, 203, 113)",borderColor:"rgb(231, 203, 113)",borderWidth:1,data:[337916144,467207170,429159238,413456661,475224723,446830239,413924741,385498692,432153626]},{label:"CP",bezierCurve:!1,backgroundColor:"rgb(255, 221, 0)",borderColor:"rgb(255, 221, 0)",borderWidth:1,data:[219865001,283456661,245224723,202153626,427916144,377207170,399159238,339865001,313456661]},{label:"ECD",bezierCurve:!1,backgroundColor:"rgb(106, 115, 123)",borderColor:"rgb(106, 115, 123)",borderWidth:1,data:[377207170,467207170,313456661,429159238,339865001,202153626,385498692,219865001,339865001]},{label:"ECP",bezierCurve:!1,backgroundColor:"rgb(255, 177, 175)",borderColor:"rgb(255, 177, 175)",borderWidth:1,data:[432153626,283456661,399159238,202153626,339865001,399159238,339865001,429159238,475224723]},{label:"YCD",bezierCurve:!1,backgroundColor:"rgb(0, 164, 228)",borderColor:"rgb(0, 164, 228)",borderWidth:1,data:[313456661,202153626,377207170,467207170,339865001,429159238,139865001,385498692,219865001]},{label:"FRCD",bezierCurve:!1,backgroundColor:"rgb(221, 134, 128)",borderColor:"rgb(221, 134, 128)",borderWidth:1,data:[219865001,377207170,202153626,202153626,399159238,467207170,429159238,339865001,313456661]},{label:"FRCP",bezierCurve:!1,backgroundColor:"rgb(252, 168, 208)",borderColor:"rgb(252, 168, 208)",borderWidth:1,data:[337916144,467207170,377207170,219865001,399159238,429159238,385498692,339865001,202153626]}]},JN={labels:["CP","YCD","MCP","ECP","ECD","FRCP","FRCD"],datasets:[{data:[3801371234,2808304225,3074277560,3300196352,2874277560,2950226731,3158031280],backgroundColor:["rgb(231, 203, 113)","rgb(255, 221, 0)","rgb(106, 115, 123)","rgb(255, 177, 175)","rgb(255, 177, 175)","rgb(0, 164, 228)","rgb(221, 134, 128)","rgb(252, 168, 208)","rgb(172, 157, 238)","rgb(126, 198, 253)","rgb(188, 221, 150)","rgb(255, 190, 180)"],hoverOffset:4,options:zN}]},QN=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleChartType=function(e){"line"===e?s.setState({chartType:"line"}):"bar"===e?s.setState({chartType:"bar"}):"area"===e?s.setState({chartType:"area"}):s.setState({chartType:"pie"})},s.handleProdChange=function(e){s.setState({chartType:"bar"}),"mat"===e.target.value?s.setState({prodType:"mat"}):"depart"===e.target.value?s.setState({prodType:"depart"}):s.setState({prodType:"prod"})},s.doRadioChange=function(e){s.setState({amount:e.target.value})},s.state={cmodal:!0,chartType:"bar",updateFlag:!1,prodType:"prod",modalData:"",modalDataRow:"",amount:"zeroAmount"},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.spanComponent=s.spanComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===hr&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"spanComponent",value:function(e){return Object(u.jsx)(u.Fragment,{children:void 0!==e&&0===e.indexOf("-")?Object(u.jsxs)("div",{className:"text-right text-danger",children:["(",e.replace("-",""),")"]}):Object(u.jsx)("div",{className:"text-right",children:e})})}},{key:"render",value:function(){var e=this,t={};return t.spanComponent=this.spanComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsxs)("strong",{className:"cursor",children:[Object(u.jsx)("div",{className:"d-inline-block col-md-2",children:this.props.linkname&&this.props.linkname}),Object(u.jsxs)("div",{className:"d-inline-block col-md-10 text-right pr-0",children:[Object(u.jsxs)("div",{className:"d-inline-block mr-3",children:[Object(u.jsx)("input",{type:"radio",name:"zeroAmount",id:"ZERO",value:"zeroAmount",checked:"zeroAmount"===this.state.amount,onChange:this.doRadioChange}),Object(u.jsx)("span",{className:"ml-1",children:"Amount (000's)"})]}),Object(u.jsxs)("div",{className:"d-inline-block mr-3",children:[Object(u.jsx)("input",{type:"radio",name:"zeroAmount",id:"FULL",value:"fullAmount",checked:"fullAmount"===this.state.amount,onChange:this.doRadioChange}),Object(u.jsx)("span",{className:"ml-1",children:"Full Amount"})]}),Object(u.jsx)("div",{className:"d-inline-block cross",onClick:this.closemodel,children:"X"})]})]})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsx)(H.a,{children:Object(u.jsx)(wN,{apiCall:hc,reqParams:{fromPage:this.state.amount},customComponents:t,keyField:"security"})}),Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsxs)(ai.a.Header,{as:"h5",children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsxs)(k.a.Control,{id:"prod",name:"prod",as:"select",custom:!0,onChange:this.handleProdChange,value:this.state.prodType,children:[Object(u.jsx)("option",{value:"prod",children:"Risk by Product"}),Object(u.jsx)("option",{value:"mat",children:"Risk by Maturity"}),Object(u.jsx)("option",{value:"depart",children:"Risk by Department"})]})}),Object(u.jsxs)("div",{className:"float-right",children:[Object(u.jsx)("button",{className:"btn btn-link text-white",onClick:function(){return e.handleChartType("bar")},children:Object(u.jsx)(B.g,{size:18})}),Object(u.jsx)("button",{className:"btn btn-link text-white",onClick:function(){return e.handleChartType("area")},children:Object(u.jsx)(B.f,{size:18})}),Object(u.jsx)("button",{className:"btn btn-link text-white",onClick:function(){return e.handleChartType("line")},children:Object(u.jsx)(B.h,{size:18})}),Object(u.jsx)("button",{className:"btn btn-link text-white",onClick:function(){return e.handleChartType("pie")},children:Object(u.jsx)(B.i,{size:18})})]})]}),Object(u.jsxs)(ai.a.Body,{children:["prod"===this.state.prodType&&"bar"===this.state.chartType&&Object(u.jsx)(MN,{data:LN}),"prod"===this.state.prodType&&"line"===this.state.chartType&&Object(u.jsx)(RN,{data:_N}),"prod"===this.state.prodType&&"pie"===this.state.chartType&&Object(u.jsx)(FN,{data:VN}),"prod"===this.state.prodType&&"area"===this.state.chartType&&Object(u.jsx)(BN,{data:UN}),"mat"===this.state.prodType&&"bar"===this.state.chartType&&Object(u.jsx)(MN,{data:YN}),"mat"===this.state.prodType&&"line"===this.state.chartType&&Object(u.jsx)(RN,{data:HN}),"mat"===this.state.prodType&&"pie"===this.state.chartType&&Object(u.jsx)(FN,{data:qN}),"mat"===this.state.prodType&&"area"===this.state.chartType&&Object(u.jsx)(BN,{data:WN}),"depart"===this.state.prodType&&"bar"===this.state.chartType&&Object(u.jsx)(MN,{data:GN}),"depart"===this.state.prodType&&"line"===this.state.chartType&&Object(u.jsx)(RN,{data:KN}),"depart"===this.state.prodType&&"pie"===this.state.chartType&&Object(u.jsx)(FN,{data:JN}),"depart"===this.state.prodType&&"area"===this.state.chartType&&Object(u.jsx)(BN,{data:ZN})]})]})]})]})})}}]),a}(o.a.Component);function XN(e,t,a){var s,n=[],o=0;return Object.keys(t).map((function(i){return Object.keys(e[0]).map((function(l){var c;l===i?t[l]&&(c="settlementDate"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return a.dateComponent(Vu(e),t,s,n,l)}}:"issueId"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:a.checkBoxComponent}:"ticker"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return void 0!==e&&"new"===e?a.tickerListComponent(e,t,s,n):a.tickerDropComponent(e,t,s,n)}}:"minimumPiece"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return a.textBoxComponent(e,t,s,n,l)}}:{dataField:l,text:t[l],filter:Object(Ao.textFilter)()},n.push(c)):"rateMap"===l&&n.length>6&&(null===s||s!==e[0].rateMap)&&(s=e[0].rateMap,o=0,Object.keys(e[0].rateMap).map((function(s){c={dataField:s,text:t[s],filter:Object(Ao.textFilter)(),csvFormatter:function(t,a,n,i){if(void 0!==e[n]&&void 0!==e[n].rateMap&&void 0!==e[n].rateMap[s]){o=e[n].rateMap[s].split(":")[0];e[n].rateMap[s].split(":")[2];0==o&&(o="")}else o="";return o},formatter:function(t,n,i,l){if(void 0!==e[i]&&void 0!==e[i].rateMap&&void 0!==e[i].rateMap[s]){o=e[i].rateMap[s].split(":")[0];var c=e[i].rateMap[s].split(":")[2];0==o&&(o="")}else o="";return a.rateBoxComponent(o,n,i,l,s,c)}},n.push(c)})));return""})),""})),n}var $N,eS=[];eS.issueId=Ue,eS.ticker=cn,eS.securityType=ws,eS.callable=Pe,eS.floatIndex=At,eS.minimumPiece=Vs,eS.settlementDate=Ts,eS[hu]=an,eS[uu]=Et,eS[bu]=Mt,eS[pu]=_s,eS[ju]=Ps,eS[xu]=vt,eS[fu]=Da,eS[cu]=tn,eS[ru]=yt,eS[du]=fn;var tS=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleFocus=function(e){document.getElementById(e)&&(document.getElementById(e).style.display="block")},s.state={cmodal:!0,mainApiCall:Gi,updateFlag:!1,respMessage:"",rejectReason:"",rowCnt:0,actionTitle:"",actionMessage:"",holidayData:[],productWeekData:[]},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.saveGridClick=s.saveGridClick.bind(Object(O.a)(s)),s.addClick=s.addClick.bind(Object(O.a)(s)),s.checkBoxComponent=s.checkBoxComponent.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.rateBoxComponent=s.rateBoxComponent.bind(Object(O.a)(s)),s.tickerListComponent=s.tickerListComponent.bind(Object(O.a)(s)),s.dateComponent=s.dateComponent.bind(Object(O.a)(s)),s.onCheckboxClick=s.onCheckboxClick.bind(Object(O.a)(s)),s.setScreenData=s.setScreenData.bind(Object(O.a)(s)),s.postData=s.postData.bind(Object(O.a)(s)),s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.tickerDropComponent=s.tickerDropComponent.bind(Object(O.a)(s)),s.deleteGrid=s.deleteGrid.bind(Object(O.a)(s)),s.copyDataGrid=s.copyDataGrid.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;$N=[];var t=[],a=[];w()({method:"POST",url:N.URL+ac,timeout:N.apiTimeOut,data:{productType:Gh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({message:t.data})})),w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:Gh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(s){t=s.data.holidayDatesInfo,a=s.data.productWeekData,e.setState({holidayData:t,productWeekData:a})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(!1===t.cmodal&&this.props.linkname===Gr){var s=[],n=[];w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:Gh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){s=e.data.holidayDatesInfo,n=e.data.productWeekData,a.setState({holidayData:s,productWeekData:n})})),this.setState({cmodal:!0})}}},{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"checkBoxComponent",value:function(e,t,a,s){var n=this,o=qt+a;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,defaultChecked:void 0!==$N[a]&&void 0!==$N[a].published&&"Y"===$N[a].published,onClick:function(t){n.onCheckboxClick(e,a,t)}})})}},{key:"textBoxComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(Eu,{name:n+a,id:n+a,value:Lo(e),onBlur:function(e){o.onFieldChange(e,n,a)},className:"text-right"})}},{key:"rateBoxComponent",value:function(e,t,a,s,n,o,i){var l=this;return Object(u.jsx)("div",{className:"dispFlex",children:Object(u.jsx)(Eu,{name:n+"M"+a,id:n+"M"+a,value:e,onFocus:function(e){l.handleFocus("span"+n+a)},onBlur:function(e){l.onRateChange(e,t,n,a,"span"+n+a)}})})}},{key:"dateComponent",value:function(e,t,a,s,n){var o=this,i=this.state,l=i.holidayData,c=i.productWeekData,r=[];return l.map((function(e){e.currency===t.currencyCode&&r.push(e)})),Object(u.jsx)(Ju,{minDate:new Date,label:n+a,id:n+a,dateValue:new Date(e),fromDateFlg:!1,toDateFlg:!1,onchange:function(e){o.onDateChange(e,n,a)},currency:t.currencyCode,holidayData:r,productWeekData:c})}},{key:"tickerListComponent",value:function(e,t,a,s){var n=this;return Object(u.jsx)(jj,{id:ln+a,name:ln+a,apiCall:ji,reqParams:{productType:Gh,All:"false"},onchange:function(e,t){n.tickerChange(e,t,a,ln)},selected:void 0!==$N[a]&&void 0!==$N[a].ticker&&"new"!==$N[a].ticker?$N[a].ticker:""})}},{key:"onDateChange",value:function(e,t,a){$N[a][t]=Yu(e,"M/D/YY")}},{key:"onFieldChange",value:function(e,t,a){$N[a][t]=e.target.value;var s="";if(!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?s="Row"+(a+1)+":"+wm:(""!==e.target.value&&Uo(e),$N[a][t]=Po(e.target.value)),s)return this.setState({actionTitle:"Alert",actionMessage:s,showError:!0}),e.target.value="",e.target.focus(),!1}},{key:"onRateChange",value:function(e,t,a,s,n){var o,i,l=this;("oneWeek"===a&&(o=t[a].split(":")[0]),t.rateMap)&&(t.rateMap,Object.keys(t.rateMap).map((function(n){t.rateMap&&a===n&&(o=t.rateMap[n].split(":")[0]),(!1===Bo(e.target.value,"1234567890.")||e.target.value.split(".").length>2)&&(l.setState({actionTitle:"Alert",actionMessage:"Row"+(s+1)+":"+Ym,showError:!0}),e.target.value=o,e.target.focus())})));if(document.getElementById(n)&&(document.getElementById(n).style.display="none"),void 0!==e.target.value&&""!==e.target.value)if(a===Ya){if(null!==(i=$N[s][a])){var c=i.split(":");c[0]=e.target.value,$N[s][a]=c.join(":")}}else{var r=$N[s].rateMap;if(null!==(i=r[a])){var d=i.split(":");d[0]=e.target.value,r[a]=d.join(":"),$N[s].rateMap=r}}}},{key:"tickerChange",value:function(e,t,a,s){$N[a][s]=t,$N[a].programId=t}},{key:"setScreenData",value:function(e){$N=e}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"saveGridClick",value:function(e){if(void 0===this.state.message||""===this.state.message){this.verifyAll($N)&&this.postData("/saveFRCDGridDetails","","SAVE")}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0})}},{key:"verifyAll",value:function(e){for(var t=!0,a=0;a<e.length;a++){if(!1===this.verify($N[a],a)){t=!1;break}}return t}},{key:"verify",value:function(e,t){var a="",s=0;return""!==e.minimumPiece&&(e.minimumPiece=e.minimumPiece.trim(),s=Po(e.minimumPiece)),""!==s&&0!==parseFloat(s)||(a="Row"+(t+1)+":"+ch),!a||(this.setState({actionTitle:"Alert",actionMessage:a,showError:!0}),!1)}},{key:"addClick",value:function(e){void 0===this.state.message||""===this.state.message?(void 0!==$N?this.setState({rowCnt:$N.length+1}):this.setState({rowCnt:1}),$N=[],this.setState({mainApiCall:mi})):this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0})}},{key:"onCheckboxClick",value:function(e,t,a){if(void 0===this.state.message||""===this.state.message){var s={check:!1};a.target.checked&&(s.check=!0),s.issueId=e,s.productType=Gh,$N=[],this.postData("/publishFRCDGridDetails",s,"PUBLISH")}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0})}},{key:"postData",value:function(e,t,a){var s,n=this;"PUBLISH"===a||"DELETE"===a||"COPY"===a?s=t:"SAVE"===a&&(s=$N,$N=[]),w()({method:"POST",url:N.URL+e,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){void 0!==e.data?"COPY"===a?n.setScreenData(e.data):void 0!==e.data.errorMessage&&e.data.errorMessage.length>0?n.setState({rejectReason:e.data.errorMessage,mainApiCall:Gi}):void 0!==e.data.successMessage&&e.data.successMessage.length>0&&n.setState({respMessage:e.data.successMessage,mainApiCall:Gi}):n.setState({respMessage:"",rejectReason:"",mainApiCall:Gi})}))}},{key:"tickerDropComponent",value:function(e,t,a){var s=this;return this.setState({modalData:t}),Object(u.jsxs)(pj.a,{className:"positioninitial",drop:"down",children:[Object(u.jsx)(pj.a.Toggle,{id:ln+a,variant:"link",children:e}),Object(u.jsxs)(pj.a.Menu,{children:[Object(u.jsx)(pj.a.Item,{onClick:function(e){return s.copyDataGrid(a)},children:"Copy"}),Object(u.jsx)(pj.a.Item,{onClick:function(e){return s.deleteGrid(a)},children:"Delete"})]})]})}},{key:"deleteGrid",value:function(e){if(void 0===this.state.message||""===this.state.message){var t=$N[e],a={};a.issueId=t.issueId,$N=[],this.postData("/deleteFRCDGridDetails",a,"DELETE")}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0})}},{key:"copyDataGrid",value:function(e){if(void 0===this.state.message||""===this.state.message){var t=$N[e],a={};a.issueId=t.issueId,a.productType=Gh,a.stmtType="S";$N=[],this.postData(mi,a,"COPY")}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.holidayData,s=t.productWeekData,n={};return n.checkBoxComponent=this.checkBoxComponent,n.textBoxComponent=this.textBoxComponent,n.dateComponent=this.dateComponent,n.rateBoxComponent=this.rateBoxComponent,n.tickerListComponent=this.tickerListComponent,n.tickerDropComponent=this.tickerDropComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsxs)("h6",{children:[eS.yankeecd,void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",void 0!==this.state.message&&this.state.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.state.message}):""]}),(s.length>0||a.length>0)&&Object(u.jsx)(Yb,{cprops:eS,apiCall:this.state.mainApiCall,wsUrl:!1,reqParams:{rowCnt:this.state.rowCnt,productType:Gh,stmtType:"S"},edit:!1,mappings:XN,customComponents:n,calBack:this.setScreenData,mapdata:$N,fixedTable:!0,keyField:qt,excelFlag:"true"})]})}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{className:"d-inline-block mt-2 text-center",children:[$N&&Object(u.jsx)(D.a,{id:"saveGrid",className:"btn btn-primary btn-xs ml-1",onClick:this.saveGridClick,children:"Save Grid"}),Object(u.jsx)(D.a,{id:"add",className:"btn btn-primary btn-xs ml-1",onClick:this.addClick,children:"Add"})]})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})})]})]})})}}]),a}(o.a.Component);function aS(e,t,a){var s,n=[],o=0;return Object.keys(t).map((function(i){return Object.keys(e[0]).map((function(l){var c;l===i?t[l]&&(c="settlementDate"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return a.dateComponent(Vu(e),t,s,n,l)}}:"issueId"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:a.checkBoxComponent}:"ticker"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return void 0!==e&&"new"===e?a.tickerListComponent(e,t,s,n):a.tickerDropComponent(e,t,s,n)}}:"minimumPiece"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return a.textBoxComponent(e,t,s,n,l)}}:{dataField:l,text:t[l],filter:Object(Ao.textFilter)()},n.push(c)):"rateMap"===l&&n.length>6&&(null===s||s!==e[0].rateMap)&&(s=e[0].rateMap,o=0,Object.keys(e[0].rateMap).map((function(s){c={dataField:s,text:t[s],filter:Object(Ao.textFilter)(),csvFormatter:function(t,a,n,i){if(void 0!==e[n]&&void 0!==e[n].rateMap&&void 0!==e[n].rateMap[s]){o=e[n].rateMap[s].split(":")[0];e[n].rateMap[s].split(":")[2];0==o&&(o="")}else o="";return o},formatter:function(t,n,i,l){if(void 0!==e[i]&&void 0!==e[i].rateMap&&void 0!==e[i].rateMap[s]){o=e[i].rateMap[s].split(":")[0];var c=e[i].rateMap[s].split(":")[2];0==o&&(o="")}else o="";return a.rateBoxComponent(o,n,i,l,s,c)}},n.push(c)})));return""})),""})),n}var sS,nS=[];nS.issueId=Ue,nS.ticker=cn,nS.securityType=ws,nS.callable=Pe,nS.floatIndex=At,nS.minimumPiece=Vs,nS.settlementDate=Ts,nS[hu]=an,nS[uu]=Et,nS[bu]=Mt,nS[pu]=_s,nS[ju]=Ps,nS[xu]=vt,nS[fu]=Da,nS[cu]=tn,nS[ru]=yt,nS[du]=fn;var oS=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleFocus=function(e){document.getElementById(e)&&(document.getElementById(e).style.display="block")},s.state={cmodal:!0,mainApiCall:Ki,updateFlag:!1,respMessage:"",rejectReason:"",rowCnt:0,actionTitle:"",actionMessage:"",holidayData:[],productWeekData:[]},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.saveGridClick=s.saveGridClick.bind(Object(O.a)(s)),s.addClick=s.addClick.bind(Object(O.a)(s)),s.checkBoxComponent=s.checkBoxComponent.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.rateBoxComponent=s.rateBoxComponent.bind(Object(O.a)(s)),s.tickerListComponent=s.tickerListComponent.bind(Object(O.a)(s)),s.dateComponent=s.dateComponent.bind(Object(O.a)(s)),s.onCheckboxClick=s.onCheckboxClick.bind(Object(O.a)(s)),s.setScreenData=s.setScreenData.bind(Object(O.a)(s)),s.postData=s.postData.bind(Object(O.a)(s)),s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.tickerDropComponent=s.tickerDropComponent.bind(Object(O.a)(s)),s.deleteGrid=s.deleteGrid.bind(Object(O.a)(s)),s.copyDataGrid=s.copyDataGrid.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;sS=[];var t=[],a=[];w()({method:"POST",url:N.URL+ac,timeout:N.apiTimeOut,data:{productType:Kh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({message:t.data})})),w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:Kh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(s){t=s.data.holidayDatesInfo,a=s.data.productWeekData,e.setState({holidayData:t,productWeekData:a})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(!1===t.cmodal&&this.props.linkname===zr){var s=[],n=[];w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:Kh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){s=e.data.holidayDatesInfo,n=e.data.productWeekData,a.setState({holidayData:s,productWeekData:n})})),this.setState({cmodal:!0})}}},{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"checkBoxComponent",value:function(e,t,a,s){var n=this,o=qt+a;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,defaultChecked:void 0!==sS[a]&&void 0!==sS[a].published&&"Y"===sS[a].published,onClick:function(t){n.onCheckboxClick(e,a,t)}})})}},{key:"textBoxComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(Eu,{name:n+a,id:n+a,value:Lo(e),onBlur:function(e){o.onFieldChange(e,n,a)},className:"text-right"})}},{key:"rateBoxComponent",value:function(e,t,a,s,n,o,i){var l=this;return Object(u.jsx)("div",{className:"dispFlex",children:Object(u.jsx)(Eu,{name:n+"M"+a,id:n+"M"+a,value:e,onFocus:function(e){l.handleFocus("span"+n+a)},onBlur:function(e){l.onRateChange(e,t,n,a,"span"+n+a)}})})}},{key:"dateComponent",value:function(e,t,a,s,n){var o=this,i=this.state,l=i.holidayData,c=i.productWeekData,r=[];return l.map((function(e){e.currency===t.currencyCode&&r.push(e)})),Object(u.jsx)(Ju,{minDate:new Date,label:n+a,id:n+a,dateValue:new Date(e),fromDateFlg:!1,toDateFlg:!1,onchange:function(e){o.onDateChange(e,n,a)},holidayData:r,productWeekData:c})}},{key:"tickerListComponent",value:function(e,t,a,s){var n=this;return Object(u.jsx)(jj,{id:ln+a,name:ln+a,apiCall:ji,reqParams:{productType:Kh,All:"false"},onchange:function(e,t){n.tickerChange(e,t,a,ln)},selected:void 0!==sS[a]&&void 0!==sS[a].ticker&&"new"!==sS[a].ticker?sS[a].ticker:""})}},{key:"onDateChange",value:function(e,t,a){sS[a][t]=Yu(e,"M/D/YY")}},{key:"onFieldChange",value:function(e,t,a){sS[a][t]=e.target.value;var s="";if(!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?s="Row"+(a+1)+":"+wm:(""!==e.target.value&&_o(e),sS[a][t]=Po(e.target.value)),s)return this.setState({actionTitle:"Alert",actionMessage:s,showError:!0}),e.target.value="",e.target.focus(),!1}},{key:"onRateChange",value:function(e,t,a,s,n){var o,i,l=this;("oneWeek"===a&&(o=t[a].split(":")[0]),t.rateMap)&&(t.rateMap,Object.keys(t.rateMap).map((function(n){t.rateMap&&a===n&&(o=t.rateMap[n].split(":")[0]),(!1===Bo(e.target.value,"1234567890.")||e.target.value.split(".").length>2)&&(l.setState({actionTitle:"Alert",actionMessage:"Row"+(s+1)+":"+Ym,showError:!0}),e.target.value=o,e.target.focus())})));if(document.getElementById(n)&&(document.getElementById(n).style.display="none"),void 0!==e.target.value&&""!==e.target.value)if(a===Ya){if(null!==(i=sS[s][a])){var c=i.split(":");c[0]=e.target.value,sS[s][a]=c.join(":")}}else{var r=sS[s].rateMap;if(null!==(i=r[a])){var d=i.split(":");d[0]=e.target.value,r[a]=d.join(":"),sS[s].rateMap=r}}}},{key:"tickerChange",value:function(e,t,a,s){sS[a][s]=t,sS[a].programId=t}},{key:"setScreenData",value:function(e){sS=e}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"saveGridClick",value:function(e){if(void 0===this.state.message||""===this.state.message){this.verifyAll(sS)&&this.postData("/saveFRCPGridDetails","","SAVE")}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0})}},{key:"verifyAll",value:function(e){for(var t=!0,a=0;a<e.length;a++){if(!1===this.verify(sS[a],a)){t=!1;break}}return t}},{key:"verify",value:function(e,t){var a="",s=0;return""!==e.minimumPiece&&(e.minimumPiece=e.minimumPiece.trim(),s=Po(e.minimumPiece)),""!==s&&0!==parseFloat(s)||(a="Row"+(t+1)+":"+ch),!a||(this.setState({actionTitle:"Alert",actionMessage:a,showError:!0}),!1)}},{key:"addClick",value:function(e){void 0===this.state.message||""===this.state.message?(void 0!==sS?this.setState({rowCnt:sS.length+1}):this.setState({rowCnt:1}),sS=[],this.setState({mainApiCall:di})):this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0})}},{key:"onCheckboxClick",value:function(e,t,a){if(void 0===this.state.message||""===this.state.message){var s={check:!1};a.target.checked&&(s.check=!0),s.issueId=e,s.productType=Kh,sS=[],this.postData("/publishFRCPGridDetails",s,"PUBLISH")}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0})}},{key:"postData",value:function(e,t,a){var s,n=this;"PUBLISH"===a||"DELETE"===a||"COPY"===a?s=t:"SAVE"===a&&(s=sS,sS=[]),w()({method:"POST",url:N.URL+e,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){void 0!==e.data?"COPY"===a?n.setScreenData(e.data):void 0!==e.data.errorMessage&&e.data.errorMessage.length>0?n.setState({rejectReason:e.data.errorMessage,mainApiCall:Ki}):void 0!==e.data.successMessage&&e.data.successMessage.length>0&&n.setState({respMessage:e.data.successMessage,mainApiCall:Ki}):n.setState({respMessage:"",rejectReason:"",mainApiCall:Ki})}))}},{key:"tickerDropComponent",value:function(e,t,a){var s=this;return this.setState({modalData:t}),Object(u.jsxs)(pj.a,{className:"positioninitial",drop:"down",children:[Object(u.jsx)(pj.a.Toggle,{id:ln+a,variant:"link",children:e}),Object(u.jsxs)(pj.a.Menu,{children:[Object(u.jsx)(pj.a.Item,{onClick:function(e){return s.copyDataGrid(a)},children:"Copy"}),Object(u.jsx)(pj.a.Item,{onClick:function(e){return s.deleteGrid(a)},children:"Delete"})]})]})}},{key:"deleteGrid",value:function(e){if(void 0===this.state.message||""===this.state.message){var t=sS[e],a={};a.issueId=t.issueId,sS=[],this.postData("/deleteFRCPGridDetails",a,"DELETE")}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0})}},{key:"copyDataGrid",value:function(e){if(void 0===this.state.message||""===this.state.message){var t=sS[e],a={};a.issueId=t.issueId,a.productType=Kh,a.stmtType="S";sS=[],this.postData(di,a,"COPY")}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.holidayData,s=t.productWeekData,n={};return n.checkBoxComponent=this.checkBoxComponent,n.textBoxComponent=this.textBoxComponent,n.dateComponent=this.dateComponent,n.rateBoxComponent=this.rateBoxComponent,n.tickerListComponent=this.tickerListComponent,n.tickerDropComponent=this.tickerDropComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&(s.length>0||a.length>0)&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsxs)("h6",{children:[nS.yankeecd,void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",void 0!==this.state.message&&this.state.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.state.message}):""]}),Object(u.jsx)(Yb,{cprops:nS,apiCall:this.state.mainApiCall,wsUrl:!1,reqParams:{rowCnt:this.state.rowCnt,productType:Kh,stmtType:"S"},edit:!1,mappings:aS,customComponents:n,calBack:this.setScreenData,mapdata:sS,fixedTable:!0,keyField:qt,excelFlag:"true"})]})}),Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{className:"d-inline-block mt-2 text-center",id:"bttn_contain",children:[sS&&Object(u.jsx)(D.a,{id:"saveGrid",className:"btn btn-primary btn-xs ml-1",onClick:this.saveGridClick,children:"Save Grid"}),Object(u.jsx)(D.a,{id:"add",className:"btn btn-primary btn-xs ml-1",onClick:this.addClick,children:"Add"})]})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})})]})]})})}}]),a}(o.a.Component);function iS(e,t,a,s){var n=[];return Object.keys(t).map((function(s){return Object.keys(e[0]).map((function(e){var o;e===s&&(t[e]&&(o=a&&e===Ys?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.textBoxComponent(t,s,n,o,e)}}:a&&e===Ct?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.feeTextBoxComponent(t,s,n,o,e)}}:a&&e===xe||a&&e===xo?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.selectBoxComponent(t,s,n,o,e)}}:a&&"ticker"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.programSelectBoxComponent}:a&&e===ve?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.checkBoxComponent(t,s,n,o,e)}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1},n.push(o)));return""})),""})),n}var lS=[];lS.sfCheck=Ue,lS.ticker=cn,lS.issuerName=ea,lS.spread=Xs,lS.fee=Pt,lS.allIn="All In";var cS=[];cS.sfCheck=Ue,cS.ticker=cn,cS.issuerName=ea,cS.spread=Xs,cS.fee=Pt,cS.premium="Prem/Disc/Fee";var rS={},dS=[],mS=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).checkBoxComponent=function(e,t,a,n,o){return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o+a,id:o+a,onClick:function(t){s.onCheckboxClick(e,a,t)}},a)})},s.textBoxComponent=function(e,t,a,n,o){return Object(u.jsx)(Eu,{name:o+a,id:o+a,value:e,onChange:function(e){return s.doChangeInput(e,a)}},a)},s.feeTextBoxComponent=function(e,t,a,n,o){return Object(u.jsx)(Eu,{name:o+a,id:o+a,value:e,onChange:function(e){return s.doFeeChangeInput(e,a)}},a)},s.selectBoxComponent=function(e,t,a,n,o){return"allIn"===o?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(Dp,{name:o+a,id:o+a,apiCall:"/getSpreadAllIn",reqParams:{},selected:t.allIn,onchange:function(e){s.spreadAllInChange(e,a)},stateMethod:s.getDefaultSpreadValues})}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(Dp,{name:"premium"+a,id:"premium"+a,apiCall:"/getPremDiscFee",reqParams:{},selected:t.premium,onchange:function(e){s.premiumAllInChange(e,a)}})})},s.programSelectBoxComponent=function(e,t,a,n){return void 0===e||""===e?Object(u.jsx)(Dp,{name:"ticker"+a,id:"ticker"+a,apiCall:"/getPrograms",reqParams:{bookId:s.state.bookId,productType:s.state.prodId},onchange:function(e){s.productChangeList(e,a)},stateMethod:s.getDefaultProgramValues}):e},s.spreadAllInChange=function(e,t){dS[t].allIn=e.target.value,s.setState({respMessage:"",rejectReason:"",updateData:!0})},s.doDelete=function(){s.setState({respMessage:"",rejectReason:"",updateData:!1});var e=!1,t="";dS&&dS.map((function(a,s){var n=document.getElementById("sfCheck"+s);if(null!=n&&!0===n.checked){e=!0;var o=document.getElementById("spread"+s).value,i=document.getElementById("fee"+s).value;""===o&&""===i&&""===t&&(t=s)}})),e?""!==t?alert("Please enter Spread (bp) or Fee (bps)"):s.setState(Object(g.a)({actionTitle:rm,actionMessage:kh,alertShow:!0,actionFlag:"DELETE",updateData:!1},"updateData",!1)):alert("Please check atleast once checkbox")},s.doSave=function(){s.setState({respMessage:"",rejectReason:"",updateData:!1});var e=!1,t="";dS&&dS.map((function(a,s){var n=document.getElementById("sfCheck"+s);if(null!=n&&!0===n.checked){e=!0;var o=document.getElementById("spread"+s).value,i=document.getElementById("fee"+s).value;""===o&&""===i&&""===t&&(t=s)}})),e?""!==t?alert("Please enter Spread (bp) or Fee (bps)"):s.setState({actionTitle:dm,actionMessage:fh,alertShow:!0,actionFlag:"SAVE",updateData:!1}):alert("Please check atleast once checkbox")},s.msgTimeOut=function(e){s.setState({isLoading:!1,updateData:!1}),setTimeout((function(){s.setState({respMessage:"",rejectReason:"",updateData:!1}),w()({method:"POST",url:N.URL+rl,timeout:N.apiTimeOut,data:{productType:s.state.prodId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(dS=e.data),dS&&dS.forEach((function(e,t){s.setState({spread:e.spread,fee:e.fee,updateData:!0})})),s.setState({isLoading:!0,updateData:!0})}))}),5e3),s.setState({isLoading:!0,updateData:!0})},s.state={cmodal:!0,prodId:Hh,actionTitle:"",actionMessage:"",actionFlag:"",alertShow:!1,ticker:"",spread:"",isLoading:!0,bookId:"",allIn:"",respMessage:"",rejectReason:"",updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.checkBoxComponent=s.checkBoxComponent.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.selectBoxComponent=s.selectBoxComponent.bind(Object(O.a)(s)),s.programSelectBoxComponent=s.programSelectBoxComponent.bind(Object(O.a)(s)),s.getDefaultBookValues=s.getDefaultBookValues.bind(Object(O.a)(s)),s.onCheckboxClick=s.onCheckboxClick.bind(Object(O.a)(s)),s.doAdd=s.doAdd.bind(Object(O.a)(s)),s.hideAlert=s.hideAlert.bind(Object(O.a)(s)),s.feeTextBoxComponent=s.feeTextBoxComponent.bind(Object(O.a)(s)),s.handleGo=s.handleGo.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s.handleOnChange=s.handleOnChange.bind(Object(O.a)(s)),s.getDefaultProgramValues=s.getDefaultProgramValues.bind(Object(O.a)(s)),s.getDefaultSpreadValues=s.getDefaultSpreadValues.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!1,updateData:!0}),w()({method:"POST",url:N.URL+rl,timeout:N.apiTimeOut,data:{productType:this.state.prodId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&(dS=t.data),dS&&dS.forEach((function(t,a){e.setState({spread:t.spread,fee:t.fee,updateData:!0})})),e.setState({isLoading:!0,updateData:!0})}))}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Rd&&this.setState({cmodal:!0,updateData:!1})}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1}),this.props.onRemove(this.props.linkname)}},{key:"onCheckboxClick",value:function(e,t,a){this.setState({respMessage:"",rejectReason:"",sfCheck:a.target.checked,isLoading:!0,updateData:!1})}},{key:"doChangeInput",value:function(e,t){this.setState({respMessage:"",rejectReason:"",spread:e.target.value,updateData:!1}),dS[t].spread=e.target.value}},{key:"doFeeChangeInput",value:function(e,t){this.setState({respMessage:"",rejectReason:"",updateData:!1}),dS[t].fee=e.target.value}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:e,updateData:!1})}},{key:"getDefaultProgramValues",value:function(e,t){dS[dS.length-1].issuerName=t,this.setState({ticker:e,updateData:!0})}},{key:"getDefaultSpreadValues",value:function(e,t){this.setState({allIn:e,updateData:!1})}},{key:"productChangeList",value:function(e,t){var a=this;this.setState({respMessage:"",rejectReason:"",ticker:e.target.value}),w()({method:"POST",url:N.URL+"/getSpreadPrgmIssuer",timeout:N.apiTimeOut,data:{programId:e.target.value},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&a.setState({issuerName:e.data,updateData:!0}),dS.map((function(s,n){n===t&&(s.issuerName=e.data,a.setState({issuerName:s.issuerName,updateData:!0}))})),a.setState({columns:iS(dS,lS,rS),isLoading:!0,updateData:!0})}))}},{key:"premiumAllInChange",value:function(e,t){dS[t].premium=e.target.value,this.setState({respMessage:"",rejectReason:"",updateData:!0})}},{key:"handleGo",value:function(){var e=this;this.setState({isLoading:!1,respMessage:"",rejectReason:""}),w()({method:"POST",url:N.URL+rl,timeout:N.apiTimeOut,data:{productType:this.state.prodId,bookId:this.state.bookId},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&(t.data&&(dS=t.data,t.data.length>0&&("1400"===e.state.prodId||"1200"===e.state.prodId||"1600"===e.state.prodId||"2900"===e.state.prodId||"3000"===e.state.prodId?e.setState({columns:iS(t.data,lS,rS),updateData:!0}):e.setState({columns:iS(t.data,cS,rS),updateData:!0}))),e.setState({isLoading:!0,updateData:!0}))}))}},{key:"doAdd",value:function(e){this.setState({respMessage:"",rejectReason:""}),"1400"===this.state.prodId||"1200"===this.state.prodId||"1600"===this.state.prodId||"2900"===this.state.prodId||"3000"===this.state.prodId?(dS.push({sfCheck:"new",ticker:"",issuerName:"",spread:"",fee:"",allIn:"",bookId:this.state.bookId?this.state.bookId:"",productType:this.state.prodId?this.state.prodId:""}),this.setState({columns:iS(dS,lS,rS),updateData:!0})):(dS.push({sfCheck:"new",ticker:"",issuerName:"",spread:"",fee:"",premium:"",bookId:this.state.bookId?this.state.bookId:"",productType:this.state.prodId?this.state.prodId:""}),this.setState({columns:iS(dS,cS,rS),updateData:!0}))}},{key:"confirmAction",value:function(e){var t=this;if("SAVE"===e){this.setState({alertShow:!1,isLoading:!1,updateData:!1});var a=[];dS&&dS.map((function(e,s){var n=document.getElementById("sfCheck"+s);null!=n&&(dS[s].sfCheck=n.checked,""===dS[s].programId&&void 0===dS[s].programId||(dS[s].programId=void 0!==dS[s].programId?dS[s].programId:t.state.ticker),""===dS[s].allIn&&void 0===dS[s].allIn||(dS[s].allIn=""!==dS[s].allIn?dS[s].allIn:t.state.allIn),""===dS[s].ticker&&void 0===dS[s].ticker||(dS[s].ticker=""!==dS[s].ticker?dS[s].ticker:t.state.ticker),a.push(dS[s]))})),this.postData(a,"/saveSpreadFeeData"),this.setState({isLoading:!0,updateData:!0})}else if("DELETE"===e){this.setState({alertShow:!1,isLoading:!1,updateData:!1});a=[];dS&&dS.map((function(e,s){var n=document.getElementById("sfCheck"+s);null!=n&&(!0,dS[s].sfCheck=n.checked,""===dS[s].programId&&void 0===dS[s].programId||(dS[s].programId=void 0!==dS[s].programId?dS[s].programId:t.state.ticker),""===dS[s].ticker&&void 0===dS[s].ticker||(dS[s].ticker=""!==dS[s].ticker?dS[s].ticker:t.state.ticker),a.push(dS[s]))})),this.postData(a,"/deleteSpreadFeeData")}}},{key:"postData",value:function(e,t){var a=this;this.setState({isLoading:!1}),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(void 0!==e.data.errorMessage&&e.data.errorMessage.length>0?(a.msgTimeOut(),a.setState({rejectReason:e.data.errorMessage,updateData:!0})):void 0!==e.data.successMessage&&e.data.successMessage.length>0&&(a.msgTimeOut(),a.setState({respMessage:e.data.successMessage,updateData:!0})),a.setState({isLoading:!0}))}))}},{key:"hideAlert",value:function(){this.setState({alertShow:!1,updateData:!1})}},{key:"handleOnChange",value:function(e){var t=this;this.setState({isLoading:!1,respMessage:"",rejectReason:""});var a={};"prodId"===e.target.id?(a.productType=e.target.value,a.traderBook=this.state.bookId,this.setState({prodId:e.target.value,updateData:!1})):"bookId"===e.target.id&&(a.traderBook=e.target.value,a.productType=this.state.prodId,this.setState({bookId:e.target.value,updateData:!1})),w()({method:"POST",url:N.URL+rl,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data&&(dS=e.data,e.data.length>0&&("1400"===t.state.prodId||"1200"===t.state.prodId||"1600"===t.state.prodId||"2900"===t.state.prodId||"3000"===t.state.prodId?t.setState({columns:iS(e.data,lS,rS),updateData:!0}):t.setState({columns:iS(e.data,cS,rS),updateData:!0}))),t.setState({isLoading:!0,updateData:!0}))}))}},{key:"render",value:function(){var e=this;return rS.checkBoxComponent=this.checkBoxComponent,rS.textBoxComponent=this.textBoxComponent,rS.selectBoxComponent=this.selectBoxComponent,rS.programSelectBoxComponent=this.programSelectBoxComponent,rS.feeTextBoxComponent=this.feeTextBoxComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",this.state.rejectReason?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",this.state.isLoading?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Product",id:"lbl_product"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{name:"prodId",id:"prodId",apiCall:vi,reqParams:{},onchange:function(t){e.handleOnChange(t)},selected:this.state.prodId})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Book",id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:this.state.prodId},onchange:function(t){return e.handleOnChange(t)},selected:this.state.bookId,id:"bookId",stateMethod:this.getDefaultBookValues})})]}),Object(u.jsx)(W.a,{children:Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"go",onClick:this.handleGo,children:"Go"})})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})}),dS.length>0?"1400"===this.state.prodId||"1200"===this.state.prodId||"1600"===this.state.prodId||"2900"===this.state.prodId||"3000"===this.state.prodId?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(Yb,{cprops:lS,updateData:this.state.updateData,mapdata:dS,keyField:"1",mappings:iS,customComponents:rS,excelFlag:"true"})}):Object(u.jsx)(Yb,{cprops:cS,updateData:this.state.updateData,mapdata:dS,keyField:"1",mappings:iS,customComponents:rS,excelFlag:"true"}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."}),Object(u.jsxs)("div",{className:"text-center mt-2 mb-2",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"add",onClick:this.doAdd,children:"Add"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"save",onClick:this.doSave,children:"Save"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"delete",onClick:this.doDelete,children:"Delete"})]})]})}):Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})})]})})}}]),a}(o.a.Component),hS=[];hS.action=oe,hS.loginname=An,hS.roledesc=En,hS.desk=Yn,hS.name=Pn,hS.jpmsid=Bn,hS.phone=_n,hS.email=Un,hS.status=qs;var uS=[],bS=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,productTypeValue:"",statusValue:"",formDateValue:_u(),toDateValue:Uu(),newSSOlayer:!1,updateData:!0,respMessage:""},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.doDelete=s.doDelete.bind(Object(O.a)(s)),s.onRadioClick=s.onRadioClick.bind(Object(O.a)(s)),s.imgComponent=s.imgComponent.bind(Object(O.a)(s)),s.userChange=s.userChange.bind(Object(O.a)(s)),s.roleTypeChange=s.roleTypeChange.bind(Object(O.a)(s)),s.cloneTypeChange=s.cloneTypeChange.bind(Object(O.a)(s)),s.userTypeChange=s.userTypeChange.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.cloneTypeChangeSelect=s.cloneTypeChangeSelect.bind(Object(O.a)(s)),s.userChangeSelect=s.userChangeSelect.bind(Object(O.a)(s)),s.userTypeChangeSelect=s.userTypeChangeSelect.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"userChange",value:function(e){this.setState({userValue:e.target.value,updateData:!1,respMessage:""})}},{key:"roleTypeChange",value:function(e){this.setState({roleTypeValue:e.target.value,updateData:!1,respMessage:""})}},{key:"cloneTypeChange",value:function(e){this.setState({cloneTypeValue:e.target.value,updateData:!1,respMessage:""})}},{key:"cloneTypeChangeSelect",value:function(e,t){this.setState({cloneTypeValue:e,updateData:!1})}},{key:"userChangeSelect",value:function(e,t){this.setState({userValue:e,updateData:!1})}},{key:"userTypeChangeSelect",value:function(e,t){this.setState({roleTypeValue:e,updateData:!1})}},{key:"userTypeChange",value:function(e){this.setState({userTypeValue:e.target.value,updateData:!0,respMessage:""})}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Br&&this.setState({cmodal:!0})}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!1})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"verifyUser",value:function(){if(void 0===uS||""===uS)return this.setState({actionTitle:"Alert",actionMessage:"Please enter Login Name",updateData:!1,showError:!0}),!1;if(void 0===uS.loginname||""===uS.loginname)return this.setState({actionTitle:"Alert",actionMessage:"Please enter Login Name",updateData:!1,showError:!0}),!1;if(void 0===uS.firstName||""===uS.firstName)return this.setState({actionTitle:"Alert",actionMessage:"Please enter First Name",updateData:!1,showError:!0}),!1;if(void 0===uS.lastName||""===uS.lastName)return this.setState({actionTitle:"Alert",actionMessage:"Please enter Last Name",updateData:!1,showError:!0}),!1;if(void 0===uS.email||""===uS.email)return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address",updateData:!1,showError:!0}),!1;if(void 0!==uS.email&&""!==uS.email){if(-1==uS.email.indexOf("@"))return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address, Email with out an @ is not a valid E-Mail Address",updateData:!1,showError:!0}),!1;if(!Bo(uS.email,"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_@-."))return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address",updateData:!1,showError:!0}),!1;if(Bo(uS.email,"0123456789.@"))return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address",updateData:!1,showError:!0}),!1;if(uS.email.indexOf("@")!=uS.email.lastIndexOf("@"))return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address",updateData:!1,showError:!0}),!1;if(-1!=uS.email.indexOf(" "))return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address",updateData:!1,showError:!0}),!1;if(-1==uS.email.indexOf("."))return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address",updateData:!1,showError:!0}),!1;if(uS.email.lastIndexOf(".")==uS.email.length-1)return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address",updateData:!1,showError:!0}),!1;if(uS.email.indexOf("@")==uS.email.length-1)return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address",updateData:!1,showError:!0}),!1;if(uS.email.indexOf("@")==uS.email.indexOf(".")-1||uS.email.indexOf(".")==uS.email.indexOf("@")-1)return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address",updateData:!1,showError:!0}),!1;if(0==uS.email.indexOf("@")||0==uS.email.indexOf("."))return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address",updateData:!1,showError:!0}),!1;if(-1!=uS.email.indexOf(".."))return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address",updateData:!1,showError:!0}),!1;if(-1!=uS.email.indexOf(".")&&uS.email.lastIndexOf(".")<uS.email.lastIndexOf("@"))return this.setState({actionTitle:"Alert",actionMessage:"Please enter valid E-Mail Address",updateData:!1,showError:!0}),!1}return!(void 0!==uS.phone&&""!==uS.phone&&!Bo(uS.phone,"0123456789-"))||(this.setState({actionTitle:"Alert",actionMessage:"Please enter valid Phone Number",updateData:!1,showError:!0}),!1)}},{key:"onContentChange",value:function(e,t){uS[t]=e.target.value}},{key:"doSave",value:function(e,t){var a=this,s={};Object.keys(uS).map((function(e){s[e]=uS[e]}));var n=""!==this.state.roleTypeValue&&void 0!==this.state.roleTypeValue?this.state.roleTypeValue:"1";if(s.roletypeid=n,[].push(s),"N"===this.state.cloneTypeValue)s.cloneUserId=this.state.userValue,s.userId=this.state.userLogId,s.cloneType=this.state.cloneTypeValue,s.userType=n,this.verifyUser()&&w()({method:"POST",url:N.URL+bc,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data.length>0&&(" "===e.data?a.setState({respMessage:""}):a.setState({respMessage:e.data}),a.setState({updateFlag:!0,updateData:!0}))}));else{var o={};o.userType=n,o.cloneUserId=this.state.userValue,o.userId=this.state.userLogId,o.cloneType=this.state.cloneTypeValue,w()({method:"POST",url:N.URL+bc,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data.length>0&&(" "===e.data?a.setState({respMessage:""}):a.setState({respMessage:e.data}),a.setState({updateFlag:!0,updateData:!0}))}))}}},{key:"doDelete",value:function(e,t){var a=this;w()({method:"POST",url:N.URL+bi,timeout:N.apiTimeOut,data:{status:t,loginId:e.loginid},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data.length>0&&(" "===e.data?a.setState({respMessage:""}):a.setState({respMessage:e.data}),a.setState({updateFlag:!0,updateData:!0}))}))}},{key:"statusComponent",value:function(e,t,a){return"N"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"Disabled"})]}):"Y"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"Active"})]}):void 0}},{key:"roleComponent",value:function(e,t,a){return"A"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"ADMIN"})]}):"V"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"VIEW"})]}):"O"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"ADMIN-VIEW"})]}):"T"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"TRADER"})]}):"V"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"VIEW"})]}):"S"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"SALESPERSON"})]}):"I"===e?Object(u.jsxs)("span",{children:[" ",Object(u.jsx)("span",{children:"ISSUERUSER"})]}):void 0}},{key:"imgComponent",value:function(e,t,a){var s=this;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"radio",name:"radio",id:"radio"+a,onClick:function(n){s.onRadioClick(e,t,a,n)}},a)})})}},{key:"onRadioClick",value:function(e,t,a,s){this.setState({userLogId:t.loginid,updateData:!1})}},{key:"render",value:function(){var e=this,t={};return t.statusComponent=this.statusComponent,t.roleComponent=this.roleComponent,t.imgComponent=this.imgComponent,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h6",{children:[void 0!==this.state.msg&&""!==this.state.msg?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.msg}):"",void 0!==this.state.respMessage&&""!==this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):""]}),this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsxs)("strong",{className:"cursor",children:[Object(u.jsx)("div",{className:"d-inline-block col-md-2",children:Ed}),Object(u.jsx)("div",{className:"d-inline-block col-md-10 text-right pr-0",children:Object(u.jsx)("div",{className:"d-inline-block cross",onClick:this.closemodel,children:"X"})})]})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsx)(H.a,{md:2,children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Investor",id:"lbl_userType"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:uc,reqParams:{},selected:this.state.userTypeValue,stateMethod:this.userTypeChangeSelect,onchange:function(t){e.userTypeChange(t)}})})]})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:hS,apiCall:"/getCloneUserDetails",reqParams:{roleType:""!==this.state.userTypeValue&&void 0!==this.state.userTypeValue?this.state.userTypeValue:"1"},keyField:"1",updateData:this.state.updateData,mappings:YC,customComponents:t,excelFlag:"true"})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsx)("div",{className:"d-inline-block col-md-2",children:"Clone User To"})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsxs)("div",{children:[" ",Object(u.jsx)(H.a,{md:2,children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Clone Type:",id:"lbl_cloneType"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:"/getCloneType",reqParams:{},selected:this.state.cloneTypeValue,stateMethod:this.cloneTypeChangeSelect,onchange:function(t){e.cloneTypeChange(t)}})})]})})]}),this.state.cloneTypeValue&&"N"===this.state.cloneTypeValue?Object(u.jsxs)("div",{children:[Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"ID :",id:"lbl_jpmsid"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"jpmsid",id:"jpmsid",value:"",className:"text-left",onBlur:function(t){e.onContentChange(t,"jpmsid")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Login Name :",id:"lbl_loginName"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"loginame",id:"loginname",value:"",className:"text-left",onBlur:function(t){e.onContentChange(t,"loginname")}})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"First Name :",id:"lbl_firstName"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"firstName",id:"firstName",value:"",className:"text-left",onBlur:function(t){e.onContentChange(t,"firstName")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Last Name :",id:"lbl_lastName"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"lastName",id:"lastName",value:"",className:"text-left",onBlur:function(t){e.onContentChange(t,"lastName")}})})]})]}),Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Email :",id:"lbl_email"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"email",id:"email",value:"",className:"text-left",onBlur:function(t){e.onContentChange(t,"email")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Phone :",id:"lbl_accountType"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Eu,{name:"phone",id:"phone",value:"",className:"text-left",onBlur:function(t){e.onContentChange(t,"phone")}})})]})]})]}):Object(u.jsx)("div",{children:Object(u.jsxs)(H.a,{md:2,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Role Type:",id:"lbl_roleType"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:uc,reqParams:{},onchange:this.roleTypeChange,selected:this.state.roleTypeValue})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"User:",id:"lbl_user"})}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:il,reqParams:{userType:""!==this.state.roleTypeValue&&void 0!==this.state.roleTypeValue?this.state.roleTypeValue:"1"},selected:this.state.userValue,stateMethod:this.userChangeSelect,onchange:function(t){e.userChange(t)}})})]})]})}),Object(u.jsxs)("div",{class:"text-center md-2",children:[Object(u.jsx)("button",{type:"button",class:"marginauto btn btn-primary btn-xs",name:"save",id:"save",onClick:function(t){e.doSave(e)},children:"Clone User"}),Object(u.jsx)("button",{type:"button",class:"marginauto btn btn-primary btn-xs ml-1",name:"return",id:"return",onClick:function(t){e.doReturn(e)},children:"Return"})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})})]})]})]})]})}}]),a}(o.a.Component);function pS(e,t,a){var s,n=[];return Object.keys(t).map((function(o){return Object.keys(e[0]).map((function(i){if(i===o){if(e[0][i]){var l;if("grandTotal"===i)l={dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"};else l={dataField:i,text:t[i],filter:Object(Ao.textFilter)(),editable:!1};n.push(l)}}else a.reportMapComponent&&"reportMap"===i&&n.length>1&&(null===s||s!==e[0].reportMap)&&(s=e[0].reportMap,Object.keys(e[0].reportMap).map((function(t){l={dataField:t,text:t,filter:Object(Ao.textFilter)(),csvFormatter:function(a,s,n,o){return e[n]&&e[n].reportMap&&(a=e[n].reportMap[t]),a},formatter:function(s,n,o,i){return e[o]&&e[o].reportMap&&(s=e[o].reportMap[t]),a.reportMapComponent(s,n,o,i,t)},align:"right"},n.push(l)})));return""})),""})),n}function jS(e,t,a){var s,n=[],o=[],i=[];return Object.keys(t).map((function(i){return Object.keys(e[0]).map((function(l){return l===i?(n.push(l),o.push(t[l])):a.reportMapComponent&&"reportMap"===l&&n.length>1&&(null===s||s!==e[0].reportMap)&&(s=e[0].reportMap,Object.keys(e[0].reportMap).map((function(e){n.push(e),o.push(e)}))),""})),""})),e.map((function(e,t){var a=[];n.map((function(t,s){e[t]?a.push(e[t]):e.reportMap[t]&&e.reportCntMap[t]&&a.push(e.reportMap[t]+" "+e.reportCntMap[t])})),i.push(a)})),{columns:new Array(o),data:i}}var xS=[];xS.tickerCode=cn,xS.issuerName=Kt,xS.grandTotal=Bt;var fS=[];fS.tickerCode=cn,fS.issuerName=Vt,fS.grandTotal=Bt;var gS=[];gS.tickerCode=cn,gS.issuerName=pn,gS.grandTotal=Bt;var OS,vS=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openModal=function(e,t){s.setState({modalData:e,matDate:t,showModal:!0})},s.openModalAmt=function(e,t){s.setState({modalData:e,matDate:t,showModalAmt:!0})},s.numberWithCommas=function(e){return parseFloat(e).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},s.openPdf1=function(e){s.getPDFData(e,"Timeline Report")},s.state={tickerValue:"",stmtValue:"",formDateValue:new Date(_u()),toDateValue:new Date(zu(_u(),"6")),singleSelections:"",showModal:!1,matDate:"",modalData:"",productTypeValue:"1200",viewByValue:"I"},s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.stmtChange=s.stmtChange.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.setSingleSelections=s.setSingleSelections.bind(Object(O.a)(s)),s.reportMapComponent=s.reportMapComponent.bind(Object(O.a)(s)),s.getDefaultValues=s.getDefaultValues.bind(Object(O.a)(s)),s.productTypeChange=s.productTypeChange.bind(Object(O.a)(s)),s.viewbyChange=s.viewbyChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"tickerChange",value:function(e){this.setState({tickerValue:e.target.value})}},{key:"stmtChange",value:function(e,t){var a=this;this.setState({stmtValue:e.target.value}),w()({method:"POST",url:N.URL+Gl,timeout:N.apiTimeOut,data:{fromDate:Yu(new Date,"MM/DD/YY"),stmtType:e.target.value},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({formDateValue:new Date(e.data.fromDate),toDateValue:new Date(e.data.toDate)})}))}},{key:"viewbyChange",value:function(e){this.setState({viewByValue:e.target.value})}},{key:"fromDateChange",value:function(e){var t=this;this.setState({formDateValue:e}),w()({method:"POST",url:N.URL+Gl,timeout:N.apiTimeOut,data:{fromDate:Vu(e),stmtType:this.state.stmtValue},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({formDateValue:new Date(e.data.fromDate),toDateValue:new Date(e.data.toDate)})}))}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e})}},{key:"setSingleSelections",value:function(e,t){this.setState({singleSelections:e}),this.setState({tickerValue:t})}},{key:"getDefaultValues",value:function(e,t){this.setState({tickerValue:"All"})}},{key:"productTypeChange",value:function(e){this.setState({productTypeValue:e.target.value})}},{key:"reportMapComponent",value:function(e,t,a,s,n,o){var i=this;return"0"!==e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"dispFlex",children:Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:function(e){return i.openModalAmt(t,n)},children:e},a)}),Object(u.jsx)("div",{className:"dispFlex",children:Object(u.jsxs)("button",{className:"btn btn-link",id:n+a,onClick:function(e){return i.openModal(t,n)},children:["(",t.reportCntMap[n],")"]},a)})]}):e}},{key:"hideModal",value:function(){this.setState({showModal:!1,matDate:"",modalData:""})}},{key:"hideModalAmt",value:function(){this.setState({showModalAmt:!1,matDate:"",modalData:""})}},{key:"getPDFData",value:function(){var e=Object(f.a)(y.a.mark((function e(t,a){var s,n,o,i,l,c,r,d=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={productType:""===this.state.productTypeValue?Hh:this.state.productTypeValue,fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue),stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,ticker:""===this.state.tickerValue?"ALL":this.state.tickerValue,viewBy:""===this.state.viewByValue?"I":this.state.viewByValue},e.next=3,w()({method:"POST",url:N.URL+Ai,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}});case 3:n=e.sent,o=jS(n.data,xS,t),"pt","A4","landscape",40,(i=new Lb.default("landscape","pt","A4")).setFontSize(15),l=a,c=o.columns,r=o.data,{startY:50,head:c,body:r},r&&r.map((function(e,t){e[7]&&e[7]&&(e[7]=d.numberWithCommas(e[7]))})),i.text(l,40,40),i.autoTable(["Ticker","Issuer","Week 22 (5/30/22)","Week 23 (6/6/22)","Week 24 (6/13/22)","Week 25 (6/20/22)","Week 26 (6/27/22)","Grand Total"],r,{startY:50,columnStyles:[{halign:"left"},{halign:"left"},{halign:"left"},{halign:"left"},{halign:"left"},{halign:"left"},{halign:"left"},{halign:"right"}]}),i.save(a+".pdf");case 19:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t={},a=xS;return"C"===this.state.viewByValue&&(a=fS),"T"===this.state.viewByValue&&(a=gS),t.reportMapComponent=this.reportMapComponent,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(H.a,{className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Products",id:"lbl_products"})}),Object(u.jsx)(W.a,{xs:9,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:vi,reqParams:{},onchange:this.productTypeChange,selected:this.state.productTypeValue,id:"product"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block pr0",children:Object(u.jsx)(ni,{label:"View By",id:"lbl_viewby"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:"/getViewBy",reqParams:{},onchange:this.viewbyChange,selected:this.state.viewByValue,id:"viewby"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block pr0",children:Object(u.jsx)(ni,{label:"Stmt Type",id:"lbl_stmttype"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:pi,reqParams:{},onchange:this.stmtChange,selected:this.state.stmtValue,id:"stmtType"})})]}),"M"!==this.state.stmtValue?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block  pr0",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]})}):Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block pr0",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]})}),"M"!==this.state.stmtValue?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block  pr0",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange,disabled:!0})})]})}):Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block pr0",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange,disabled:!0})})]})})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ax,{cprops:a,apiCall:Ai,reqParams:{productType:""===this.state.productTypeValue?"1200":this.state.productTypeValue,fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue),stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,ticker:""===this.state.tickerValue?"ALL":this.state.tickerValue,viewBy:""===this.state.viewByValue?"I":this.state.viewByValue},mappings:pS,maturityfcFlag:"true",keyField:"1",screenName:"TIME_LINE",customComponents:t})}),Object(u.jsx)(gx,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Trade Details",prodType:this.state.productTypeValue,modalData:this.state.modalData,matDate:this.state.matDate,viewBy:""===this.state.viewByValue?"I":this.state.viewByValue,stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,timeLineFlag:!0}),Object(u.jsx)(gx,{size:"lg",show:this.state.showModalAmt,onHide:function(){return e.hideModalAmt()},modalHead:"Trade 11111 Details",prodType:this.state.productTypeValue,modalData:this.state.modalData,matDate:this.state.matDate,type:"amount",viewBy:""===this.state.viewByValue?"I":this.state.viewByValue,stmtType:""===this.state.stmtValue?"D":this.state.stmtValue,timeLineFlag:!0})]})}}]),a}(o.a.Component),yS=vS,kS=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,heading:"cp"},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.handleSelect=s.handleSelect.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Or&&this.setState({cmodal:!0})}},{key:"handleSelect",value:function(e){this.setState({heading:e})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{className:"d-inline-block",children:Object(u.jsx)(yS,{})})})})]})})}}]),a}(o.a.Component),DS=a(267),CS=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.issuerCountryData,a={labels:e.issuerCountryList,datasets:t};return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(TN.Bar,{options:{plugins:{legend:!1,title:{display:!0,text:"Chart.js Bar Chart - Stacked"}},responsive:!0,interaction:{mode:"index",intersect:!1},scales:{x:{stacked:!0},y:{stacked:!0}}},data:a,height:this.props.height?this.props.height:20})})}}]),a}(o.a.Component),NS=CS,SS=a(268),wS=a.n(SS),TS=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).expandFn=function(e){var t=s.state.countrys,a=t.find((function(t){return t.name===e})).isshow;t.find((function(t){return t.name===e})).isshow=!a,s.setState({countrys:t})},s.state={countrys:[]},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({countrys:[]});var e=[],t=this.props.issuerCountryList;t&&t.map((function(t,a){e.push({name:t,isshow:!1})})),this.setState({countrys:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.issuerCountryData,s=t.issuerCountryList;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Issuer"}),Object(u.jsx)("th",{children:"Outstandings"})]})}),Object(u.jsx)("tbody",{children:s&&s.map((function(t,s){var n=e.state.countrys.find((function(e){return e.name===t}))&&e.state.countrys.find((function(e){return e.name===t})).isshow;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("tr",{children:Object(u.jsxs)("td",{colspan:"2",className:"text-left",children:[!0===n?Object(u.jsx)("a",{href:"javascript:void(0)",onClick:function(a){return e.expandFn(t)},children:Object(u.jsx)(B.t,{size:"14"})}):Object(u.jsx)("a",{href:"javascript:void(0)",onClick:function(a){return e.expandFn(t)},children:Object(u.jsx)(B.v,{size:"14"})}),Object(u.jsx)("b",{children:t})]})}),!0===n?Object(u.jsx)(IS,{x:s,issuerCountryData:a}):Object(u.jsx)(u.Fragment,{})]})}))})]})})}}]),a}(o.a.Component),IS=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).numberWithCommas=function(e){return parseFloat(e).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.issuerCountryData,s=t.x;return Object(u.jsx)(u.Fragment,{children:a&&a.map((function(t,a){if(0!==t.data[s]&&"0"!==t.data[s]&&"0.0"!==t.data[s])return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{style:{width:"50%"},className:"text-left pl20",children:t.label}),Object(u.jsx)("td",{style:{width:"50%"},className:"text-right",children:wS.a.USD+" "+e.numberWithCommas(t.data[s])})]})}))})}}]),a}(o.a.Component),MS=TS,AS=a(516).getName,RS=[],ES=["#8DC9ED","#35A7EA","#8A6B4A","#F3F3A9","#84BC9E","#8C65E0","#CCCC33","#AFC97B","#666666","#99CC80","#CCCC33","#545775","#884EA0","#B03A2E","#1F618D","#148F77","#F39C12","#5D6D7E","#BDC3C7","#D4AC0D","#B7950B","#1ABC9C","#2C3E50","#0B5345","#FFEB3B","#00838F","#8D6E63","#1E88E5","#AB47BC","#66FF33","#6600CC"],FS=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleshow2=function(e,t,a){var n=AS(a),o="";s.state.regionGraph&&((o=s.state.regionGraph.find((function(e){return e.countryCode===a})))&&(n=n+" <br> Outstandings :"+s.numberWithCommas(o.countryExposure)),t.html(n))},s.numberWithCommas=function(e){return parseFloat(e).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},s.state={countryLabels:[],countryAmts:[],issuerLabels:[],issuerAmts:[],investorLabels:[],investorAmts:[],issuerCountryData:[],issuerCountryList:[],isLoading:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"componentDidMount",value:function(){var e=this;w()({method:"POST",url:N.URL+"/dashboard",timeout:N.apiTimeOut,data:{},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){if(t.data){var a=[],s=[];t.data.countryIssuerAmountJson.forEach((function(e,t){0!==t&&a.push({countryCode:"UK"===e[0]?"GB":e[0],countryExposure:e[1]}),"UK"===e[0]&&(e[0]="GB"),RS.push(ES[t]),s.push(e)})),e.setState({countryIssuerAmountJson:s,countryLabels:void 0===t.data.countryJson?[]:t.data.countryJson,regionGraph:a,countryAmts:void 0===t.data.countryAmountJson?[]:t.data.countryAmountJson,issuerLabels:void 0===t.data.issuerJson?[]:t.data.issuerJson,issuerAmts:void 0===t.data.issuerAmountJson?[]:t.data.issuerAmountJson,investorLabels:void 0===t.data.investorJson?[]:t.data.investorJson,investorAmts:void 0===t.data.investorAmountJson?[]:t.data.investorAmountJson,issuerCountryData:void 0===t.data.issuerCountryData?[]:t.data.issuerCountryData,issuerCountryList:void 0===t.data.issuerCountryList?[]:t.data.issuerCountryList,isLoading:!1})}}))}},{key:"render",value:function(){var e=this,t={labels:this.state.issuerLabels,datasets:[{label:"By Issuers",fill:!1,bezierCurve:!1,lineTension:0,backgroundColor:ES,borderColor:"rgb(106, 115, 123)",borderWidth:1,data:this.state.issuerAmts}]},a={labels:this.state.investorLabels,datasets:[{label:"By Investors",legend:!1,fill:!1,bezierCurve:!1,lineTension:0,backgroundColor:ES,borderColor:"rgb(106, 115, 123)",borderWidth:1,data:this.state.investorAmts}]},s={};return this.state.regionGraph&&(this.state.regionGraph&&this.state.regionGraph.forEach((function(e,t){s[e.countryCode]=e.countryExposure})),OS=s),Object(u.jsx)(u.Fragment,{children:!1===this.state.isLoading?Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[Fd,Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsx)(H.a,{children:Object(u.jsxs)(ai.a,{children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Issuers by Country"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{children:Object(u.jsx)("div",{style:{height:"250px"},children:Object(u.jsx)(DS.VectorMap,{map:"world_mill",backgroundColor:(this.props.uh||this.props.bg,"#d5d5d6"),zoomOnScroll:!1,zoomButtons:!1,containerStyle:{width:"100%",height:"100%"},onRegionTipShow:this.handleshow2,onRegionClick:this.handleClick,containerClassName:"map",id:"vcmap",regionStyle:{initial:{fill:"#cdac81","fill-opacity":.9,stroke:"none","stroke-width":0,"stroke-opacity":0},hover:{"fill-opacity":.8,cursor:"pointer"},selected:{fill:"#2938bc"},selectedHover:{}},series:{regions:[{values:OS,scale:RS,normalizeFunction:"polynomial"}]}})})}),Object(u.jsx)(W.a,{children:Object(u.jsx)("div",{className:"row p3 brd-btm mb-1 fo2table",children:Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Country"}),Object(u.jsx)("th",{children:"Outstandings"})]})}),Object(u.jsx)("tbody",{children:this.state.countryIssuerAmountJson.map((function(t,a){if(0!==a)return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-left",children:AS(t[0])}),Object(u.jsx)("td",{className:"text-right",children:e.numberWithCommas(t[1])})]})}))})]})})})]})})]})}),Object(u.jsx)(H.a,{className:"mt-2",children:Object(u.jsxs)(ai.a,{children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"By Issuers"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{children:Object(u.jsx)(MN,{data:t,height:40})}),Object(u.jsx)(W.a,{children:Object(u.jsx)("div",{className:"row p3 brd-btm mb-1 fo2table",children:Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Issuers"}),Object(u.jsx)("th",{children:"Outstandings"})]})}),Object(u.jsx)("tbody",{children:this.state.issuerLabels.map((function(t,a){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-left",children:t}),Object(u.jsx)("td",{className:"text-right",children:e.numberWithCommas(e.state.issuerAmts[a])})]})}))})]})})})]})})]})}),Object(u.jsx)(H.a,{className:"mt-2",children:Object(u.jsxs)(ai.a,{children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"By Investors"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{children:Object(u.jsx)(FN,{fromPage:"DASHBOARD",data:a})}),Object(u.jsx)(W.a,{children:Object(u.jsx)("div",{className:"row p3 brd-btm mb-1 fo2table",children:Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Investor"}),Object(u.jsx)("th",{children:"Outstandings"})]})}),Object(u.jsx)("tbody",{children:this.state.investorLabels.map((function(t,a){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-left",children:t}),Object(u.jsx)("td",{className:"text-right",children:e.numberWithCommas(e.state.investorAmts[a])})]})}))})]})})})]})})]})}),Object(u.jsx)(H.a,{className:"mt-2",children:Object(u.jsxs)(ai.a,{children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Issuers Holdings By Country"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{children:Object(u.jsx)(NS,{issuerCountryData:this.state.issuerCountryData,issuerCountryList:this.state.issuerCountryList,height:100})}),Object(u.jsx)(W.a,{children:Object(u.jsx)("div",{className:"row p3 brd-btm mb-1 fo2table",children:Object(u.jsx)(MS,{issuerCountryData:this.state.issuerCountryData,issuerCountryList:this.state.issuerCountryList})})})]})})]})})]})]}):Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{style:{textAlign:"center"},children:Object(u.jsx)(Fb,{})})})})}}]),a}(o.a.Component);function PS(e,t,a){var s=[];return Object.keys(t).map((function(e){var n={dataField:e,text:t[e],align:"rateDate"===e?"left":"rateType"===e?"center":"right",formatter:a&&a.spanComponent};return s.push(n),""})),s}var BS=[];BS.rateDate="Date",BS.rate="Rate (%)",BS.percentile1="1st Percentile (%)",BS.percentile25="25th Percentile (%)",BS.percentile75="75th Percentile (%)",BS.percentile99="99th Percentile (%)",BS.volume="Volume ($Billions)";var LS=[];LS.rateDate="Date",LS.rate="1 Week (%)",LS.percentile1="1 Month (%)",LS.percentile25="3 Months (%)",LS.percentile75="6 Months (%)",LS.percentile99="12 Months (%)";var _S=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"mt-1",children:[this.props.gridData.length>0&&Object(u.jsx)(Yb,{cprops:BS,mapdata:this.props.gridData,edit:!1,wsUrl:!1,mappings:PS,keyField:"rowId",screenName:"RATESREPORT",subTitle:"SOFR"}),this.props.gridData.length>0&&Object(u.jsx)("div",{className:"mt-2",children:Object(u.jsx)(RN,{data:this.props.chartData})})]})}}]),a}(o.a.Component),US=_S,VS=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"mt-1",children:[this.props.gridData.length>0&&Object(u.jsx)(Yb,{cprops:BS,mapdata:this.props.gridData,edit:!1,wsUrl:!1,mappings:PS,keyField:"rowId",screenName:"RATESREPORT",subTitle:"Fed Fund"}),this.props.gridData.length>0&&Object(u.jsx)("div",{className:"mt-2",children:Object(u.jsx)(RN,{data:this.props.chartData})})]})}}]),a}(o.a.Component),YS=VS,HS=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"mt-1",children:[this.props.gridData.length>0&&Object(u.jsx)(Yb,{cprops:BS,mapdata:this.props.gridData,edit:!1,wsUrl:!1,mappings:PS,keyField:"rowId",screenName:"RATESREPORT",subTitle:"OBFR"}),this.props.gridData.length>0&&Object(u.jsx)("div",{className:"mt-2",children:Object(u.jsx)(RN,{data:this.props.chartData})})]})}}]),a}(o.a.Component),WS=HS,qS=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).spanComponent=s.spanComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"spanComponent",value:function(e,t,a){return Object(u.jsx)(u.Fragment,{children:void 0!==e&&0===e.toString().indexOf("-")?Object(u.jsxs)("div",{className:"text-right text-danger",children:["(",e.toString().replace("-",""),")"]}):Object(u.jsx)("div",{className:"text-right",children:e})})}},{key:"render",value:function(){var e={};return e.spanComponent=this.spanComponent,Object(u.jsxs)("div",{className:"mt-1",children:[this.props.gridData.length>0&&Object(u.jsx)(Yb,{cprops:LS,mapdata:this.props.gridData,edit:!1,wsUrl:!1,mappings:PS,keyField:"rowId",customComponents:e,screenName:"RATESREPORT",subTitle:"EURIBOR"}),this.props.gridData.length>0&&Object(u.jsx)("div",{className:"mt-2",children:Object(u.jsx)(RN,{data:this.props.chartData})})]})}}]),a}(o.a.Component),zS=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).onDateChange=function(e,t){var a="";if("fromDate"===t){var n=new Date;n=Yu(s.state.toDate,"MM/DD/YYYY"),Yu(e,"MM/DD/YYYY")>=n&&(a="From Date should be less than To Date ")}if("toDate"===t){var o=new Date;o=Yu(s.state.fromDate,"MM/DD/YYYY"),Yu(e,"MM/DD/YYYY")<=o&&(a="To Date Should be Greater than From Date")}if(a)return s.setState({actionTitle:"Alert",actionMessage:a,showError:!0}),!1;s.setState({reportData:[],dateListJson:[],rateListJson:[],percent1ListJson:[],percent25ListJson:[],percent75ListJson:[],percent99ListJson:[]});var i={};"fromDate"===t?(s.setState({fromDate:e}),i.fromDate=Yu(e,"M/D/YY"),i.toDate=Yu(s.state.toDate,"M/D/YY")):"toDate"===t&&(i.fromDate=Yu(s.state.fromDate,"M/D/YY"),i.toDate=Yu(e,"M/D/YY"),s.setState({toDate:e})),i.rateType=s.state.heading,w()({method:"POST",url:N.URL+Tc,timeout:N.apiTimeOut,data:i,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.fromDate&&s.setState({fromDate:e.data.fromDate}),e.data.toDate&&s.setState({toDate:e.data.toDate}),e.data.ratesList&&s.setState({reportData:e.data.ratesList}),e.data.dateListJson&&s.setState({dateListJson:e.data.dateListJson}),e.data.rateListJson&&s.setState({rateListJson:e.data.rateListJson}),e.data.percent1ListJson&&s.setState({percent1ListJson:e.data.percent1ListJson}),e.data.percent25ListJson&&s.setState({percent25ListJson:e.data.percent25ListJson}),e.data.percent75ListJson&&s.setState({percent75ListJson:e.data.percent75ListJson}),e.data.percent99ListJson&&s.setState({percent99ListJson:e.data.percent99ListJson})),s.setState({isLoading:!0})}))},s.hideError=function(){s.setState({showError:!1})},s.state={cmodal:!0,heading:"SOFR",data:{},fromDate:new Date,toDate:new Date,reportData:[],dateListJson:[],rateListJson:[],percent1ListJson:[],percent25ListJson:[],percent75ListJson:[],percent99ListJson:[],isLoading:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.handleSelect=s.handleSelect.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===ur&&this.setState({cmodal:!0,isLoading:!0})}},{key:"handleSelect",value:function(e){var t=this;this.setState({heading:e,reportData:[],dateListJson:[],rateListJson:[],percent1ListJson:[],percent25ListJson:[],percent75ListJson:[],percent99ListJson:[],isLoading:!1}),w()({method:"POST",url:N.URL+Tc,timeout:N.apiTimeOut,data:{rateType:e,fromDate:Yu(this.state.fromDate,"M/D/YY"),toDate:Yu(this.state.toDate,"M/D/YY")},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.fromDate&&t.setState({fromDate:e.data.fromDate}),e.data.toDate&&t.setState({toDate:e.data.toDate}),e.data.ratesList&&t.setState({reportData:e.data.ratesList}),e.data.dateListJson&&t.setState({dateListJson:e.data.dateListJson}),e.data.rateListJson&&t.setState({rateListJson:e.data.rateListJson}),e.data.percent1ListJson&&t.setState({percent1ListJson:e.data.percent1ListJson}),e.data.percent25ListJson&&t.setState({percent25ListJson:e.data.percent25ListJson}),e.data.percent75ListJson&&t.setState({percent75ListJson:e.data.percent75ListJson}),e.data.percent99ListJson&&t.setState({percent99ListJson:e.data.percent99ListJson}))})),this.setState({heading:e,isLoading:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"componentDidMount",value:function(){var e=this;w()({method:"POST",url:N.URL+Tc,timeout:N.apiTimeOut,data:{rateType:this.state.heading,fromDate:"5/1/22",toDate:Yu(this.state.toDate,"M/D/YY")},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&(t.data.fromDate&&e.setState({fromDate:t.data.fromDate}),t.data.toDate&&e.setState({toDate:t.data.toDate}),t.data.ratesList&&e.setState({reportData:t.data.ratesList}),t.data.dateListJson&&e.setState({dateListJson:t.data.dateListJson}),t.data.rateListJson&&e.setState({rateListJson:t.data.rateListJson}),t.data.percent1ListJson&&e.setState({percent1ListJson:t.data.percent1ListJson}),t.data.percent25ListJson&&e.setState({percent25ListJson:t.data.percent25ListJson}),t.data.percent75ListJson&&e.setState({percent75ListJson:t.data.percent75ListJson}),t.data.percent99ListJson&&e.setState({percent99ListJson:t.data.percent99ListJson})),e.setState({isLoading:!0})}))}},{key:"render",value:function(){var e=this,t={labels:this.state.dateListJson,datasets:[{label:"EURIBOR"===this.state.heading?"1 Week":"Rate",data:this.state.rateListJson,fill:!1,backgroundColor:"rgb(0, 164, 228)",borderColor:"rgb(0, 164, 228)",borderWidth:1}]};return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsxs)("strong",{className:"cursor",children:[Object(u.jsx)("div",{className:"d-inline-block col-md-2",children:this.props.linkname&&this.props.linkname}),Object(u.jsx)("div",{className:"d-inline-block float-right cross",onClick:this.closemodel,children:"X"})]})}),Object(u.jsx)(ai.a.Body,{children:!0===this.state.isLoading?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(H.a,{className:"mb-2",children:Object(u.jsxs)(W.a,{className:"pl-0",children:[Object(u.jsx)(W.a,{xs:"auto",className:"d-inline-block",children:Object(u.jsx)(ni,{label:po,id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromDate",fromDate:void 0!==this.state.fromDate?new Date(this.state.fromDate):new Date,fromDateFlg:!0,onchange:this.onDateChange})}),Object(u.jsx)(W.a,{xs:"auto",className:"d-inline-block",children:Object(u.jsx)(ni,{label:jo,id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"toDate",toDate:void 0!==this.state.toDate?new Date(this.state.toDate):new Date,toDateFlg:!0,onchange:this.onDateChange})})]})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{className:"d-inline-block p-0",children:Object(u.jsxs)(hb.a,{defaultActiveKey:"SOFR",onSelect:this.handleSelect,transition:!1,id:"noanim-tab-example",children:[Object(u.jsx)(ei.a,{eventKey:"SOFR",title:"SOFR",children:"SOFR"===this.state.heading&&Object(u.jsx)(US,{gridData:this.state.reportData,chartData:t})}),Object(u.jsx)(ei.a,{eventKey:"EFFR",title:"Fed Fund",children:"EFFR"===this.state.heading&&Object(u.jsx)(YS,{gridData:this.state.reportData,chartData:t})}),Object(u.jsx)(ei.a,{eventKey:"OBFR",title:"OBFR",children:"OBFR"===this.state.heading&&Object(u.jsx)(WS,{gridData:this.state.reportData,chartData:t})}),Object(u.jsx)(ei.a,{eventKey:"EURIBOR",title:"EURIBOR",children:"EURIBOR"===this.state.heading&&Object(u.jsx)(qS,{gridData:this.state.reportData,chartData:t})})]})})})}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]}):""})]})})}}]),a}(o.a.Component),GS=[];function KS(e,t,a,s){var n=[];return Object.keys(t).map((function(s){return Object.keys(e[0]).map((function(e){var o;e===s&&(t[e]&&(o=a&&"buySellFlag"===e?{dataField:e,text:t[e],formatter:a.imgComponent}:!a||"approvedCount"!==e&&"totalCount"!==e&&"rejectedCount"!==e&&"pendingCount"!==e?"amount"===e?{dataField:e,text:t[e],formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:e,text:t[e],editable:!1}:{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.reportMapComponent(t,s,n,o,e)}},n.push(o)));return""})),""})),n}GS.venue="Venue",GS.totalCount="Total Trades",GS.approvedCount="Approved Trades",GS.rejectedCount="Rejected Trades",GS.pendingCount="Pending Trades",GS.amount="Total Volumne",GS.buySellFlag="B/S",GS.traderLoginName="Booked By";var ZS={},JS=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).venueChange=function(e){var t,a={};s.setState((t={},Object(g.a)(t,e.target.id,e.target.value),Object(g.a)(t,"columns",[]),Object(g.a)(t,"reportData",[]),Object(g.a)(t,"isLoading",!1),t)),a[e.target.id]=e.target.value,a.fromDate=s.state.fromDate,a.toDate=s.state.toDate,a.venueCode=e.target.value,w()({method:"POST",url:N.URL+Ic,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){if(e.data&&(e.data.fromDate&&s.setState({fromDate:e.data.fromDate}),e.data.toDate&&s.setState({toDate:e.data.toDate}),e.data.ratesList)){var t={},a=[];e.data.ratesList.map((function(e,s){0===s&&(t=e),t.venue===e.venue?(0===e.approvedCount.trim().length&&(e.approvedCount=t.approvedCount),0===e.rejectedCount.trim().length&&(e.rejectedCount=t.rejectedCount),0===e.pendingCount.trim().length&&(e.pendingCount=t.pendingCount)):a.push(t),t=e})),e.data.ratesList.length>0&&a.push(t),s.setState({reportData:a}),a.length>0&&e.data.ratesList.length>0&&s.setState({columns:KS(a,GS,ZS)})}s.setState({isLoading:!0})}))},s.getDefaultValues=function(e,t){s.setState({venueCode:e})},s.openModal=function(e,t){"totalCount"===t&&s.setState({status:"All"}),"approvedCount"===t&&s.setState({status:"A"}),"rejectedCount"===t&&s.setState({status:"R"}),"pendingCount"===t&&s.setState({status:"P"}),s.setState({venue:e.venue,modalData:e,matDate:t,showModal:!0})},s.hideError=function(){s.setState({showError:!1})},s.state={cmodal:!0,heading:"SOFR",data:{},fromDate:new Date,toDate:new Date,reportData:[],columns:[],venueCode:"",isLoading:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.imgComponent=s.imgComponent.bind(Object(O.a)(s)),s.reportMapComponent=s.reportMapComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!1}),w()({method:"POST",url:N.URL+Ic,timeout:N.apiTimeOut,data:{venueCode:"All",fromDate:Yu(this.state.fromDate,"M/D/YY"),toDate:Yu(this.state.toDate,"M/D/YY")},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){var a=[],s=[];if(t.data){if(t.data.ratesList){if(t.data.ratesList){var n={};t.data.ratesList.map((function(e,t){0===t&&(n=e),n.venue===e.venue?(0===e.approvedCount.trim().length&&(e.approvedCount=n.approvedCount),0===e.rejectedCount.trim().length&&(e.rejectedCount=n.rejectedCount),0===e.pendingCount.trim().length&&(e.pendingCount=n.pendingCount)):a.push(n),n=e})),t.data.ratesList.length>0&&a.push(n)}a.length>0&&t.data.ratesList.length>0&&(s=KS(a,GS,ZS))}e.setState({reportData:a,columns:s,toDate:void 0===t.data.toDate?"":t.data.toDate,fromDate:void 0===t.data.fromDate?"":t.data.fromDate,isLoading:!0})}}))}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Bd&&this.setState({cmodal:!0})}},{key:"onDateChange",value:function(e,t){var a=this;this.setState({isLoading:!1});var s={};if("fromDate"===t){var n=new Date;n=Yu(this.state.toDate,"MM/DD/YYYY"),Yu(e,"MM/DD/YYYY")>n?this.setState({actionTitle:"Alert",actionMessage:"From Date should be less than To Date ",showError:!0}):(this.setState({fromDate:e}),s.fromDate=Yu(e,"M/D/YY"),s.toDate=this.state.toDate,s.venueCode=this.state.venueCode)}else if("toDate"===t){var o=new Date;o=Yu(this.state.fromDate,"MM/DD/YYYY"),Yu(e,"MM/DD/YYYY")<o?this.setState({actionTitle:"Alert",actionMessage:"To Date Should be Greater than From Date",showError:!0}):(s.fromDate=this.state.fromDate,s.toDate=Yu(e,"M/D/YY"),this.setState({toDate:e}),s.venueCode=this.state.venueCode)}w()({method:"POST",url:N.URL+Ic,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){if(e.data){if(e.data.fromDate&&a.setState({fromDate:e.data.fromDate}),e.data.toDate&&a.setState({toDate:e.data.toDate}),e.data.ratesList){var t={},s=[];e.data.ratesList.map((function(e,a){0===a&&(t=e),t.venue===e.venue?(0===e.approvedCount.trim().length&&(e.approvedCount=t.approvedCount),0===e.rejectedCount.trim().length&&(e.rejectedCount=t.rejectedCount),0===e.pendingCount.trim().length&&(e.pendingCount=t.pendingCount)):s.push(t),t=e})),e.data.ratesList.length>0&&s.push(t),a.setState({reportData:s}),s.length>0&&e.data.ratesList.length>0&&a.setState({columns:KS(s,GS,ZS)})}a.setState({isLoading:!0})}}))}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"imgComponent",value:function(e){return"S"===e?Object(u.jsx)("img",{src:Fo,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,alt:e,width:"24px"}):void 0}},{key:"hideModal",value:function(){this.setState({showModal:!1,matDate:"",modalData:""})}},{key:"reportMapComponent",value:function(e,t,a,s,n){var o=this;return"0"!==e?Object(u.jsx)("div",{className:"dispFlex",children:Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:function(e){return o.openModal(t,n)},children:e},a)}):e}},{key:"render",value:function(){var e=this;return ZS.imgComponent=this.imgComponent,ZS.reportMapComponent=this.reportMapComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsxs)("strong",{className:"cursor",children:[Object(u.jsx)("div",{className:"d-inline-block col-md-2",children:this.props.linkname&&this.props.linkname}),Object(u.jsx)("div",{className:"d-inline-block float-right cross",onClick:this.closemodel,children:"X"})]})}),Object(u.jsxs)(ai.a.Body,{children:[this.state.isLoading?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:"auto",className:"d-inline-block",children:Object(u.jsx)(ni,{label:Tn,id:"lbl_venue"})}),Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Mc,reqParams:{All:"true"},onchange:this.venueChange,selected:this.state.venueCode,stateMethod:this.getDefaultValues,id:"venueCode"})}),Object(u.jsx)(W.a,{xs:"auto",className:"d-inline-block",children:Object(u.jsx)(ni,{label:po,id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:2,className:"d-inline-block hhhhhhh",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:new Date(this.state.fromDate),id:"fromDate",className:"txtbbbb",fromDateFlg:!0,onchange:function(t){e.onDateChange(t,"fromDate")}})}),Object(u.jsx)(W.a,{xs:"auto",className:"d-inline-block",children:Object(u.jsx)(ni,{label:jo,id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",id:"toDate",toDate:new Date(this.state.toDate),toDateFlg:!0,onchange:function(t){e.onDateChange(t,"toDate")}})})]})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:Object(u.jsxs)(W.a,{className:"d-inline-block p-0",children:[this.state.reportData.length>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"text-right mb-4 mr-2",children:Object(u.jsx)(Vb,{tableColumns:this.state.columns,tableData:this.state.reportData,screenTitle:"METRICSBYVENUE",subTitle:""})}),Object(u.jsx)("div",{style:{width:"100%"},children:Object(u.jsx)(Z.a,{data:this.state.reportData,keyField:"rowNo",columns:this.state.columns,striped:!0,hover:!0,wrapperClasses:"fo2table table-responsive"})})]}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."}),Object(u.jsx)(gx,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Metrics By Venue",prodType:Zh,modalData:this.state.modalData,matDate:this.state.matDate,fromDate:this.state.fromDate,toDate:this.state.toDate,venue:this.state.venue,status:this.state.status,venueFlag:!0})]})})})]}):Object(u.jsx)(Fb,{}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})]})})}}]),a}(o.a.Component),QS=[];QS.productType=is,QS.issuerId=Vt,QS.issuerName=Jt,QS.amount=de,QS.originalSettlementDate=Ts,QS.maturityDate=la,QS.rate=es,QS.createdBy=Ns;var XS=a(100);function $S(e,t,a,s){var n=[];return Object.keys(t).map((function(a){return Object.keys(e[0]).map((function(e){var s;e===a&&(t[e]&&(s=e===re?{dataField:e,text:t[e],formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:e,text:t[e],editable:!1},n.push(s)));return""})),""})),n}var ew=a(145);function tw(e){e.children;var t=e.eventKey,a=e.callback,s=Object(n.useContext)(XS.a);Object(ew.b)(t,(function(){return a&&a(t)}));return s===t?Object(u.jsx)(B.t,{className:"mr-2"}):Object(u.jsx)(B.v,{className:"mr-2"})}var aw=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.data;return Object(u.jsx)(u.Fragment,{children:e&&0!==Object.keys(e).length?Object(u.jsx)(ti.a,{children:e&&Object.keys(e).map((function(t,a){return Object(u.jsxs)(ai.a,{className:"mt-1",children:[Object(u.jsx)(ti.a.Toggle,{as:ai.a.Header,className:"p-1",eventKey:a+"",children:Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(tw,{eventKey:a+""}),t]}),Object(u.jsxs)(W.a,{className:"text-right",children:["$ ",Lo(e[t][0].availableAmount)]})]})}),Object(u.jsx)(ti.a.Collapse,{eventKey:a+"",children:Object(u.jsx)(ai.a.Body,{className:"p-1",children:Object(u.jsx)(Z.a,{data:e[t],keyField:"rowNo",columns:$S(e[t],QS),striped:!0,hover:!0,wrapperClasses:"fo2table table-responsive"})})})]})}))}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."})})}}]),a}(o.a.Component),sw=aw,nw=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).onChange=function(e){var t,a={};s.setState((t={},Object(g.a)(t,e.target.id,e.target.value),Object(g.a)(t,"isLoading",!1),Object(g.a)(t,"reportData",[]),t)),"issueId"===e.target.id?(a.issueId=e.target.value,a.issuerId=s.state.issuerId):"issuerId"===e.target.id&&(a.issueId=s.state.issueId,a.issuerId=e.target.value),a.startDate=s.state.fromDate,a.endDate=s.state.toDate,w()({method:"POST",url:N.URL+Rc,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.issueId&&s.setState({issueId:e.data.issueId}),e.data.issuerId&&s.setState({issuerId:e.data.issuerId}),e.data.startDate&&s.setState({fromDate:e.data.startDate}),e.data.endDate&&s.setState({toDate:e.data.endDate}),e.data.acctMaturityDataMap&&s.setState({reportData:e.data.acctMaturityDataMap}),s.setState({isLoading:!0}))}))},s.onDateChange=function(e,t){var a={},n=!1;if(s.setState({isLoading:!1}),"fromDate"===t){var o=new Date;o=Yu(s.state.toDate,"MM/DD/YYYY"),Yu(e,"MM/DD/YYYY")>o?s.setState({actionTitle:"Alert",actionMessage:"From Date should be less than To Date ",showError:!0}):(s.setState({fromDate:e}),a.fromDate=Yu(e,"M/D/YY"),a.toDate=s.state.toDate,a.issueId=s.state.issueId,a.issuerId=s.state.issuerId,n=!0)}if("toDate"===t){var i=new Date;i=Yu(s.state.fromDate,"MM/DD/YYYY"),Yu(e,"MM/DD/YYYY")<i?s.setState({actionTitle:"Alert",actionMessage:"To Date Should be Greater than From Date",showError:!0}):(a.fromDate=s.state.fromDate,a.toDate=Yu(e,"M/D/YY"),s.setState({toDate:e}),a.issueId=s.state.issueId,a.issuerId=s.state.issuerId,n=!0)}n&&w()({method:"POST",url:N.URL+Rc,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.issueId&&s.setState({issueId:e.data.issueId}),e.data.issuerId&&s.setState({issuerId:e.data.issuerId}),e.data.startDate&&s.setState({fromDate:e.data.startDate}),e.data.endDate&&s.setState({toDate:e.data.endDate}),e.data.acctMaturityDataMap&&s.setState({reportData:e.data.acctMaturityDataMap}),s.setState({isLoading:!0}))}))},s.hideError=function(){s.setState({showError:!1})},s.state={cmodal:!0,issuerId:"",issueId:"",fromDate:new Date,toDate:new Date},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!1}),w()({method:"POST",url:N.URL+Rc,timeout:N.apiTimeOut,data:{countryCode:""===this.state.countryCode?"ALL":this.state.countryCode},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&(t.data.issueId&&e.setState({issueId:t.data.issueId}),t.data.issuerId&&e.setState({issuerId:t.data.issuerId}),t.data.startDate&&e.setState({fromDate:t.data.startDate}),t.data.endDate&&e.setState({toDate:t.data.endDate}),t.data.acctMaturityDataMap&&e.setState({reportData:t.data.acctMaturityDataMap}),e.setState({isLoading:!0}))}))}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Ld&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"render",value:function(){var e=this;return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"View By",id:"lbl_viewby"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:"/getViewByInfo",reqParams:{},onchange:this.onChange,selected:this.state.issueId,id:"issueId"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:"ISSUER"===this.state.issueId?Object(u.jsx)(ni,{label:"Issuer",id:"lbl_issuer"}):Object(u.jsx)(ni,{label:"Investor",id:"lbl_investor"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:"/investorIssuer",reqParams:{viewId:this.state.issueId},onchange:this.onChange,selected:this.state.issuerId,id:"issuerId"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:new Date(this.state.fromDate),id:"fromDate",fromDateFlg:!0,onchange:function(t){e.onDateChange(t,"fromDate")}})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"toDate",id:"toDate",toDate:new Date(this.state.toDate),toDateFlg:!0,onchange:function(t){e.onDateChange(t,"toDate")}})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(sw,{data:this.state.reportData})}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})]})})}}]),a}(o.a.Component),ow=[];function iw(e,t,a,s){var n=[];return Object.keys(t).map((function(a){return Object.keys(e[0]).map((function(e){var s;e===a&&(t[e]&&(s="issuerAmount"===e?{dataField:e,text:t[e],formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:e,text:t[e],editable:!1},n.push(s)));return""})),""})),n}ow.ticketNumber=dn,ow.tickerCode=cn,ow.issuerName=Kt,ow.prodCode=is,ow.issuerAmount=Za,ow.tradeDate=$s,ow.settleDate=Ms,ow.maturityDate=da,ow.bookName=Se,ow.source=Gs;var lw=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).onChange=function(e){var t,a={};s.setState((t={},Object(g.a)(t,e.target.id,e.target.value),Object(g.a)(t,"isLoading",!1),t)),a.fromDate=Yu(s.state.fromDate,"M/D/YYYY"),a.toDate=Yu(s.state.toDate,"M/D/YYYY"),w()({method:"POST",url:N.URL+Fc,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data&&s.setState({reportData:e.data}),s.setState({isLoading:!0}))}))},s.onDateChange=function(e,t){var a={};s.setState({isLoading:!1}),"fromDate"===t?(s.setState({fromDate:e}),a.fromDate=Yu(e,"M/D/YY"),a.toDate=Yu(s.state.toDate,"M/D/YY")):"toDate"===t&&(a.fromDate=Yu(s.state.fromDate,"M/D/YY"),a.toDate=Yu(e,"M/D/YY"),s.setState({toDate:e})),w()({method:"POST",url:N.URL+Fc,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data&&s.setState({reportData:e.data}),s.setState({isLoading:!0}))}))},s.state={cmodal:!0,fromDate:new Date,toDate:new Date,reportData:[],columns:[],isLoading:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!1}),w()({method:"POST",url:N.URL+Fc,timeout:N.apiTimeOut,data:{fromDate:""!==this.state.fromDate&&Yu("5/16/22","M/D/YY"),toDate:""!==this.state.toDate&&Yu("5/30/22","M/D/YY")},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&(t.data&&(e.setState({reportData:t.data}),t.data.length>0&&e.setState({columns:iw(t.data,ow)})),e.setState({isLoading:!0}))}))}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===kr&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsx)(ai.a.Body,{children:this.state.isLoading?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromDate",fromDate:this.state.fromDate,fromDateFlg:!0,onchange:this.onDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"toDate",toDate:this.state.toDate,toDateFlg:!0,onchange:this.onDateChange})})]})]}),this.state.columns.length>0&&Object(u.jsx)(W.a,{className:"text-right pdAd",children:Object(u.jsx)(Vb,{tableColumns:this.state.columns,tableData:this.state.reportData,screenTitle:"PENDINGCUSIPTARDES",subTitle:""})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{className:"d-inline-block p-0",children:this.state.columns.length>0?Object(u.jsx)("div",{style:{width:"100%"},children:Object(u.jsx)(Z.a,{data:this.state.reportData,keyField:"rowNo",columns:this.state.columns,striped:!0,hover:!0,wrapperClasses:"fo2table table-responsive"})}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."})})})})]}):Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})})})]})})}}]),a}(o.a.Component),cw=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,book:"",ticker:"",bookId:"",tickerId:"",payload:{},screenName:"Offerings"},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.goBack=s.goBack.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.linkname!==e.linkname&&"Grid Report"===this.props.linkname&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"goBack",value:function(){(0,this.props.returnMethod)()}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:lv,apiCall:Lc,wsUrl:!1,reqParams:{issueId:"75769987",productType:Jh},edit:!0,mappings:$O,keyField:"issueId"})})}),Object(u.jsx)(ai.a.Footer,{children:Object(u.jsx)(W.a,{className:"d-inline-block text-center",children:Object(u.jsx)(D.a,{size:"sm",onClick:this.goBack,children:"Return"})})})]})})}}]),a}(o.a.Component),rw={},dw=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).msgTimeOut=function(e){setTimeout((function(){s.setState({responseMessage:"",updateData:!1})}),5e3),s.setState({updateData:!0})},s.state={cmodal:!0,book:"",ticker:"",bookId:"",tickerId:"",screenName:"Offerings",issueId:"",issuerId:"",selectedBookId:"",responseMessage:"",actionTitle:{},actionMessage:{},alertShow:!1,actionFlag:"",mapData:[],showError:!1,updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.newCommitment=s.newCommitment.bind(Object(O.a)(s)),s.bookChange=s.bookChange.bind(Object(O.a)(s)),s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.checkBoxComponent=s.checkBoxComponent.bind(Object(O.a)(s)),s.onCheckboxClick=s.onCheckboxClick.bind(Object(O.a)(s)),s.offerTextBoxComponent=s.offerTextBoxComponent.bind(Object(O.a)(s)),s.limitTextBoxComponent=s.limitTextBoxComponent.bind(Object(O.a)(s)),s.actionComponent=s.actionComponent.bind(Object(O.a)(s)),s.onOfferChange=s.onOfferChange.bind(Object(O.a)(s)),s.onLimitChange=s.onLimitChange.bind(Object(O.a)(s)),s.editCommitment=s.editCommitment.bind(Object(O.a)(s)),s.convert=s.convert.bind(Object(O.a)(s)),s.noWebSocket=s.noWebSocket.bind(Object(O.a)(s)),s.returnMethod=s.returnMethod.bind(Object(O.a)(s)),s.onAmountKey=s.onAmountKey.bind(Object(O.a)(s)),s.openAlert=s.openAlert.bind(Object(O.a)(s)),s.hideAlert=s.hideAlert.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s.getDefaultBookValues=s.getDefaultBookValues.bind(Object(O.a)(s)),s.getDefaultTickerValues=s.getDefaultTickerValues.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Lr&&this.setState({cmodal:!0,updateData:!1})}},{key:"componentDidMount",value:function(){var e=this;w()({method:"POST",url:N.URL+ac,timeout:N.apiTimeOut,data:{productType:Jh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({message:t.data,updateData:!0})}))}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1}),this.props.onRemove(this.props.linkname)}},{key:"newCommitment",value:function(){void 0===this.state.message||""===this.state.message?this.setState({screenName:"NEW",updateData:!1}):this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"bookChange",value:function(e){this.setState({responseMessage:"",bookId:e.target.value,updateData:!0})}},{key:"tickerChange",value:function(e){var t=document.getElementById("ticker"),a=t.options[t.selectedIndex].text;"All Tickers"===a&&(a="All"),this.setState({responseMessage:"",ticker:a,tickerId:e.target.value,updateData:!0})}},{key:"onCheckboxClick",value:function(e,t,a,s){void 0===this.state.message||""===this.state.message?(rw={ticker:a.ticker,issueId:e,bookId:a.bookId,offer:Po(a.offer),offerRate:Po(document.getElementById("offer"+t).value),offeringlimit:Po(document.getElementById("limit"+t).value)},s.target.checked&&this.setState({actionTitle:rm,actionMessage:hm,alertShow:!0,actionFlag:"DELETE",updateData:!1})):this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"onOfferChange",value:function(e,t,a,s,n){!1===Bo(e.target.value,"1234567890.")?(this.setState({actionTitle:"Alert",actionMessage:Vm,showError:!0,updateData:!1}),e.target.value=a,e.target.focus()):(_o(e),rw={ticker:s.ticker,issueId:t,bookId:s.bookId,offer:Po(s.offer),offerRate:Po(e.target.value),offeringlimit:Po(document.getElementById("limit"+n).value)})}},{key:"onLimitChange",value:function(e,t,a,s,n){!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?(this.setState({actionTitle:"Alert",actionMessage:Um,showError:!0,updateData:!1}),e.target.value=a,e.target.value>0&&e.target.focus()):(Uo(e),rw={ticker:s.ticker,issueId:t,bookId:s.bookId,offer:Po(s.offer),offerRate:Po(document.getElementById("offer"+n).value),offeringlimit:Po(e.target.value)})}},{key:"fieldComponent",value:function(e,t,a,s){var n=s.colId;return"0000"===t.refIssueId||"Issuer"===n||"SD"===n||"Range"===n?"Offer Quant($m)"===n?Lo(e):e:void 0}},{key:"checkBoxComponent",value:function(e,t,a,s){var n=this,o="issueId"+a;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(s){n.onCheckboxClick(e,a,t,s)}})})}},{key:"offerTextBoxComponent",value:function(e,t,a,s){var n=this,o="offer"+a;return Object(u.jsx)(Eu,{name:o,id:o,value:e,onBlur:function(e){n.onOfferChange(e,t.issueId,t.offer,t,a)},onKeyPress:function(e){n.onAmountKey(e,t.issueId,"Offer",t,a)},className:"text-right"})}},{key:"limitTextBoxComponent",value:function(e,t,a,s){var n=this,o="limit"+a;return e=Lo(e),"0000"===t.refIssueId?Object(u.jsx)(Eu,{name:o,id:o,value:e,onBlur:function(e){n.onLimitChange(e,t.issueId,t.offeringlimit,t,a)},onKeyPress:function(e){n.onAmountKey(e,t.issueId,"Limit",t,a)},className:"text-right"}):void 0}},{key:"actionComponent",value:function(e,t,a,s){var n=this;if("0000"===t.refIssueId)return Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{className:"btn btn-link",id:"edit"+a,onClick:function(){n.editCommitment(e)},style:{marginRight:"0.5em",marginLeft:"1em"},children:Object(u.jsx)("img",{src:"/omsservice/images/edit-icon.png",alt:"edit"})}),Object(u.jsx)("button",{className:"btn btn-link",id:"convert"+a,onClick:function(){n.convert(e,t.programId,t.bookId)},style:{marginRight:"0.5em"},children:Object(u.jsx)("img",{src:"/omsservice/images/convert-icon.png",alt:"convert"})})]},a)}},{key:"editCommitment",value:function(e){void 0===this.state.message||""===this.state.message?this.setState({screenName:"Edit",issueId:e,updateData:!1}):this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"convert",value:function(e,t,a){void 0===this.state.message||""===this.state.message?this.setState({screenName:"Convert",issueId:e,issuerId:t,selectedBookId:a,updateData:!1}):this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"noWebSocket",value:function(e){this.setState({screenName:"NoWebSocket",issueId:e,updateData:!1})}},{key:"returnMethod",value:function(e){this.msgTimeOut(),"BACK"===e?this.setState({screenName:"Offerings",responseMessage:"",updateData:!0,bookId:""}):this.setState({screenName:"Offerings",responseMessage:e,updateData:!0})}},{key:"onAmountKey",value:function(e,t,a,s,n){if(void 0===this.state.message||""===this.state.message){var o=this.state;o.bookId,o.ticker;if("Enter"===e.key){var i,l=!0;0!==(rw={ticker:s.ticker,issueId:t,bookId:s.bookId,offer:Po(s.offer),offerRate:Po(document.getElementById("offer"+n).value),offeringlimit:Po(document.getElementById("limit"+n).value)}).offeringlimit.length&&0!==parseFloat(rw.offeringlimit)||(l=!1,i=Um),0!==rw.offerRate.length&&0!==parseFloat(rw.offerRate)||(l=!1,i=Vm),parseFloat(Po(e.target.value))>=parseFloat(s.minimumPieceSize)&&parseFloat(Po(e.target.value))<=parseFloat(Po(s.availableCredit))?l?this.setState({actionTitle:"Publish",actionMessage:"Are you sure, you want to Publish the Commitment ?",alertShow:!0,actionFlag:"PUBLISH",updateData:!1}):this.setState({actionTitle:"Alert",actionMessage:i,showError:!0,updateData:!1}):(!1,i="Amount Should be greater than or equal to ("+s.minimumPieceSize+") and less than or equal to Unsold Amount",this.setState({actionTitle:"Alert",actionMessage:i,showError:!0,updateData:!1}))}}else this.setState({actionTitle:"Alert",actionMessage:this.state.message,showError:!0,updateData:!1})}},{key:"openAlert",value:function(){this.setState({alertShow:!0})}},{key:"hideAlert",value:function(){this.setState({alertShow:!1,updateData:!0})}},{key:"confirmAction",value:function(e){var t=this;if("DELETE"===e){this.setState({alertShow:!1,updateData:!1});var a=[{}];a[0]=rw.issueId;var s=[{}];s[0]=rw.bookId;var n=[{}];n[0]=rw.ticker,w()({method:"POST",url:N.URL+Hc,timeout:N.apiTimeOut,data:{issues:a,bookId:s,ticker:n},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){void 0!==e.data[0].responseMessage&&e.data[0].responseMessage.length>0&&(t.msgTimeOut(),t.setState({responseMessage:e.data[0].responseMessage,updateData:!0})),t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}))}else"PUBLISH"===e&&(this.setState({alertShow:!1,updateData:!1}),w()({method:"POST",url:N.URL+Yc,timeout:N.apiTimeOut,data:rw,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){void 0!==e.data[0].responseMessage&&e.data[0].responseMessage.length>0&&(t.msgTimeOut(),t.setState({responseMessage:e.data[0].responseMessage,updateData:!0})),t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})})))}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All",updateData:!1})}},{key:"getDefaultTickerValues",value:function(e,t){this.setState({tickerId:"All",updateData:!1})}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"render",value:function(){var e=this,t={};return t.checkBoxComponent=this.checkBoxComponent,t.offerTextBoxComponent=this.offerTextBoxComponent,t.limitTextBoxComponent=this.limitTextBoxComponent,t.actionComponent=this.actionComponent,t.fieldComponent=this.fieldComponent,Object(u.jsx)(u.Fragment,{children:"Offerings"===this.state.screenName?Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[void 0!==this.state.message&&this.state.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.state.message}):"",Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:3,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:Se,id:"lbl_book"}),":"]}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Jh,allFlag:"true"},onchange:this.bookChange,selected:this.state.bookId,id:"book",stateMethod:this.getDefaultBookValues})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:3,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:cn,id:"lbl_ticker"}),":"]}),Object(u.jsx)(W.a,{xs:5,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:ji,reqParams:{tickerId:this.state.tickerId,bookId:this.state.bookId,productType:Jh,allFlag:"true"},onchange:this.tickerChange,selected:this.state.tickerId,id:"ticker",stateMethod:this.getDefaultTickerValues})})]}),Object(u.jsx)(W.a,{className:"d-inline-block text-center",children:Object(u.jsx)(D.a,{id:"newcommitment",size:"sm",onClick:this.newCommitment,children:"New Commitment"})})]}),this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:lv,updateData:this.state.updateData,apiCall:ar,wsUrl:!0,reqParams:{ticker:this.state.ticker,book:this.state.bookId,prodType:Jh,socketSource:"OFFERINGS"},edit:!0,fixedTable:!0,mappings:$O,customComponents:t,mapdata:this.state.data,keyField:"issueId",fromPage:"Offerings",excelFlag:"true"})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})})]})]}):"Edit"===this.state.screenName?Object(u.jsx)(bv,{issueId:this.state.issueId,apiCall:Lc,reqParams:{issueId:this.state.issueId,productType:Jh},returnMethod:this.returnMethod,closemodel:this.closemodel,fromPage:this.state.screenName,linkname:"Edit ADN Commitment"}):"NEW"===this.state.screenName?Object(u.jsx)(bv,{returnMethod:this.returnMethod,closemodel:this.closemodel,fromPage:this.state.screenName,linkname:"New ADN Commitment"}):"Convert"===this.state.screenName?Object(u.jsx)(pv,{apiCall:Wc,reqParams:{issueId:this.state.issueId,prodType:Jh,issuerId:this.state.issuerId,bookId:this.state.selectedBookId},returnMethod:this.returnMethod,fromPage:this.state.screenName,linkname:"ADN Commitment Conversion"}):Object(u.jsx)(cw,{issueId:this.state.issueId,returnMethod:this.returnMethod})})}}]),a}(o.a.Component),mw=[];function hw(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&(o="sumofPositionAmt"===e||"sumofNintyDays"===e||"dv01"===e||"weightAvg"===e||"conv01"===e||"sumofNetsetts"===e||"tot01"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.spanComponent(t,n,e)},align:"right"}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1},s.push(o)));return""})),""})),s}mw.prodCode=is,mw[co]=Wn,mw[ro]=qn,mw.sumofNintyDays=zn,mw.dv01=Qn,mw.weightAvg=io,mw.conv01=Xn,mw.tot01=$n,mw.tot01=$n,mw[ro]=eo,mw[ro]=to,mw[ro]=ao,mw[ro]=so;var uw={},bw=["#8DC9ED","#35A7EA","#84BC9E","#CCCC33","#5D6D7E","#D4AC0D","#1ABC9C"],pw=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).loadData=function(e,t,a){var n={labels:e,datasets:[{data:t,backgroundColor:bw,hoverOffset:4}]};s.setState({PieProdData:n})},s.state={cmodal:!0,data:[],reportData:[],PieProdData:{}},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.spanComponent=s.spanComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"spanComponent",value:function(e,t,a){return Object(u.jsx)(u.Fragment,{children:void 0!==e&&0===e.indexOf("-")?Object(u.jsxs)("div",{className:"text-right text-danger",children:["(",e.replace("-",""),")"]},"item"+t):Object(u.jsx)("div",{className:"text-right",children:e},"item"+t)})}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Jd&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"render",value:function(){return uw.spanComponent=this.spanComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:["Risk by Product",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{className:"d-inline-block p-0",children:Object(u.jsx)("div",{style:{width:"100%"},children:Object(u.jsx)(ax,{cprops:mw,apiCall:"/getRiskByProduct",reqParams:{fromPage:"ZEROAMOUNT"},mappings:hw,keyField:"1",screenName:"RISK_BYPRODUCT",customComponents:uw,loaddonutdata:this.loadData})})})})}),this.state.PieProdData&&Object(u.jsx)(H.a,{className:"mt-2",children:Object(u.jsx)(W.a,{children:Object(u.jsx)(TN.Polar,{data:this.state.PieProdData,height:80})})})]})]})})}}]),a}(o.a.Component),jw=pw,xw=[];function fw(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&(o="sumofPositionAmt"===e||"sumofNintyDays"===e||"dv01"===e||"weightAvg"===e||"conv01"===e||"sumofNetsetts"===e||"tot01"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return a.spanComponent(e)},align:"right"}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1},s.push(o)));return""})),""})),s}xw.prodCode=is,xw[co]=Wn,xw[ro]=qn,xw.sumofNintyDays=zn,xw.dv01=Qn,xw.weightAvg=io,xw.conv01=Xn,xw.tot01=$n,xw.tot01=$n,xw[ro]=eo,xw[ro]=to,xw[ro]=ao,xw[ro]=so;var gw={},Ow=["#8DC9ED","#35A7EA","#8A6B4A","#F3F3A9","#84BC9E","#8C65E0","#CCCC33","#AFC97B","#666666","#99CC80","#CCCC33","#545775","#884EA0","#B03A2E","#1F618D","#148F77","#F39C12","#5D6D7E","#BDC3C7","#D4AC0D","#B7950B","#1ABC9C","#2C3E50","#0B5345","#FFEB3B","#00838F","#8D6E63","#1E88E5","#AB47BC","#66FF33","#6600CC"],vw=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).loadData=function(e,t){var a={labels:e,datasets:[{data:t,backgroundColor:Ow,hoverOffset:4}]};s.setState({polarData:a})},s.state={cmodal:!0,data:[],reportData:[],isLoading:!1},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.spanComponent=s.spanComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!1}),w()({method:"POST",url:N.URL+Qc,timeout:N.apiTimeOut,data:{inventory:"46637187"},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&e.setState({reportData:t.data,isLoading:!0})}))}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===wr&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"spanComponent",value:function(e,t,a){return Object(u.jsx)(u.Fragment,{children:void 0!==e&&0===e.indexOf("-")?Object(u.jsxs)("div",{className:"text-right text-danger",children:["(",e.replace("-",""),")"]},"item"+t):Object(u.jsx)("div",{className:"text-right",children:e},"item"+t)})}},{key:"render",value:function(){gw.spanComponent=this.spanComponent;return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:["Risk by Department",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsx)(ai.a.Body,{children:this.state.isLoading?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{className:"d-inline-block p-0",children:this.state.reportData&&this.state.reportData.length>0?Object(u.jsx)("div",{style:{width:"100%"},children:Object(u.jsx)(ax,{cprops:xw,apiCall:Qc,reqParams:{fromPage:"ZEROAMOUNT"},mappings:fw,keyField:"1",screenName:"RISK_BYDEPARTMENT",customComponents:gw,loaddeptdata:this.loadData})}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."})})})}),this.state.polarData&&Object(u.jsx)(H.a,{className:"mt-2",children:Object(u.jsx)(W.a,{children:Object(u.jsx)(FN,{data:this.state.polarData})})})]}):Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})})})]})})}}]),a}(o.a.Component),yw=[];function kw(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&(o="sumofPositionAmt"===e||"sumofNintyDays"===e||"dv01"===e||"weightAvg"===e||"conv01"===e||"sumofNetsetts"===e||"tot01"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.spanComponent(t,s,e)},align:"right"}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1},s.push(o)));return""})),""})),s}yw.bookName=we,yw.prodCode=is,yw[co]=Wn,yw[ro]=qn,yw.sumofNintyDays=zn,yw.dv01=Qn,yw.weightAvg=io,yw.conv01=Xn,yw.tot01=$n,yw.tot01=$n,yw[ro]=eo,yw[ro]=to,yw[ro]=ao,yw[ro]=so;var Dw={},Cw=["#8DC9ED","#35A7EA","#8A6B4A","#F3F3A9","#84BC9E","#8C65E0","#CCCC33","#AFC97B","#666666","#99CC80","#CCCC33","#545775","#884EA0","#B03A2E","#1F618D","#148F77","#F39C12","#5D6D7E","#BDC3C7","#D4AC0D","#B7950B","#1ABC9C","#2C3E50","#0B5345","#FFEB3B","#00838F","#8D6E63","#1E88E5","#AB47BC","#66FF33","#6600CC"],Nw=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleChange=function(e){s.setState({productType:e.target.value})},s.loadData=function(e,t){var a={labels:e,datasets:[{data:t,backgroundColor:Cw,hoverOffset:4,options:{maintainAspectRatio:!1}}]};s.setState({bookData:a})},s.state={cmodal:!0,data:[],reportData:[],bookData:{}},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.handleChange=s.handleChange.bind(Object(O.a)(s)),s.spanComponent=s.spanComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!1}),w()({method:"POST",url:N.URL+Jc,timeout:N.apiTimeOut,data:{inventory:"46637187"},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&e.setState({reportData:t.data,isLoading:!0})}))}},{key:"spanComponent",value:function(e,t,a){return Object(u.jsx)(u.Fragment,{children:void 0!==e&&0===e.indexOf("-")?Object(u.jsxs)("div",{className:"text-right text-danger",children:["(",e.replace("-",""),")"]},"item"+t):Object(u.jsx)("div",{className:"text-right",children:e},"item"+t)})}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Gd&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"render",value:function(){return Dw.spanComponent=this.spanComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:["Risk by Book",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{xs:3,children:[Object(u.jsxs)(W.a,{xs:"auto",className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Product",id:"lbl_product"}),":"]}),Object(u.jsx)(W.a,{xs:"auto",className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:vi,onchange:this.handleChange,selected:this.state.productType,id:"productType",reqParams:{productType:this.state.productType,All:"true"}})})]})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{className:"d-inline-block p-0",children:Object(u.jsx)("div",{style:{width:"100%"},children:Object(u.jsx)(ax,{cprops:yw,apiCall:Jc,reqParams:{productType:this.state.productType},mappings:kw,keyField:"1",screenName:"RISKBYBOOK",customComponents:Dw,loadbookdata:this.loadData})})})})}),this.state.bookData&&Object(u.jsx)(H.a,{className:"mt-2",children:Object(u.jsx)(W.a,{children:Object(u.jsx)(MN,{data:this.state.bookData})})})]})]})})}}]),a}(o.a.Component),Sw=[];function ww(e,t,a,s){var n=[];return Object.keys(t).map((function(a){return Object.keys(e[0]).map((function(e){var s;e===a&&(t[e]&&(s="transType"===e?{dataField:e,text:t[e],formatter:function(e,t,a,s){return"B"==e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"S"==e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):void 0}}:"amount"===e?{dataField:e,text:t[e],formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:e,text:t[e],editable:!1},n.push(s)));return""})),""})),n}Sw.transType=Te,Sw.settleDate=Rs,Sw.maturityDate=ra,Sw.days=st,Sw.amount=Vs,Sw.price=es,Sw.pandL=js,Sw.buySellList=Me,Sw.pandList=cs;var Tw=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleChange=function(e){var t={};s.setState({isLoading:!1}),"ticker"===e.target.id?(t.ticker=e.target.value,t.book=s.state.bookId,s.setState({ticker:e.target.value,securitySelection:[]})):"bookId"===e.target.id&&(t.ticker=s.state.ticker,t.book=e.target.value,s.setState({bookId:e.target.value})),t.inventory=s.state.inventory,w()({method:"POST",url:N.URL+Kc,timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.buySellList&&(s.setState({buySellList:e.data.buySellList}),e.data.buySellList.length>0&&s.setState({columns:ww(e.data.buySellList,Sw)})),e.data.pandList&&s.setState({pandList:e.data.pandList}),s.setState({isLoading:!0}))}))},s.state={cmodal:!0,bookId:"",issueId:"",ticker:"",security:"",buySellList:[],columns:[],pandList:[],singleSelections:[],securitySelection:[],isLoading:!1},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.setSingleSelections=s.setSingleSelections.bind(Object(O.a)(s)),s.setSecuritySelection=s.setSecuritySelection.bind(Object(O.a)(s)),s.getDefaultValues=s.getDefaultValues.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!1}),w()({method:"POST",url:N.URL+Ec,timeout:N.apiTimeOut,data:{issuerId:"",productType:"1400"},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&w()({method:"POST",url:N.URL+Kc,timeout:N.apiTimeOut,data:{inventory:t.data[0]?t.data[0].key:""},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&(t.data.issueId&&e.setState({issueId:t.data.issueId}),t.data.pandList&&e.setState({pandList:t.data.pandList}),t.data.buySellList&&(e.setState({buySellList:t.data.buySellList}),t.data.buySellList.length>0&&e.setState({columns:ww(t.data.buySellList,Sw)}),t.data.pandList&&e.setState({pandList:t.data.pandList})),e.setState({isLoading:!0}))}))}))}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===Zd&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"setSingleSelections",value:function(e,t){var a=this;this.setState({securitySelection:[]});var s={};this.setState({singleSelections:e}),this.setState({ticker:t}),s.inventory=this.state.inventory,s.ticker=t,s.book=this.state.bookId,w()({method:"POST",url:N.URL+Kc,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.buySellList&&(a.setState({buySellList:e.data.buySellList}),e.data.buySellList.length>0&&a.setState({columns:ww(e.data.buySellList,Sw)})),e.data.pandList&&a.setState({pandList:e.data.pandList}),a.setState({isLoading:!0}))}))}},{key:"setSecuritySelection",value:function(e,t){var a=this,s={};this.setState({securitySelection:e}),s.inventory=t,s.ticker=this.state.ticker,s.book=this.state.bookId,w()({method:"POST",url:N.URL+Kc,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data.ticker&&a.setState({ticker:e.data.ticker}),e.data.buySellList&&(a.setState({buySellList:e.data.buySellList}),e.data.buySellList.length>0&&a.setState({columns:ww(e.data.buySellList,Sw)})),e.data.pandList&&a.setState({pandList:e.data.pandList}),a.setState({ticker:e.data.ticker,isLoading:!0}))}))}},{key:"getDefaultValues",value:function(e,t){this.setState({tickerValue:"All"})}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsx)(ai.a.Body,{children:this.state.isLoading?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(H.a,{children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:1,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Books",id:"lbl_Books"})}),Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,onchange:this.handleChange,selected:this.state.bookId,id:"bookId",reqParams:{productType:Jh}})}),Object(u.jsx)(W.a,{xs:1,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Ticker",id:"lbl_ticker"})}),Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(jj,{id:"basic-typeahead-single",apiCall:ji,reqParams:{productType:Jh,bookId:this.state.bookId},onchange:this.setSingleSelections,selected:this.state.singleSelections})}),Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:ji,reqParams:{productType:Jh,bookId:this.state.bookId},onchange:this.handleChange,selected:this.state.ticker,stateMethod:this.getDefaultValues,id:"ticker"})}),Object(u.jsx)(W.a,{xs:1,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Security",id:"lbl_security"})}),Object(u.jsx)(W.a,{xs:2,className:"d-inline-block",children:Object(u.jsx)(jj,{id:"inventory",apiCall:Ec,reqParams:{issuerId:""===this.state.ticker?"":this.state.ticker,productType:"1400"},onchange:this.setSecuritySelection,selected:this.state.securitySelection})})]})}),this.state.columns&&this.state.columns.length>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(ai.a.Header,{as:"h5",className:"mt-3",children:Object(u.jsx)("strong",{className:"cursor",children:"Buys/Sells"})}),this.state.columns&&this.state.columns.length>0?Object(u.jsx)(H.a,{children:Object(u.jsx)(Z.a,{keyField:"1",striped:!0,hover:!0,wrapperClasses:"fo2table table-responsive",data:this.state.buySellList,columns:this.state.columns})}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."})]}),Object(u.jsxs)("div",{className:"pt10",children:[Object(u.jsx)(ai.a.Header,{as:"h5",style:{width:"80%",margin:"0 auto"},children:Object(u.jsx)("strong",{className:"cursor",children:"Profit/Loss Data"})}),Object(u.jsx)("div",{style:{width:"80%",margin:"0 auto",overflow:"auto"},children:this.state.pandList.length>0?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("table",{class:"table table-hover table-bordered",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("th",{className:"text-left bold",children:"Date"}),this.state.pandList.map((function(e){return Object(u.jsx)("th",{className:"text-right bold",children:e.settleDate})}))]})}),Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{style:{backgroundColor:"#cfe6fd"},children:[Object(u.jsx)("td",{className:"text-left bold removewrap",children:"Days To Maturity"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:e.days})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"SOD Position"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:e.currentAmount})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#cfe6fd"},children:[Object(u.jsx)("td",{className:"text-left bold removewrap",children:"EOD Position"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:e.originalAmount})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"Sell Amount"}),this.state.pandList.map((function(e){return Object(u.jsx)(u.Fragment,{children:void 0!==e.amount&&0===e.amount.toString().indexOf("-")?Object(u.jsxs)("td",{className:"text-right text-danger",children:["(",Lo(e.amount.toString().replace("-","")),")"]}):Object(u.jsx)("td",{className:"text-right",children:Lo(e.amount)})})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#cfe6fd"},children:[Object(u.jsx)("td",{className:"text-left bold removewrap",children:"Sell Weighted Avg Px"}),this.state.pandList.map((function(e){return Object(u.jsx)("th",{className:"text-right",children:""})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"EOD Bid Px"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:e.currentBid})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#cfe6fd"},children:[Object(u.jsx)("td",{className:"text-left bold ",children:"EOD Dollar Px"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:e.dollarPx})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"Accretion"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:Lo(e.accumulativeAccrued)})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#cfe6fd"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"Marking P or L"}),this.state.pandList.map((function(e){return Object(u.jsx)(u.Fragment,{children:void 0!==e.markingPl&&0===e.markingPl.toString().indexOf("-")?Object(u.jsxs)("td",{className:"text-right text-danger",children:["(",Lo(e.markingPl.toString().replace("-","")),")"]}):Object(u.jsx)("td",{className:"text-right",children:Lo(e.markingPl)})})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("td",{className:"text-left bold removewrap",children:"Cost of Funding"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:""})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#cfe6fd"},children:[Object(u.jsx)("td",{className:"text-left bold removewrap",children:"Total Unrealized"}),this.state.pandList.map((function(e){return Object(u.jsx)(u.Fragment,{children:void 0!==e.accumulativeUnReal&&0===e.accumulativeUnReal.toString().indexOf("-")?Object(u.jsxs)("td",{className:"text-right text-danger",children:["(",Lo(e.accumulativeUnReal.toString().replace("-","")),")"]}):Object(u.jsx)("td",{className:"text-right",children:Lo(e.accumulativeUnReal)})})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("td",{className:"text-left bold removewrap",children:"Realized from Sell"}),this.state.pandList.map((function(e){return Object(u.jsx)(u.Fragment,{children:void 0!==e.accumulativeRealUnreal&&0===e.realizedPandLfromSell.toString().indexOf("-")?Object(u.jsxs)("td",{className:"text-right text-danger",children:["(",Lo(e.realizedPandLfromSell.toString().replace("-","")),")"]}):Object(u.jsx)("td",{className:"text-right",children:Lo(e.realizedPandLfromSell)})})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#cfe6fd"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"Total Realized"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:e.prodGrandTotal})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"Sum of Real and Unreal"}),this.state.pandList.map((function(e){return Object(u.jsx)(u.Fragment,{children:void 0!==e.accumulativeRealUnreal&&0===e.accumulativeRealUnreal.toString().indexOf("-")?Object(u.jsxs)("td",{className:"text-right text-danger",children:["(",Lo(e.accumulativeRealUnreal.toString().replace("-","")),")"]}):Object(u.jsx)("td",{className:"text-right",children:Lo(e.accumulativeRealUnreal)})})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#cfe6fd"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"Net Interest Income"}),this.state.pandList.map((function(e){return Object(u.jsx)("td",{className:"text-right",children:""})}))]}),Object(u.jsxs)("tr",{style:{backgroundColor:"#fff"},children:[Object(u.jsx)("td",{className:"text-left bold",children:"Accumulative Unreal"}),this.state.pandList.map((function(e){return Object(u.jsx)(u.Fragment,{children:void 0!==e.accumulativeUnReal&&0===e.accumulativeUnReal.toString().indexOf("-")?Object(u.jsxs)("td",{className:"text-right text-danger",children:["(",Lo(e.accumulativeUnReal.toString().replace("-","")),")"]}):Object(u.jsx)("td",{className:"text-right",children:Lo(e.accumulativeUnReal)})})}))]})]})]})}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."})})]})]}):Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})})})]})})})}}]),a}(o.a.Component),Iw=[];function Mw(e,t,a,s){var n=[];return Object.keys(t).map((function(s){return Object.keys(e[0]).map((function(e){var o;e===s&&(t[e]&&(o=a&&"buySellFlag"===e?{dataField:e,text:t[e],formatter:a.imgComponent}:"amount"===e?{dataField:e,text:t[e],formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:e,text:t[e],editable:!1},n.push(o)));return""})),""})),n}Iw.salesPersonName="Trader Name",Iw.bookName=we,Iw.bookDescription=Re,Iw.bookCode=Fe;var Aw=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).onChange=function(e){var t,a={};s.setState((t={},Object(g.a)(t,e.target.id,e.target.value),Object(g.a)(t,"isLoading",!1),t)),"depId"===e.target.id?(a.depId=e.target.value,a.productType=s.state.productType):"productType"===e.target.id&&(a.depId=s.state.depId,a.productType=e.target.value),w()({method:"POST",url:N.URL+Zc,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(e.data&&(s.setState({reportData:e.data}),e.data.length>0&&s.setState({columns:Mw(e.data,Iw)})),s.setState({isLoading:!0}))}))},s.DepartmentValues=function(e,t){s.setState({department:"All"})},s.getDefaultPrdValues=function(e,t){s.setState({product:e})},s.state={cmodal:!0,reportData:[],columns:[],depId:"",productType:"",isLoading:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!1}),w()({method:"POST",url:N.URL+Zc,timeout:N.apiTimeOut,data:{depId:"",productType:""},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&(t.data&&(e.setState({reportData:t.data}),t.data.length>0&&e.setState({columns:Mw(t.data,Iw)})),e.setState({isLoading:!0}))}))}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===$d&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"render",value:function(){var e=this,t=function(t){return Object(u.jsx)("div",{className:"col-md-12 text-right pdR30",children:Object(u.jsx)("button",{id:"excel",className:"btn btn-primary",onClick:function(){t.onExport(e.state.reportData)},children:Object(u.jsx)(B.p,{})})})};return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsx)(ai.a.Body,{children:this.state.isLoading?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Department",id:"lbl_department"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:dc,id:"depId",name:"depId",reqParams:{},onchange:this.onChange,selected:this.state.depId,stateMethod:this.DepartmentValues})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Product",id:"lbl_prod"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:vi,reqParams:{All:"true"},onchange:this.onChange,id:"productType",name:"productType",selected:this.state.productType,stateMethod:this.getDefaultPrdValues})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{className:"d-inline-block p-0",children:this.state.reportData.length>0?Object(u.jsx)(Bb.a,{keyField:"rowNo",data:this.state.reportData,columns:this.state.columns,exportCSV:{fileName:"Department Information.csv"},children:function(a){return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"col-md-12 text-right",children:Object(u.jsx)(Vb,{tableColumns:e.state.columns,tableData:e.state.reportData,screenTitle:"DEPT_INFO",subTitle:""})}),Object(u.jsx)(t,Object(m.a)({},a.csvProps)),Object(u.jsx)(Z.a,Object(m.a)(Object(m.a)({},a.baseProps),{},{headers:e.state.headers,striped:!0,hover:!0,printable:!0,condensed:!0,wrapperClasses:e.props.fixedTable?"fo2table table-responsive mht":e.props.noMaxHt?"fo2table table-responsive nomht":"fo2table table-responsive"}))]})}}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."})})})})]}):Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})})})]})})}}]),a}(o.a.Component);function Rw(e,t,a){var s=[];return e[0].comments=void 0!==e[0].comments?e[0].comments:"",e[0].docs="",Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&(o="issuerId"===e?{dataField:e,text:t[e],formatter:a.buttonComponent}:"issuerName"===e||"prodName"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)()}:"rateType"===e?{dataField:e,text:t[e],formatter:a.radioComponent}:"docs"===e?{dataField:e,text:t[e],formatter:a.uploadComponent}:"comments"===e?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.commentBoxComponent(t,s,n,o,e)}}:{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.textBoxComponent("0"===t?"":t,s,n,o,e)}},s.push(o)));return""})),""})),s}function Ew(e,t,a){var s,n=[],o=0;return e[0].comments=void 0!==e[0].comments?e[0].comments:"",e[0].docs="",Object.keys(t).map((function(i){return Object.keys(e[0]).map((function(l){if(l===i){if(t[l]){if("availableCredit"===l||"minimumPiece"===l)c={dataField:l,text:t[l],filter:Object(Ao.textFilter)(),align:"right"};else if("offeringlimit"===l)var c={dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"};else c=a&&"ticker"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:a.linkComponent}:"oneWeek"===l||"twoWeek"===l||"threeWeek"===l||"oneday"===l||"twoday"===l?{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),formatter:function(t,a,s,n){return void 0!==e[s]&&void 0!==e[s][l]?0==(o=e[s][l].split(":")[0])&&(o=""):o="",o}}:{dataField:l,text:t[l],filter:Object(Ao.textFilter)(),editable:!1,formatter:a.fieldComponent,formatExtraData:{colId:t[l]}};n.push(c)}}else"rateMap"===l&&n.length>10&&(null===s||s!==e[0].rateMap)&&(s=e[0].rateMap,o=0,Object.keys(e[0].rateMap).map((function(a){if(e[0][l]){if("7"===a||"8"===a||"10"===a||"11"===a)return;c={dataField:a,text:t[a],filter:Object(Ao.textFilter)(),csvFormatter:function(t,s,n,i){return void 0!==e[n]&&void 0!==e[n].rateMap&&void 0!==e[n].rateMap[a]?0==(o=e[n].rateMap[a].split(":")[0])&&(o=""):o="",o},formatter:function(t,s,n,i){return void 0!==e[n]&&void 0!==e[n].rateMap&&void 0!==e[n].rateMap[a]?0==(o=e[n].rateMap[a].split(":")[0])&&(o=""):o="",o}},n.push(c)}})));return""})),""})),n}var Fw=[];Fw.issuerName=Kt,Fw.prodName=is,Fw.oneDay=Ua,Fw.oneWeek=Ha,Fw.twoWeek=kn,Fw.threeWeek=nn,Fw.oneMonth=Va,Fw.fortyfiveDay="45D",Fw.twoMonth=vn,Fw.threeMonth=an,Fw.fourMonth=Et,Fw.fiveMonth=Mt,Fw.sixMonth=_s,Fw.sevenMonth=Ps,Fw.eightMonth="8M",Fw.nineMonth=Da,Fw.tenthMonth="10M",Fw.elevenMonth="11M",Fw.oneYear=Wa,Fw.rateType=Oo,Fw.issuerId=" ",Fw.comments=Qe,Fw.docs=vo;var Pw,Bw,Lw=[];Lw.issuerName=Kt,Lw.prodName=is,Lw.oneDay=Ua,Lw.oneWeek=Ha,Lw.twoWeek=kn,Lw.threeWeek=nn,Lw.oneMonth=Va,Lw.fortyfiveDay="45D",Lw.twoMonth=vn,Lw.threeMonth=an,Lw.fourMonth=Et,Lw.fiveMonth=Mt,Lw.sixMonth=_s,Lw.sevenMonth=Ps,Lw.eightMonth="8M",Lw.nineMonth=Da,Lw.tenthMonth="10M",Lw.elevenMonth="11M",Lw.oneYear=Wa,Lw.rateType=Oo,Lw.emailSentStatus="Notification Status",Lw.createdBy="Created By",Lw.createdDate="Created Date",Lw.comments=Qe,Lw.docs=vo;var _w=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).productTypeChange=function(e){Pw=[],s.setState({prodId:e.target.value})},s.onFieldChange=function(e,t,a){!1===Bo(e.target.value,"1234567890.")?(s.setState({actionTitle:"Alert",actionMessage:Ym,showError:!0,updateData:!1}),e.target.value=Pw[a][t]):Pw[a][t]=e.target.value},s.onFieldcommentChange=function(e,t,a){!1===Bo(e.target.value,"1234567890.")?e.target.value=Pw[a][t]:Pw[a][t]=e.target.value},s.doRadioChange=function(e,t,a){Pw[a][t]=e.target.value},s.onFileUpload=function(e){var t=new FormData;if(null!==s.state.selectedFile&&null!==s.state.selectedFile.name&&void 0!==s.state.selectedFile.name){JSON.parse(sessionStorage.getItem("user"));t.append("file",s.state.selectedFile,s.state.selectedFile.name),t.append("omstoken",sessionStorage.getItem("token"))}else{(0,s.props.tabHandler)("preliminaryTermSheet",e)}},s.handleSubmit=function(e){var t={},a="";if(Object.keys(Pw[e]).forEach((function(s){"0"!==Pw[e].oneDay&&""!==Pw[e].oneDay.trim()||"0"!==Pw[e].oneWeek&&""!==Pw[e].oneWeek.trim()||"0"!==Pw[e].twoWeek&&""!==Pw[e].twoWeek.trim()||"0"!==Pw[e].threeWeek&&""!==Pw[e].threeWeek.trim()||"0"!==Pw[e].oneMonth&&""!==Pw[e].oneMonth.trim()||"0"!==Pw[e].fortyfiveDay&&""!==Pw[e].fortyfiveDay.trim()||"0"!==Pw[e].twoMonth&&""!==Pw[e].twoMonth.trim()||"0"!==Pw[e].threeMonth&&""!==Pw[e].threeMonth.trim()||"0"!==Pw[e].fourMonth&&""!==Pw[e].fourMonth.trim()||"0"!==Pw[e].fiveMonth&&""!==Pw[e].fiveMonth.trim()||"0"!==Pw[e].sixMonth&&""!==Pw[e].sixMonth.trim()||"0"!==Pw[e].sevenMonth&&""!==Pw[e].sevenMonth.trim()||"0"!==Pw[e].eightMonth&&""!==Pw[e].eightMonth.trim()||"0"!==Pw[e].nineMonth&&""!==Pw[e].nineMonth.trim()||"0"!==Pw[e].tenthMonth&&""!==Pw[e].tenthMonth.trim()||"0"!==Pw[e].elevenMonth&&""!==Pw[e].elevenMonth.trim()||"0"!==Pw[e].oneYear&&""!==Pw[e].oneYear.trim()?t={fortyfiveDay:Pw[e].fortyfiveDay,issuerId:Pw[e].issuerId,prodName:Pw[e].prodName,issuerName:Pw[e].issuerName,nineMonth:Pw[e].nineMonth,oneDay:Pw[e].oneDay,oneMonth:Pw[e].oneMonth,oneWeek:Pw[e].oneWeek,oneYear:Pw[e].oneYear,prodId:Pw[e].prodId,rateType:Pw[e].rateType,sixMonth:Pw[e].sixMonth,threeMonth:Pw[e].threeMonth,fourMonth:Pw[e].fourMonth,fiveMonth:Pw[e].fiveMonth,sevenMonth:Pw[e].sevenMonth,eightMonth:Pw[e].eightMonth,tenthMonth:Pw[e].tenthMonth,elevenMonth:Pw[e].elevenMonth,threeWeek:Pw[e].threeWeek,twoMonth:Pw[e].twoMonth,twoWeek:Pw[e].twoWeek,comments:Pw[e].comments,uploadFile:Pw[e].docs,email:Pw[e].email}:a="Please enter Rate"})),a)return s.setState({actionTitle:"Alert",actionMessage:a,showError:!0}),!1;s.setState({actionTitle:cm,actionMessage:"Indicative Rates email will be sent to mvsarma@financialoxygen.com",alertShow:!0,actionFlag:"CONFIRM",requestData:t})},s.hideAlert=function(){s.setState({alertShow:!1,showError:!1,updateData:!0})},s.closeAlert=function(){s.setState({showAlert:!1,updateData:!1})},s.state={cmodal:!0,mainApiCall:tr,respMessage:"",showAlert:!0,updateData:!0,prodId:"1200",tickerId:""},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.commentBoxComponent=s.commentBoxComponent.bind(Object(O.a)(s)),s.radioComponent=s.radioComponent.bind(Object(O.a)(s)),s.buttonComponent=s.buttonComponent.bind(Object(O.a)(s)),s.setScreenData=s.setScreenData.bind(Object(O.a)(s)),s.uploadComponent=s.uploadComponent.bind(Object(O.a)(s)),s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.handleSubmitAll=s.handleSubmitAll.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;Pw=[],w()({method:"POST",url:N.URL+ac,timeout:N.apiTimeOut,data:{prodId:"All"},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({message:t.data,updateData:!0})}))}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===em&&this.setState({cmodal:!0,updateData:!1})}},{key:"textBoxComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(Eu,{name:n+a,id:n+a,value:e,onBlur:function(e){o.onFieldChange(e,n,a)},className:"text-right wd50px"})}},{key:"commentBoxComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(Eu,{name:n+a,id:n+a,value:e,onBlur:function(e){o.onFieldcommentChange(e,n,a)},className:"text-right wd50px"})}},{key:"radioComponent",value:function(e,t,a){var s=this;return Object(u.jsxs)("div",{className:"p3 brd-btm mb-1 d-flex",children:[Object(u.jsxs)("div",{className:"pr-2",children:[Object(u.jsx)("input",{type:"radio",name:"rateType"+a,id:"rateType_a"+a,value:"A",defaultChecked:"A"===e,onChange:function(e){s.doRadioChange(e,"rateType",a)}}),Object(u.jsx)("span",{className:"ml-1",children:"All-In"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{type:"radio",name:"rateType"+a,id:"rateType_o"+a,value:"O",defaultChecked:"O"===e,onChange:function(e){s.doRadioChange(e,"rateType",a)}}),Object(u.jsx)("span",{className:"ml-1",children:"Offer-Side"})]})]})}},{key:"buttonComponent",value:function(e,t,a){var s=this;return Object(u.jsx)("button",{className:"btn btn-primary btn-xs",style:{paddingLeft:"2px"},onClick:function(){return s.handleSubmit(a)},children:"Send"},"btn"+a)}},{key:"uploadComponent",value:function(e,t,a){return Object(u.jsx)("input",{type:"file",id:"uploadFile",name:"uploadFile",style:{color:"transparent"},onChange:this.onFileChange,placeholder:""})}},{key:"handleSubmitAll",value:function(){var e=[],t=!1;Pw&&Pw.map((function(a,s){("0"!==a.oneDay&&a.oneDay&&a.oneDay.length>0||"0"!==a.oneWeek&&a.oneWeek.length>0||"0"!==a.twoWeek&&a.twoWeek.length>0||"0"!==a.threeWeek&&a.threeWeek.length>0||"0"!==a.oneMonth&&a.oneMonth.length>0||"0"!==a.fortyfiveDay&&a.fortyfiveDay.length>0||"0"!==a.twoMonth&&a.twoMonth.length>0||"0"!==a.threeMonth&&a.threeMonth.length>0||"0"!==a.fourMonth&&a.fourMonth.length>0||"0"!==a.fiveMonth&&a.fiveMonth.length>0||"0"!==a.sixMonth&&a.sixMonth.length>0||"0"!==a.sevenMonth&&a.sevenMonth.length>0||"0"!==a.eightMonth&&a.eightMonth.length>0||"0"!==a.nineMonth&&a.nineMonth.length>0||"0"!==a.tenthMonth&&a.tenthMonth.length>0||"0"!==a.elevenMonth&&a.elevenMonth.length>0||"0"!==a.oneYear&&a.oneYear.length>0)&&(e.push(a),t=!0)})),Bw=e,t?this.setState({actionTitle:cm,actionMessage:"Send All Indicative Rates email will be sent to mvsarma@financialoxygen.com",alertShow:!0,actionFlag:"SENDALL",requestData:Bw}):this.setState({actionTitle:"Alert",actionMessage:"Please enter Rate in atleast One Row",updateData:!1,showError:!0})}},{key:"confirmAction",value:function(e,t){var a=this;"CONFIRM"===e?w()({method:"POST",url:N.URL+"/setIssuerIndicativeRateDetails",timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(Pw=[],a.setState({respMessage:e.data.responseMessage,updateData:!0,alertShow:!1}))})):"SENDALL"===e&&w()({method:"POST",url:N.URL+"/setIssuerIndicativeRateSendAll",timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(Pw=[],a.setState({respMessage:e.data.responseMessage,updateData:!0,alertShow:!1}))}))}},{key:"setScreenData",value:function(e){Pw=e}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1}),this.props.onRemove(this.props.linkname)}},{key:"tickerChange",value:function(e,t){Pw=[],this.setState({singleSelections:e,tickerId:t,ticker:e[0]})}},{key:"render",value:function(){var e=this,t={};return t.textBoxComponent=this.textBoxComponent,t.commentBoxComponent=this.commentBoxComponent,t.radioComponent=this.radioComponent,t.buttonComponent=this.buttonComponent,t.uploadComponent=this.uploadComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[void 0!==this.state.respMessage&&""!==this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",show:this.state.showAlert,onClick:this.closeAlert,dismissible:!0,children:this.state.respMessage}):"",Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Product",id:"lbl_product"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:vi,reqParams:{All:"true"},onchange:this.productTypeChange,selected:this.state.prodId,id:"prodId"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Issuer",id:"lbl_issuer"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(jj,{apiCall:wi,reqParams:{productType:this.state.prodId},onchange:this.tickerChange,selected:this.state.singleSelections,id:"issuer"})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block"}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)("button",{className:"btn btn-primary btn-xs",onClick:this.handleSubmitAll,children:"Send All"},"sendAll")})]})]}),Object(u.jsx)(Yb,{cprops:Fw,apiCall:tr,updateData:this.state.updateData,wsUrl:!1,reqParams:{prodId:""===this.state.prodId?"All":this.state.prodId,issuerId:""===this.state.tickerId?"All":this.state.tickerId},mappings:Rw,customComponents:t,calBack:this.setScreenData,mapdata:Pw,fixedTable:!0,keyField:qt,excelFlag:"true",fromPage:"issindrate"}),Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsx)("div",{children:"Sent Indicative Rates"})})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(Yb,{cprops:Lw,apiCall:"/getIssuerIndicativeRateSaveDetails",updateData:this.state.updateData,wsUrl:!1,reqParams:{prodId:""===this.state.prodId?"All":this.state.prodId,issuerId:""===this.state.tickerId?"All":this.state.tickerId},mappings:Ew,customComponents:t,keyField:"1",excelFlag:"true"})})]})]}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag,e.state.requestData)},messageType:cm}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideAlert()},messageType:um})]})})}}]),a}(o.a.Component),Uw=[];function Vw(e,t,a,s){var n=[];return Object.keys(t).map((function(s){return Object.keys(e[0]).map((function(e){var o;e===s&&(t[e]&&(o="position"===e?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.positionComponent(t,s,n,o,e)},align:"-webkit-center"}:"price"===e?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.priceComponent(t,s,n,o,e)},align:"-webkit-center"}:{dataField:e,text:t[e],editable:!1},n.push(o)));return""})),""})),n}Uw.tickerCode="Symbol",Uw.month="Month",Uw.position="Position",Uw.price=es;var Yw=[],Hw=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).positionComponent=function(e,t,a,n,o){return Object(u.jsx)(Eu,{name:"position"+a,id:"position"+a,value:Lo(e),onBlur:function(e){return s.positionChangeInput(e,a)},style:{width:"30%"},className:"text-right"},a)},s.priceComponent=function(e,t,a,n,o){return Object(u.jsx)(Eu,{name:"price"+a,id:"price"+a,value:e,onChange:function(e){return s.priceChangeInput(e,a)},style:{width:"30%"},className:"text-right"},a)},s.doSave=function(){s.setState({actionTitle:dm,actionMessage:fh,alertShow:!0,actionFlag:"SAVE"})},s.msgTimeOut=function(e){s.setState({isLoading:!1}),setTimeout((function(){s.setState({respMessage:"",rejectReason:""}),w()({method:"POST",url:N.URL+Bc,timeout:N.apiTimeOut,data:{productType:"999",bookId:"9999"},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(s.setState({reportData:e.data}),e.data.length>0&&s.state.reportData.forEach((function(e){void 0===e.position&&(e.position=""),void 0===e.price&&(e.price="")})),s.setState({columns:Vw(s.state.reportData,Uw)})),s.setState({isLoading:!0})}))}),5e3),s.setState({isLoading:!0})},s.state={cmodal:!0,fromDate:new Date,toDate:new Date,reportData:[],columns:[],isLoading:!0,alertShow:!1,actionFlag:"",actionTitle:"",actionMessage:""},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.hideAlert=s.hideAlert.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!1}),w()({method:"POST",url:N.URL+Bc,timeout:N.apiTimeOut,data:{productType:"999",bookId:"9999"},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data&&(t.data&&(e.setState({reportData:t.data}),e.state.reportData.forEach((function(e){void 0===e.position&&(e.position=""),void 0===e.price&&(e.price="")})),t.data.length,e.setState({columns:Vw(e.state.reportData,Uw,Yw)})),e.setState({isLoading:!0}))}))}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===kr&&this.setState({cmodal:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"positionChangeInput",value:function(e,t){""!==e.target.value&&Uo(e),this.state.reportData[t].position=Po(e.target.value)}},{key:"priceChangeInput",value:function(e,t){this.state.reportData[t].price=e.target.value}},{key:"confirmAction",value:function(e){var t=this,a=[];"SAVE"===e&&this.state.reportData&&this.state.reportData.map((function(e,s){a.push(t.state.reportData[s])})),this.postData(a,"/saveFutureContractData")}},{key:"postData",value:function(e,t){var a=this;this.setState({isLoading:!1}),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(void 0!==e.data.errorMessage&&e.data.errorMessage.length>0?(a.msgTimeOut(),a.setState({rejectReason:e.data.errorMessage})):void 0!==e.data.successMessage&&e.data.successMessage.length>0&&(a.msgTimeOut(),a.setState({respMessage:e.data.successMessage})),a.setState({isLoading:!0,alertShow:!1}))}))}},{key:"hideAlert",value:function(){this.setState({alertShow:!1})}},{key:"render",value:function(){var e=this,t={};return t.priceComponent=this.priceComponent,t.positionComponent=this.positionComponent,Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",this.state.rejectReason?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",this.state.isLoading?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Product",id:"lbl_product"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)("select",{className:"custom-select",id:"productId",children:Object(u.jsx)("option",{value:"999",children:"Futures"})})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"Book",id:"lbl_book"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)("select",{className:"custom-select",id:"bookId",children:Object(u.jsx)("option",{value:"9999",children:"Hedge"})})})]})]}),this.state.columns.length>0&&Object(u.jsx)(W.a,{className:"text-right pdAd",children:Object(u.jsx)(Vb,{tableColumns:this.state.columns,tableData:this.state.reportData,screenTitle:"FUTURE_CONTRACT",subTitle:""})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{className:"d-inline-block p-0",children:this.state.columns.length>0?Object(u.jsx)("div",{style:{width:"100%"},children:Object(u.jsx)(Z.a,{data:this.state.reportData,keyField:"ticker",columns:Vw(this.state.reportData,Uw,t),striped:!0,hover:!0,wrapperClasses:"fo2table table-responsive"})}):Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:"No Records Found."})})})}),Object(u.jsx)("div",{className:"text-center mt-2 mb-2",children:Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"save",onClick:this.doSave,children:"Save"})})]}):Object(u.jsx)("div",{className:"text-center col-md-12",children:Object(u.jsx)(Fb,{})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})})]})]})})}}]),a}(o.a.Component),Ww=[];Ww.ticket=dn,Ww.prodCode=ls,Ww.ticker=cn,Ww.bid=He,Ww.maturityDate=da,Ww.settlementDate=Fs,Ww.amount=ga,Ww.bidYield=In,Ww.price=es,Ww.cassii=Le,Ww.net=Na,Ww[Oe]=fe,Ww.msgType=Te,Ww.notes=Ca,Ww.actionId=ie;var qw=[];qw.programId=os,qw.ticket=dn,qw.ticker=cn,qw.shortName=X,qw.prodCode=ls,qw.currencyCode=Ge,qw.amount=go,qw.settle=$s,qw.settlementDate=Ms,qw.maturityDateStr=da,qw.bid=ps,qw.bidYield=In,qw.afr=le,qw.price=es,qw.msgType=Te,qw.bookNo=Se,qw.dispDescr=qs,qw.amendType=be,qw[bt]=pt;var zw=[];zw.programId=os,zw.ticket=dn,zw.ticker=cn,zw.shortName=X,zw.prodCode=ls,zw.currencyCode=Ge,zw.amount=go,zw.settle=$s,zw.settlementDate=Ms,zw.maturityDateStr=da,zw.bid=ps,zw.bidYield=In,zw.afr=le,zw.price=es,zw.msgType=Te,zw.bookNo=Se,zw.dispDescr=qs;var Gw=[];Gw.ticketId=dn,Gw.ticketAmount=ga,Gw.salesPerson=Ns;var Kw=[];Kw.ticketId=dn,Kw.ticketAmount=ga,Kw.settleDate=Ms,Kw.maturityDate=ma,Kw.ticketRate=ps,Kw.currency=ze,Kw.yield=In,Kw.tradeSource=Gs,Kw.cassii=Vt,Kw.salesPerson=Ns,Kw.msgType=Te,Kw.status=qs;var Zw=[];Zw.ticket=dn,Zw.modifiedDate=at,Zw.settleDate=Ts,Zw.maturityDate=la,Zw.amount=Vs,Zw.bid=Ne,Zw.accretion=ge,Zw.realizedpl=no,Zw.unrealizedpl=oo,Zw.pandl=Gn;var Jw=[];Jw.ticket=dn,Jw.prodCode=ls,Jw.ticker=cn,Jw.amount=ga,Jw.settlementDate=Fs,Jw.maturityDate=da,Jw.bid=ps,Jw.cassii=Le,Jw.net=Na,Jw[Yt]=mt,Jw.msgType=Te,Jw.notes=Ca,Jw.actionId=ie;var Qw=[];Qw.ticket=dn,Qw.ticker=cn,Qw.issuerName=Jt,Qw.productType=is,Qw.cusip=Ze,Qw.amount=Za,Qw.issueDate=$s,Qw.settlementDate=Ms,Qw.maturityDate=da,Qw.bookDesc=Se,Qw.source=Gs;var Xw=[];function $w(e,t,a){var s=[];return Object.keys(t).map((function(n){var o;e[0][n]&&(o=a.linkShowTicket&&"programId"===n?{dataField:n,text:t[n],formatter:function(e,t,s,o){return a.linkShowTicket(e,t,s,o,n)}}:a.linkShowTicker&&"ticker"===n?{dataField:n,text:t[n],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,o){return a.linkShowTicker(e,t,s,o,n)}}:!a.imgComponent||"msgType"!==n&&"dispDescr"!==n?!a.checkBoxComponent||"amendType"!==n&&"deleteType"!==n?"amount"===n?{dataField:n,text:t[n],formatter:function(e,t,a,s){return Lo(e)},filter:Object(Ao.textFilter)(),align:"right"}:"price"===n?{dataField:n,text:t[n],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:n,text:t[n],filter:Object(Ao.textFilter)()}:{dataField:n,text:t[n],formatter:function(e,t,s,o){return a.checkBoxComponent(e,t,s,o,n)}}:{dataField:n,text:t[n],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,o){return a.imgComponent(e,t,s,o,n)}},s.push(o));return""})),s}function eT(e,t,a){var s=[];return Object.keys(t).map((function(e){var n;return n=!a.textBoxComponent||"amount"!==e&&"bid"!==e&&"cassii"!==e&&"notes"!==e?!a.textBoxComponent||"settlementDate"!==e&&"maturityDate"!==e?a.imgComponent&&"msgType"===e?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.imgComponent(t,s,n,o,e)},formatExtraData:{colId:e}}:a.imgComponent&&"actionId"===e?{dataField:e,text:"",formatter:function(t,s,n,o){return a.actionComponent(t,s,n,o,e)}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)()}:{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.dateComponent(t,s,n,o,e)},formatExtraData:{colId:e}}:{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.textBoxComponent(t,s,n,o,e)},formatExtraData:{colId:e}},s.push(n),""})),s}function tT(e,t,a){var s=[];return Object.keys(t).map((function(e){var n;return n="net"===e||"accruedInterest"===e?{dataField:e,text:t[e],formatter:function(e,t,a,s){return void 0!==e&&(e=Lo(Po(e))),e},filter:Object(Ao.textFilter)()}:!a.textBoxComponent||"amount"!==e&&"bidYield"!==e&&"price"!==e&&"cassii"!==e&&"notes"!==e?a.textBoxComponent&&"settlementDate"===e?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.dateComponent(t,s,n,o,e)},formatExtraData:{colId:e}}:a.imgComponent&&"msgType"===e?{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.imgComponent(t,s,n,o,e)},formatExtraData:{colId:e}}:a.imgComponent&&"actionId"===e?{dataField:e,text:"",formatter:function(t,s,n,o){return a.actionComponent(t,s,n,o,e)}}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)()}:{dataField:e,text:t[e],formatter:function(t,s,n,o){return a.textBoxComponent(t,s,n,o,e)},formatExtraData:{colId:e}},s.push(n),""})),s}Xw.programId=os,Xw.ticket=dn,Xw.ticker=cn,Xw.shortName=X,Xw.prodCode=ls,Xw.currencyCode=Ge,Xw.amount=go,Xw.settle=$s,Xw.settlementDate=Ms,Xw.maturityDateStr=da,Xw.bid=ps,Xw.bidYield=In,Xw.afr=le,Xw.price=es,Xw.msgType=Te,Xw.bookNo=Se,Xw.dispDescr=qs,Xw.amendType=yo,Xw[bt]=ko;var aT,sT,nT,oT,iT,lT,cT,rT,dT=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={updateFlag:!1,showinvestor:!1,respMessage:"",rejectReason:"",tradeData:[],holidayData:[],productWeekData:[]},s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.submitData=s.submitData.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.accountChange=s.accountChange.bind(Object(O.a)(s)),s.cusipChange=s.cusipChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.offerData;w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:t.productType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})})),void 0!==t&&""!==t.transType&&"85"===t.transType?this.postData(t,wl):this.postData(t,Nl)}},{key:"postData",value:function(e,t){var a=this;"85"===e.transType?"I"===e.issueType&&(e.fromPage="INVSALE"):e.fromPage="AMEND",e.amount=Po(e.amount),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(a.setState({tradeData:e.data}),void 0!==e.data&&void 0!==e.data.rejectReason&&e.data.rejectReason.length>0?a.setState({rejectReason:e.data.rejectReason}):void 0!==e.data&&void 0!==e.data.responseMessage&&e.data.responseMessage.length>0&&a.setState({respMessage:e.data.responseMessage}))}))}},{key:"onContentChange",value:function(e,t){var a=this.state.tradeData;"notes"!==t&&_o(e),a[t]=e.target.value,"price"===t&&(a.calFlag="yield"),"bidYield"===t&&(a.calFlag="price"),void 0!==a&&""!==a.transType&&"85"===a.transType?this.postData(a,wl):this.postData(a,Nl)}},{key:"accountChange",value:function(e,t){var a=this.state.tradeData;a[t]=e.target.value,this.postData(a,cl)}},{key:"cusipChange",value:function(e){var t=this.state.tradeData;t.selCusip=t.cusip,t.cusip=e.target.value}},{key:"onFieldChange",value:function(e,t){this.state.tradeData[t]=e.target.value}},{key:"onDateChange",value:function(e,t){var a=this.state.tradeData;a[t]=Yu(e,"MM/DD/YY"),void 0!==a&&""!==a.transType&&"85"===a.transType?this.postData(a,wl):this.postData(a,Nl)}},{key:"submitData",value:function(){var e=this.state.tradeData;e.action="SAVE",void 0!==e&&""!==e.transType&&"85"===e.transType?this.postData(e,Cl):this.postData(e,kl)}},{key:"setContent",value:function(){void 0!==this.state.tradeData&&(void 0!==document.getElementById("lyr-bprice")&&null!==document.getElementById("lyr-bprice")&&(document.getElementById("lyr-bprice").value=this.state.tradeData.price),void 0!==document.getElementById("lyr-bbidYield")&&null!==document.getElementById("lyr-bbidYield")&&(document.getElementById("lyr-bbidYield").value=this.state.tradeData.bidYield),void 0!==document.getElementById("lyr-bcoupon")&&null!==document.getElementById("lyr-bcoupon")&&(document.getElementById("lyr-bcoupon").value=this.state.tradeData.coupon))}},{key:"render",value:function(){var e=this,t=this.props.offerData,a=this.state,s=a.holidayData,n=a.productWeekData;return this.setContent(),t?Object(u.jsxs)("div",{className:"modal-cls",id:"TradeAmend",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",Object(u.jsxs)("div",{className:"bgc",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_issuer",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"shortAcct",children:t.shortAcct})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left removewrap",id:"ticker",children:t.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_maturityDate",children:"MAT: "}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"maturityDate",children:0===this.state.tradeData.length?t.maturityDate:this.state.tradeData.maturityDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_coupon",children:"Coupon:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"bid",children:t.bid})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_currencyCode",children:"CURRENCY:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"currencyCode",children:t.currencyCode})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[void 0!==this.props.prodType&&("2300"===this.props.prodType||"2700"===this.props.prodType||"1400"===this.props.prodType)&&Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left font-weight-bold",id:"lyr_cuisp",children:"CUSIP:"}),void 0!==this.props.prodType&&"2200"===this.props.prodType&&Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lyr_isin",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-9 col-sm-9 col-xs-9 text-left",id:"cusip",children:t.cusip})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_prodName",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"prodName",children:0===this.state.tradeData.length?t.prodName:this.state.tradeData.prodName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_datedDate",children:"DATED:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left removewrap",id:"datedDate",children:0===this.state.tradeData.length?t.datedDate:this.state.tradeData.datedDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_settleDTM",children:"DTM:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"settleDTM",children:0===this.state.tradeData.length?t.settle:this.state.tradeData.settle})]})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Offer"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"amount",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold removewrap",children:"Amount ($m) :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-amount",name:"lyr-amount",value:t.amount,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"ly-settle",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Settle :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-settle",name:"lyr-settle",value:t.settlementDate,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_yield",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Yield  :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-Yield ",name:"lyr-Yield ",value:t.bidYield,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl-price",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Price :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-price",name:"lyr-price",value:void 0===t.price||0===t.price?"100.00000":t.price,className:"form-control input-sm",readOnly:!0})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bamount",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:Object(u.jsx)(Eu,{name:"lyr-bamount",id:"lyr-bamount",value:this.state.tradeData.amount,className:"text-right",onBlur:function(t){e.onContentChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bsettle",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"lyr-bsettle",id:"lyr-bsettle",dateValue:new Date(0===this.state.tradeData.length?t.settlementDate:this.state.tradeData.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"settlementDate")},currency:0===this.state.tradeData.length?t.currencyCode:this.state.tradeData.currencyCode,holidayData:s,productWeekData:n})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bbidlbl_",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:Object(u.jsx)(Eu,{name:"lyr-bbidlbl_",id:"lyr-bbidlbl_",value:this.state.tradeData.bidYield,className:"text-right",onBlur:function(t){e.onContentChange(t,"bidYield")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bprice",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"lyr-buy-trade",children:Object(u.jsx)(Eu,{name:"lyr-bprice",id:"lyr-bprice",value:this.state.tradeData.price,className:"text-right",onChange:function(t){e.onContentChange(t,"price")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_residualAmt",children:"Net :"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8   text-right",id:"residualAmt",children:this.state.tradeData.residualAmt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lbl_accruedInterest",children:"Acc Int :"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7  text-right",id:"accruedInterest",children:this.state.tradeData.accruedInterest})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_investor",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Account Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-investor",name:"lyr-investor",value:this.state.tradeData.shortName,onBlur:function(t){e.accountChange(t,"investor")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{name:"lbl_notes",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Notes: "}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-notes",name:"lyr-notes",value:this.state.tradeData.notes,className:"form-control input-sm"})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_cassii",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"OMS:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-cassii",name:"lyr-cassii",value:this.state.tradeData.investerCassii,onBlur:function(t){e.accountChange(t,"investerCassii")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_buysell",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"B/S: "}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-buysell",name:"lyr-buysell",value:this.state.tradeData.notes,className:"form-control input-sm"})})]})]}),void 0!==t&&"10"===t.transType&&Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_cusip",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"CUSIP:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-cusip",name:"lyr-cusip",value:this.state.tradeData.cusip,className:"form-control input-sm",onBlur:function(t){e.cusipChange(t)}})})]})}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:Object(u.jsx)("button",{id:"submit",onClick:this.submitData,className:"btn btn-success btn-xs lyrsubmitfocus",children:"Submit"})})]}):"No data"}}]),a}(o.a.Component),mT=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={updateFlag:!1,showinvestor:!1,respMessage:"",rejectReason:"",tradeData:s.props.offerData,holidayData:[],productWeekData:[]},s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.submitData=s.submitData.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.accountChange=s.accountChange.bind(Object(O.a)(s)),s.cusipChange=s.cusipChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.tradeData;w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:Hh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})})),void 0!==t&&""!==t.transType&&t.transType,this.postData(t,ql)}},{key:"postData",value:function(e,t){var a=this;e.fromPage="AMEND";var s=[],n={};n.transType=e.transType,n.issueId=e.issueId,n.productType=Hh,s.push(n),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){if(t.data){var s=t.data[0];if(s){s.bid=e.bid,s.amount=e.amount,s.settlementDate=e.settlementDate,s.maturityDate=e.maturityDate,s.transType=e.transType,s.issuerId=e.issuerId,s.ticker=e.ticker,void 0!==t.data&&void 0!==t.data.rejectReason&&t.data.rejectReason.length>0?a.setState({rejectReason:t.data.rejectReason}):void 0!==t.data&&void 0!==t.data.responseMessage&&t.data.responseMessage.length>0&&a.setState({respMessage:t.data.responseMessage});var n={};n.amount=Po(e.amount),n.rate=Po(e.bid),n.settlementDate=e.settlementDate,n.maturityDate=e.maturityDate,n.transType=e.transType,n.issuerId=e.issuerId,n.ticker=e.ticker,w()({method:"POST",url:N.URL+Ml,timeout:N.apiTimeOut,data:[n],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(s.netAmt=e.data.netAmt,s.accruedInterest=Lo(e.data.interestAmount),s.investerCassii=e.data.investerCassii,a.setState({updateFlag:!0}))})),a.setState({tradeData:s})}}}))}},{key:"cusipChange",value:function(e){var t=this.state.tradeData;t.selCusip=t.cusip,t.cusip=e.target.value}},{key:"onContentChange",value:function(e,t){var a=this.state.tradeData;"notes"!==t&&_o(e),a[t]=e.target.value,this.setState({tradeData:a}),"notes"!==t&&(void 0!==a&&""!==a.transType&&a.transType,this.postData(a,ql))}},{key:"accountChange",value:function(e,t){var a=this.state.tradeData;a[t]=e.target.value,this.postData(a,cl)}},{key:"onFieldChange",value:function(e,t){this.state.tradeData[t]=e.target.value}},{key:"onDateChange",value:function(e,t){var a=this.state.tradeData;a[t]=Yu(e,"MM/DD/YY"),this.setState({tradeData:a}),void 0!==a&&""!==a.transType&&a.transType,this.postData(a,ql)}},{key:"submitData",value:function(){var e=this,t=this.state.tradeData;t.action="SAVE",t.amount=Po(t.amount),t.rate=t.bid,w()({method:"POST",url:N.URL+tc,timeout:N.apiTimeOut,data:[t],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(a){e.props.returnMethod(a.data.responseMessage,t)})),this.props.onHide()}},{key:"render",value:function(){var e=this,t=this.props.offerData,a=this.state,s=a.holidayData,n=a.productWeekData;return t?Object(u.jsxs)("div",{className:"modal-cls",id:"TradeAmend",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",Object(u.jsxs)("div",{className:"bgc",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_issuer",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"shortAcct",children:t.shortAcct})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"ticker",children:t.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_currencyCode",children:"CURRENCY:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"currencyCode",children:t.currencyCode})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_cuseep",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-9 col-sm-8 col-xs-8 text-left",id:"cusip",children:t.cusip})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_prodName",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"prodName",children:0===this.state.tradeData.length?t.prodName:this.state.tradeData.prodName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lb_spread",children:"SPREAD:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"settle",children:0===this.state.tradeData.length?t.settle:this.state.tradeData.settle})]})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"lbl_offblk",children:"Offer"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"amount",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold removewrap",children:"Amount ($m) :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_amount",children:Object(u.jsx)(Eu,{id:"lyr-amount",name:"lyr-amount",value:Lo(t.amount+""),className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_settle",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Settle :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_settle",children:Object(u.jsx)(Eu,{id:"lyr-settle",name:"lyr-settle",value:t.settlementDate,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_yield",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Rate :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_rate",children:Object(u.jsx)(Eu,{id:"lyr-yield",name:"lyr-yield",value:t.bid,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"maturitydate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Mat :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_mat",children:Object(u.jsx)(Eu,{id:"matdate",name:"matdate",value:t.maturityDate,className:"form-control input-sm",readOnly:!0})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"lbl_trdblk",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bamount",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bammt",children:Object(u.jsx)(Eu,{name:"lyr-bamount",id:"lyr-bamount",value:Lo(this.state.tradeData.amount+""),className:"text-right",onBlur:function(t){e.onContentChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bsettle",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bsttle",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"lyr-bsettle",id:"lyr-bsettle",dateValue:new Date(0===this.state.tradeData.length?t.settlementDate:this.state.tradeData.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"settlementDate")},currency:"USD",holidayData:s,productWeekData:n})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bbidYield",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bbidyild",children:Object(u.jsx)(Eu,{name:"lyr-bbidYield",id:"lyr-bbidYield",value:this.state.tradeData.bid,className:"text-right",onBlur:function(t){e.onContentChange(t,"bid")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_maturitydate",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_matdate",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"lyr-maturitydate",id:"lyr-maturitydate",dateValue:new Date(0===this.state.tradeData.length?t.maturityDate:this.state.tradeData.maturityDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"maturityDate")},currency:"USD",holidayData:s,productWeekData:n})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_netAmt",children:"Net :"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8   text-right",id:"netAmt",children:this.state.tradeData.netAmt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lbl_accruedInterest",children:"Acc Int :"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7  text-right",id:"accruedInterest",children:this.state.tradeData.accruedInterest})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_investor",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Account Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_invstor",children:Object(u.jsx)(Eu,{id:"lyr-investor",name:"lyr-investor",value:this.state.tradeData.shortName,onBlur:function(t){e.accountChange(t,"investor")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_notes",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Notes:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_notes",children:Object(u.jsx)(Eu,{id:"lyr-notes",name:"lyr-notes",value:this.state.tradeData.notes,onBlur:function(t){e.onContentChange(t,"notes")},className:"form-control input-sm"})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_cassii",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"OMS:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_cassii",children:Object(u.jsx)(Eu,{id:"lyr-cassii",name:"lyr-cassii",value:this.state.tradeData.investerCassii,onBlur:function(t){e.accountChange(t,"investerCassii")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_buysell",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"B/S: "}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_buysell",children:Object(u.jsx)(Eu,{id:"lyr-buysell",name:"lyr-buysell",value:"85"===this.state.tradeData.transType?"S":"B",className:"form-control input-sm"})})]})]}),void 0!==t&&"10"===t.transType&&Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_cusip",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"CUSIP:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-cusip",name:"lyr-cusip",value:this.state.tradeData.cusip,className:"form-control input-sm",onBlur:function(t){e.cusipChange(t)}})})]})}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:Object(u.jsx)("button",{id:"submit",onClick:this.submitData,className:"btn btn-success btn-xs lyrsubmitfocus",children:"Submit"})})]}):"No data"}}]),a}(o.a.Component),hT=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={updateFlag:!1,showinvestor:!1,respMessage:"",rejectReason:"",tradeData:s.props.offerData,holidayData:[],productWeekData:[]},s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.submitData=s.submitData.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.accountChange=s.accountChange.bind(Object(O.a)(s)),s.cusipChange=s.cusipChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.tradeData;w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:Wh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})})),void 0!==t&&""!==t.transType&&t.transType,this.postData(t,Oc)}},{key:"postData",value:function(e,t){var a=this;e.fromPage="AMEND";var s=[],n={};n.transType=e.transType,n.issueId=e.issueId,n.productType=Wh,s.push(n),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){if(t.data){var s=t.data[0];s.bid=e.bid,s.amount=e.amount,s.settlementDate=e.settlementDate,s.maturityDate=e.maturityDate,s.transType=e.transType,s.issuerId=e.issuerId,s.ticker=e.ticker,s.productType=e.productType,void 0!==t.data&&void 0!==t.data.rejectReason&&t.data.rejectReason.length>0?a.setState({rejectReason:t.data.rejectReason}):void 0!==t.data&&void 0!==t.data.responseMessage&&t.data.responseMessage.length>0&&a.setState({respMessage:t.data.responseMessage});var n={};n.amount=Po(e.amount),n.rate=Po(e.bid),n.settlementDate=e.settlementDate,n.maturityDate=e.maturityDate,n.transType=e.transType,n.issuerId=e.issuerId,n.ticker=e.ticker,n.productType=e.productType,w()({method:"POST",url:N.URL+Ml,timeout:N.apiTimeOut,data:[n],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(s.netAmt=e.data.netAmt,s.accruedInterest=Lo(e.data.interestAmount),s.investerCassii=e.data.investerCassii,a.setState({updateFlag:!0}))})),a.setState({tradeData:s})}}))}},{key:"cusipChange",value:function(e){var t=this.state.tradeData;t.selCusip=t.cusip,t.cusip=e.target.value}},{key:"onContentChange",value:function(e,t){var a=this.state.tradeData;"notes"!==t&&_o(e),a[t]=e.target.value,this.setState({tradeData:a}),"notes"!==t&&(void 0!==a&&""!==a.transType&&a.transType,this.postData(a,Oc))}},{key:"accountChange",value:function(e,t){var a=this.state.tradeData;a[t]=e.target.value,this.postData(a,cl)}},{key:"onFieldChange",value:function(e,t){this.state.tradeData[t]=e.target.value}},{key:"onDateChange",value:function(e,t){var a=this.state.tradeData;a[t]=Yu(e,"MM/DD/YY"),this.setState({tradeData:a}),void 0!==a&&""!==a.transType&&a.transType,this.postData(a,Oc)}},{key:"submitData",value:function(){var e=this,t=this.state.tradeData;t.action="SAVE",t.amount=Po(t.amount),t.rate=t.bid,w()({method:"POST",url:N.URL+gc,timeout:N.apiTimeOut,data:[t],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(a){e.props.returnMethod(a.data.responseMessage,t)})),this.props.onHide()}},{key:"render",value:function(){var e=this,t=this.props.offerData,a=this.state,s=a.holidayData,n=a.productWeekData;return t?Object(u.jsxs)("div",{className:"modal-cls",id:"TradeAmend",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",Object(u.jsxs)("div",{className:"bgc",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_issuer",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"shortAcct",children:t.shortAcct})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"ticker",children:t.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_currencyCode",children:"CURRENCY:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"currencyCode",children:t.currencyCode})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left font-weight-bold",id:"lbl_cuseep",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left ",id:"cusip",children:t.cusip})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_prodName",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"prodName",children:0===this.state.tradeData.length?t.prodName:this.state.tradeData.prodName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lb_spread",children:"SPREAD:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"settle",children:0===this.state.tradeData.length?t.settle:this.state.tradeData.settle})]})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"lbl_offerblock",children:"Offer"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"amount",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold removewrap",children:"Amount ($m) :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_ammt",children:Object(u.jsx)(Eu,{id:"lyr-amount",name:"lyr-amount",value:Lo(t.amount+""),className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_settle",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Settle :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_settle",children:Object(u.jsx)(Eu,{id:"lyr-settle",name:"lyr-settle",value:t.settlementDate,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_yield",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Rate :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_yield",children:Object(u.jsx)(Eu,{id:"lyr-yield",name:"lyr-yield",value:t.bid,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"maturitydate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Mat :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_maturitydate",children:Object(u.jsx)(Eu,{id:"lyr-matdate",name:"lyr-matdate",value:t.maturityDate,className:"form-control input-sm",readOnly:!0})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"lbl_tradeblk",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bamount",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bammt",children:Object(u.jsx)(Eu,{name:"lyr-bamount",id:"lyr-bamount",value:Lo(this.state.tradeData.amount+""),className:"text-right",onBlur:function(t){e.onContentChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bv",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_tradeDate",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"lyr-bsettle",id:"lyr-bsettle",dateValue:new Date(0===this.state.tradeData.length?t.settlementDate:this.state.tradeData.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"settlementDate")},currency:"USD",holidayData:s,productWeekData:n})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bbidYield",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bbidYield",children:Object(u.jsx)(Eu,{name:"lyr-bbidYield",id:"lyr-bbidYield",value:this.state.tradeData.bid,className:"text-right",onBlur:function(t){e.onContentChange(t,"bid")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_maturitydate",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"val_matdate",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"lyr-maturitydate",id:"lyr-maturitydate",dateValue:new Date(0===this.state.tradeData.length?t.maturityDate:this.state.tradeData.maturityDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"maturityDate")},currency:"USD",holidayData:s,productWeekData:n})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_netAmt",children:"Net :"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8   text-right",id:"netAmt",children:this.state.tradeData.netAmt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lbl_accruedInterest",children:"Acc Int :"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7  text-right",id:"accruedInterest",children:this.state.tradeData.accruedInterest})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_investor",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Account Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_investor",children:Object(u.jsx)(Eu,{id:"lyr-investor",name:"lyr-investor",value:this.state.tradeData.shortName,onBlur:function(t){e.accountChange(t,"investor")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_notes",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Notes:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"val_notes",children:Object(u.jsx)(Eu,{id:"lyr-notes",name:"lyr-notes",value:this.state.tradeData.notes,onBlur:function(t){e.onContentChange(t,"notes")},className:"form-control input-sm"})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_cassii",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"OMS:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"val_cassi",children:Object(u.jsx)(Eu,{id:"lyr-cassii",name:"lyr-cassii",value:this.state.tradeData.investerCassii,onBlur:function(t){e.accountChange(t,"investerCassii")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_buysell",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"B/S: "}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"val_buysell",children:Object(u.jsx)(Eu,{id:"lyr-buysell",name:"lyr-buysell",value:"85"===this.state.tradeData.transType?"S":"B",className:"form-control input-sm"})})]})]}),void 0!==t&&"10"===t.transType&&Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_cusip",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"CUSIP:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-cusip",name:"lyr-cusip",value:this.state.tradeData.cusip,className:"form-control input-sm",onBlur:function(t){e.cusipChange(t)}})})]})}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:Object(u.jsx)("button",{id:"submit",onClick:this.submitData,className:"btn btn-success btn-xs lyrsubmitfocus",children:"Submit"})})]}):"No data"}}]),a}(o.a.Component),uT=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={updateFlag:!1,showinvestor:!1,respMessage:"",rejectReason:"",tradeData:s.props.offerData,holidayData:[],productWeekData:[]},s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.submitData=s.submitData.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.accountChange=s.accountChange.bind(Object(O.a)(s)),s.cusipChange=s.cusipChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.tradeData;w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:Zh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})})),void 0!==t&&""!==t.transType&&t.transType,this.postData(t,ql)}},{key:"postData",value:function(e,t){var a=this;e.fromPage="AMEND";var s=[],n={};n.transType=e.transType,n.issueId=e.issueId,n.productType=Zh,s.push(n),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){if(t.data){var s=t.data[0];s.bid=e.bid,s.amount=e.amount,s.settlementDate=e.settlementDate,s.maturityDate=e.maturityDate,s.transType=e.transType,s.issuerId=e.issuerId,s.ticker=e.ticker,void 0!==t.data&&void 0!==t.data.rejectReason&&t.data.rejectReason.length>0?a.setState({rejectReason:t.data.rejectReason}):void 0!==t.data&&void 0!==t.data.responseMessage&&t.data.responseMessage.length>0&&a.setState({respMessage:t.data.responseMessage});var n={};n.amount=Po(e.amount),n.rate=Po(e.bid),n.settlementDate=e.settlementDate,n.maturityDate=e.maturityDate,n.transType=e.transType,n.issuerId=e.issuerId,n.ticker=e.ticker,n.productType=e.productType,w()({method:"POST",url:N.URL+Ml,timeout:N.apiTimeOut,data:[n],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(s.netAmt=e.data.netAmt,s.accruedInterest=Lo(e.data.interestAmount),s.investerCassii=e.data.investerCassii,a.setState({updateFlag:!0}))})),a.setState({tradeData:s})}}))}},{key:"cusipChange",value:function(e){var t=this.state.tradeData;t.selCusip=t.cusip,t.cusip=e.target.value}},{key:"onContentChange",value:function(e,t){var a=this.state.tradeData;"notes"!==t&&_o(e),a[t]=e.target.value,this.setState({tradeData:a}),"notes"!==t&&(void 0!==a&&""!==a.transType&&a.transType,this.postData(a,ql))}},{key:"accountChange",value:function(e,t){var a=this.state.tradeData;a[t]=e.target.value,this.postData(a,cl)}},{key:"onFieldChange",value:function(e,t){this.state.tradeData[t]=e.target.value}},{key:"onDateChange",value:function(e,t){var a=this.state.tradeData;a[t]=Yu(e,"MM/DD/YY"),this.setState({tradeData:a}),void 0!==a&&""!==a.transType&&a.transType,this.postData(a,ql)}},{key:"submitData",value:function(){var e=this,t=this.state.tradeData;t.action="SAVE",t.amount=Po(t.amount),t.accruedInterest=Po(t.accruedInterest),t.rate=t.bid,w()({method:"POST",url:N.URL+tc,timeout:N.apiTimeOut,data:[t],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(a){e.props.returnMethod(a.data.responseMessage,t)})),this.props.onHide()}},{key:"render",value:function(){var e=this,t=this.props.offerData,a=this.state,s=a.holidayData,n=a.productWeekData;return t?Object(u.jsxs)("div",{className:"modal-cls",id:"TradeAmend",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",Object(u.jsxs)("div",{className:"bgc",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_issuer",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"shortAcct",children:t.shortAcct})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"ticker",children:t.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_currencyCode",children:"CURRENCY:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"currencyCode",children:t.currencyCode})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left font-weight-bold",id:"lbl_cusip",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-9 col-sm-9 col-xs-9 text-left",id:"cusip",children:t.cusip})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_prodName",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"prodName",children:0===this.state.tradeData.length?t.prodName:this.state.tradeData.prodName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lb_spread",children:"SPREAD:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"settle",children:0===this.state.tradeData.length?t.settle:this.state.tradeData.settle})]})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"lbl_offer",children:"Offer"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"amount",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold removewrap",children:"Amount ($m) :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_amount",children:Object(u.jsx)(Eu,{id:"lyr-amount",name:"lyr-amount",value:Lo(t.amount+""),className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_settle",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Settle :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_settle",children:Object(u.jsx)(Eu,{id:"lyr-settle",name:"lyr-settle",value:t.settlementDate,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_yield",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Rate :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_yield",children:Object(u.jsx)(Eu,{id:"lyr-yield",name:"lyr-yield",value:t.bid,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"maturitydate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Mat :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_matdate",children:Object(u.jsx)(Eu,{id:"lyr-matdate",name:"lyr-matdate",value:t.maturityDate,className:"form-control input-sm",readOnly:!0})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"lbl_trade",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bamount",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bamount",children:Object(u.jsx)(Eu,{name:"lyr-bamount",id:"lyr-bamount",value:Lo(this.state.tradeData.amount+""),className:"text-right",onBlur:function(t){e.onContentChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bsettle",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bsettle",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"lyr-bsettle",id:"lyr-bsettle",dateValue:new Date(0===this.state.tradeData.length?t.settlementDate:this.state.tradeData.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"settlementDate")},currency:this.state.tradeData.currencyCode?this.state.tradeData.currencyCode:t.currencyCode,holidayData:s,productWeekData:n})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bbidYield",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bbidyeld",children:Object(u.jsx)(Eu,{name:"lyr-bbidYield",id:"lyr-bbidYield",value:this.state.tradeData.bid,className:"text-right",onBlur:function(t){e.onContentChange(t,"bid")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_maturitydate",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_maturitydate",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"lyr-maturitydate",id:"lyr-maturitydate",dateValue:new Date(0===this.state.tradeData.length?t.maturityDate:this.state.tradeData.maturityDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"maturityDate")},currency:this.state.tradeData.currencyCode?this.state.tradeData.currencyCode:t.currencyCode,holidayData:s,productWeekData:n})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_netAmt",children:"Net :"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8   text-right",id:"netAmt",children:this.state.tradeData.netAmt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lbl_accruedInterest",children:"Acc Int :"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7  text-right",id:"accruedInterest",children:this.state.tradeData.accruedInterest})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_investor",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Account Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_investor",children:Object(u.jsx)(Eu,{id:"lyr-investor",name:"lyr-investor",value:this.state.tradeData.shortName,onBlur:function(t){e.accountChange(t,"investor")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_notes",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Notes:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_notes",children:Object(u.jsx)(Eu,{id:"lyr-notes",name:"lyr-notes",value:this.state.tradeData.notes,onBlur:function(t){e.onContentChange(t,"notes")},className:"form-control input-sm"})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_cassii",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"OMS:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_cassii",children:Object(u.jsx)(Eu,{id:"lyr-cassii",name:"lyr-cassii",value:this.state.tradeData.investerCassii,onBlur:function(t){e.accountChange(t,"investerCassii")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_buysell",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"B/S: "}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_buysell",children:Object(u.jsx)(Eu,{id:"lyr-buysell",name:"lyr-buysell",value:"85"===this.state.tradeData.transType?"S":"B",className:"form-control input-sm"})})]})]}),void 0!==t&&"10"===t.transType&&Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_cusip",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"CUSIP:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-cusip",name:"lyr-cusip",value:this.state.tradeData.cusip,className:"form-control input-sm",onBlur:function(t){e.cusipChange(t)}})})]})}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:Object(u.jsx)("button",{id:"submit",onClick:this.submitData,className:"btn btn-success btn-xs lyrsubmitfocus",children:"Submit"})})]}):"No data"}}]),a}(o.a.Component),bT=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={updateFlag:!1,showinvestor:!1,respMessage:"",rejectReason:"",tradeData:[],holidayData:[],productWeekData:[]},s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.submitData=s.submitData.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.accountChange=s.accountChange.bind(Object(O.a)(s)),s.cusipChange=s.cusipChange.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.offerData;w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:t.productType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})})),void 0!==t&&""!==t.transType&&"85"===t.transType?this.postData(t,wl):this.postData(t,mc)}},{key:"postData",value:function(e,t){var a=this;"85"===e.transType?"I"===e.issueType&&(e.fromPage="INVSALE"):e.fromPage="AMEND",e.amount=Po(e.amount),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(a.setState({tradeData:e.data}),void 0!==e.data&&void 0!==e.data.rejectReason&&e.data.rejectReason.length>0?a.setState({rejectReason:e.data.rejectReason}):void 0!==e.data&&void 0!==e.data.responseMessage&&e.data.responseMessage.length>0&&a.setState({respMessage:e.data.responseMessage}),t!==Nc&&t!==kl||a.props.returnMethod(e.data.responseMessage,a.state.tradeData))}))}},{key:"cusipChange",value:function(e){var t=this.state.tradeData;t.selCusip=t.cusip,t.cusip=e.target.value}},{key:"onContentChange",value:function(e,t){var a=this.state.tradeData;"notes"!==t&&_o(e),a[t]=e.target.value,"price"===t&&(a.calFlag="yield"),"bidYield"===t&&(a.calFlag="price"),void 0!==a&&""!==a.transType&&"85"===a.transType?this.postData(a,wl):this.postData(a,mc)}},{key:"accountChange",value:function(e,t){var a=this.state.tradeData;a[t]=e.target.value,this.postData(a,cl)}},{key:"onFieldChange",value:function(e,t){this.state.tradeData[t]=e.target.value}},{key:"onDateChange",value:function(e,t){var a=this.state.tradeData;a[t]=Yu(e,"MM/DD/YY"),void 0!==a&&""!==a.transType&&"85"===a.transType?this.postData(a,wl):this.postData(a,mc)}},{key:"submitData",value:function(){var e=this.props.offerData,t=this.state.tradeData;t.action="SAVE",t.availableCredit=e.amount,void 0!==t&&""!==t.transType&&"85"===t.transType?this.postData(t,Nc):this.postData(t,kl),this.props.onHide()}},{key:"setContent",value:function(){void 0!==this.state.tradeData&&(void 0!==document.getElementById("lyr-bprice")&&null!==document.getElementById("lyr-bprice")&&(document.getElementById("lyr-bprice").value=this.state.tradeData.price),void 0!==document.getElementById("lyr-bbidYield")&&null!==document.getElementById("lyr-bbidYield")&&(document.getElementById("lyr-bbidYield").value=this.state.tradeData.bidYield),void 0!==document.getElementById("lyr-bcoupon")&&null!==document.getElementById("lyr-bcoupon")&&(document.getElementById("lyr-bcoupon").value=this.state.tradeData.coupon))}},{key:"render",value:function(){var e=this,t=this.props.offerData,a=this.state,s=a.holidayData,n=a.productWeekData;return this.setContent(),t?Object(u.jsxs)("div",{className:"modal-cls",id:"TradeAmend",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",Object(u.jsxs)("div",{className:"bgc",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_issuer",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"shortAcct",children:t.shortAcct})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left removewrap",id:"ticker",children:t.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_maturityDate",children:"Mat:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"maturityDate",children:0===this.state.tradeData.length?t.maturityDate:this.state.tradeData.maturityDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_coupon",children:"Coupon:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"bid",children:t.bid})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_currencyCode",children:"Currency:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"currencyCode",children:t.currencyCode})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lyr_cuisp",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"cusip",children:t.cusip})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_prodName",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"prodName",children:0===this.state.tradeData.length?t.prodName:this.state.tradeData.prodName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_datedDate",children:"Dated:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"datedDate",children:0===this.state.tradeData.length?t.datedDate:this.state.tradeData.datedDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_settleDTM",children:"DTM:"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7 text-left",id:"settleDTM",children:0===this.state.tradeData.length?t.settle:this.state.tradeData.settle})]})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"lbl_offerblk",children:"Offer"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"amount",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold removewrap",children:"Amount ($m) :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_ammount",children:Object(u.jsx)(Eu,{id:"lyr-amount",name:"lyr-amount",value:t.amount,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"ly-settle",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Settle :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_seettle",children:Object(u.jsx)(Eu,{id:"lyr-settle",name:"lyr-settle",value:t.settlementDate,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_yield",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Yield  :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_yieeld",children:Object(u.jsx)(Eu,{id:"lyr-Yield ",name:"lyr-Yield ",value:t.bidYield,className:"form-control input-sm",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl-price",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Price :"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7  text-left",id:"v_price",children:Object(u.jsx)(Eu,{id:"lyr-price",name:"lyr-price",value:void 0===t.price||0===t.price?"100.00000":t.price,className:"form-control input-sm",readOnly:!0})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",id:"lbl_tradeblc",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bamount",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bamount",children:Object(u.jsx)(Eu,{name:"lyr-bamount",id:"lyr-bamount",value:this.state.tradeData.amount,className:"text-right",onBlur:function(t){e.onContentChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bsettle",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bseettl",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"lyr-bsettle",id:"lyr-bsettle",dateValue:new Date(0===this.state.tradeData.length?t.settlementDate:this.state.tradeData.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"settlementDate")},currency:this.state.tradeData.currencyCode?this.state.tradeData.currencyCode:t.currencyCode,holidayData:s,productWeekData:n})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bbidlbl_",className:"form-label col-md-4 col-sm-4 col-xs-4  text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_bbidlbl",children:Object(u.jsx)(Eu,{name:"lyr-bbidlbl_",id:"lyr-bbidlbl_",value:this.state.tradeData.bidYield,className:"text-right",onBlur:function(t){e.onContentChange(t,"bidYield")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_bprice",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8  text-left",id:"v_lblprice",children:Object(u.jsx)(Eu,{name:"lyr-bprice",id:"lyr-bprice",value:this.state.tradeData.price,className:"text-right",onChange:function(t){e.onContentChange(t,"price")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_residualAmt",children:"Net :"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8   text-right",id:"residualAmt",children:this.state.tradeData.netAmt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lbl_accruedInterest",children:"Acc Int :"}),Object(u.jsx)("label",{className:"form-label col-md-7 col-sm-7 col-xs-7  text-right",id:"accruedInterest",children:this.state.tradeData.accruedInterest})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_investor",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Acount Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_investor",children:Object(u.jsx)(Eu,{id:"lyr-investor",name:"lyr-investor",value:this.state.tradeData.shortName,onBlur:function(t){e.accountChange(t,"investor")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{name:"lbl_notes",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Notes: "}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_notes",children:Object(u.jsx)(Eu,{id:"lyr-notes",name:"lyr-notes",value:this.state.tradeData.notes,className:"form-control input-sm"})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_cassii",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"OMS:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_cassii",children:Object(u.jsx)(Eu,{id:"lyr-cassii",name:"lyr-cassii",value:this.state.tradeData.investerCassii,onBlur:function(t){e.accountChange(t,"investerCassii")},className:"form-control input-sm"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_buysell",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"B/S: "}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"v_bysell",children:Object(u.jsx)(Eu,{id:"lyr-buysell",name:"lyr-buysell",value:this.state.tradeData.notes,className:"form-control input-sm"})})]})]}),void 0!==t&&"10"===t.transType&&Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{id:"lbl_cusip",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"CUSIP:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",id:"lyr-buy-offer",children:Object(u.jsx)(Eu,{id:"lyr-cusip",name:"lyr-cusip",value:this.state.tradeData.cusip,className:"form-control input-sm",onBlur:function(t){e.cusipChange(t)}})})]})}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:Object(u.jsx)("button",{id:"submit",onClick:this.submitData,className:"btn btn-success btn-xs lyrsubmitfocus",children:"Submit"})})]}):"No data"}}]),a}(o.a.Component),pT=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectData:""},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.modalData;return e?Object(u.jsxs)(P.a,{size:"md",show:this.props.show,onHide:this.props.onHide,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:"Trade Amend"})}),Object(u.jsx)(P.a.Body,{children:this.props.prodType===Hh?Object(u.jsx)(mT,{onHide:this.props.onHide,offerData:e,prodType:this.props.prodType,returnMethod:this.props.returnMethod}):this.props.prodType===Wh?Object(u.jsx)(hT,{onHide:this.props.onHide,offerData:e,prodType:this.props.prodType,returnMethod:this.props.returnMethod}):this.props.prodType===Zh?Object(u.jsx)(uT,{onHide:this.props.onHide,offerData:e,prodType:this.props.prodType,returnMethod:this.props.returnMethod}):this.props.prodType===Gh?Object(u.jsx)(bT,{onHide:this.props.onHide,offerData:e,prodType:this.props.prodType,returnMethod:this.props.returnMethod}):Object(u.jsx)(dT,{onHide:this.props.onHide,offerData:e,prodType:this.props.prodType})})]}):""}}]),a}(o.a.Component),jT=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).textBoxComponent=function(e,t,a,n,o){var i,l=n.colId,c=l+a;return i=e,"amount"!==l&&"rate"!==l||(i=Lo(e)),Object(u.jsx)(Eu,{name:c,id:c,value:i,onBlur:function(e){s.onFieldChange(e,t.issueId,t,l,a)}})},s.onFieldChange=function(e,t,a,n,o){var i,l=!0;if("bid"===n?i="1234567890.":"amount"===n?i="1234567890.,mmMMkkKK":l=!1,!0===l&&!1===Bo(e.target.value,i))s.setState({actionTitle:"Alert",actionMessage:"bid"===n?Ym:wm,showError:!0,updateData:!1}),e.target.value=a[n],e.target.focus();else{var c=s.state.tradeData;"amount"===n||"bid"===n?(_o(e),c[o][n]=Po(e.target.value),"bid"===n&&(c[o].rate=Po(e.target.value)),s.doCalc(c[o],o)):c[o][n]=e.target.value}},s.state={selectData:"",amendData:"",actionTitle:"",actionMessage:"",showError:!1,alertShow:!1,payload:[],tradeData:s.props.data,updateData:!0,settlementDate:new Date,maturityDate:new Date,holidayData:[],productWeekData:[]},s.hideAlert=s.hideAlert.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.dateComponent=s.dateComponent.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.imgComponent=s.imgComponent.bind(Object(O.a)(s)),s.actionComponent=s.actionComponent.bind(Object(O.a)(s)),s.onDateChange=s.onDateChange.bind(Object(O.a)(s)),s.onSingleAmend=s.onSingleAmend.bind(Object(O.a)(s)),s.onAmendAll=s.onAmendAll.bind(Object(O.a)(s)),s.doCalc=s.doCalc.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.tradeData;w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:t[0].productType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})}));for(var a=0;a<t.length;a++)this.doCalc(t[a],a)}},{key:"dateComponent",value:function(e,t,a,s,n){var o=this,i=this.state,l=i.holidayData,c=i.productWeekData;return Object(u.jsx)("div",{children:"settlementDate"===n?Object(u.jsx)(Ju,{label:n+a,id:n+a,fromDate:new Date(e),fromDateFlg:!0,onchange:function(e){o.onDateChange(e,n,a)},currency:t.currencyCode,holidayData:l,productWeekData:c}):Object(u.jsx)(Ju,{label:n+a,id:n+a,toDate:new Date(e),toDateFlg:!0,onchange:function(e){o.onDateChange(e,n,a)},currency:t.currencyCode,holidayData:l,productWeekData:c})})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):void 0}},{key:"actionComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(D.a,{id:n+a,onClick:function(e){return o.onSingleAmend(e,a)},children:"Amend"})}},{key:"onSingleAmend",value:function(e,t){var a=this,s=this.state.tradeData;s[t].amount=Po(s[t].amount),s[t].rate=Po(s[t].rate),s[t].net=Po(s[t].net),s[t].interestAmount=Po(s[t].interestAmount);var n=N.URL+tc;this.props.prodType===Wh&&(n=N.URL+gc),w()({method:"POST",url:n,timeout:N.apiTimeOut,data:[s[t]],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.props.returnMethod(e.data.responseMessage,s),a.setState({updateData:!0})})),this.props.onHide()}},{key:"onAmendAll",value:function(){for(var e=this,t=this.state.tradeData,a=t,s=0;s<a.length;s++)a[s].amount=Po(a[s].amount),a[s].rate=Po(a[s].rate),a[s].net=Po(a[s].net),a[s].interestAmount=Po(a[s].interestAmount);var n=N.URL+tc;this.props.prodType===Wh&&(n=N.URL+gc),w()({method:"POST",url:n,timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(a){e.props.returnMethod(a.data.responseMessage,t),e.setState({updateData:!0})})),this.props.onHide()}},{key:"onDateChange",value:function(e,t,a){var s=this.state.tradeData;s[a][t]=Yu(e,"M/D/YY"),this.doCalc(s[a],a)}},{key:"doCalc",value:function(e,t){var a=this,s=this.state.tradeData,n={};n.amount=Po(e.amount),n.rate=Po(e.bid),n.settlementDate=e.settlementDate,n.maturityDate=e.maturityDate,n.transType=e.transType,n.issuerId=e.issuerId,n.ticker=e.ticker,n.productType=e.productType;var o=N.URL+Ml;w()({method:"POST",url:o,timeout:N.apiTimeOut,data:[n],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(s[t].net=e.data.netAmt,s[t].interestAmount=Lo(e.data.interestAmount),a.setState({updateFlag:!0,tradeData:s,updateData:!0}))}))}},{key:"hideAlert",value:function(){this.setState({alertShow:!1,updateData:!0})}},{key:"confirmAction",value:function(e){var t=this.state.payload;this.setState({alertShow:!1,updateData:!1}),this.props.returnMethod(t)}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"render",value:function(){var e=this,t=this.props.data,a=this.state,s=a.holidayData,n=a.productWeekData,o={};return o.textBoxComponent=this.textBoxComponent,o.dateComponent=this.dateComponent,o.imgComponent=this.imgComponent,o.actionComponent=this.actionComponent,t&&(s.length>0||n.length>0)?Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.title})}),Object(u.jsxs)(P.a.Body,{children:[Object(u.jsx)(Yb,{cprops:this.props.cprops,data:this.props.data,updateData:this.state.updateData,edit:!1,fixedTable:!0,mappings:this.props.mappings,keyField:this.props.keyField,customComponents:o,excelFlag:"true"}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]}),Object(u.jsx)(P.a.Footer,{children:Object(u.jsx)(D.a,{id:"amendAll",onClick:this.onAmendAll,children:"Amend All"})})]}):""}}]),a}(o.a.Component),xT=[],fT=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openShowTicket=function(e,t){s.setState({modalShowTicketData:t,ShowTicketModal:!0,updateData:!1})},s.openMpModal=function(e,t){var a=xT[t];a=e,s.setState({buyInData:a,showMpModal:!0,isMultiple:!0,updateData:!1})},s.state={cmodal:!0,showModal:!1,showAmendModal:!1,modalData:"",fromDateValue:new Date,toDateValue:new Date,modalDataRow:"",modalShowTicketData:"",ShowTicketModal:!1,buyInData:[],actionTitle:"",actionMessage:"",alertShow:!1,actionFlag:"",issueIds:[],isMultiple:!1,requestArray:[],bookId:"",showError:!1,updateData:!0},s.linkShowTicket=s.linkShowTicket.bind(Object(O.a)(s)),s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkShowTicker=s.linkShowTicker.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.checkBoxComponent=s.checkBoxComponent.bind(Object(O.a)(s)),s.amendAction=s.amendAction.bind(Object(O.a)(s)),s.openSingleModal=s.openSingleModal.bind(Object(O.a)(s)),s.openMpModal=s.openMpModal.bind(Object(O.a)(s)),s.setScreenData=s.setScreenData.bind(Object(O.a)(s)),s.delete=s.delete.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s.returnMethod=s.returnMethod.bind(Object(O.a)(s)),s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.getDefaultBookValues=s.getDefaultBookValues.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,updateData:!1})}},{key:"linkShowTicket",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:function(e){return o.openShowTicket(e,t)},children:Object(u.jsx)(B.C,{size:"14"})})}},{key:"openModal",value:function(e,t){var a;Object.keys(e).map((function(s){e[s]===t&&(s!==rn&&s!==ln||(a=s))})),this.setState({modalData:a,modalDataRow:e,showModal:!0,updateData:!1})}},{key:"hideModal",value:function(){this.setState({showModal:!1,ShowTicketModal:!1,showAmendModal:!1,showMpModal:!1,alertShow:!1,updateData:!0})}},{key:"linkShowTicker",value:function(e,t,a,s,n){if("0"!==e)return Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:this.openModal.bind(this,t,e),children:e})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{className:"text-warning pdl4",children:e})]}):"Rejtd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{className:"text-warning pdl4",children:e})]}):void 0}},{key:"checkBoxComponent",value:function(e,t,a,s,n){var o=this,i="issueId"+a;if("Canld"!==t.dispDescr&&"Matrd"!==t.dispDescr)return Object(u.jsx)("div",{children:this.props.message?Object(u.jsx)(B.l,{className:"text-danger"}):Object(u.jsx)("input",{type:"checkbox",name:i,id:i,value:t.issueId,onClick:function(s){return o.amendCheck(e,a,t,s)}})})}},{key:"amendCheck",value:function(e,t,a,s){var n=this,o=this.state.requestArray,i=this.state.issueIds,l=[];if(s&&!0===s.target.checked&&l.push(t),s.target.checked){var c={};(c=xT.filter((function(e){return e.issueId===s.target.value}))[0]).amount=c.amount+"",c.net=c.net?c.net:"0.00",c.interest=c.interest?c.interest:"0.00",o.push(c),this.setState({issueIds:i,requestArray:o,updateData:!1})}else{var r=o;r=r.filter((function(e){return e.issueId!==s.target.value})),this.setState({issueIds:i,requestArray:r,updateData:!1})}s&&!1===s.target.checked&&l.splice(l.indexOf(t),1);var d=document.getElementById("oamend");null!==d&&d.addEventListener("click",(function(e){return n.amendAction(s,t,l)}),!0),null!==(d=document.getElementById("odelete"))&&d.addEventListener("click",(function(e){return n.delete(o,s,t,l)}),!0)}},{key:"delete",value:function(e,t,a,s){this.setState({actionTitle:"Delete",actionMessage:yh,alertShow:!0,issueIds:e,updateData:!1})}},{key:"confirmAction",value:function(e){var t=this,a=this.state.requestArray;this.setState({alertShow:!1}),a.length>1?w()({method:"POST",url:N.URL+ec,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data[1],updateData:!0})})):w()({method:"POST",url:N.URL+zl,timeout:N.apiTimeOut,data:a[0],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data,updateData:!0})})),this.setState({issueIds:[],updateData:!0})}},{key:"amendAction",value:function(e,t,a){var s=this.state.requestArray;s.length>1?this.openMpModal(s,a):this.openSingleModal(s,a)}},{key:"openSingleModal",value:function(e,t){var a=e;this.setState({buyInData:a,showAmendModal:!0,isMultiple:!1,updateData:!1})}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1})}},{key:"fromDateChange",value:function(e){this.setState({responseMessage:"",fromDateValue:e,updateData:!0})}},{key:"toDateChange",value:function(e){this.setState({responseMessage:"",toDateValue:e,updateData:!0})}},{key:"setScreenData",value:function(e){xT=e}},{key:"returnMethod",value:function(e,t){this.setState({responseMessage:e,requestArray:t,updateData:!0})}},{key:"tickerChange",value:function(e){this.setState({responseMessage:"",bookId:e.target.value,updateData:!0})}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All",updateData:!1})}},{key:"render",value:function(){var e=this,t={};t.linkShowTicket=this.linkShowTicket,t.linkShowTicker=this.linkShowTicker,t.imgComponent=this.imgComponent,t.checkBoxComponent=this.checkBoxComponent;var a=this.state,s=a.isMultiple,n=a.requestArray;return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Book",id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Hh,loginId:this.props.secTraderId},onchange:this.tickerChange,selected:this.state.bookId,id:"bookId",stateMethod:this.getDefaultBookValues})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.fromDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsx)(Yb,{cprops:"3"!==sessionStorage.getItem("membercatid")?Xw:zw,apiCall:ar,updateData:this.state.updateData,wsUrl:!0,reqParams:{prodType:Hh,fromDate:Vu(this.state.fromDateValue),toDate:Vu(this.state.toDateValue),loginid:this.props.secTraderId,bookId:this.state.bookId,socketSource:"SECONDARYTRADE"},edit:!1,mappings:$w,customComponents:t,calBack:this.setScreenData,keyField:"issueId",screenName:"TRADE_BLOTTER",subTitle:" CP",flagPdf:!0}),this.state.modalData===ln&&Object(u.jsx)(rp,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:Hh,modalData:this.state.modalData,modalDataRow:this.state.modalDataRow,message:this.props.message}),Object(u.jsx)(kp,{size:"md",show:this.state.ShowTicketModal,onHide:function(){return e.hideModal()},modalHead:"Show Ticket",prodType:Hh,modalDataRow:this.state.modalShowTicketData}),!1===s?Object(u.jsx)(pT,{show:this.state.showAmendModal,onHide:function(){return e.hideModal()},prodType:Hh,modalData:n[0],returnMethod:this.returnMethod}):Object(u.jsx)(jT,{show:this.state.showMpModal,onHide:function(){return e.hideModal()},prodType:Hh,data:n,cprops:Jw,mappings:eT,keyField:"issueId",title:"Trade Amend",returnMethod:this.returnMethod}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideModal()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})})}}]),a}(o.a.Component),gT=[],OT=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).textBoxComponent=function(e,t,a,n,o){var i,l=n.colId,c=l+a;return i=e,"amount"===l&&(i=Lo(e)),Object(u.jsx)(Eu,{name:c,style:{width:"120px"},className:"cassii"!==e&&"text-right",id:c,value:i,onBlur:function(e){s.onFieldChange(e,t.issueId,t,l,a)}})},s.onFieldChange=function(e,t,a,n,o){var i,l=!0;"bidYield"===n?i="1234567890.":"amount"===n?i="1234567890.,mmMMkkKK":l=!1,!0===l&&!1===Bo(e.target.value,i)?(s.setState({actionTitle:"Alert",actionMessage:"bid"===n?Ym:wm,showError:!0,updateData:!1}),e.target.value=a[n],e.target.focus()):"amount"===n||"bidYield"===n?(_o(e),gT[o][n]=Po(e.target.value),"bidYield"===n&&(gT[o].bidYield=Po(e.target.value)),s.doProcess(gT[o],o)):gT[o][n]=e.target.value},s.state={actionTitle:"",actionMessage:"",showError:!1,alertShow:!1,updateData:!0},s.hideAlert=s.hideAlert.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.dateComponent=s.dateComponent.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.imgComponent=s.imgComponent.bind(Object(O.a)(s)),s.actionComponent=s.actionComponent.bind(Object(O.a)(s)),s.onDateChange=s.onDateChange.bind(Object(O.a)(s)),s.onSingleAmend=s.onSingleAmend.bind(Object(O.a)(s)),s.onAmendAll=s.onAmendAll.bind(Object(O.a)(s)),s.doProcess=s.doProcess.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){gT=[],this.fillData()}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.selectedData;if(e!==this.props){gT=a;for(var s=0;s<gT.length;s++)this.doProcess(gT[s],s)}}},{key:"fillData",value:function(){var e=this.props.selectedData;if(void 0===gT||0===gT.length){gT=e;for(var t=0;t<gT.length;t++)this.doProcess(gT[t],t)}}},{key:"dateComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(nj,{label:n+a,id:n+a,dateValue:Yu(e,"YYYY-MM-DD"),fromDateFlg:!1,toDateFlg:!1,onchange:function(e){o.onDateChange(e,n,a)}})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):void 0}},{key:"actionComponent",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)(D.a,{id:n+a,onClick:function(e){return o.onSingleAmend(e,a)},children:"Amend"})}},{key:"onSingleAmend",value:function(e,t){var a=this;this.setState({updateData:!1});var s="",n=gT[t];"85"===n.transType?"I"===n.issueType&&(n.fromPage="INVSALE"):n.fromPage="AMEND",n.action="SAVE",n.interestAmount=Po(n.interestAmount),s=void 0!==n&&""!==n.transType&&"85"===n.transType?n.productType===Gh||n.productType===Kh?Nc:Cl:kl,w()({method:"POST",url:N.URL+s,timeout:N.apiTimeOut,data:n,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.props.returnMethod(e.data.responseMessage,n),a.setState({updateData:!0})})),this.props.onHide()}},{key:"onAmendAll",value:function(){var e=this;this.setState({updateData:!1});for(var t=0;t<gT.length;t++)gT[t].action="SAVE",gT[t].interestAmount=Po(gT[t].interestAmount),"85"===gT[t].transType?"I"===gT[t].issueType&&(gT[t].fromPage="INVSALE"):gT.fromPage="AMEND";w()({method:"POST",url:N.URL+Cc,timeout:N.apiTimeOut,data:gT,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){gT=[],e.props.returnMethod(t.data.responseMessage,gT),e.setState({updateData:!0})})),this.props.onHide()}},{key:"onDateChange",value:function(e,t,a){void 0!==gT&&(gT[a][t]=Yu(e,"M/D/YY"),this.doProcess(gT[a],a))}},{key:"doProcess",value:function(e,t){var a=this,s="";e.interestAmount=Po(e.interestAmount),s="85"===e.transType?wl:e.productType===Gh||e.productType===Kh?mc:Nl,w()({method:"POST",url:N.URL+s,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(gT[t].net=e.data.netAmt,gT[t].interestAmount=Lo(e.data.interestAmount),gT[t].price=Lo(e.data.price),gT[t].groupId=e.data.groupId,a.setState({updateFlag:!0,updateData:!0}))}))}},{key:"hideAlert",value:function(){this.setState({alertShow:!1,updateData:!0})}},{key:"confirmAction",value:function(e){this.setState({alertShow:!1,updateData:!1}),this.props.returnMethod(gT)}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"render",value:function(){var e=this,t=this.props.selectedData;this.fillData();var a={};return a.textBoxComponent=this.textBoxComponent,a.dateComponent=this.dateComponent,a.imgComponent=this.imgComponent,a.actionComponent=this.actionComponent,this.props.show&&t?Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.title})}),Object(u.jsxs)(P.a.Body,{children:[Object(u.jsx)(Yb,{cprops:this.props.cprops,data:gT,updateData:this.state.updateData,edit:!1,fixedTable:!0,mappings:this.props.mappings,keyField:this.props.keyField,customComponents:a,excelFlag:"true"}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]}),Object(u.jsx)(P.a.Footer,{children:Object(u.jsx)(D.a,{id:"amendAll",onClick:function(t){return e.onAmendAll()},children:"Amend All"})})]}):""}}]),a}(o.a.Component),vT=[],yT=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openShowTicket=function(e,t){s.setState({modalShowTicketData:t,ShowTicketModal:!0,updateData:!1})},s.openShowTicker=function(e,t){s.setState({modalShowTickerData:t,ShowTickerModal:!0,updateData:!1})},s.hideModal=function(){s.setState({alertShow:!1,ShowTicketModal:!1,ShowTickerModal:!1,showModal:!1,showMpModal:!1,updateData:!0})},s.bookChange=function(e){s.setState({bookId:e.target.value,updateData:!0})},s.state={cmodal:!0,showModal:!1,showMpModal:!1,bookId:"",fromDateValue:new Date,toDateValue:new Date,modalShowTicketData:"",ShowTicketModal:!1,modalShowTickerData:"",ShowTickerModal:!1,showError:!1,actionTitle:"",actionMessage:"",responseMessage:"",checkArray:[],updateData:!0},s.linkShowTicket=s.linkShowTicket.bind(Object(O.a)(s)),s.linkShowTicker=s.linkShowTicker.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.checkBoxComponent=s.checkBoxComponent.bind(Object(O.a)(s)),s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.amendAction=s.amendAction.bind(Object(O.a)(s)),s.getDefaultBookValues=s.getDefaultBookValues.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.returnMethod=s.returnMethod.bind(Object(O.a)(s)),s.delete=s.delete.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,responseMessage:"",updateData:!0})}},{key:"linkShowTicket",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:function(e){return o.openShowTicket(e,t)},children:Object(u.jsx)(B.C,{size:"14"})})}},{key:"linkShowTicker",value:function(e,t,a,s,n){var o=this;return this.setState({modalData:t,updateData:!1}),Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:function(e){return o.openShowTicker(e,t)},children:e})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{className:"text-warning pdl4",children:e})]}):void 0}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1,checkArray:[]})}},{key:"fromDateChange",value:function(e){this.setState({fromDateValue:e,updateData:!0})}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e,updateData:!0})}},{key:"checkBoxComponent",value:function(e,t,a,s,n){var o=this,i="issueId"+a;return Object(u.jsx)("div",{children:this.props.message?Object(u.jsx)(B.l,{className:"text-danger"}):Object(u.jsx)("input",{type:"checkbox",name:i,id:i,value:t.issueId,onClick:function(s){return o.amendCheck(e,a,t,s)}})})}},{key:"amendCheck",value:function(e,t,a,s){var n=this;vT=[],s&&!0===s.target.checked?this.state.checkArray.push(a.issueId):this.state.checkArray.splice(this.state.checkArray.indexOf(a.issueId),1);var o=document.getElementById("amend");null!==o&&o.addEventListener("click",(function(e){return n.amendAction(n.state.checkArray)})),null!==(o=document.getElementById("delete"))&&o.addEventListener("click",(function(e){return n.delete(n.state.checkArray)}),!0)}},{key:"amendAction",value:function(e){e.length>1?this.openMpModal(e):this.openModal(e[0])}},{key:"delete",value:function(e){this.state.checkArray.length>0&&this.setState({actionTitle:"Delete",actionMessage:yh,alertShow:!0,issueIds:e,updateData:!1})}},{key:"confirmAction",value:function(e){var t=this,a=this.state.checkArray;this.setState({alertShow:!1,updateData:!1});var s=[],n=[],o={};a.length>1?(a.map((function(e){(n=sT.filter((function(t){return t.issueId===e}))).length>0&&(o.productType=n[0].productType,o.issueId=n[0].issueId,o.transType=n[0].transType,s.push(o))})),w()({method:"POST",url:N.URL+ec,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data[1],updateData:!0})}))):((n=sT.filter((function(e){return e.issueId===a[0]}))).length>0&&(o.productType=n[0].productType,o.issueId=n[0].issueId,o.transType=n[0].transType),w()({method:"POST",url:N.URL+zl,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data,updateData:!0})}))),this.setState({issueIds:[],updateData:!1})}},{key:"returnMethod",value:function(e,t){this.setState({checkArray:[],showMpModal:!1,showModal:!1,responseMessage:e,updateData:!0})}},{key:"openModal",value:function(e){var t;(t=sT.filter((function(t){return t.issueId===e}))).length>0&&(aT=t[0],this.setState({showModal:!0,responseMessage:"",updateData:!1}))}},{key:"openMpModal",value:function(e){var t=[];vT=[],e.map((function(e){(t=sT.filter((function(t){return t.issueId===e}))).length>0&&("85"===(aT=t[0]).transType?"I"===aT.issueType&&(aT.fromPage="INVSALE"):aT.fromPage="AMEND",vT.push(aT))})),aT.fromDate=Vu(this.state.formDateValue),aT.toDate=Vu(this.state.toDateValue),this.setState({showMpModal:!0,responseMessage:"",updateData:!1})}},{key:"setScreenData",value:function(e){sT=e}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All",updateData:!1})}},{key:"render",value:function(){var e=this,t={};return t.linkShowTicket=this.linkShowTicket,t.linkShowTicker=this.linkShowTicker,t.imgComponent=this.imgComponent,t.checkBoxComponent=this.checkBoxComponent,Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Book",id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:qh,loginId:this.props.secTraderId},onchange:this.bookChange,selected:this.state.bookId,id:"bookId",stateMethod:this.getDefaultBookValues})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.fromDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsx)(Yb,{cprops:"3"!==sessionStorage.getItem("membercatid")?Xw:zw,apiCall:ar,updateData:this.state.updateData,wsUrl:!0,reqParams:{bookId:this.state.bookId,prodType:qh,fromDate:Vu(this.state.fromDateValue),toDate:Vu(this.state.toDateValue),loginid:this.props.secTraderId,socketSource:"SECONDARYTRADE"},edit:!1,calBack:this.setScreenData,mappings:$w,customComponents:t,keyField:"issueId",screenName:"TRADE_BLOTTER",subTitle:" ECD",flagPdf:!0}),Object(u.jsx)(pT,{show:this.state.showModal,onHide:function(){return e.hideModal()},prodType:qh,modalData:aT,returnMethod:this.returnMethod}),Object(u.jsx)(OT,{show:this.state.showMpModal,onHide:function(){return e.hideModal()},prodType:qh,selectedData:vT,cprops:Ww,mappings:tT,keyField:"issueId",title:"Trade Amend",returnMethod:this.returnMethod}),Object(u.jsx)(rp,{size:"lg",show:this.state.ShowTickerModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:qh,modalDataRow:this.state.modalShowTickerData,message:this.props.message}),Object(u.jsx)(kp,{size:"md",show:this.state.ShowTicketModal,onHide:function(){return e.hideModal()},modalHead:"Show Ticket",prodType:qh,modalDataRow:this.state.modalShowTicketData}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideModal()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})]})}}]),a}(o.a.Component),kT=[],DT=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openShowTicket=function(e,t){s.setState({modalShowTicketData:t,ShowTicketModal:!0,updateData:!1})},s.openMpModal=function(e,t){var a=kT[t];a=e,s.setState({buyInData:a,showMpModal:!0,isMultiple:!0,updateData:!1})},s.state={cmodal:!0,showModal:!1,showAmendModal:!1,modalData:"",fromDateValue:new Date,toDateValue:new Date,modalDataRow:"",modalShowTicketData:"",ShowTicketModal:!1,buyInData:[],actionTitle:"",actionMessage:"",alertShow:!1,actionFlag:"",issueIds:[],isMultiple:!1,requestArray:[],bookId:"",showError:!1,updateData:!0},s.linkShowTicket=s.linkShowTicket.bind(Object(O.a)(s)),s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkShowTicker=s.linkShowTicker.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.checkBoxComponent=s.checkBoxComponent.bind(Object(O.a)(s)),s.amendAction=s.amendAction.bind(Object(O.a)(s)),s.openSingleModal=s.openSingleModal.bind(Object(O.a)(s)),s.openMpModal=s.openMpModal.bind(Object(O.a)(s)),s.setScreenData=s.setScreenData.bind(Object(O.a)(s)),s.delete=s.delete.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s.returnMethod=s.returnMethod.bind(Object(O.a)(s)),s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.getDefaultBookValues=s.getDefaultBookValues.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"linkShowTicket",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:function(e){return o.openShowTicket(e,t)},children:Object(u.jsx)(B.C,{size:"14"})})}},{key:"openModal",value:function(e,t){var a;Object.keys(e).map((function(s){e[s]===t&&(s!==rn&&s!==ln||(a=s))})),this.setState({modalData:a,modalDataRow:e,showModal:!0,updateData:!1})}},{key:"hideModal",value:function(){this.setState({showModal:!1,ShowTicketModal:!1,showAmendModal:!1,showMpModal:!1,alertShow:!1,updateData:!0})}},{key:"linkShowTicker",value:function(e,t,a,s,n){if("0"!==e)return Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:this.openModal.bind(this,t,e),children:e})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{className:"text-warning pdl4",children:e})]}):void 0}},{key:"checkBoxComponent",value:function(e,t,a,s,n){var o=this,i="issueId"+a;if("Canld"!==t.dispDescr&&"Matrd"!==t.dispDescr)return Object(u.jsx)("div",{children:this.props.message?Object(u.jsx)(B.l,{className:"text-danger"}):Object(u.jsx)("input",{type:"checkbox",name:i,id:i,value:t.issueId,onClick:function(s){return o.amendCheck(e,a,t,s)}})})}},{key:"amendCheck",value:function(e,t,a,s){var n=this,o=this.state.requestArray,i=this.state.issueIds,l=[];if(s&&!0===s.target.checked&&l.push(t),s.target.checked){var c={};(c=kT.filter((function(e){return e.issueId===s.target.value}))[0]).amount=c.amount+"",c.net=c.net?c.net:"0.00",c.interest=c.interest?c.interest:"0.00",o.push(c),this.setState({issueIds:i,requestArray:o,updateData:!1})}else{var r=o;r=r.filter((function(e){return e.issueId!==s.target.value})),this.setState({issueIds:i,requestArray:r,updateData:!1})}s&&!1===s.target.checked&&l.splice(l.indexOf(t),1);var d=document.getElementById("amend");null!==d&&d.addEventListener("click",(function(e){return n.amendAction(s,t,l)}),!0),null!==(d=document.getElementById("delete"))&&d.addEventListener("click",(function(e){return n.delete(o,s,t,l)}),!0)}},{key:"delete",value:function(e,t,a,s){this.setState({actionTitle:"Delete",actionMessage:yh,alertShow:!0,issueIds:e})}},{key:"confirmAction",value:function(e){var t=this,a=this.state.requestArray;this.setState({alertShow:!1,updateData:!1}),a.length>1?w()({method:"POST",url:N.URL+ec,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data[1],updateData:!0})})):w()({method:"POST",url:N.URL+zl,timeout:N.apiTimeOut,data:a[0],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data,updateData:!0})})),this.setState({issueIds:[],updateData:!1})}},{key:"amendAction",value:function(e,t,a){var s=this.state.requestArray;s.length>1?this.openMpModal(s,a):this.openSingleModal(s,a)}},{key:"openSingleModal",value:function(e,t){var a=e;this.setState({buyInData:a,showAmendModal:!0,isMultiple:!1,updateData:!1})}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1})}},{key:"fromDateChange",value:function(e){this.setState({responseMessage:"",fromDateValue:e,updateData:!0})}},{key:"toDateChange",value:function(e){this.setState({responseMessage:"",toDateValue:e,updateData:!0})}},{key:"setScreenData",value:function(e){kT=e}},{key:"returnMethod",value:function(e,t){this.setState({responseMessage:e,requestArray:t,updateData:!0})}},{key:"tickerChange",value:function(e){this.setState({responseMessage:"",bookId:e.target.value,updateData:!0})}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All",updateData:!1})}},{key:"render",value:function(){var e=this,t={};t.linkShowTicket=this.linkShowTicket,t.linkShowTicker=this.linkShowTicker,t.imgComponent=this.imgComponent,t.checkBoxComponent=this.checkBoxComponent;var a=this.state,s=a.isMultiple,n=a.requestArray;return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Book",id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Zh,loginId:this.props.secTraderId},onchange:this.tickerChange,selected:this.state.bookId,id:"bookId",stateMethod:this.getDefaultBookValues})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.fromDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsx)(Yb,{cprops:"3"!==sessionStorage.getItem("membercatid")?Xw:zw,apiCall:ar,updateData:this.state.updateData,wsUrl:!0,reqParams:{prodType:Zh,fromDate:Vu(this.state.fromDateValue),toDate:Vu(this.state.toDateValue),loginid:this.props.secTraderId,bookId:this.state.bookId,socketSource:"SECONDARYTRADE"},edit:!1,mappings:$w,customComponents:t,calBack:this.setScreenData,keyField:"issueId",screenName:"TRADE_BLOTTER",subTitle:" ECP",flagPdf:!0}),this.state.modalData===ln&&Object(u.jsx)(rp,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:Zh,modalData:this.state.modalData,modalDataRow:this.state.modalDataRow,message:this.props.message}),Object(u.jsx)(kp,{size:"md",show:this.state.ShowTicketModal,onHide:function(){return e.hideModal()},modalHead:"Show Ticket",prodType:Zh,modalDataRow:this.state.modalShowTicketData}),!1===s?Object(u.jsx)(pT,{show:this.state.showAmendModal,onHide:function(){return e.hideModal()},prodType:Zh,modalData:n[0],returnMethod:this.returnMethod}):Object(u.jsx)(jT,{show:this.state.showMpModal,onHide:function(){return e.hideModal()},prodType:Zh,data:n,cprops:Jw,mappings:eT,keyField:"issueId",returnMethod:this.returnMethod,title:"Trade Amend"}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideModal()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})})}}]),a}(o.a.Component),CT=[],NT=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openShowTicket=function(e,t){s.setState({modalShowTicketData:t,ShowTicketModal:!0,updateData:!1})},s.openShowTicker=function(e,t){s.setState({modalShowTickerData:t,ShowTickerModal:!0,updateData:!1})},s.hideModal=function(){s.setState({alertShow:!1,ShowTicketModal:!1,ShowTickerModal:!1,showModal:!1,showMpModal:!1,updateData:!0})},s.bookChange=function(e){s.setState({bookId:e.target.value,updateData:!0})},s.state={cmodal:!0,showModal:!1,showMpModal:!1,bookId:"",fromDateValue:new Date,toDateValue:new Date,modalShowTicketData:"",ShowTicketModal:!1,modalShowTickerData:"",ShowTickerModal:!1,showError:!1,actionTitle:"",actionMessage:"",responseMessage:"",checkArray:[],updateData:!0},s.linkShowTicket=s.linkShowTicket.bind(Object(O.a)(s)),s.linkShowTicker=s.linkShowTicker.bind(Object(O.a)(s)),s.checkBoxComponent=s.checkBoxComponent.bind(Object(O.a)(s)),s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.amendAction=s.amendAction.bind(Object(O.a)(s)),s.getDefaultBookValues=s.getDefaultBookValues.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.returnMethod=s.returnMethod.bind(Object(O.a)(s)),s.delete=s.delete.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,responseMessage:"",updateData:!1})}},{key:"linkShowTicket",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:function(e){return o.openShowTicket(e,t)},children:Object(u.jsx)(B.C,{size:"14"})})}},{key:"linkShowTicker",value:function(e,t,a,s,n){var o=this;return this.setState({modalData:t,updateData:!1}),Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:function(e){return o.openShowTicker(e,t)},children:e})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{className:"text-warning pdl4",children:e})]}):void 0}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1})}},{key:"fromDateChange",value:function(e){this.setState({fromDateValue:e,updateData:!0})}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e,updateData:!0})}},{key:"checkBoxComponent",value:function(e,t,a,s,n){var o=this,i="issueId"+a;return Object(u.jsx)("div",{children:this.props.message?Object(u.jsx)(B.l,{className:"text-danger"}):Object(u.jsx)("input",{type:"checkbox",name:i,id:i,value:t.issueId,onClick:function(s){return o.amendCheck(e,a,t,s)}})})}},{key:"amendCheck",value:function(e,t,a,s){var n=this;CT=[],s&&!0===s.target.checked?this.state.checkArray.push(a.issueId):this.state.checkArray.splice(this.state.checkArray.indexOf(a.issueId),1);var o=document.getElementById("amend");null!==o&&o.addEventListener("click",(function(e){return n.amendAction(n.state.checkArray)})),null!==(o=document.getElementById("delete"))&&o.addEventListener("click",(function(e){return n.delete(n.state.checkArray)}),!0)}},{key:"amendAction",value:function(e){e.length>1?this.openMpModal(e):this.openModal(e[0])}},{key:"delete",value:function(e){this.setState({actionTitle:"Delete",actionMessage:yh,alertShow:!0,issueIds:e,updateData:!1})}},{key:"confirmAction",value:function(e){var t=this,a=this.state.checkArray;this.setState({alertShow:!1,updateData:!1});var s=[],n=[],o={};a.length>1?(a.map((function(e){(n=oT.filter((function(t){return t.issueId===e}))).length>0&&(o.productType=n[0].productType,o.issueId=n[0].issueId,o.transType=n[0].transType,s.push(o))})),w()({method:"POST",url:N.URL+ec,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data[1],updateData:!0})}))):((n=oT.filter((function(e){return e.issueId===a[0]}))).length>0&&(o.productType=n[0].productType,o.issueId=n[0].issueId,o.transType=n[0].transType),w()({method:"POST",url:N.URL+zl,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data,updateData:!0})}))),this.setState({issueIds:[],updateData:!1})}},{key:"returnMethod",value:function(e,t){this.setState({checkArray:[],showMpModal:!1,showModal:!1,responseMessage:e,updateData:!0})}},{key:"openModal",value:function(e){var t;(t=oT.filter((function(t){return t.issueId===e}))).length>0&&(nT=t[0],this.setState({showModal:!0,responseMessage:"",updateData:!1}))}},{key:"openMpModal",value:function(e){var t=[];CT=[],e.map((function(e){(t=oT.filter((function(t){return t.issueId===e}))).length>0&&("85"===(nT=t[0]).transType?"I"===nT.issueType&&(nT.fromPage="INVSALE"):nT.fromPage="AMEND",CT.push(nT))})),nT.fromDate=Vu(this.state.formDateValue),nT.toDate=Vu(this.state.toDateValue),this.setState({showMpModal:!0,responseMessage:"",updateData:!1})}},{key:"setScreenData",value:function(e){oT=e}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All",updateData:!1})}},{key:"render",value:function(){var e=this,t={};return t.linkShowTicket=this.linkShowTicket,t.linkShowTicker=this.linkShowTicker,t.imgComponent=this.imgComponent,t.checkBoxComponent=this.checkBoxComponent,Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Book",id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Gh,loginId:this.props.secTraderId},onchange:this.bookChange,selected:this.state.bookId,id:"bookId",stateMethod:this.getDefaultBookValues})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.fromDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsx)(Yb,{cprops:"3"!==sessionStorage.getItem("membercatid")?Xw:zw,apiCall:ar,updateData:this.state.updateData,wsUrl:!0,reqParams:{bookId:this.state.bookId,prodType:Gh,fromDate:Vu(this.state.fromDateValue),toDate:Vu(this.state.toDateValue),loginid:this.props.secTraderId,socketSource:"SECONDARYTRADE"},edit:!1,calBack:this.setScreenData,mappings:$w,customComponents:t,keyField:"issueId",screenName:"TRADE_BLOTTER",subTitle:" FRCD",flagPdf:!0}),Object(u.jsx)(pT,{show:this.state.showModal,onHide:function(){return e.hideModal()},prodType:Gh,modalData:nT,returnMethod:this.returnMethod}),Object(u.jsx)(OT,{show:this.state.showMpModal,onHide:function(){return e.hideModal()},prodType:Gh,selectedData:CT,cprops:Ww,mappings:tT,keyField:"issueId",title:"Trade Amend",returnMethod:this.returnMethod}),Object(u.jsx)(rp,{size:"lg",show:this.state.ShowTickerModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:Gh,modalDataRow:this.state.modalShowTickerData,message:this.props.message}),Object(u.jsx)(kp,{size:"md",show:this.state.ShowTicketModal,onHide:function(){return e.hideModal()},modalHead:"Show Ticket",prodType:Gh,modalDataRow:this.state.modalShowTicketData}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideModal()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})]})}}]),a}(o.a.Component),ST=[],wT=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openShowTicket=function(e,t){s.setState({modalShowTicketData:t,ShowTicketModal:!0,updateData:!1})},s.openShowTicker=function(e,t){s.setState({modalShowTickerData:t,ShowTickerModal:!0,updateData:!1})},s.hideModal=function(){s.setState({alertShow:!1,ShowTicketModal:!1,ShowTickerModal:!1,showModal:!1,showMpModal:!1,updateData:!0})},s.bookChange=function(e){s.setState({bookId:e.target.value,updateData:!0})},s.state={cmodal:!0,showModal:!1,showMpModal:!1,bookId:"",fromDateValue:new Date,toDateValue:new Date,modalShowTicketData:"",ShowTicketModal:!1,modalShowTickerData:"",ShowTickerModal:!1,showError:!1,actionTitle:"",actionMessage:"",responseMessage:"",checkArray:[],updateData:!0},s.linkShowTicket=s.linkShowTicket.bind(Object(O.a)(s)),s.linkShowTicker=s.linkShowTicker.bind(Object(O.a)(s)),s.checkBoxComponent=s.checkBoxComponent.bind(Object(O.a)(s)),s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.amendAction=s.amendAction.bind(Object(O.a)(s)),s.getDefaultBookValues=s.getDefaultBookValues.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.returnMethod=s.returnMethod.bind(Object(O.a)(s)),s.delete=s.delete.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,responseMessage:"",updateData:!0})}},{key:"linkShowTicket",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:function(e){return o.openShowTicket(e,t)},children:Object(u.jsx)(B.C,{size:"14"})})}},{key:"linkShowTicker",value:function(e,t,a,s,n){var o=this;return this.setState({modalData:t,updateData:!1}),Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:function(e){return o.openShowTicker(e,t)},children:e})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{className:"text-warning pdl4",children:e})]}):void 0}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1})}},{key:"fromDateChange",value:function(e){this.setState({fromDateValue:e,updateData:!0})}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e,updateData:!0})}},{key:"checkBoxComponent",value:function(e,t,a,s,n){var o=this,i="issueId"+a;return Object(u.jsx)("div",{children:this.props.message?Object(u.jsx)(B.l,{className:"text-danger"}):Object(u.jsx)("input",{type:"checkbox",name:i,id:i,value:t.issueId,onClick:function(s){return o.amendCheck(e,a,t,s)}})})}},{key:"amendCheck",value:function(e,t,a,s){var n=this;ST=[],s&&!0===s.target.checked?this.state.checkArray.push(a.issueId):this.state.checkArray.splice(this.state.checkArray.indexOf(a.issueId),1);var o=document.getElementById("amend");null!==o&&o.addEventListener("click",(function(e){return n.amendAction(n.state.checkArray)})),null!==(o=document.getElementById("delete"))&&o.addEventListener("click",(function(e){return n.delete(n.state.checkArray)}),!0)}},{key:"amendAction",value:function(e){e.length>1?this.openMpModal(e):this.openModal(e[0])}},{key:"delete",value:function(e){this.setState({actionTitle:"Delete",actionMessage:yh,alertShow:!0,issueIds:e,updateData:!1})}},{key:"confirmAction",value:function(e){var t=this,a=this.state.checkArray;this.setState({alertShow:!1,updateData:!1});var s=[],n=[],o={};a.length>1?(a.map((function(e){(n=lT.filter((function(t){return t.issueId===e}))).length>0&&(o.productType=n[0].productType,o.issueId=n[0].issueId,o.transType=n[0].transType,s.push(o))})),w()({method:"POST",url:N.URL+ec,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data[1],updateData:!0})}))):((n=lT.filter((function(e){return e.issueId===a[0]}))).length>0&&(o.productType=n[0].productType,o.issueId=n[0].issueId,o.transType=n[0].transType),w()({method:"POST",url:N.URL+zl,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data,updateData:!0})}))),this.setState({issueIds:[],updateData:!1})}},{key:"returnMethod",value:function(e,t){this.setState({checkArray:[],showMpModal:!1,showModal:!1,responseMessage:e,updateData:!0})}},{key:"openModal",value:function(e){var t;(t=lT.filter((function(t){return t.issueId===e}))).length>0&&(iT=t[0],this.setState({showModal:!0,responseMessage:"",updateData:!1}))}},{key:"openMpModal",value:function(e){var t=[];ST=[],e.map((function(e){(t=lT.filter((function(t){return t.issueId===e}))).length>0&&("85"===(iT=t[0]).transType?"I"===iT.issueType&&(iT.fromPage="INVSALE"):iT.fromPage="AMEND",ST.push(iT))})),iT.fromDate=Vu(this.state.formDateValue),iT.toDate=Vu(this.state.toDateValue),this.setState({showMpModal:!0,responseMessage:"",updateData:!1})}},{key:"setScreenData",value:function(e){lT=e}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All",updateData:!1})}},{key:"render",value:function(){var e=this,t={};return t.linkShowTicket=this.linkShowTicket,t.linkShowTicker=this.linkShowTicker,t.imgComponent=this.imgComponent,t.checkBoxComponent=this.checkBoxComponent,Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Book",id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Kh,loginId:this.props.secTraderId},onchange:this.bookChange,selected:this.state.bookId,id:"bookId",stateMethod:this.getDefaultBookValues})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.fromDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsx)(Yb,{cprops:"3"!==sessionStorage.getItem("membercatid")?Xw:zw,apiCall:ar,updateData:this.state.updateData,wsUrl:!0,reqParams:{bookId:this.state.bookId,prodType:Kh,fromDate:Vu(this.state.fromDateValue),toDate:Vu(this.state.toDateValue),loginid:this.props.secTraderId,socketSource:"SECONDARYTRADE"},edit:!1,calBack:this.setScreenData,mappings:$w,customComponents:t,keyField:"issueId",screenName:"TRADE_BLOTTER",subTitle:" FRCP",flagPdf:!0}),Object(u.jsx)(pT,{show:this.state.showModal,onHide:function(){return e.hideModal()},prodType:Kh,modalData:iT,returnMethod:this.returnMethod}),Object(u.jsx)(OT,{show:this.state.showMpModal,onHide:function(){return e.hideModal()},prodType:Kh,selectedData:ST,cprops:Ww,mappings:tT,keyField:"issueId",title:"Trade Amend",returnMethod:this.returnMethod}),Object(u.jsx)(rp,{size:"lg",show:this.state.ShowTickerModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:Kh,modalDataRow:this.state.modalShowTickerData,message:this.props.message}),Object(u.jsx)(kp,{size:"md",show:this.state.ShowTicketModal,onHide:function(){return e.hideModal()},modalHead:"Show Ticket",prodType:Kh,modalDataRow:this.state.modalShowTicketData}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideModal()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})]})}}]),a}(o.a.Component),TT=[],IT=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openShowTicket=function(e,t){s.setState({modalShowTicketData:t,ShowTicketModal:!0,updateData:!1})},s.openMpModal=function(e,t){var a=TT[t];a=e,s.setState({buyInData:a,showMpModal:!0,isMultiple:!0,updateData:!1})},s.state={cmodal:!0,showModal:!1,showAmendModal:!1,modalData:"",fromDateValue:new Date,toDateValue:new Date,modalDataRow:"",modalShowTicketData:"",ShowTicketModal:!1,buyInData:[],actionTitle:"",actionMessage:"",alertShow:!1,actionFlag:"",issueIds:[],isMultiple:!1,requestArray:[],bookId:"",showError:!1,updateData:!0},s.linkShowTicket=s.linkShowTicket.bind(Object(O.a)(s)),s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkShowTicker=s.linkShowTicker.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.checkBoxComponent=s.checkBoxComponent.bind(Object(O.a)(s)),s.amendAction=s.amendAction.bind(Object(O.a)(s)),s.openSingleModal=s.openSingleModal.bind(Object(O.a)(s)),s.openMpModal=s.openMpModal.bind(Object(O.a)(s)),s.setScreenData=s.setScreenData.bind(Object(O.a)(s)),s.delete=s.delete.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s.returnMethod=s.returnMethod.bind(Object(O.a)(s)),s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.getDefaultBookValues=s.getDefaultBookValues.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,updateData:!1})}},{key:"linkShowTicket",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:function(e){return o.openShowTicket(e,t)},children:Object(u.jsx)(B.C,{size:"14"})})}},{key:"openModal",value:function(e,t){var a;Object.keys(e).map((function(s){e[s]===t&&(s!==rn&&s!==ln||(a=s))})),this.setState({modalData:a,modalDataRow:e,showModal:!0,updateData:!1})}},{key:"hideModal",value:function(){this.setState({showModal:!1,ShowTicketModal:!1,showAmendModal:!1,showMpModal:!1,alertShow:!1,updateData:!0})}},{key:"linkShowTicker",value:function(e,t,a,s,n){if("0"!==e)return Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:this.openModal.bind(this,t,e),children:e})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{className:"text-warning pdl4",children:e})]}):void 0}},{key:"checkBoxComponent",value:function(e,t,a,s,n){var o=this,i="issueId"+a;if("Canld"!==t.dispDescr&&"Matrd"!==t.dispDescr)return Object(u.jsx)("div",{children:this.props.message?Object(u.jsx)(B.l,{className:"text-danger"}):Object(u.jsx)("input",{type:"checkbox",name:i,id:i,value:t.issueId,onClick:function(s){return o.amendCheck(e,a,t,s)}})})}},{key:"amendCheck",value:function(e,t,a,s){var n=this,o=this.state.requestArray,i=this.state.issueIds,l=[];if(s&&!0===s.target.checked&&l.push(t),s.target.checked){var c={};(c=TT.filter((function(e){return e.issueId===s.target.value}))[0]).amount=c.amount+"",c.net=c.net?c.net:"0.00",c.interest=c.interest?c.interest:"0.00",c.availableCredit=c.availableCredit?c.availableCredit:"0.00",o.push(c),this.setState({issueIds:i,requestArray:o,updateData:!1})}else{var r=o;r=r.filter((function(e){return e.issueId!==s.target.value})),this.setState({issueIds:i,requestArray:r,updateData:!1})}s&&!1===s.target.checked&&l.splice(l.indexOf(t),1);var d=document.getElementById("amend");null!==d&&d.addEventListener("click",(function(e){return n.amendAction(s,t,l)}),!0),null!==(d=document.getElementById("delete"))&&d.addEventListener("click",(function(e){return n.delete(o,s,t,l)}),!0)}},{key:"delete",value:function(e,t,a,s){this.setState({actionTitle:"Delete",actionMessage:"Do you want to cancel selected trades ?",alertShow:!0,issueIds:e,updateData:!1})}},{key:"confirmAction",value:function(e){var t=this,a=this.state.requestArray;this.setState({alertShow:!1,updateData:!1}),a.length>1?w()({method:"POST",url:N.URL+ec,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data[1],updateData:!0})})):w()({method:"POST",url:N.URL+zl,timeout:N.apiTimeOut,data:a[0],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data,updateData:!0})})),this.setState({issueIds:[],updateData:!1})}},{key:"amendAction",value:function(e,t,a){var s=this.state.requestArray;s.length>1?this.openMpModal(s,a):this.openSingleModal(s,a)}},{key:"openSingleModal",value:function(e,t){var a=e;this.setState({buyInData:a,showAmendModal:!0,isMultiple:!1,updateData:!1})}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1})}},{key:"fromDateChange",value:function(e){this.setState({responseMessage:"",fromDateValue:e,updateData:!0})}},{key:"toDateChange",value:function(e){this.setState({responseMessage:"",toDateValue:e,updateData:!0})}},{key:"setScreenData",value:function(e){TT=e}},{key:"returnMethod",value:function(e,t){this.setState({responseMessage:e,requestArray:t,updateData:!0})}},{key:"tickerChange",value:function(e){this.setState({responseMessage:"",bookId:e.target.value,updateData:!0})}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All",updateData:!1})}},{key:"render",value:function(){var e=this,t={};t.linkShowTicket=this.linkShowTicket,t.linkShowTicker=this.linkShowTicker,t.imgComponent=this.imgComponent,t.checkBoxComponent=this.checkBoxComponent;var a=this.state,s=a.isMultiple,n=a.requestArray;return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Book",id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Wh,loginId:this.props.secTraderId},onchange:this.tickerChange,selected:this.state.bookId,id:"bookId",stateMethod:this.getDefaultBookValues})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.fromDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsx)(Yb,{cprops:"3"!==sessionStorage.getItem("membercatid")?Xw:zw,apiCall:ar,updateData:this.state.updateData,wsUrl:!0,reqParams:{prodType:Wh,fromDate:Vu(this.state.fromDateValue),toDate:Vu(this.state.toDateValue),loginId:this.props.secTraderId,bookId:this.state.bookId,socketSource:"SECONDARYTRADE"},edit:!1,mappings:$w,customComponents:t,calBack:this.setScreenData,keyField:"issueId",screenName:"TRADE_BLOTTER",subTitle:" MCP",flagPdf:!0}),this.state.modalData===ln&&Object(u.jsx)(rp,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:Wh,modalData:this.state.modalData,modalDataRow:this.state.modalDataRow,message:this.props.message}),Object(u.jsx)(kp,{size:"md",show:this.state.ShowTicketModal,onHide:function(){return e.hideModal()},modalHead:"Show Ticket",prodType:Wh,modalDataRow:this.state.modalShowTicketData}),!1===s?Object(u.jsx)(pT,{show:this.state.showAmendModal,onHide:function(){return e.hideModal()},prodType:Wh,modalData:n[0],returnMethod:this.returnMethod}):Object(u.jsx)(jT,{show:this.state.showMpModal,onHide:function(){return e.hideModal()},prodType:Wh,data:n,cprops:Jw,mappings:eT,keyField:"issueId",title:"Trade Amend",returnMethod:this.returnMethod}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideModal()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})})}}]),a}(o.a.Component),MT=[],AT=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openShowTicket=function(e,t){s.setState({modalShowTicketData:t,ShowTicketModal:!0,updateData:!1})},s.openShowTicker=function(e,t){s.setState({modalShowTickerData:t,ShowTickerModal:!0,updateData:!1})},s.hideModal=function(){s.setState({alertShow:!1,ShowTicketModal:!1,ShowTickerModal:!1,showModal:!1,showMpModal:!1,updateData:!0})},s.bookChange=function(e){s.setState({bookId:e.target.value,updateData:!0})},s.state={cmodal:!0,showModal:!1,showMpModal:!1,bookId:"",fromDateValue:new Date,toDateValue:new Date,modalShowTicketData:"",ShowTicketModal:!1,modalShowTickerData:"",ShowTickerModal:!1,showError:!1,actionTitle:"",actionMessage:"",responseMessage:"",checkArray:[],updateData:!0},s.linkShowTicket=s.linkShowTicket.bind(Object(O.a)(s)),s.linkShowTicker=s.linkShowTicker.bind(Object(O.a)(s)),s.checkBoxComponent=s.checkBoxComponent.bind(Object(O.a)(s)),s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.amendAction=s.amendAction.bind(Object(O.a)(s)),s.getDefaultBookValues=s.getDefaultBookValues.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.returnMethod=s.returnMethod.bind(Object(O.a)(s)),s.delete=s.delete.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,responseMessage:"",updateData:!1})}},{key:"linkShowTicket",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:function(e){return o.openShowTicket(e,t)},children:Object(u.jsx)(B.C,{size:"14"})})}},{key:"linkShowTicker",value:function(e,t,a,s,n){var o=this;return this.setState({modalData:t,updateData:!1}),Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:function(e){return o.openShowTicker(e,t)},children:e})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{className:"text-warning pdl4",children:e})]}):void 0}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1})}},{key:"fromDateChange",value:function(e){this.setState({fromDateValue:e,updateData:!0})}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e,updateData:!0})}},{key:"checkBoxComponent",value:function(e,t,a,s,n){var o=this,i="issueId"+a;return Object(u.jsx)("div",{children:this.props.message?Object(u.jsx)(B.l,{className:"text-danger"}):Object(u.jsx)("input",{type:"checkbox",name:i,id:i,value:t.issueId,onClick:function(s){return o.amendCheck(e,a,t,s)}})})}},{key:"amendCheck",value:function(e,t,a,s){var n=this;MT=[],s&&!0===s.target.checked?this.state.checkArray.push(a.issueId):this.state.checkArray.splice(this.state.checkArray.indexOf(a.issueId),1);var o=document.getElementById("amend");null!==o&&o.addEventListener("click",(function(e){return n.amendAction(n.state.checkArray)})),null!==(o=document.getElementById("delete"))&&o.addEventListener("click",(function(e){return n.delete(n.state.checkArray)}),!0)}},{key:"amendAction",value:function(e){e.length>1?this.openMpModal(e):this.openModal(e[0])}},{key:"delete",value:function(e){this.setState({actionTitle:"Delete",actionMessage:yh,alertShow:!0,issueIds:e,updateData:!1})}},{key:"confirmAction",value:function(e){var t=this,a=this.state.checkArray;this.setState({alertShow:!1,updateData:!1});var s=[],n=[],o={};a.length>1?(a.map((function(e){(n=rT.filter((function(t){return t.issueId===e}))).length>0&&(o.productType=n[0].productType,o.issueId=n[0].issueId,o.transType=n[0].transType,s.push(o))})),w()({method:"POST",url:N.URL+ec,timeout:N.apiTimeOut,data:s,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data[1],updateData:!0})}))):((n=rT.filter((function(e){return e.issueId===a[0]}))).length>0&&(o.productType=n[0].productType,o.issueId=n[0].issueId,o.transType=n[0].transType),w()({method:"POST",url:N.URL+zl,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data,updateData:!0})}))),this.setState({issueIds:[],updateData:!1})}},{key:"returnMethod",value:function(e,t){this.setState({checkArray:[],showMpModal:!1,showModal:!1,responseMessage:e,updateData:!0})}},{key:"openModal",value:function(e){var t;(t=rT.filter((function(t){return t.issueId===e}))).length>0&&(cT=t[0],this.setState({showModal:!0,responseMessage:"",updateData:!1}))}},{key:"openMpModal",value:function(e){var t=[];MT=[],e.map((function(e){(t=rT.filter((function(t){return t.issueId===e}))).length>0&&("85"===(cT=t[0]).transType?"I"===cT.issueType&&(cT.fromPage="INVSALE"):cT.fromPage="AMEND",MT.push(cT))})),cT.fromDate=Vu(this.state.formDateValue),cT.toDate=Vu(this.state.toDateValue),this.setState({showMpModal:!0,responseMessage:"",updateData:!1})}},{key:"setScreenData",value:function(e){rT=e}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All",updateData:!1})}},{key:"render",value:function(){var e=this,t={};return t.linkShowTicket=this.linkShowTicket,t.linkShowTicker=this.linkShowTicker,t.imgComponent=this.imgComponent,t.checkBoxComponent=this.checkBoxComponent,Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Book",id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:zh,loginId:this.props.secTraderId},onchange:this.bookChange,selected:this.state.bookId,id:"bookId",stateMethod:this.getDefaultBookValues})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.fromDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsx)(Yb,{cprops:"3"!==sessionStorage.getItem("membercatid")?Xw:zw,apiCall:ar,updateData:this.state.updateData,wsUrl:!0,reqParams:{bookId:this.state.bookId,prodType:zh,fromDate:Vu(this.state.fromDateValue),toDate:Vu(this.state.toDateValue),loginId:this.props.secTraderId,socketSource:"TRADE"},edit:!1,calBack:this.setScreenData,mappings:$w,customComponents:t,keyField:"issueId",screenName:"TRADE_BLOTTER",subTitle:" YCD",flagPdf:!0}),Object(u.jsx)(pT,{show:this.state.showModal,onHide:function(){return e.hideModal()},prodType:zh,modalData:cT,returnMethod:this.returnMethod}),Object(u.jsx)(OT,{show:this.state.showMpModal,onHide:function(){return e.hideModal()},prodType:zh,selectedData:MT,cprops:Ww,mappings:tT,keyField:"issueId",title:"Trade Amend",returnMethod:this.returnMethod}),Object(u.jsx)(rp,{size:"lg",show:this.state.ShowTickerModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:zh,modalDataRow:this.state.modalShowTickerData,message:this.props.message}),Object(u.jsx)(kp,{size:"md",show:this.state.ShowTicketModal,onHide:function(){return e.hideModal()},modalHead:"Show Ticket",prodType:zh,modalDataRow:this.state.modalShowTicketData}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideModal()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})]})}}]),a}(o.a.Component),RT=[],ET=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).openShowTicket=function(e,t){s.setState({modalShowTicketData:t,ShowTicketModal:!0,updateData:!1})},s.openMpModal=function(e,t){var a=RT[t];a=e,s.setState({buyInData:a,showMpModal:!0,isMultiple:!0,updateData:!1})},s.state={cmodal:!0,showModal:!1,showAmendModal:!1,modalData:"",fromDateValue:new Date,toDateValue:new Date,modalDataRow:"",modalShowTicketData:"",ShowTicketModal:!1,buyInData:[],actionTitle:"",actionMessage:"",alertShow:!1,actionFlag:"",issueIds:[],isMultiple:!1,requestArray:[],bookId:"",showError:!1,updateData:!0},s.linkShowTicket=s.linkShowTicket.bind(Object(O.a)(s)),s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkShowTicker=s.linkShowTicker.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.checkBoxComponent=s.checkBoxComponent.bind(Object(O.a)(s)),s.amendAction=s.amendAction.bind(Object(O.a)(s)),s.openSingleModal=s.openSingleModal.bind(Object(O.a)(s)),s.openMpModal=s.openMpModal.bind(Object(O.a)(s)),s.setScreenData=s.setScreenData.bind(Object(O.a)(s)),s.delete=s.delete.bind(Object(O.a)(s)),s.confirmAction=s.confirmAction.bind(Object(O.a)(s)),s.returnMethod=s.returnMethod.bind(Object(O.a)(s)),s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.getDefaultBookValues=s.getDefaultBookValues.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,updateData:!1})}},{key:"linkShowTicket",value:function(e,t,a,s,n){var o=this;return Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:function(e){return o.openShowTicket(e,t)},children:Object(u.jsx)(B.C,{size:"14"})})}},{key:"openModal",value:function(e,t){var a;Object.keys(e).map((function(s){e[s]===t&&(s!==rn&&s!==ln||(a=s))})),this.setState({modalData:a,modalDataRow:e,showModal:!0,updateData:!1})}},{key:"hideModal",value:function(){this.setState({showModal:!1,ShowTicketModal:!1,showAmendModal:!1,showMpModal:!1,alertShow:!1,updateData:!0})}},{key:"linkShowTicker",value:function(e,t,a,s,n){if("0"!==e)return Object(u.jsx)("button",{id:n+a,className:"showtkt btn btn-link",onClick:this.openModal.bind(this,t,e),children:e})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,id:e+a,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,id:e+a,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{className:"text-warning pdl4",children:e})]}):void 0}},{key:"checkBoxComponent",value:function(e,t,a,s,n){var o=this,i="issueId"+a;if("Canld"!==t.dispDescr&&"Matrd"!==t.dispDescr)return Object(u.jsx)("div",{children:this.props.message?Object(u.jsx)(B.l,{className:"text-danger"}):Object(u.jsx)("input",{type:"checkbox",name:i,id:i,value:t.issueId,onClick:function(s){return o.amendCheck(e,a,t,s)}})})}},{key:"amendCheck",value:function(e,t,a,s){var n=this,o=this.state.requestArray,i=this.state.issueIds,l=[];if(s&&!0===s.target.checked&&l.push(t),s.target.checked){var c={};(c=RT.filter((function(e){return e.issueId===s.target.value}))[0]).amount=c.amount+"",c.net=c.net?c.net:"0.00",c.interest=c.interest?c.interest:"0.00",o.push(c),this.setState({issueIds:i,requestArray:o,updateData:!1})}else{var r=o;r=r.filter((function(e){return e.issueId!==s.target.value})),this.setState({issueIds:i,requestArray:r,updateData:!1})}s&&!1===s.target.checked&&l.splice(l.indexOf(t),1);var d=document.getElementById("amend");null!==d&&d.addEventListener("click",(function(e){return n.amendAction(s,t,l)}),!0),null!==(d=document.getElementById("delete"))&&d.addEventListener("click",(function(e){return n.delete(o,s,t,l)}),!0)}},{key:"delete",value:function(e,t,a,s){this.setState({actionTitle:"Delete",actionMessage:yh,alertShow:!0,issueIds:e,updateData:!1})}},{key:"confirmAction",value:function(e){var t=this,a=this.state.requestArray;this.setState({alertShow:!1,updateData:!1}),a.length>1?w()({method:"POST",url:N.URL+ec,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data[1],updateData:!0})})):w()({method:"POST",url:N.URL+zl,timeout:N.apiTimeOut,data:a[0],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({responseMessage:e.data,updateData:!0})})),this.setState({issueIds:[],updateData:!1})}},{key:"amendAction",value:function(e,t,a){var s=this.state.requestArray;s.length>1?this.openMpModal(s,a):this.openSingleModal(s,a)}},{key:"openSingleModal",value:function(e,t){var a=e;this.setState({buyInData:a,showAmendModal:!0,isMultiple:!1,updateData:!1})}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!0})}},{key:"fromDateChange",value:function(e){this.setState({fromDateValue:e,updateData:!0})}},{key:"toDateChange",value:function(e){this.setState({toDateValue:e,updateData:!0})}},{key:"setScreenData",value:function(e){RT=e}},{key:"returnMethod",value:function(e,t){this.setState({responseMessage:e,requestArray:t,updateData:!0})}},{key:"tickerChange",value:function(e){this.setState({bookId:e.target.value,updateData:!0})}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All",updateData:!1})}},{key:"render",value:function(){var e=this,t={};t.linkShowTicket=this.linkShowTicket,t.linkShowTicker=this.linkShowTicker,t.imgComponent=this.imgComponent,t.checkBoxComponent=this.checkBoxComponent;var a=this.state,s=a.isMultiple,n=a.requestArray;return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",Object(u.jsxs)(H.a,{md:4,className:"mt-1",children:[Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"Book",id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Jh,loginId:this.props.secTraderId},onchange:this.tickerChange,selected:this.state.bookId,id:"bookId",stateMethod:this.getDefaultBookValues})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.fromDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsxs)(W.a,{xs:4,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"}),":"]}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsx)(Yb,{cprops:"3"!==sessionStorage.getItem("membercatid")?Xw:zw,apiCall:ar,updateData:this.state.updateData,wsUrl:!0,reqParams:{prodType:Jh,fromDate:Vu(this.state.fromDateValue),toDate:Vu(this.state.toDateValue),loginid:this.props.secTraderId,bookId:this.state.bookId,socketSource:"SECONDARYTRADE"},edit:!1,mappings:$w,customComponents:t,calBack:this.setScreenData,keyField:"issueId",screenName:"TRADE_BLOTTER",subTitle:" ADN",flagPdf:!0}),this.state.modalData===ln&&Object(u.jsx)(rp,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:Jh,modalData:this.state.modalData,modalDataRow:this.state.modalDataRow,message:this.props.message}),Object(u.jsx)(kp,{size:"md",show:this.state.ShowTicketModal,onHide:function(){return e.hideModal()},modalHead:"Show Ticket",prodType:Jh,modalDataRow:this.state.modalShowTicketData}),!1===s?Object(u.jsx)(pT,{show:this.state.showAmendModal,onHide:function(){return e.hideModal()},prodType:Jh,modalData:n[0],returnMethod:this.returnMethod}):Object(u.jsx)(jT,{show:this.state.showMpModal,onHide:function(){return e.hideModal()},prodType:Jh,data:n,cprops:Jw,mappings:eT,keyField:"issueId",title:"Trade Amend",returnMethod:this.returnMethod}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideModal()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})]})})}}]),a}(o.a.Component),FT="70229170",PT="BEELEE",BT=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,heading:"cp"},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.handleSelect=s.handleSelect.bind(Object(O.a)(s)),s.discountCalculator=s.discountCalculator.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===am&&this.setState({cmodal:!0})}},{key:"handleSelect",value:function(e){var t=this,a="";"cp"===e&&(a=Hh),"ecp"===e&&(a=Zh),"mcp"===e&&(a=Wh),"ycd"===e&&(a=zh),"ecd"===e&&(a=qh),"frcp"===e&&(a=Kh),"frcd"===e&&(a=Gh),w()({method:"POST",url:N.URL+ac,timeout:N.apiTimeOut,data:{productType:a},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({message:e.data})})),this.setState({heading:e})}},{key:"discountCalculator",value:function(){}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"componentDidMount",value:function(){var e=this;w()({method:"POST",url:N.URL+ac,timeout:N.apiTimeOut,data:{productType:Hh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({message:t.data})}))}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",style:{background:"orange"},children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsxs)("span",{className:"float-right d-flex",children:[Object(u.jsxs)("span",{className:"d-flex pr-2",children:[Object(u.jsx)(B.o,{id:"amendHeader",className:"mr-1"})," Amend"]}),Object(u.jsxs)("span",{className:"d-flex  pr-2",children:[Object(u.jsx)(B.y,{id:"cancelHeader",className:"mr-1 mt2"}),"Cancel"]}),Object(u.jsxs)("span",{className:" d-flex  pr-5",children:[Object(u.jsx)(B.C,{size:"14",className:"mr-1 mt2"})," Ticket"]}),Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})]})})}),Object(u.jsx)(ai.a.Body,{style:{background:"lightgreen"},children:Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{children:Object(u.jsx)(W.a,{className:"d-inline-block",children:Object(u.jsxs)(hb.a,{defaultActiveKey:"cp",onSelect:this.handleSelect,transition:!1,id:"noanim-tab-example",children:[Object(u.jsx)(ei.a,{eventKey:"cp",title:"CP",children:"cp"===this.state.heading&&Object(u.jsx)(fT,{message:this.state.message,secTraderId:FT,secTraderName:PT})}),Object(u.jsx)(ei.a,{eventKey:"ecd",title:"ECD",children:"ecd"===this.state.heading&&Object(u.jsx)(yT,{message:this.state.message,secTraderId:FT,secTraderName:PT})}),Object(u.jsx)(ei.a,{eventKey:"ecp",title:"ECP",children:"ecp"===this.state.heading&&Object(u.jsx)(DT,{message:this.state.message,secTraderId:FT,secTraderName:PT})}),Object(u.jsx)(ei.a,{eventKey:"frcd",title:"FRCD",children:"frcd"===this.state.heading&&Object(u.jsx)(NT,{message:this.state.message,secTraderId:FT,secTraderName:PT})}),Object(u.jsx)(ei.a,{eventKey:"frcp",title:"FRCP",children:"frcp"===this.state.heading&&Object(u.jsx)(wT,{message:this.state.message,secTraderId:FT,secTraderName:PT})}),Object(u.jsx)(ei.a,{eventKey:"mcp",title:"MCP",children:"mcp"===this.state.heading&&Object(u.jsx)(IT,{message:this.state.message,secTraderId:FT,secTraderName:PT})}),Object(u.jsx)(ei.a,{eventKey:"ycd",title:"YCD",children:"ycd"===this.state.heading&&Object(u.jsx)(AT,{message:this.state.message,secTraderId:FT,secTraderName:PT})}),Object(u.jsx)(ei.a,{eventKey:"adn",title:"ADN",children:"adn"===this.state.heading&&Object(u.jsx)(ET,{message:this.state.message,secTraderId:FT,secTraderName:PT})})]})})})})})]})})}}]),a}(o.a.Component);function LT(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e.toString().trim()===n.toString().trim()&&(o=a&&"ticker"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkComponent(t,s,n,o,e)}}:e===ue?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.textBoxOfferComponent,formatExtraData:{key:e}}:e===Ce||e===Ea?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.textBoxRateComponent,formatExtraData:{key:e}}:e===he?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:"issueId"===e?{dataField:e,text:t[e],style:{width:50},formatter:a.invCheckBoxComponent}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1,formatter:a.invFieldComponent,formatExtraData:{colId:t[e]}},s.push(o));return""})),""})),s}function _T(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(o=a&&"ticker"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkComponent(t,s,n,o,e)}}:e===ue?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.textBoxOfferComponent(t,s,n,o,e)}}:e===ke||e===rt?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.textBoxComponent(t,s,n,o,e)}}:e===he?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1,formatter:a.invFieldComponent,formatExtraData:{colId:t[e]}},s.push(o));return""})),""})),s}function UT(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(o=e===ln?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkSecurityComponent(t,s,n,o,e)}}:e===ue?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.textBoxOfferComponent(t,s,n,o,e)}}:e===ke||e===rt?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.textBoxComponent(t,s,n,o,e)}}:e===he?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1,formatter:a.invFieldComponent,formatExtraData:{colId:t[e]}},s.push(o));return""})),""})),s}function VT(e,t,a){var s,n=[];return Object.keys(t).map((function(o){return Object.keys(e[0]).map((function(i){var l;i===o?(l=i===Ya||i===yn||i===sn||i===_a||i===gn?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){e=t[i].split(":")[0];var o=t[i].split(":")[2];return a.linkComponent(e,t,s,n,i,o)}}:i===ue||i===ke||i===Ba?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:a.textBoxComponent}:i===he?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),align:"right"}:i===wa||i===ba?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:Object(g.a)({dataField:i,text:t[i],formatter:a.fieldComponent,editable:!1,formatExtraData:{colId:t[i]},filter:Object(Ao.textFilter)()},"editable",!1),n.push(l)):"rateMap"===i&&n.length>11&&(null===s||s!==e[0].rateMap)&&(s=e[0].rateMap,0,Object.keys(e[0].rateMap).map((function(e){e!==ju&&e!==xu&&e!==cu&&e!==ru&&(l={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),csvFormatter:function(t,a,s,n){t=a.rateMap[e].split(":")[0];a.rateMap[e].split(":")[2];return t},formatter:function(t,s,n,o){t=s.rateMap[e].split(":")[0];var i=s.rateMap[e].split(":")[2];return a.linkComponent(t,s,n,o,e,i)}},n.push(l))})));return""})),""})),n}function YT(e,t,a){var s,n=[];return Object.keys(t).map((function(o){return Object.keys(e[0]).map((function(i){var l;i===o?(l=i===Ya||i===yn||i===sn||i===_a||i===gn?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return e=t[i].split(":")[0],a.linkComponent(e,t,s,n,i)}}:i===ue?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return a.textBoxOfferComponent(e,t,s,n,i)}}:i===ke||i===Ba?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return a.textBoxComponent(e,t,s,n,i)}}:i===he?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),align:"right"}:i===wa||i===ba?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:Object(g.a)({dataField:i,text:t[i],formatter:a.fieldComponent,editable:!1,formatExtraData:{colId:t[i]},filter:Object(Ao.textFilter)()},"editable",!1),n.push(l)):"rateMap"===i&&n.length>11&&(null===s||s!==e[0].rateMap)&&(s=e[0].rateMap,0,Object.keys(e[0].rateMap).map((function(e){e!==ju&&e!==xu&&e!==cu&&e!==ru&&(l={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),csvFormatter:function(t,a,s,n){return a.rateMap[e].split(":")[0]},formatter:function(t,s,n,o){return t=s.rateMap[e].split(":")[0],a.linkComponent(t,s,n,o,e)}},n.push(l))})));return""})),""})),n}function HT(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(o=e===Ea?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.textBoxComponent}:e===ue?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:a.textBoxLimitComponent}:e===qt?{dataField:e,text:t[e],formatter:a.checkBoxComponent}:e===te?{dataField:e,text:t[e],formatter:a.actionComponent,editable:!1}:e===he?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),align:"right"}:e===re?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:Object(g.a)({dataField:e,text:t[e],formatter:a.fieldComponent,editable:!1,formatExtraData:{colId:t[e]},filter:Object(Ao.textFilter)()},"editable",!1),s.push(o));return""})),""})),s}function WT(e,t,a){var s,n=[];return Object.keys(t).map((function(o){return Object.keys(e[0]).map((function(i){var l;i===o?(l="amount"===i?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:Object(g.a)({dataField:i,text:t[i],formatter:a.fieldComponent,editable:!1,formatExtraData:{colId:t[i]},filter:Object(Ao.textFilter)()},"editable",!1),n.push(l)):"rateMap"===i&&n.length>6&&(null===s||s!==e[0].rateMap)&&(s=e[0].rateMap,0,Object.keys(e[0].rateMap).map((function(e){e!==lu&&e!==mu&&(l={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),csvFormatter:function(t,a,s,n){return"0"===(t=a.rateMap[e].split(":")[0])?"":t},formatter:function(t,a,s,n){return"0"===(t=a.rateMap[e].split(":")[0])?"":t}},n.push(l))})));return""})),""})),n}function qT(e,t,a){var s,n=[];return Object.keys(t).map((function(o){return Object.keys(e[0]).map((function(i){var l;i===o?(l=i===Ya?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){e=t.oneWeek.split(":")[0];var o=t.oneWeek.split(":")[2];return a.linkComponent(e,t,s,n,i,o)}}:i===he?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),align:"right"}:i===ba?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:Object(g.a)({dataField:i,text:t[i],formatter:a.fieldComponent,editable:!1,formatExtraData:{colId:t[i]},filter:Object(Ao.textFilter)()},"editable",!1),n.push(l)):"rateMap"===i&&n.length>6&&(null===s||s!==e[0].rateMap)&&(s=e[0].rateMap,0,Object.keys(e[0].rateMap).map((function(e){l={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),csvFormatter:function(t,a,s,n){t=a.rateMap[e].split(":")[0];a.rateMap[e].split(":")[2];return t},formatter:function(t,s,n,o){t=s.rateMap[e].split(":")[0];var i=s.rateMap[e].split(":")[2];return a.linkComponent(t,s,n,o,e,i)}},n.push(l)})));return""})),""})),n}function zT(e,t,a){var s=[];return Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(o=e===ln?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkSecurityComponent(t,s,n,o,e)}}:e===ue?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.textBoxOfferComponent(t,s,n,o,e)}}:e===ke||e===rt?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.textBoxComponent(t,s,n,o,e)}}:e===he?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1,formatter:a.invFieldComponent,formatExtraData:{colId:t[e]}},s.push(o));return""})),""})),s}function GT(e,t,a){var s,n=[];return Object.keys(t).map((function(o){return Object.keys(e[0]).map((function(i){var l;i===o?(l=a&&i===ln?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return a.linkSecurityComponent(e,t,s,n,i)}}:i===Ya||i===yn||i===yn||i===_a||i===gn?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return e=t.oneWeek.split(":")[0],a.linkComponent(e,t,s,n,i)}}:i===ue?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return a.textBoxOfferComponent(e,t,s,n,i)}}:i===Ce||i===Ea?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,s,n){return a.textBoxComponent(e,t,s,n,i)}}:i===he?{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:i,text:t[i],filter:Object(Ao.textFilter)(),editable:!1,formatter:a.invFieldComponent,formatExtraData:{colId:t[i]}},n.push(l)):"rateMap"===i&&n.length>9&&(null===s||s!==e[0].rateMap)&&(s=e[0].rateMap,0,Object.keys(e[0].rateMap).map((function(e){e!==ju&&e!==xu&&e!==cu&&e!==ru&&(l={dataField:e,text:t[e],filter:Object(Ao.textFilter)(),csvFormatter:function(t,a,s,n){return a.rateMap[e].split(":")[0]},formatter:function(t,s,n,o){return t=s.rateMap[e].split(":")[0],a.linkComponent(t,s,n,o,e)}},n.push(l))})));return""})),""})),n}var KT=[];KT.cusip="CUSIP",KT.issuerName="Issuer",KT.tickerCode="Ticker",KT.prodType="Prod",KT.amount="Size (m)",KT.price="Price",KT.tradeDate="TD",KT.settleDate="Settle",KT.maturityDate="Mat",KT.salesPersonName="Sales Person",KT.bookName="Trading Book",KT.investorAcctName="Investor Top Account",KT.investorAcctName="Account",KT.buySellFlag="B/S",KT.books="Books",KT.totalPosition="Total Position ($m)",KT.net90Day="Net 90 Day",KT.pandl="P&L";var ZT=[];ZT.issueId=zt,ZT.issuerShortName=Kt,ZT.ticker=cn,ZT.currencyCode=We,ZT.settle=Rs,ZT.settleDateStr=Ms,ZT.maturityDateStr=ia,ZT.prodCode=Dn,ZT.availableCredit=wn,ZT.offer=Fa,ZT.availableToday=aa,ZT.amount=Aa,ZT.actionId=ie;var JT=[];JT.issueId=kt,JT.issuerShortName=Kt,JT.ticker=cn,JT.prodCode=ls,JT.settle=Rs,JT.settleDateStr=Ms,JT.maturityDateStr=da,JT.availableCredit=ga,JT.bid=Ne,JT.offer=Fa,JT.availableToday=Ta,JT.dispBidYield=lt,JT.dispOfferYield=dt,JT.bookDesc=Se;var QT=[];QT.issuerShortName=Kt,QT.ticker=cn,QT.currencyCode=We,QT.availableCredit=ka,QT.offeringlimit=Ma,QT.minimumPieceSize=pa,QT.settleDateStr=Ms,QT.issueDate=tt,QT.oneday=Ua,QT.twoday=On,QT.oneWeek=Ha,QT.twoWeek=kn,QT.threeWeek=nn,QT[lu]=Va,QT[mu]=vn,QT[hu]=an,QT[uu]=Et,QT[bu]=Mt,QT[pu]=_s,QT[fu]=Da,QT[du]=Wa;var XT=[];XT.issuerName=Kt,XT.ticker=cn,XT.currencyCode=We,XT.settle=Rs,XT.settleDateStr=Ms,XT.issueDate=tt,XT.coupon=He,XT.maturityDateStr=da,XT.availableCredit=ga,XT.availableToday=Sa,XT.bidYield=In,XT.dispOfferYield=La,XT.bookDesc=Se;var $T=[];$T.issuerShortName=Kt,$T.ticker=cn,$T.currencyCode=We,$T.availableCredit=ka,$T.offeringlimit=Ta,$T.availableToday=Ma,$T.minimumPieceSize=pa,$T.settleDateStr=Ms,$T.oneday=Ua,$T.twoday=On,$T.oneWeek=Ha,$T.twoWeek=kn,$T.threeWeek=nn,$T[lu]=Va,$T[mu]=vn,$T[hu]=an,$T[uu]=Et,$T[bu]=Mt,$T[pu]=_s,$T[fu]=Da,$T[du]=Wa;var eI=[];eI.ticker=cn,eI.currencyCode=We,eI.settle=Rs,eI.settleDateStr=Ms,eI.maturityDateStr=da,eI.availableCredit=ga,eI.bid=Ne,eI.offer=Fa,eI.availableToday=Sa,eI.yield=In,eI.dispBidYield=lt,eI.dispOfferYield=La,eI.bookNo=Se;var tI=[];tI.issuerName=Kt,tI.ticker=cn,tI.currencyCode=We,tI.settle=Rs,tI.settlementDate=Ms,tI.issueDate=tt,tI.coupon=He,tI.maturityDateStr=da,tI.availableCredit=ga,tI.availableToday=Sa,tI.bidYield=De,tI.dispOfferYield=dt,tI.bookNo=Se;var aI=[];aI.issuerName=Kt,aI.ticker=cn,aI.currencyCode=We,aI.settle=Rs,aI.settlementDate=Ms,aI.issueDate=tt,aI.coupon=He,aI.maturityDateStr=da,aI.availableCredit=ga,aI.bidYield=In,aI.availableToday=Sa,aI.dispOfferYield=dt,aI.bookNo=Se;var sI=[];sI.issueId=zt,sI.issuerShortName=Kt,sI.ticker=cn,sI.currencyCode=We,sI.settle=Rs,sI.settleDateStr=Ms,sI.maturityDateStr=Ss,sI.prodCode=Dn,sI.availableCredit=wn,sI.offer=Fa,sI.availableToday=aa,sI.amount=Aa,sI.actionId=ie;var nI=[];nI.issueId=kt,nI.issuerShortName=Kt,nI.ticker=cn,nI.prodCode=ls,nI.settle=Rs,nI.settleDateStr=Ms,nI.maturityDateStr=da,nI.availableCredit=ga,nI.bid=Ne,nI.offer=Fa,nI.availableToday=Ta,nI.dispBidYield=lt,nI.dispOfferYield=dt,nI.bookDesc=Se;var oI=[];oI.issuerShortName=Kt,oI.ticker=cn,oI.productType=ls,oI.availableCredit=ka,oI.availableToday=Ma,oI.minimumPieceSize=pa,oI.settleDateStr=Ms,oI.issueDate=tt,oI.oneday=Ua,oI.twoday=On,oI.oneWeek=Ha,oI.twoWeek=kn,oI.threeWeek=nn,oI[lu]=Va,oI[mu]=vn,oI[hu]=an,oI[uu]=Et,oI[bu]=Mt,oI[pu]=_s,oI[ju]=Ps,oI[xu]=vt,oI[fu]=Da,oI[cu]=tn,oI[ru]=yt,oI[du]=Wa;var iI=[];iI.issuerName=Kt,iI.ticker=cn,iI.currencyCode=We,iI.settle=Rs,iI.settleDate=Ms,iI.issueDate=tt,iI.coupon=He,iI.maturityDateStr=da,iI.availableCredit=ga,iI.availableToday=Sa,iI.bidYield=In,iI.dispOfferYield=La,iI.bookDesc=Se;var lI=[];lI.ticketId=dn,lI.ticketAmount=ga,lI.settleDate=Ms,lI.maturityDate=ma,lI.ticketRate=ps,lI.currency=ze,lI.yield=In,lI.tradeSource=Gs,lI.salesPerson=Ns,lI.msgType=Te,lI.status=qs;var cI,rI,dI,mI,hI,uI,bI,pI=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={data:""},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.apiCall){var t=this.props.reqParams,a="";t&&(a={programId:t.programId,productType:this.props.prodType,ticker:t.ticker,issueId:t.issueId}),w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({data:t.data})}))}}},{key:"render",value:function(){var e=this,t=this.state.data;return Object(u.jsx)("div",{className:"mt-2",children:t&&Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",Object(u.jsxs)("div",{className:"modal-cls",id:"details",children:[Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top border-right p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_issinfo",children:"Issuer Information"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_issuerName",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Name:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"issuerName",children:t.issuerName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_industry",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Industry:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"industry",children:t.industry})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_prvlg",children:"Privileging"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)("select",{id:"privileging",className:"custom-select",children:Object(u.jsx)("option",{children:"Firm"})})}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"mastAcctName",children:t.mastAcctName})]})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top border-right p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_prginfo",children:"Program Information"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_ticker",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Ticker (Issuer):"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"ticker",children:t.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"product",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Product:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"prodName",children:t.productType})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_regType",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Reg Type:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"regType",children:t&&t.regType?t.regType:""})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_dayType",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Day Type:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"dayType",children:t&&t.dayType?t.dayType:""})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_calType",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Calc Type:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"calType",children:t&&t.calType?t.calType:""})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_dealer",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Dealer:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"dealer",children:t&&t.dealer?t.dealer:""})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_cassii",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"OMS:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"cassii",children:t&&t.cassii?t.cassii:""})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_identifiers",children:"Identifiers"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_identprogramId",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"ID:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"identprogramId",id:"identprogramId",value:t.programId,onChange:function(t){e.onChange(t,"identprogramId")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_tickerId",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"OMS ID#:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"tickerId",children:t.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_cusip",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"DTC CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"cusip",children:t&&t.cusip?t.cusip:""})]}),"2400"!==this.props.prodType&&"2700"!==this.props.prodType&&"1600"!==this.props.prodType&&Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_rating",children:"Rating"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_ltSandP",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"S&P:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"ltSandP",children:t.ltSandP})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_ltMoody",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"MDY:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"ltMoody",children:t.ltMoody})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_ltFitch",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"FITCH:"}),Object(u.jsx)("label",{className:"form-label col-md-6 text-left",id:"ltFitch",children:t.ltFitch})]})]})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top border-right p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_secinfo",children:"Security Information"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_matrity",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Maturity:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"maturitydate",id:"maturitydate",value:t.maturityDate,onChange:function(t){e.onChange(t,"identprogramId")},className:"text-right"})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_series",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Series:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"series",id:"series",value:t.prodCode,readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_announce",children:"Announce:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"announcedate",id:"announcedate",value:t.announceDate,className:"text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_issuedate",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Issue Date:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"issuedate",id:"issuedate",value:t.issueDate,className:"text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_frstsd",children:"1st Settle Date:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"settledate",id:"settledate",value:t.settleDateFirst,className:"text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_Country",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Country:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"Country",id:"Country",value:t.Country,readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_currency",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Currency:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"currency",id:"currency",value:t.currencyCode,readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_coupon",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Coupon:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"coupon",id:"coupon",value:t.coupon,readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_freq",children:"Freq:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"Freq",id:"Freq",value:t.Freq,readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_coupontype",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Coupon Type:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"coupontype",id:"coupontype",value:t.couponType,readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_maturitytype",className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Maturity Type:"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"maturitytype",id:"maturitytype",value:t.matType,readOnly:!0})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_isstrading",children:"Issuance & Trading"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_issueamount",children:"Issue Amount"}),Object(u.jsx)("label",{className:"form-label  col-md-2 col-sm-2 col-xs-2 text-center font-weight-bold",id:"lbl_slash",children:"/"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",id:"lbl_paramount",children:"Available Amount"})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"issueamount",id:"issueamount",value:Lo(t.issueAmount),className:"text-right",readOnly:!0})}),Object(u.jsx)("label",{className:"form-label  col-md-2 col-sm-2 col-xs-2 text-center font-weight-bold",id:"lbl_issslash",children:"/"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"paramount",id:"paramount",value:Lo(t.parAmount),className:"text-right",readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_minpiece",children:"Min Piece"}),Object(u.jsx)("label",{className:"form-label col-md-2 col-sm-2 col-xs-2 text-center font-weight-bold",id:"lbl_mpslash",children:"/"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_increment",children:"Increment"})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"minPiece",id:"minPiece",value:Lo(t.minPiece),className:"text-right",readOnly:!0})}),Object(u.jsx)("label",{className:"form-label col-md-2 col-sm-2 col-xs-2 text-center font-weight-bold",id:"lbl_minslash",children:"/"}),Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 text-left",children:Object(u.jsx)(Eu,{name:"incAmount",id:"incAmount",value:Lo(t.incAmount),className:"text-right",readOnly:!0})})]}),("2400"!==this.props.prodType||"2700"!==this.props.prodType)&&Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_notes",children:"Notes"}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:Object(u.jsx)("textarea",{name:"notes",id:"txtarea_notes",className:"form-control input-sm",rows:"3"})})})]})]})]}),("2400"===this.props.prodType||"2700"===this.props.prodType)&&Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top border-right p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"cpnschedpaysId",children:"Cpn Schedule Payments"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_indextype",children:"Index Type:"}),Object(u.jsxs)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"val_indextype",children:["30"===t.couponData[0].indexType&&"1M","90"===t.couponData[0].indexType&&"3M"]})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_rolldate",children:"Roll Date:"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",id:"val_rolldate",children:"1"===t.couponData[0].rollDate&&"1st of the Month"})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_couponpaymentdate",children:"Coupon Payment Dates:"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8 text-left",id:"val_couponpaymentdate",children:t.couponData[4]&&t.couponData[4].map((function(e,t){return e.cpnPaymentDate+", "}))})]}),t.couponData[4]&&Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_coupondeterminationdate",children:"Coupon Determination Dates:"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8 text-left",id:"val_coupondeterminationdate",children:t.couponData[4].map((function(e,t){return e.cpnDetermDate+", "}))})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_accruedinterest",children:"Accrued Interest:"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8 text-left wordbrk",id:"val_accruedinterest",children:t.accruedInt})]}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1 fo2table",children:Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:" Coupon Date"}),Object(u.jsx)("th",{children:" SOFR "}),Object(u.jsx)("th",{children:" Spread "}),Object(u.jsx)("th",{children:" Coupon "})]})}),Object(u.jsx)("tbody",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t.couponData[4]&&t.couponData[4].map((function(e,t){if(0===t)return e.cpnPaymentDate}))}),Object(u.jsx)("td",{children:t.couponData[0].liborRate}),Object(u.jsx)("td",{children:t.couponData[0].spread}),Object(u.jsx)("td",{children:t.couponData[0].coupon})]})})]})})]}),("2400"===this.props.prodType||"2700"===this.props.prodType)&&Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-left",id:"lbl_ntes",children:"Notes"}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:Object(u.jsx)("textarea",{name:"notes",id:"v_txtarea",className:"form-control input-sm",rows:"3"})})})]})]})]})})}}]),a}(o.a.Component),jI=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).onChange=function(e,t){s.setState(Object(g.a)({},t,e.target.value))},s.submitData=function(){if(void 0===s.props.message||""===s.props.message){var e=s.state.data,t=s.props.reqParams;t.amount=Po(t.amount),t.refIssueId=t.refissueId;e&&(t.memberCatId="2",t.bid=s.state.bid,t.offer=s.state.offer),w()({method:"POST",url:N.URL+vl,timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){s.setState({data:e.data}),s.props.onHide()}))}else s.setState({actionTitle:"Alert",actionMessage:s.props.message,showError:!0})},s.state={data:"",bid:"",offer:"",showError:!1,actionMessage:"",actionTitle:""},s.hideError=s.hideError.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.apiCall){var t=this.props.reqParams,a="";t&&(a={issueId:t.issueId,productType:t.productType,ticker:t.ticker,bid:t.bid}),w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({data:t.data})}))}}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(e!==this.props&&this.props.apiCall){var s=this.props.reqParams;s&&{programId:s.programId,productType:s.productType,ticker:s.ticker,issueId:s.issueId},w()({method:"POST",url:N.URL+this.props.apiCall,timeout:N.apiTimeOut,data:this.props.reqParams,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({data:e.data})}))}}},{key:"render",value:function(){var e=this,t=this.state.data;return Object(u.jsx)("div",{className:"tab-pane mt-2",id:"price",children:t&&Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",Object(u.jsx)("table",{width:"100%",className:"tblbordertop tblborderleft tblborderbottom",children:Object(u.jsx)("tbody",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{valign:"top",width:"40%",children:Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:[Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left font-weight-bold",id:"book",children:"Book:"}),Object(u.jsx)("label",{className:"form-label col-md-3.5 col-sm-3.5 col-xs-3.5  text-left",id:"bookName",children:t?t.bookName:t.bookDesc}),Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-right font-weight-bold ",id:"position",children:"Position(m):"}),Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3  text-left",id:"issueAmount",children:t.issueAmount})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left font-weight-bold",id:"bid ",children:"Bid:"}),Object(u.jsx)("div",{className:"col-md-3 col-sm-3 col-xs-3  text-left",id:"v_bidrate",children:Object(u.jsx)(Eu,{name:"bidRate",id:"bidRate",value:t.bidRate,onChange:function(t){e.onChange(t,"bid")}})}),Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-right font-weight-bold",id:"offer",children:"Offer:"}),Object(u.jsx)("div",{className:"col-md-3 col-sm-3 col-xs-3  text-left",id:"v_offrate",children:Object(u.jsx)(Eu,{name:"offerRate",id:"offerRate",value:t.offerRate,onChange:function(t){e.onChange(t,"offer")}})})]}),Object(u.jsx)("div",{className:"row mt-2",children:Object(u.jsx)("button",{id:"submit",onClick:this.submitData,style:{fontSize:"12px !important;"},className:"marginauto btn btn-success btn-xs lyrsubmitfocus",children:"Submit"})})]})})}),Object(u.jsx)("td",{valign:"top",width:"25%",className:"tblborderleft tblborderright",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:"subHead"}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5  text-left font-weight-bold",id:"lbl_realized",children:"Realized:"}),Object(u.jsx)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"realized",children:t.realized})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5  text-left font-weight-bold",id:"lbl_unrealized",children:"Unrealized:"}),Object(u.jsx)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"unrealized",children:t.unrealized})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5  text-left font-weight-bold",id:"lbl_total",children:"Profit/Loss:"}),Object(u.jsx)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"total",children:t.plAmount})]})]})]})}),Object(u.jsx)("td",{valign:"top",width:"35%",className:"tblborderright",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:"subHead"}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 ",children:[Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6  text-left font-weight-bold",id:"lbl_bidyld",children:"Bid Yield:"}),Object(u.jsx)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"bidyld",children:t.bidRate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6  text-left font-weight-bold",id:"lbl_dv01",children:"DV01:"}),void 0!==t.dv01&&0===t.dv01.indexOf("-")?Object(u.jsxs)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"dv01",children:[" ",Object(u.jsxs)("div",{className:"text-right text-danger",children:["(",t.dv01.replace("-",""),")"]})]}):Object(u.jsx)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"dv01",children:t.dv01})]}),Object(u.jsxs)("div",{className:"row p2 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6  text-left font-weight-bold",id:"lbl_conv01",children:"Convexity01:"}),Object(u.jsx)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"conv01",children:t.convexity})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6  text-left font-weight-bold",id:"lbl_sumofdvandconv01",children:"DV01+Convexity01:"}),void 0!==t.total&&0===t.total.indexOf("-")?Object(u.jsxs)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"sumofdvandconv01",children:[" ",Object(u.jsxs)("div",{className:"text-right text-danger",children:["(",t.total.replace("-",""),")"]})]}):Object(u.jsx)("div",{className:"form-label col-md-2 col-sm-2 col-xs-2  text-left",id:"sumofdvandconv01",children:t.total})]})]})]})})]})})}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.props.message,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})})}}]),a}(o.a.Component),xI=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={data:""},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.reqParams;return Object(u.jsx)("div",{className:"tab-pane mt-1",id:"trdhis",children:Object(u.jsx)("div",{className:"modal-content modal-lyr-cnt",children:Object(u.jsx)("div",{className:"modal-body1 text-center",children:Object(u.jsx)("div",{className:"col-md-12 col-sm-12",children:Object(u.jsxs)("div",{className:"react-bootstrap-table fo2table table-responsive",children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",Object(u.jsx)(lp,{cprops:lI,apiCall:this.props.apiCall,reqParams:{programId:e.programId,productType:this.props.prodType,issueId:e.issueId,loginId:sessionStorage.getItem("loginid"),companyId:sessionStorage.getItem("companyid")},keyField:"1",excelFlag:"true"})]})})})})})}}]),a}(o.a.Component),fI=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectData:"",heading:"details"},s.handleSelect=s.handleSelect.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){e!==this.props&&this.setState({heading:"details"})}},{key:"handleSelect",value:function(e){this.setState({heading:e})}},{key:"render",value:function(){return this.props.modalData&&Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,size:this.props.size,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.modalHead})}),Object(u.jsx)(P.a.Body,{children:Object(u.jsxs)(hb.a,{defaultActiveKey:"details",onSelect:this.handleSelect,transition:!1,id:"noanim-tab-example",children:[Object(u.jsx)(ei.a,{eventKey:"details",title:"Details",children:"details"===this.state.heading&&Object(u.jsx)(pI,{prodType:this.props.prodType,message:this.props.message,reqParams:this.props.modalDataRow,apiCall:al})}),Object(u.jsx)(ei.a,{eventKey:"price",title:"Price",children:"price"===this.state.heading&&Object(u.jsx)(jI,{prodType:this.props.prodType,message:this.props.message,reqParams:this.props.modalDataRow,onHide:this.props.onHide,apiCall:sl})}),Object(u.jsx)(ei.a,{eventKey:"tradeHistory",title:"Trade History",children:"tradeHistory"===this.state.heading&&Object(u.jsx)(xI,{prodType:this.props.prodType,message:this.props.message,reqParams:this.props.modalDataRow,apiCall:nl})})]})}),Object(u.jsx)(P.a.Footer,{children:Object(u.jsx)(D.a,{id:"close",onClick:this.props.onHide,children:"Close"})})]})}}]),a}(o.a.Component),gI={},OI={},vI=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s,n;return Object(i.a)(this,a),(n=t.call(this,e)).checkBoxComponent=function(e,t,a,s){var o="issueId"+t.issueId;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(e){n.onCheckboxClick(e,t.issueId,t,a)}})})},n.textBoxComponent=function(e,t,a,s,o){var i="offer"+t.issueId;return Object(u.jsx)(Eu,{name:i,id:i,value:e,onBlur:function(e){n.onFieldChange(e,t.issueId,t.offer,t,a)},onKeyPress:function(e){n.onAmountKey(e,t.issueId,"Offer",t,a)},className:"text-right"})},n.textBoxLimitComponent=function(e,t,a){var s="limit"+t.issueId;if("0000"===t.refIssueId)return Object(u.jsx)(Eu,{name:s,id:s,value:e,onBlur:function(e){n.onLimitChange(e,t.issueId,t.offeringlimit,t,a)},onKeyPress:function(e){n.onAmountKey(e,t.issueId,"Limit",t,a)},className:"text-right"})},n.textBoxOfferComponent=function(e,t,a,s){var o="offeramount"+t.issueId,i=n.state.inventoryData;return s&&(i[a]||(i.push({}),i[a]=t,n.setState({inventoryData:i,updateData:!1}))),Object(u.jsx)(Eu,{name:o,id:o,value:Lo(e),onChange:function(e){n.onOfferChange(e,t.issueId,t.availableToday,t,a,"Offer")},onBlur:function(e){n.onOfferChange(e,t.issueId,t.availableToday,t,a,"")},onKeyPress:function(e){n.onKeyAmount(e,t.issueId,t,"Offer",a)},className:"text-right"})},n.textBoxRateComponent=function(e,t,a,s,o){var i=s.key,l=i+t.issueId;return Object(u.jsx)(Eu,{name:l,id:l,value:e,onChange:function(e){n.onRateChange(e,t.issueId,t.offer,t,i,a,"Offer")},onBlur:function(e){n.onRateChange(e,t.issueId,t.offer,t,i,a,"")},onKeyPress:function(e){n.onKeyAmount(e,t.issueId,t,i,a)},className:"text-right"})},n.onRateChange=function(e,t,a,s,o,i,l){if(!1===Bo(e.target.value,"1234567890.")&&0===l.length)n.setState({actionTitle:"Alert",actionMessage:"offer"===o?Vm:Tm,showError:!0,updateData:!1}),e.target.value=a,e.target.focus();else{var c=n.state.inventoryData;c[i].offerRate=e.target.value,c[i].bidRate=e.target.value,n.setState({inventoryData:c}),gI={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(e.target.value),offeringlimit:Po(document.getElementById("offeramount"+s.issueId).value)}}},n.onOfferChange=function(e,t,a,s,o,i){if(!1===Bo(e.target.value,"1234567890.,mmMMkkKK")&&0===i.length)n.setState({actionTitle:"Alert",actionMessage:Um,showError:!0,updateData:!1}),e.target.value=s.availableToday,e.target.focus();else{""!==e.target.value&&0===i.length&&_o(e);var l=n.state.inventoryData;l[o].offeringlimit=Po(e.target.value),OI={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(document.getElementById("offer"+s.issueId).value),offeringlimit:Po(e.target.value)},n.setState({inventoryData:l})}},n.onCheckboxClick=function(e,t,a,s){void 0===n.props.message||""===n.props.message?(gI={ticker:a.ticker,issueId:t,bookId:a.bookId,bidRate:Po(a.bid),offerRate:Po(document.getElementById("offer"+a.issueId).value),offeringlimit:Po(document.getElementById("limit"+a.issueId).value)},e.target.checked&&n.setState({actionTitle:rm,actionMessage:hm,alertShow:!0,updateData:!1,actionFlag:"DELETE"})):n.setState({actionTitle:"Alert",actionMessage:n.props.message,showError:!0,updateData:!1})},n.buyInventory=function(){void 0===n.props.message||""===n.props.message?n.setState({showBuyInv:!0,updateData:!1}):n.setState({actionTitle:"Alert",actionMessage:n.props.message,updateData:!1,showError:!0})},n.sellInventory=function(){void 0===n.props.message||""===n.props.message?n.setState({showSellInv:!0,updateData:!1}):n.setState({actionTitle:"Alert",actionMessage:n.props.message,updateData:!1,showError:!0})},n.state=(s={cmodal:!0,modalData:"",modalDataRow:"",showBuyInv:!1,BuyInvtData:"",showSellInv:!1,SellInvtData:"",bookId:"",screenName:"Offerings",issueId:"",IssuerId:"",responseMessage:"",actionTitle:"",actionMessage:"",alertShow:!1,actionFlag:"",showError:!1},Object(g.a)(s,"actionTitle",""),Object(g.a)(s,"actionMessage",""),Object(g.a)(s,"showError",!1),Object(g.a)(s,"inventoryData",[]),Object(g.a)(s,"showCPBuy",!1),Object(g.a)(s,"buyConfData",""),Object(g.a)(s,"invType",""),Object(g.a)(s,"updateData",!0),s),n.closemodel=n.closemodel.bind(Object(O.a)(n)),n.linkComponent=n.linkComponent.bind(Object(O.a)(n)),n.openModal=n.openModal.bind(Object(O.a)(n)),n.onLimitChange=n.onLimitChange.bind(Object(O.a)(n)),n.textBoxLimitComponent=n.textBoxLimitComponent.bind(Object(O.a)(n)),n.textBoxComponent=n.textBoxComponent.bind(Object(O.a)(n)),n.textBoxOfferComponent=n.textBoxOfferComponent.bind(Object(O.a)(n)),n.textBoxRateComponent=n.textBoxRateComponent.bind(Object(O.a)(n)),n.bookChange=n.bookChange.bind(Object(O.a)(n)),n.checkBoxComponent=n.checkBoxComponent.bind(Object(O.a)(n)),n.actionComponent=n.actionComponent.bind(Object(O.a)(n)),n.editCommitment=n.editCommitment.bind(Object(O.a)(n)),n.convert=n.convert.bind(Object(O.a)(n)),n.returnMethod=n.returnMethod.bind(Object(O.a)(n)),n.onAmountKey=n.onAmountKey.bind(Object(O.a)(n)),n.hideAlert=n.hideAlert.bind(Object(O.a)(n)),n.confirmAction=n.confirmAction.bind(Object(O.a)(n)),n.hideError=n.hideError.bind(Object(O.a)(n)),n.onOfferChange=n.onOfferChange.bind(Object(O.a)(n)),n.onRateChange=n.onRateChange.bind(Object(O.a)(n)),n.onKeyAmount=n.onKeyAmount.bind(Object(O.a)(n)),n.verify=n.verify.bind(Object(O.a)(n)),n.publishAllInventory=n.publishAllInventory.bind(Object(O.a)(n)),n.verifyAll=n.verifyAll.bind(Object(O.a)(n)),n.getDefaultBookValues=n.getDefaultBookValues.bind(Object(O.a)(n)),n.returnLayerMethod=n.returnLayerMethod.bind(Object(O.a)(n)),n.returnResponse=n.returnResponse.bind(Object(O.a)(n)),n.fieldComponent=n.fieldComponent.bind(Object(O.a)(n)),n.onInvCheckboxClick=n.onInvCheckboxClick.bind(Object(O.a)(n)),n.invCheckBoxComponent=n.invCheckBoxComponent.bind(Object(O.a)(n)),n}return Object(l.a)(a,[{key:"openModal",value:function(e,t){var a;Object.keys(e).map((function(s){e[s]===t&&s===ln&&(a=s)})),this.setState({modalData:a,modalDataRow:e,showModal:!0,updateData:!1})}},{key:"hideModal",value:function(){this.setState({showModal:!1,showBuyInv:!1,showSellInv:!1,showCPBuy:!1,updateData:!0})}},{key:"onLimitChange",value:function(e,t,a,s,n){!1===Bo(e.target.value,"1234567890.,mmMMkkKK")||e.target.value<0?(this.setState({actionTitle:"Alert",actionMessage:Um,showError:!0,updateData:!1}),e.target.value=s.availableToday,e.target.focus()):(""!==e.target.value&&_o(e),OI={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(document.getElementById("offer"+s.issueId).value),offeringlimit:Po(e.target.value)})}},{key:"onKeyAmount",value:function(e,t,a,s,n){if(void 0===this.props.message||""===this.props.message){var o=this.state;o.bookId,o.ticker;OI={ticker:a.ticker,issueId:t,bookId:a.bookId,bidRate:Po(a.bid),offerRate:Po(document.getElementById("offer"+a.issueId).value),offeringlimit:Po(document.getElementById("offeramount"+a.issueId).value)},"Enter"===e.key&&this.verify(OI,"PUBLISHINV",n)&&this.setState({actionTitle:"Publish",actionMessage:"Are you sure , you want to Publish the Inventory ?",alertShow:!0,updateData:!1,actionFlag:"PUBLISHINV"})}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"onFieldChange",value:function(e,t,a,s,n){!1===Bo(e.target.value,"1234567890.")?(this.setState({actionTitle:"Alert",actionMessage:Vm,showError:!0,updateData:!1}),e.target.value=a,e.target.focus()):gI={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(e.target.value),offeringlimit:Po(document.getElementById("limit"+s.issueId).value)}}},{key:"linkComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openModal.bind(this,t,e),children:e})}},{key:"bookChange",value:function(e){this.setState({bookId:e.target.value,updateData:!0,responseMessage:""})}},{key:"editCommitment",value:function(e){void 0===this.props.message||""===this.props.message?this.setState({screenName:"Edit",issueId:e,updateData:!1}):this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"convert",value:function(e,t,a){void 0===this.props.message||""===this.props.message?this.setState({screenName:"Convert",issueId:e,issuerId:t,bookId:a,updateData:!1}):this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"checkBoxComponent",value:function(e,t,a,s){var n=this,o="issueId"+t.issueId;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(e){n.onCheckboxClick(e,t.issueId,t,a)}})})}},{key:"actionComponent",value:function(e,t,a,s){var n=this;if("0000"===t.refIssueId)return Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{className:"btn btn-link",id:"edit"+a,onClick:function(){n.editCommitment(e)},style:{marginRight:"0.5em",marginLeft:"1em"},children:Object(u.jsx)("img",{src:"/omsservice/images/edit-icon.png",alt:"edit"})}),Object(u.jsx)("button",{className:"btn btn-link",id:"convert"+a,onClick:function(){n.convert(e,t.programId,t.bookId)},style:{marginRight:"0.5em"},children:Object(u.jsx)("img",{src:"/omsservice/images/convert-icon.png",alt:"convert"})})]},a)}},{key:"returnMethod",value:function(e){this.setState({screenName:"Offerings",responseMessage:e,updateData:!1})}},{key:"onAmountKey",value:function(e,t,a,s,n){if(void 0===this.props.message||""===this.props.message){var o=this.state;o.bookId,o.ticker;"Enter"===e.key&&(gI={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(document.getElementById("offer"+s.issueId).value),offeringlimit:Po(document.getElementById("limit"+s.issueId).value)},this.verify(gI,"PUBLISH")&&this.setState({actionTitle:"Publish",actionMessage:"Are you sure, you want to Publish the Commitment ?",alertShow:!0,updateData:!1,actionFlag:"PUBLISH"}))}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"hideAlert",value:function(){this.setState({alertShow:!1,updateData:!0})}},{key:"confirmAction",value:function(e){var t=this;if("DELETE"===e){this.setState({alertShow:!1});var a=[{}];a[0]=gI.issueId;var s=[{}];s[0]=gI.bookId;var n=[{}];n[0]=gI.ticker,w()({method:"POST",url:N.URL+hi,timeout:N.apiTimeOut,data:{issues:a,bookId:s,ticker:n},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}))}else if("PUBLISHINV"===e){this.setState({alertShow:!1});var o=[];o.push(OI),w()({method:"POST",url:N.URL+Il,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}))}else if("PUBLISH"===e)this.setState({alertShow:!1}),w()({method:"POST",url:N.URL+ml,timeout:N.apiTimeOut,data:gI,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}));else if("PUBLISHALLINV"===e){this.setState({alertShow:!1});var i=this.state.paramPayload;w()({method:"POST",url:N.URL+Il,timeout:N.apiTimeOut,data:i,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}))}}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"invCheckBoxComponent",value:function(e,t,a,s){var n=this,o="issueId"+t.issueId;if(t.availableToday>0)return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(s){n.onInvCheckboxClick(e,a,t,s)}})})}},{key:"onInvCheckboxClick",value:function(e,t,a,s){OI={ticker:a.ticker,issueId:e,bookId:a.bookId,bidRate:Po(a.bid),offerRate:Po(document.getElementById("offer"+a.issueId).value),offeringlimit:Po(document.getElementById("offeramount"+a.issueId).value)},s.target.checked&&this.setState({updateData:!1})}},{key:"verify",value:function(e,t,a){var s="";return"DELETE"===t||("PUBLISH"===t?(e.offeringlimit||0!==s.length||(s="Row"+(a+1)+":"+Um),e.offerRate||0!==s.length||(s="Row"+(a+1)+":"+Vm)):"PUBLISHINV"===t&&((e.offeringlimit||0!==s.length)&&(!e.offeringlimit||0!==e.offeringlimit.length&&0!==parseFloat(e.offeringlimit))||(s="Row"+(a+1)+":"+Um),(e.offerRate||0!==s.length)&&(!e.offerRate||0!==e.offerRate.length&&0!==parseFloat(e.offerRate))||(s="Row"+(a+1)+":"+Vm),(e.bidRate||0!==s.length)&&(!e.bidRate||0!==e.bidRate.length&&0!==parseFloat(e.bidRate))||(s="Row"+(a+1)+":"+Tm),e.offerRate&&e.bidRate&&0===s.length&&parseFloat(e.bidRate)<parseFloat(e.offerRate)&&(s="Row"+(a+1)+":"+mh)),!s||(this.setState({actionTitle:"Alert",actionMessage:s,showError:!0,updateData:!1}),!1))}},{key:"verifyAll",value:function(e,t){for(var a=!0,s=0;s<e.length;s++){var n=this.verify(e[s],t,s);if(!1===n){a=n;break}}return a}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All"})}},{key:"publishAllInventory",value:function(){if(void 0===this.props.message||""===this.props.message){for(var e=this.state.inventoryData,t=[],a=0;a<e.length;a++)0===parseFloat(e[a].offerRate)&&(e[a].offerRate=e[a].offer),0===parseFloat(e[a].bidRate)&&(e[a].bidRate=e[a].bid),0===parseFloat(e[a].offeringlimit)&&(e[a].offeringlimit=e[a].availableToday),t.push(e[a]);this.setState({paramPayload:t}),this.verifyAll(t,"PUBLISHINV")&&this.setState({actionTitle:"Publish",actionMessage:"Are you sure , you want to Publish the Inventory ?",alertShow:!0,updateData:!1,actionFlag:"PUBLISHALLINV"})}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"returnLayerMethod",value:function(e,t){this.setState({buyConfData:e,showCPBuy:!0,showBuyInv:!1,showSellInv:!1,invType:t,updateData:!1})}},{key:"returnResponse",value:function(e){this.setState({responseMessage:e.responseMessage,showCPBuy:!1,updateData:!1})}},{key:"fieldComponent",value:function(e,t,a,s){var n=s.colId;return"0000"===t.refIssueId||"Issuer"===n||"SD"===n||"Range"===n?"Offer Quant($m)"===n?Lo(e):e:void 0}},{key:"invFieldComponent",value:function(e,t,a,s){return"Par ($m)"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t={};return t.linkComponent=this.linkComponent,t.checkBoxComponent=this.checkBoxComponent,t.textBoxComponent=this.textBoxComponent,t.textBoxLimitComponent=this.textBoxLimitComponent,t.textBoxOfferComponent=this.textBoxOfferComponent,t.checkBoxComponent=this.checkBoxComponent,t.actionComponent=this.actionComponent,t.invCheckBoxComponent=this.invCheckBoxComponent,t.textBoxRateComponent=this.textBoxRateComponent,t.fieldComponent=this.fieldComponent,t.invFieldComponent=this.invFieldComponent,Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"","Offerings"===this.state.screenName?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{xs:5,children:[Object(u.jsxs)(W.a,{xs:2,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:KT.books,id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Hh,loginId:this.props.secTraderId},onchange:this.bookChange,selected:this.state.bookId,stateMethod:this.getDefaultBookValues,id:"bookId"})}),Object(u.jsxs)(W.a,{xs:7,className:"d-inline-block mt-2",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",onClick:this.buyInventory,id:"buyInventory",children:"Buy Inventory"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",onClick:this.sellInventory,id:"sellInventory",children:"Sell Inventory"})]})]}),Object(u.jsxs)(W.a,{xs:7,className:"text-right",children:[Object(u.jsx)(OO,{apiCall:Di,reqParams:{productType:Hh,loginId:this.props.secTraderId}}),Object(u.jsxs)(W.a,{xs:3,className:"d-inline-block mt-2",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"publishOfferings",onClick:this.publishAllInventory,children:"Publish Offerings"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",id:"axe",onClick:this.copySaveGridClick,children:"AXE"})]})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})}),this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",this.state.cmodal?Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",id:"lbl_primary",children:"Primary"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:ZT,apiCall:ar,wsUrl:!0,reqParams:{prodType:Hh,transType:"10",issueType:"S",bookid:this.state.bookId?this.state.bookId:"All",loginid:this.props.secTraderId,socketSource:"SECONDARYTRADERBOOKVIEW"},edit:!1,mappings:HT,keyField:"issueId",customComponents:t,fromPage:"Offerings",screenName:"PRIMARY",updateData:this.state.updateData,subTitle:"Book View CP",flagPdf:!0})})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",id:"inventory",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",id:"lbl_inventory",children:"Inventory"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:JT,apiCall:ar,wsUrl:!0,reqParams:{prodType:Hh,transType:"10",issueType:"F",bookid:this.state.bookId?this.state.bookId:"All",loginid:this.props.secTraderId,socketSource:"SECONDARYTRADERBOOKVIEW"},edit:!1,mappings:LT,keyField:1,customComponents:t,fromPage:"Offerings",screenName:"INVENTORY",updateData:this.state.updateData,subTitle:"Book View CP ",flagPdf:!0})})}),this.state.modalData===ln&&Object(u.jsx)(fI,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:Hh,modalData:this.state.modalData,modalDataRow:this.state.modalDataRow,message:this.props.message}),Object(u.jsx)(jO,{size:"md",show:this.state.showBuyInv,onHide:function(){return e.hideModal()},modalHead:"Buy Inventory",prodType:Hh,modalData:this.state.BuyInvtData,returnMethod:this.returnLayerMethod,ticketType:"B"}),Object(u.jsx)(gO,{size:"md",show:this.state.showSellInv,onHide:function(){return e.hideModal()},modalHead:"Sell Inventory",prodType:Hh,modalData:this.state.SellInvtData,returnMethod:this.returnLayerMethod,ticketType:"S"}),Object(u.jsx)(Mp,{size:"md",show:this.state.showCPBuy,onHide:function(){return e.hideModal()},modalHead:"B"===this.state.invType?"Buy Ticket":"Sell Ticket",prodType:Hh,modalData:this.state.buyConfData,returnMethod:this.returnResponse,ticketType:this.state.invType})]})]}):""]}):"Edit"===this.state.screenName?Object(u.jsx)(Gf,{issueId:this.state.issueId,apiCall:Qi,reqParams:{issueId:this.state.issueId,productType:Hh},returnMethod:this.returnMethod,fromPage:this.state.screenName,linkname:"Edit CP Commitment"}):Object(u.jsx)(Zf,{apiCall:$i,reqParams:{issueId:this.state.issueId,prodType:Hh,issuerId:this.state.issuerId,bookId:this.state.bookId},returnMethod:this.returnMethod,fromPage:this.state.screenName,linkname:"CP Commitment Conversion"})]})}}]),a}(o.a.Component),yI=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).checkBoxComponent=function(e,t,a,n){var o="issueId"+a;s.state.maindata;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(t){s.onCheckboxClick(e,a,t)}})})},s.rateBoxComponent=function(e,t,a,n,o){return Object(u.jsx)(Eu,{name:o+"M"+a,id:o+"M"+a,value:e,onBlur:function(e){s.onRateChange(e,o,a)}})},s.textBoxOfferComponent=function(e,t,a,n,o){var i=s.state.maindata;i[a]||(i.push({}),i[a]=t);var l=o+a;return Object(u.jsx)(Eu,{name:l,id:l,value:" "!==t.availableToday?e:"0",onChange:function(e){s.onFieldChange(e,o,a,"ONCHANGE")},onBlur:function(e){s.onFieldChange(e,o,a,""),s.onOfferChange(e)},onKeyPress:function(e){s.onAmountKey(e,t,o,a)},className:"text-right"})},s.state={cmodal:!0,showModal:!1,showSecurityModal:!1,modalData:"",modalDataRow:"",maindata:[],showError:!1,actionTitle:"",actionMessage:"",respMessage:"",updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkSecurityComponent=s.linkSecurityComponent.bind(Object(O.a)(s)),s.linkComponent=s.linkComponent.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.openSecurityModal=s.openSecurityModal.bind(Object(O.a)(s)),s.publishClick=s.publishClick.bind(Object(O.a)(s)),s.setScreenData=s.setScreenData.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.onOfferChange=s.onOfferChange.bind(Object(O.a)(s)),s.textBoxOfferComponent=s.textBoxOfferComponent.bind(Object(O.a)(s)),s.verifyAll=s.verifyAll.bind(Object(O.a)(s)),s.verify=s.verify.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s.invFieldComponent=s.invFieldComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"openSecurityModal",value:function(e,t){var a;Object.keys(e).map((function(s){e[s]===t&&s===ln&&(a=s)})),this.setState({modalData:a,modalDataRow:e,showSecurityModal:!0})}},{key:"linkSecurityComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openSecurityModal.bind(this,t,e),children:e})}},{key:"openModal",value:function(e,t,a){if(void 0===this.props.message||""===this.props.message){var s,n,o,i,l;if(t===Ya||t===yn||t===sn||t===_a||t===gn)null!==(s=e[t])&&(l=s.split(":"));else if(e.rateMap)null!==(s=e.rateMap[t])&&(l=s.split(":")),t+="M";void 0!==l&&l.length>2&&(n=l[0],o=l[1],i=l[2]),(rI=e).coupon=n,rI.maturityDate=o,rI.maturityFlag=i,rI.tenorType=t,rI.transType="10",rI.issueType="I",rI.amount=e.offeringlimit,rI.availableToday=e.offeringlimit,this.setState({showModal:!0,updateData:!1})}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,showError:!0,updateData:!1})}},{key:"hideModal",value:function(){this.setState({showModal:!1,showSecurityModal:!1,updateData:!0})}},{key:"setScreenData",value:function(e){cI=e}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"linkComponent",value:function(e,t,a,s,n,o,i){if(0===e.indexOf(".")&&(e="0"+e),this.setState({modalData:t}),"0"!==e)return Object(u.jsxs)("div",{className:"dispFlex",children:[Object(u.jsx)("button",{className:"btn btn-link",id:n+"M"+a,onClick:this.openModal.bind(this,t,n,a),children:e}),"Y"===o&&Object(u.jsx)("span",{id:"span"+n+a,children:Object(u.jsx)(Hp,{mat:Yu(i,"M/D"),children:Object(u.jsx)(B.B,{})})})]})}},{key:"imgComponent",value:function(e,t,a){return"S"===e?Object(u.jsx)("img",{src:Fo,alt:e,width:"24px"}):"B"===e?Object(u.jsx)("img",{src:Eo,alt:e,width:"24px"}):"Acptd"===e||"Matrd"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.k,{fill:"#28a745",className:"mr-1"}),Object(u.jsx)("span",{className:"text-success",children:e})]}):"Pndng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.x,{className:"text-warning"}),Object(u.jsx)("span",{className:"text-warning pdl4",children:e})]}):"Rejtd"===e||"Canld"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-danger"}),Object(u.jsx)("span",{className:"text-danger pdl4",children:e})]}):"Watng"===e?Object(u.jsxs)("span",{children:[Object(u.jsx)(B.E,{className:"text-warning"}),Object(u.jsx)("span",{className:"text-warning pdl4",children:e})]}):void 0}},{key:"fieldComponent",value:function(e,t,a,s){var n=s.colId;return"Min Piece($m)"===n||e&&"Offer Lmt (m)"===n?Lo(e):e}},{key:"invFieldComponent",value:function(e,t,a,s){return"Par ($m)"===s.colId?Lo(e):e}},{key:"textBoxComponent",value:function(e,t,a,s,n){var o=this,i=this.state.maindata;return i[a]||(i.push({}),i[a]=t),Object(u.jsx)(Eu,{name:n+a,id:n+a,value:e,onChange:function(e){o.onFieldChange(e,n,a,"ONCHANGE")},onBlur:function(e){o.onFieldChange(e,n,a)},onKeyPress:function(e){o.onAmountKey(e,t,n,a)},className:"text-right"})}},{key:"onFieldChange",value:function(e,t,a,s){var n="",o="";if(this.state.maindata[a][t]=e.target.value,e.target.value&&(o=e.target.value.trim()),"availableToday"===t&&!1===Bo(o,"1234567890.,mmMMkkKK")&&(n="Row"+(a+1)+":"+ih),"bidYield"===t&&!1===Bo(o,"1234567890.")&&(n="Row"+(a+1)+":"+ah),"dispOfferYield"===t&&(Bo(o,"1234567890.")||(n="Row"+(a+1)+":"+nh)),n)return this.setState({actionTitle:"Alert",actionMessage:n,showError:!0,updateData:!1}),!1}},{key:"onOfferChange",value:function(e){if(""!==e.target.value)return _o(e)}},{key:"publishClick",value:function(){var e=this;void 0===this.props.message||""===this.props.message?(this.setState({mainDet:!0}),this.verifyAll(cI)&&w()({method:"POST",url:N.URL+bl,timeout:N.apiTimeOut,data:cI,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data.length>0&&(" "===t.data?e.setState({respMessage:"",updateData:!0}):e.setState({respMessage:t.data,updateData:!0}),e.setState({updateFlag:!0,updateData:!0}))}))):this.setState({actionTitle:"Alert",actionMessage:this.props.message,showError:!0,updateData:!1})}},{key:"verifyAll",value:function(e,t){for(var a=!0,s=0;s<e.length;s++){if(!1===this.verify(e[s],s,t)){a=!1;break}}return a}},{key:"verify",value:function(e,t,a){var s="",n=0;return""!==e.availableToday&&(e.availableToday=e.availableToday.trim(),n=Po(e.availableToday)),"PUBLISHINV"===a&&(""===e.availableToday||0===parseFloat(n)?s="Row"+(t+1)+":"+oh:""!==e.dispOfferYield&&0!==parseFloat(e.dispOfferYield)||(s="Row"+(t+1)+":"+sh)),""===e.bidYield||0===parseFloat(e.bidYield)?s="Row"+(t+1)+":"+$m:""!==e.availableToday&&parseFloat(n)>0&&(" "===e.dispOfferYield||0===parseFloat(e.dispOfferYield))?s="Row"+(t+1)+":"+sh:""!==e.dispOfferYield&&parseFloat(e.dispOfferYield)>0&&parseFloat(e.bidYield)<parseFloat(e.dispOfferYield)?s="Row"+(t+1)+":"+dh:""!==e.dispOfferYield&&parseFloat(e.dispOfferYield)>0&&(""===e.availableToday||0===parseFloat(n))&&(s="Row"+(t+1)+":"+oh),!s||(this.setState({actionTitle:"Alert",actionMessage:s,showError:!0}),!1)}},{key:"onAmountKey",value:function(e,t,a,s){var n=this;if(void 0===this.props.message||""===this.props.message){if("Enter"===e.key&&(t[a]=e.target.value,this.verify(t,s,"PUBLISHINV"))){var o=[];o[0]=t,w()({method:"POST",url:N.URL+bl,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data.length>0&&(" "===e.data?n.setState({respMessage:"",updateData:!0}):n.setState({respMessage:e.data,updateData:!0}),n.setState({updateFlag:!0,updateData:!0}))}))}}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,showError:!0,updateData:!1})}},{key:"render",value:function(){var e=this,t={};return t.linkComponent=this.linkComponent,t.linkSecurityComponent=this.linkSecurityComponent,t.textBoxComponent=this.textBoxComponent,t.textBoxOfferComponent=this.textBoxOfferComponent,t.fieldComponent=this.fieldComponent,t.invFieldComponent=this.invFieldComponent,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h6",{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",void 0!==this.state.respMessage&&""!==this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):""]}),Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{xs:5}),Object(u.jsxs)(W.a,{xs:7,className:"text-right",children:[Object(u.jsx)(OO,{apiCall:ki,reqParams:{productType:qh,loginId:this.props.secTraderId}}),Object(u.jsx)(W.a,{xs:3,className:"d-inline-block mt-2",children:Object(u.jsx)(D.a,{id:"publishOfferings",className:"btn btn-primary btn-xs mr-1",onClick:this.publishClick,children:"Publish Offerings"})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})}),this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Primary Offerings"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:QT,apiCall:ar,wsUrl:!0,reqParams:{prodType:qh,transType:"10",issueType:"S",loginid:this.props.secTraderId,socketSource:"SECONDARYTRADERBOOKVIEW"},edit:!1,mappings:VT,keyField:"issueId",updateData:this.state.updateData,customComponents:t,screenName:"PRIM_OFFER",subTitle:"Book View ECD ",flagPdf:!0})})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",id:"inventory",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Inventory"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:XT,apiCall:ar,wsUrl:!0,reqParams:{prodType:qh,transType:"10",issueType:"F",loginid:this.props.secTraderId,socketSource:"SECONDARYTRADERBOOKVIEW"},edit:!1,mappings:UT,calBack:this.setScreenData,mapdata:cI,updateData:this.state.updateData,customComponents:t,keyField:"issueId",screenName:"INVENTORY",subTitle:"Book View ECD ",flagPdf:!0})})}),this.state.modalData===ln&&Object(u.jsx)(fI,{size:"lg",show:this.state.showSecurityModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:qh,modalData:this.state.modalData,modalDataRow:this.state.modalDataRow,message:this.props.message}),Object(u.jsx)(kj,{show:this.state.showModal,onHide:function(){return e.hideModal()},modalData:rI})]})]})]})}}]),a}(o.a.Component),kI=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).clearState=function(){s.setState({respMessage:"",rejectReason:"",updateData:!1})},s.textBoxOfferComponent=function(e,t,a,n,o){var i=s.state.maindata;i[a]||(i.push({}),i[a]=t);var l=o+a;return Object(u.jsx)(Eu,{name:l,id:l,value:Lo(e),onChange:function(e){s.onFieldChange(e,o,a,"ONCHANGE")},onBlur:function(e){s.onFieldChange(e,o,a,""),s.onOfferChange(e)},onKeyPress:function(e){s.onAmountKey(e,t,o,a)},className:"text-right"})},s.textBoxComponent=function(e,t,a,n,o){return Object(u.jsx)(Eu,{name:o+a,id:o+a,value:e,onChange:function(e){s.onFieldChange(e,o,a,"ONCHANGE")},onBlur:function(e){s.onFieldChange(e,o,a,"")},onKeyPress:function(e){s.onAmountKey(e,t,o,a)},className:"text-right"})},s.state={cmodal:!0,showModal:!1,modalData:"",modalDataRow:"",actionMessage:"",alertShow:!1,actionFlag:"",actionTitle:"",respMessage:"",rejectReason:"",maindata:[],primarydata:[],showError:!1,updateData:!1},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkComponent=s.linkComponent.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.openSecurityModal=s.openSecurityModal.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.textBoxOfferComponent=s.textBoxOfferComponent.bind(Object(O.a)(s)),s.onOfferChange=s.onOfferChange.bind(Object(O.a)(s)),s.publishClick=s.publishClick.bind(Object(O.a)(s)),s.verifyAll=s.verifyAll.bind(Object(O.a)(s)),s.verify=s.verify.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.linkSecurityComponent=s.linkSecurityComponent.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s.invFieldComponent=s.invFieldComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.clearState()}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"openSecurityModal",value:function(e,t){var a;Object.keys(e).map((function(s){e[s]===t&&s===ln&&(a=s)})),this.setState({modalData:a,modalDataRow:e,showSecurityModal:!0,updateData:!1})}},{key:"hideModal",value:function(){this.setState({showModal:!1,showSecurityModal:!1,updateData:!0})}},{key:"linkSecurityComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openSecurityModal.bind(this,t,e),children:e})}},{key:"linkComponent",value:function(e,t,a,s,n,o,i){if(this.setState({modalData:t}),"0"!==e)return Object(u.jsxs)("div",{className:"dispFlex",children:[Object(u.jsx)("button",{className:"btn btn-link",id:n+"M"+a,onClick:this.openModal.bind(this,t,n,a),children:e}),"Y"===o&&Object(u.jsx)("span",{id:"span"+n+a,children:Object(u.jsx)(Hp,{mat:Yu(i,"M/D"),children:Object(u.jsx)(B.B,{})})})]})}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"onOfferChange",value:function(e){return _o(e)}},{key:"onFieldChange",value:function(e,t,a,s){var n="";if(this.state.maindata[a][t]=e.target.value,!1===Bo(e.target.value,"1234567890.,mmMMkkKK")&&(n="Row"+(a+1)+":"+ih),"bid"===t&&!1===Bo(e.target.value,"1234567890.")&&(n="Row"+(a+1)+":"+Tm),"offer"===t&&!1===Bo(e.target.value,"1234567890.")&&(n="Row"+(a+1)+":"+Vm),n)return this.setState({actionTitle:"Alert",actionMessage:n,updateData:!1,showError:!0}),!1}},{key:"publishClick",value:function(){var e=this;if(void 0===this.props.message||""===this.props.message){this.setState({mainDet:!0});var t=this.state.maindata;this.verifyAll(t)&&w()({method:"POST",url:N.URL+pl,timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data.length>0&&(" "===t.data?e.setState({respMessage:"",updateData:!0}):e.setState({respMessage:t.data,updateData:!0}))}))}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,showError:!0,updateData:!1})}},{key:"verifyAll",value:function(e,t){for(var a=!0,s=0;s<e.length;s++){if(!1===this.verify(e[s],s,t)){a=!1;break}}return a}},{key:"openModal",value:function(e,t,a){if(void 0===this.props.message||""===this.props.message){var s,n,o,i,l;this.state.maindata;if(t===_a||t===gn||t===Ya||t===yn||t===sn)null!==(s=e[t])&&(l=s.split(":"));else if(e.rateMap)null!==(s=e.rateMap[t])&&(l=s.split(":")),t+="M";void 0!==l&&l.length>2&&(n=l[0],o=l[1],i=l[2]),(dI=e).coupon=n,dI.maturityDate=o,dI.maturityFlag=i,dI.tenorType=t,dI.amount=e.offeringlimit,dI.availableToday=e.offeringlimit,this.setState({showModal:!0,updateData:!1})}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"verify",value:function(e,t,a){var s="",n=0;return""!==e.availableToday&&(e.availableToday=e.availableToday.trim(),n=Po(e.availableToday)),"PUBLISHINV"===a&&(""===e.offer||0===parseFloat(e.offer)?s="Row"+(t+1)+":"+Vm:""!==e.availableToday&&0!==parseFloat(n)||(s="Row"+(t+1)+":"+oh)),""===e.bid||0===parseFloat(e.bid)?s="Row"+(t+1)+":"+Tm:""!==e.availableToday&&parseFloat(n)>0&&(" "===e.offer||0===parseFloat(e.offer))?s="Row"+(t+1)+":"+Vm:""!==e.offer&&parseFloat(e.offer)>0&&parseFloat(e.bid)<parseFloat(e.offer)?s="Row"+(t+1)+":"+mh:""!==e.offer&&parseFloat(e.offer)>0&&(""===e.availableToday||0===parseFloat(n))&&(s="Row"+(t+1)+":"+oh),!s||(this.setState({actionTitle:"Alert",actionMessage:s,showError:!0,updateData:!1}),!1)}},{key:"onAmountKey",value:function(e,t,a,s){var n=this;if(void 0===this.props.message||""===this.props.message){if("Enter"===e.key&&(t[a]=e.target.value,this.verify(t,s,"PUBLISHINV"))){var o=[];o[0]=t,w()({method:"POST",url:N.URL+pl,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data.length>0&&(" "===e.data?n.setState({respMessage:"",updateData:!0}):n.setState({respMessage:e.data,updateData:!0}))}))}}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,showError:!0,updateData:!1})}},{key:"fieldComponent",value:function(e,t,a,s){var n=s.colId;return"Min Piece($m)"===n||e&&"Offered Amt ($m)"===n?Lo(e):e}},{key:"invFieldComponent",value:function(e,t,a,s){return"Par ($m)"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t={};return t.linkComponent=this.linkComponent,t.textBoxComponent=this.textBoxComponent,t.textBoxOfferComponent=this.textBoxOfferComponent,t.linkSecurityComponent=this.linkSecurityComponent,t.fieldComponent=this.fieldComponent,t.invFieldComponent=this.invFieldComponent,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h6",{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",void 0!==this.state.respMessage&&""!==this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):""]}),Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{xs:5}),Object(u.jsxs)(W.a,{xs:7,className:"text-right",children:[Object(u.jsx)(OO,{apiCall:Di,reqParams:{productType:Zh,loginId:this.props.secTraderId}}),Object(u.jsxs)(W.a,{xs:3,className:"d-inline-block mt-2",children:[Object(u.jsx)(D.a,{id:"publishOfferings",className:"btn btn-primary btn-xs mr-1",onClick:this.publishClick,children:"Publish Offerings"}),Object(u.jsx)(D.a,{id:"axe",className:"btn btn-primary btn-xs",onClick:this.copySaveGridClick,children:"AXE"})]})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})}),this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Offerings"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:$T,apiCall:ar,wsUrl:!0,reqParams:{prodType:Zh,transType:"10",issueType:"S",loginid:this.props.secTraderId,socketSource:"SECONDARYTRADERBOOKVIEW"},edit:!1,mappings:YT,customComponents:t,mapdata:this.state.primarydata,updateData:this.state.updateData,keyField:"issueId",screenName:"OFFERINGS",subTitle:"Book View ECP ",flagPdf:!0})})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",id:"inventory",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Inventory"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:eI,apiCall:ar,wsUrl:!0,reqParams:{prodType:Zh,transType:"10",issueType:"F",loginid:this.props.secTraderId,socketSource:"SECONDARYTRADERBOOKVIEW"},edit:!1,mappings:GT,customComponents:t,mapdata:this.state.maindata,updateData:this.state.updateData,keyField:"issueId",screenName:"INVENTORY",subTitle:"Book View ECP ",flagPdf:!0})})}),this.state.modalData===ln&&Object(u.jsx)(fI,{size:"lg",show:this.state.showSecurityModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:Zh,modalData:this.state.modalData,modalDataRow:this.state.modalDataRow,message:this.props.message}),Object(u.jsx)(SO,{show:this.state.showModal,onHide:function(){return e.hideModal()},modalData:dI})]})]})]})}}]),a}(o.a.Component),DI=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).textBoxComponent=function(e,t,a,n,o){var i=s.state.maindata;return i[a]||(i.push({}),i[a]=t),Object(u.jsx)(Eu,{name:o+a,id:o+a,value:e,onChange:function(e){s.onFieldChange(e,o,a,"ONCHANGE")},onBlur:function(e){s.onFieldChange(e,o,a,"")},onKeyPress:function(e){s.onAmountKey(e,t,o,a)},className:"text-right"})},s.textBoxOfferComponent=function(e,t,a,n,o){var i=o+a;return Object(u.jsx)(Eu,{name:i,id:i,value:e,onChange:function(e){s.onFieldChange(e,o,a,"ONCHANGE")},onBlur:function(e){s.onFieldChange(e,o,a),s.onOfferChange(e)},onKeyPress:function(e){s.onAmountKey(e,t,o,a)},className:"text-right"})},s.state={cmodal:!0,showModal:!1,modalData:"",modalDataRow:"",showError:!1,actionTitle:"",actionMessage:"",maindata:[],updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkComponent=s.linkComponent.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.onOfferChange=s.onOfferChange.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.textBoxOfferComponent=s.textBoxOfferComponent.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.publishClick=s.publishClick.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.verify=s.verify.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s.invFieldComponent=s.invFieldComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"setScreenData",value:function(e){mI=e}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"openModal",value:function(e,t){var a="";Object.keys(e).map((function(s){e[s]===t&&s===ln&&(a=s)})),this.setState({modalData:a,modalDataRow:e,showModal:!0,updateData:!0})}},{key:"hideModal",value:function(){this.setState({showModal:!1,updateData:!0})}},{key:"linkComponent",value:function(e,t,a,s,n){if(this.setState({modalData:t}),"0"!==e)return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openModal.bind(this,t,e),children:e})}},{key:"onFieldChange",value:function(e,t,a){this.state.maindata[a][t]=e.target.value}},{key:"onOfferChange",value:function(e){return _o(e)}},{key:"onAmountKey",value:function(e,t,a,s){var n=this;if(void 0===this.props.message||""===this.props.message){if("Enter"===e.key&&(t[a]=e.target.value,this.verify(t,s,"PUBLISHINV"))){var o=[];o[0]=t,w()({method:"POST",url:N.URL+ul,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data.length>0&&(hI=" "===e.data?"":e.data,n.setState({updateFlag:!0,updateData:!0}))}))}}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,showError:!0,updateData:!1})}},{key:"verify",value:function(e,t,a){var s="",n=0;return""!==e.availableToday&&(e.availableToday=e.availableToday.trim(),n=Po(e.availableToday)),"PUBLISHINV"===a&&(""===e.availableToday||0===parseFloat(n)?s="Row"+(t+1)+":"+oh:""!==e.dispOfferYield&&0!==parseFloat(e.dispOfferYield)||(s="Row"+(t+1)+":"+sh)),!s||(this.setState({actionTitle:"Alert",actionMessage:s,showError:!0,updateData:!1}),!1)}},{key:"publishClick",value:function(){var e,t=this;void 0===this.props.message||""===this.props.message?(this.setState({mainDet:!0}),e=mI,w()({method:"POST",url:N.URL+ul,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data.length>0&&(hI=" "===e.data?"":e.data,t.setState({updateFlag:!0,updateData:!0}))}))):this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"fieldComponent",value:function(e,t,a,s){return"$m"===s.colId?Lo(e):e}},{key:"invFieldComponent",value:function(e,t,a,s){return"Par ($m)"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t={};return t.linkComponent=this.linkComponent,t.textBoxComponent=this.textBoxComponent,t.textBoxOfferComponent=this.textBoxOfferComponent,t.fieldComponent=this.fieldComponent,t.invFieldComponent=this.invFieldComponent,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h6",{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",void 0!==hI&&""!==hI?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:hI}):""]}),Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{xs:5}),Object(u.jsxs)(W.a,{xs:7,className:"text-right",children:[Object(u.jsx)(OO,{apiCall:ki,reqParams:{productType:Gh,loginId:this.props.secTraderId}}),Object(u.jsx)(W.a,{xs:3,className:"d-inline-block mt-2",children:Object(u.jsx)(D.a,{id:"publishOfferings",className:"btn btn-primary btn-xs mr-1",onClick:this.publishClick,children:"Publish Offerings"})})]})]}),this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Primary Offerings"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:vb,apiCall:ar,wsUrl:!0,reqParams:{prodType:Gh,transType:"10",issueType:"S",loginid:this.props.secTraderId,socketSource:"SECONDARYTRADERBOOKVIEW"},edit:!1,mappings:WT,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"PRIM_OFFER",subTitle:"Book View FRCD ",flagPdf:!0})})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",id:"inventory",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Inventory"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:tI,apiCall:ar,wsUrl:!0,reqParams:{prodType:Gh,transType:"10",issueType:"F",loginid:this.props.secTraderId,socketSource:"SECONDARYTRADERBOOKVIEW"},edit:!1,calBack:this.setScreenData,mappings:_T,updateData:this.state.updateData,keyField:"issueId",customComponents:t,screenName:"INVENTORY",subTitle:"Book View FRCD ",flagPdf:!0})})}),this.state.modalData===ln&&Object(u.jsx)(fI,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:Gh,modalData:this.state.modalData,modalDataRow:this.state.modalDataRow,message:this.props.message}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})]})]})}}]),a}(o.a.Component),CI=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).checkBoxComponent=function(e,t,a,n){var o="issueId"+a;s.state.maindata;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(t){s.onCheckboxClick(e,a,t)}})})},s.textBoxOfferComponent=function(e,t,a,n,o){var i=o+a;return Object(u.jsx)(Eu,{name:i,id:i,value:e,onChange:function(e){s.onFieldChange(e,o,a,"ONCHANGE")},onBlur:function(e){s.onFieldChange(e,o,a,""),s.onOfferChange(e)},onKeyPress:function(e){s.onAmountKey(e,t,o,a)},className:"text-right"})},s.textBoxComponent=function(e,t,a,n,o){var i=s.state.maindata;return i[a]||(i.push({}),i[a]=t),Object(u.jsx)(Eu,{name:o+a,id:o+a,value:e,onChange:function(e){s.onFieldChange(e,o,a,"ONCHANGE")},onBlur:function(e){s.onFieldChange(e,o,a)},onKeyPress:function(e){s.onAmountKey(e,t,o,a)},className:"text-right"})},s.state={cmodal:!0,showModal:!1,modalData:"",modalDataRow:"",showError:!1,actionTitle:"",actionMessage:"",maindata:[],updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkComponent=s.linkComponent.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.onOfferChange=s.onOfferChange.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.textBoxOfferComponent=s.textBoxOfferComponent.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.publishClick=s.publishClick.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.verify=s.verify.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s.invFieldComponent=s.invFieldComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"setScreenData",value:function(e){uI=e}},{key:"openModal",value:function(e,t){var a;Object.keys(e).map((function(s){e[s]===t&&s===ln&&(a=s)})),this.setState({modalData:a,modalDataRow:e,showModal:!0,updateData:!1})}},{key:"hideModal",value:function(){this.setState({showModal:!1,updateData:!0})}},{key:"linkComponent",value:function(e,t,a,s,n){if(this.setState({modalData:t}),"0"!==e)return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openModal.bind(this,t,e),children:e})}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"onOfferChange",value:function(e){return _o(e)}},{key:"onFieldChange",value:function(e,t,a){this.state.maindata[a][t]=e.target.value}},{key:"onAmountKey",value:function(e,t,a,s){var n=this;if(void 0===this.props.message||""===this.props.message){if("Enter"===e.key&&(t[a]=e.target.value,this.verify(t,s,"PUBLISHINV"))){var o=[];o[0]=t,w()({method:"POST",url:N.URL+ul,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data.length>0&&(bI=" "===e.data?"":e.data,n.setState({updateFlag:!0,updateData:!0}))}))}}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,showError:!0,updateData:!1})}},{key:"verify",value:function(e,t,a){var s="",n=0;return""!==e.availableToday&&(e.availableToday=e.availableToday.trim(),n=Po(e.availableToday)),"PUBLISHINV"===a&&(" "===e.availableToday||0===parseFloat(n)?s="Row"+(t+1)+":"+oh:" "!==e.dispOfferYield&&0!==parseFloat(e.dispOfferYield)||(s="Row"+(t+1)+":"+sh)),!s||(this.setState({actionTitle:"Alert",actionMessage:s,showError:!0,updateData:!1}),!1)}},{key:"publishClick",value:function(){var e,t=this;void 0===this.props.message||""===this.props.message?(this.setState({mainDet:!0}),e=uI,w()({method:"POST",url:N.URL+ul,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data.length>0&&(bI=" "===e.data?"":e.data,t.setState({updateFlag:!0,updateData:!0}))}))):this.setState({actionTitle:"Alert",actionMessage:this.props.message,showError:!0,updateData:!1})}},{key:"fieldComponent",value:function(e,t,a,s){return"$m"===s.colId?Lo(e):e}},{key:"invFieldComponent",value:function(e,t,a,s){return"Par ($m)"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t={};return t.checkBoxComponent=this.checkBoxComponent,t.textBoxComponent=this.textBoxComponent,t.textBoxOfferComponent=this.textBoxOfferComponent,t.linkComponent=this.linkComponent,t.fieldComponent=this.fieldComponent,t.invFieldComponent=this.invFieldComponent,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h6",{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",void 0!==bI&&""!==bI?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:bI}):""]}),Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{xs:5,className:"mt-2",children:[Object(u.jsxs)(W.a,{xs:2,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:KT.books,id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Kh,loginId:this.props.secTraderId},onchange:this.tickerChange,selected:this.state.tickerId,id:"book"})})]}),Object(u.jsxs)(W.a,{xs:7,className:"text-right",children:[Object(u.jsx)(OO,{apiCall:ki,reqParams:{productType:Kh,loginId:this.props.secTraderId}}),Object(u.jsx)(W.a,{xs:3,className:"d-inline-block mt-2",children:Object(u.jsx)(D.a,{id:"publishOfferings",className:"btn btn-primary btn-xs mr-1",onClick:this.publishClick,children:"Publish Offerings"})})]})]}),this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",id:"lbl_pmoffer",children:"Primary Offerings"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:Db,apiCall:ar,wsUrl:!0,reqParams:{prodType:Kh,transType:"10",issueType:"S",loginid:this.props.secTraderId,socketSource:"SECONDARYTRADERBOOKVIEW"},edit:!1,mappings:WT,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"PRIM_OFFER",subTitle:"Book View FRCP ",flagPdf:!0})})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",id:"inventory",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",id:"lbl_inventory",children:"Inventory"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:aI,apiCall:ar,wsUrl:!0,reqParams:{prodType:Kh,transType:"10",issueType:"F",loginid:this.props.secTraderId,socketSource:"SECONDARYTRADERBOOKVIEW"},edit:!1,calBack:this.setScreenData,mappings:_T,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"INVENTORY",subTitle:"Book View FRCP ",flagPdf:!0})})}),this.state.modalData===ln&&Object(u.jsx)(fI,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:Kh,modalData:this.state.modalData,modalDataRow:this.state.modalDataRow,message:this.props.message}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})]})]})}}]),a}(o.a.Component),NI={},SI={},wI=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s,n;return Object(i.a)(this,a),(n=t.call(this,e)).checkBoxComponent=function(e,t,a,s){var o="issueId"+t.issueId;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(e){n.onCheckboxClick(e,t.issueId,t,a)}})})},n.textBoxComponent=function(e,t,a,s,o){var i="offer"+t.issueId;return Object(u.jsx)(Eu,{name:i,id:i,value:e,onBlur:function(e){n.onFieldChange(e,t.issueId,t.offer,t,a)},onKeyPress:function(e){n.onAmountKey(e,t.issueId,"Offer",t,a)},className:"text-right"})},n.textBoxLimitComponent=function(e,t,a){var s="limit"+t.issueId;if("0000"===t.refIssueId)return Object(u.jsx)(Eu,{name:s,id:s,value:e,onBlur:function(e){n.onLimitChange(e,t.issueId,t.offeringlimit,t,a)},onKeyPress:function(e){n.onAmountKey(e,t.issueId,"Limit",t,a)},className:"text-right"})},n.textBoxOfferComponent=function(e,t,a,s){var o="offeramount"+t.issueId,i=n.state.inventoryData;return s&&(i[a]||(i.push({}),i[a]=t,n.setState({inventoryData:i}))),Object(u.jsx)(Eu,{name:o,id:o,value:Lo(e),onChange:function(e){n.onOfferChange(e,t.issueId,t.availableToday,t,a,"CHANGE")},onBlur:function(e){n.onOfferChange(e,t.issueId,t.availableToday,t,a,"")},onKeyPress:function(e){n.onKeyAmount(e,t.issueId,t,"Offer",a)},className:"text-right"})},n.textBoxRateComponent=function(e,t,a,s,o){var i=s.key,l=i+t.issueId;return Object(u.jsx)(Eu,{name:l,id:l,value:e,onChange:function(e){n.onRateChange(e,t.issueId,t.offer,t,i,a,"ONCHANGE")},onBlur:function(e){n.onRateChange(e,t.issueId,t.offer,t,i,a,"")},onKeyPress:function(e){n.onKeyAmount(e,t.issueId,t,i,a)},className:"text-right"})},n.onRateChange=function(e,t,a,s,o,i,l){if(!1===Bo(e.target.value,"1234567890.")&&0===l.length)n.setState({actionTitle:"Alert",actionMessage:"offer"===o?Vm:Tm,showError:!0,updateData:!1}),e.target.value=s.offer,e.target.focus();else{var c=n.state,r=(c.payload,c.inventoryData);"offer"===o?r[i].offerRate=e.target.value:r[i].bidRate=e.target.value,NI={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(e.target.value),offeringlimit:Po(document.getElementById("offeramount"+s.issueId).value)}}},n.onOfferChange=function(e,t,a,s,o,i){if(!1===Bo(e.target.value,"1234567890.,mmMMkkKK")&&0===i.length)n.setState({actionTitle:"Alert",actionMessage:Um,showError:!0,updateData:!1}),e.target.value=s.availableToday,e.target.focus();else{""!==e.target.value&&0===i.length&&_o(e);var l=n.state;l.payload;l.inventoryData[o].offeringlimit=Po(e.target.value),SI={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(document.getElementById("offer"+s.issueId).value),offeringlimit:Po(e.target.value)}}},n.onCheckboxClick=function(e,t,a,s){void 0===n.props.message||""===n.props.message?(NI={ticker:a.ticker,issueId:t,bookId:a.bookId,bidRate:Po(a.bid),offerRate:Po(document.getElementById("offer"+a.issueId).value),offeringlimit:Po(document.getElementById("limit"+a.issueId).value)},e.target.checked&&(n.setState({payloadch:NI}),n.setState({actionTitle:rm,actionMessage:hm,alertShow:!0,updateData:!1,actionFlag:"DELETE"}))):n.setState({actionTitle:"Alert",actionMessage:n.props.message,updateData:!1,showError:!0})},n.onFieldChange=function(e,t,a,s,o){!1===Bo(e.target.value,"1234567890.")?(n.setState({actionTitle:"Alert",actionMessage:Vm,showError:!0,updateData:!1}),e.target.value=s.offer,e.target.focus()):NI={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(e.target.value),offeringlimit:Po(document.getElementById("limit"+s.issueId).value)}},n.buyInventory=function(){void 0===n.props.message||""===n.props.message?n.setState({showBuyInv:!0}):n.setState({actionTitle:"Alert",actionMessage:n.props.message,showError:!0,updateData:!1})},n.sellInventory=function(){void 0===n.props.message||""===n.props.message?n.setState({showSellInv:!0,updateData:!1}):n.setState({actionTitle:"Alert",actionMessage:n.props.message,showError:!0,updateData:!1})},n.state=(s={cmodal:!0,modalData:"",modalDataRow:"",showBuyInv:!1,BuyInvtData:"",showSellInv:!1,SellInvtData:"",bookId:"",screenName:"Offerings",issueId:"",IssuerId:"",responseMessage:"",actionTitle:"",actionMessage:"",alertShow:!1,actionFlag:"",showError:!1},Object(g.a)(s,"actionTitle",""),Object(g.a)(s,"actionMessage",""),Object(g.a)(s,"showError",!1),Object(g.a)(s,"inventoryData",[]),Object(g.a)(s,"showCPBuy",!1),Object(g.a)(s,"buyConfData",""),Object(g.a)(s,"invType",""),Object(g.a)(s,"updateData",!0),s),n.closemodel=n.closemodel.bind(Object(O.a)(n)),n.linkComponent=n.linkComponent.bind(Object(O.a)(n)),n.openModal=n.openModal.bind(Object(O.a)(n)),n.onLimitChange=n.onLimitChange.bind(Object(O.a)(n)),n.textBoxLimitComponent=n.textBoxLimitComponent.bind(Object(O.a)(n)),n.textBoxComponent=n.textBoxComponent.bind(Object(O.a)(n)),n.textBoxOfferComponent=n.textBoxOfferComponent.bind(Object(O.a)(n)),n.textBoxRateComponent=n.textBoxRateComponent.bind(Object(O.a)(n)),n.bookChange=n.bookChange.bind(Object(O.a)(n)),n.checkBoxComponent=n.checkBoxComponent.bind(Object(O.a)(n)),n.actionComponent=n.actionComponent.bind(Object(O.a)(n)),n.editCommitment=n.editCommitment.bind(Object(O.a)(n)),n.convert=n.convert.bind(Object(O.a)(n)),n.returnMethod=n.returnMethod.bind(Object(O.a)(n)),n.onAmountKey=n.onAmountKey.bind(Object(O.a)(n)),n.hideAlert=n.hideAlert.bind(Object(O.a)(n)),n.confirmAction=n.confirmAction.bind(Object(O.a)(n)),n.hideError=n.hideError.bind(Object(O.a)(n)),n.onOfferChange=n.onOfferChange.bind(Object(O.a)(n)),n.onRateChange=n.onRateChange.bind(Object(O.a)(n)),n.onKeyAmount=n.onKeyAmount.bind(Object(O.a)(n)),n.verify=n.verify.bind(Object(O.a)(n)),n.publishAllInventory=n.publishAllInventory.bind(Object(O.a)(n)),n.verifyAll=n.verifyAll.bind(Object(O.a)(n)),n.getDefaultBookValues=n.getDefaultBookValues.bind(Object(O.a)(n)),n.returnLayerMethod=n.returnLayerMethod.bind(Object(O.a)(n)),n.returnResponse=n.returnResponse.bind(Object(O.a)(n)),n.fieldComponent=n.fieldComponent.bind(Object(O.a)(n)),n.onInvCheckboxClick=n.onInvCheckboxClick.bind(Object(O.a)(n)),n.invCheckBoxComponent=n.invCheckBoxComponent.bind(Object(O.a)(n)),n}return Object(l.a)(a,[{key:"openModal",value:function(e,t){var a;Object.keys(e).map((function(s){e[s]===t&&s===ln&&(a=s)})),this.setState({modalData:a,modalDataRow:e,showModal:!0,updateData:!1})}},{key:"hideModal",value:function(){this.setState({showModal:!1,showBuyInv:!1,showSellInv:!1,showCPBuy:!1,updateData:!0})}},{key:"onLimitChange",value:function(e,t,a,s,n){!1===Bo(e.target.value,"1234567890.,mmMMkkKK")||e.target.value<0?(this.setState({actionTitle:"Alert",actionMessage:Um,showError:!0}),e.target.value=s.availableToday):(""!==e.target.value&&_o(e),SI={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(document.getElementById("offer"+s.issueId).value),offeringlimit:Po(e.target.value)})}},{key:"onKeyAmount",value:function(e,t,a,s,n){if(void 0===this.props.message||""===this.props.message){var o=this.state;o.bookId,o.ticker;SI={ticker:a.ticker,issueId:t,bookId:a.bookId,bidRate:Po(a.bid),offerRate:Po(document.getElementById("offer"+a.issueId).value),offeringlimit:Po(document.getElementById("offeramount"+a.issueId).value)},"Enter"===e.key&&this.verify(SI,"PUBLISHINV",n)&&this.setState({actionTitle:"Publish",actionMessage:"Are you sure , you want to Publish the Inventory ?",alertShow:!0,updateData:!1,actionFlag:"PUBLISHINV"})}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"linkComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openModal.bind(this,t,e),children:e})}},{key:"bookChange",value:function(e){this.setState({bookId:e.target.value})}},{key:"editCommitment",value:function(e){void 0===this.props.message||""===this.props.message?this.setState({screenName:"Edit",issueId:e,updateData:!1}):this.setState({actionTitle:"Alert",actionMessage:this.props.message,showError:!0,updateData:!1})}},{key:"convert",value:function(e,t,a){void 0===this.props.message||""===this.props.message?this.setState({screenName:"Convert",issueId:e,issuerId:t,bookId:a,updateData:!1}):this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"checkBoxComponent",value:function(e,t,a,s){var n=this,o="issueId"+t.issueId;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(e){n.onCheckboxClick(e,t.issueId,t,a)}})})}},{key:"actionComponent",value:function(e,t,a,s){var n=this;if("0000"===t.refIssueId)return Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"btn btn-link",id:"edit"+a,onClick:function(){n.editCommitment(e)},style:{marginRight:"0.5em",marginLeft:"1em"},children:Object(u.jsx)("img",{src:"/omsservice/images/edit-icon.png",alt:"edit"})})},a)}},{key:"returnMethod",value:function(e){this.setState({screenName:"Offerings",responseMessage:e,updateData:!1})}},{key:"onAmountKey",value:function(e,t,a,s,n){if(void 0===this.props.message||""===this.props.message){var o=this.state;o.payload,o.bookId,o.ticker;"Enter"===e.key&&(NI={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(document.getElementById("offer"+s.issueId).value),offeringlimit:Po(document.getElementById("limit"+s.issueId).value)},this.verify(NI,"PUBLISH",n)&&this.setState({actionTitle:"Publish",actionMessage:"Are you sure, you want to Publish the Commitment ?",alertShow:!0,updateData:!1,actionFlag:"PUBLISH"}))}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,showError:!0,updateData:!1})}},{key:"hideAlert",value:function(){this.setState({alertShow:!1,updateData:!0})}},{key:"confirmAction",value:function(e){var t=this;this.state.payload;if("DELETE"===e){this.setState({alertShow:!1});var a=[{}];a[0]=NI.issueId;var s=[{}];s[0]=NI.bookId;var n=[{}];n[0]=NI.ticker,w()({method:"POST",url:N.URL+ui,timeout:N.apiTimeOut,data:{issues:a,bookId:s,ticker:n},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}))}else if("PUBLISHINV"===e){this.setState({alertShow:!1});var o=[];o.push(SI),w()({method:"POST",url:N.URL+pc,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}))}else if("PUBLISH"===e)this.setState({alertShow:!1,updateData:!1}),w()({method:"POST",url:N.URL+hl,timeout:N.apiTimeOut,data:NI,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}));else if("PUBLISHALLINV"===e){this.setState({alertShow:!1});var i=this.state.paramPayload;w()({method:"POST",url:N.URL+pc,timeout:N.apiTimeOut,data:i,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}))}}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"invCheckBoxComponent",value:function(e,t,a,s){var n=this,o="issueId"+t.issueId;if(t.availableToday>0)return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(s){n.onInvCheckboxClick(e,a,t,s)}})})}},{key:"onInvCheckboxClick",value:function(e,t,a,s){SI={ticker:a.ticker,issueId:e,bookId:a.bookId,bidRate:Po(a.bid),offerRate:Po(document.getElementById("offer"+a.issueId).value),offeringlimit:Po(document.getElementById("offeramount"+a.issueId).value)},s.target.checked}},{key:"verify",value:function(e,t,a){var s="";return"DELETE"===t||("PUBLISH"===t?(e.offeringlimit||0!==s.length||(s=Um),e.offerRate||0!==s.length||(s=Vm)):"PUBLISHINV"===t&&((e.offeringlimit||0!==s.length)&&(!e.offeringlimit||0!==e.offeringlimit.length&&0!==parseFloat(e.offeringlimit))||(s="Row"+(a+1)+":"+Um),(e.offerRate||0!==s.length)&&(!e.offerRate||0!==e.offerRate.length&&0!==parseFloat(e.offerRate))||(s="Row"+(a+1)+":"+Vm),(e.bidRate||0!==s.length)&&(!e.bidRate||0!==e.bidRate.length&&0!==parseFloat(e.bidRate))||(s="Row"+(a+1)+":"+Tm),e.offerRate&&e.bidRate&&0===s.length&&parseFloat(e.bidRate)<parseFloat(e.offerRate)&&(s="Row"+(a+1)+":"+mh)),!s||(this.setState({actionTitle:"Alert",actionMessage:s,showError:!0,updateData:!1}),!1))}},{key:"verifyAll",value:function(e,t){for(var a=!0,s=0;s<e.length;s++){var n=this.verify(e[s],t,s);if(!1===n){a=n;break}}return a}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All"})}},{key:"publishAllInventory",value:function(){if(void 0===this.props.message||""===this.props.message){for(var e=this.state.inventoryData,t=[],a=0;a<e.length;a++)0===parseFloat(e[a].offerRate)&&(e[a].offerRate=e[a].offer),0===parseFloat(e[a].bidRate)&&(e[a].bidRate=e[a].bid),0===parseFloat(e[a].offeringlimit)&&(e[a].offeringlimit=e[a].availableToday),t.push(e[a]);this.setState({paramPayload:t}),this.verifyAll(t,"PUBLISHINV")&&this.setState({actionTitle:"Publish",actionMessage:"Are you sure , you want to Publish the Inventory ?",alertShow:!0,updateData:!1,actionFlag:"PUBLISHALLINV"})}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"returnLayerMethod",value:function(e,t){this.setState({buyConfData:e,showCPBuy:!0,showBuyInv:!1,showSellInv:!1,invType:t,updateData:!1})}},{key:"returnResponse",value:function(e){this.setState({responseMessage:e.responseMessage,showCPBuy:!1,updateData:!1})}},{key:"fieldComponent",value:function(e,t,a,s){var n=s.colId;return"0000"===t.refIssueId||"Issuer"===n||"SD"===n||"Range"===n||"Scale"===n?"Offer Quant($m)"===n?Lo(e):e:void 0}},{key:"invFieldComponent",value:function(e,t,a,s){return"Par ($m)"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t={};return t.linkComponent=this.linkComponent,t.checkBoxComponent=this.checkBoxComponent,t.textBoxComponent=this.textBoxComponent,t.textBoxLimitComponent=this.textBoxLimitComponent,t.textBoxOfferComponent=this.textBoxOfferComponent,t.checkBoxComponent=this.checkBoxComponent,t.actionComponent=this.actionComponent,t.invCheckBoxComponent=this.invCheckBoxComponent,t.textBoxRateComponent=this.textBoxRateComponent,t.fieldComponent=this.fieldComponent,t.invFieldComponent=this.invFieldComponent,Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"","Offerings"===this.state.screenName?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{xs:5,children:[Object(u.jsxs)(W.a,{xs:2,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:KT.books,id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Wh,loginId:this.props.secTraderId},onchange:this.bookChange,selected:this.state.bookId,stateMethod:this.getDefaultBookValues,id:"bookId"})}),Object(u.jsxs)(W.a,{xs:7,className:"d-inline-block mt-2",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",onClick:this.buyInventory,id:"buyInventory",children:"Buy Inventory"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",onClick:this.sellInventory,id:"sellInventory",children:"Sell Inventory"})]})]}),Object(u.jsxs)(W.a,{xs:7,className:"text-right",children:[Object(u.jsx)(OO,{apiCall:Di,reqParams:{productType:Wh,loginId:this.props.secTraderId}}),Object(u.jsxs)(W.a,{xs:3,className:"d-inline-block mt-2",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"publishOfferings",onClick:this.publishAllInventory,children:"Publish Offerings"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",id:"axe",onClick:this.copySaveGridClick,children:"AXE"})]})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})}),this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",this.state.cmodal?Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Primary"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:sI,apiCall:ar,wsUrl:!0,reqParams:{prodType:Wh,transType:"10",issueType:"S",bookid:this.state.bookId?this.state.bookId:"All",loginid:this.props.secTraderId,socketSource:"SECONDARYTRADERBOOKVIEW"},edit:!1,mappings:HT,keyField:"issueId",customComponents:t,updateData:this.state.updateData,fromPage:"Offerings",screenName:"PRIMARY",subTitle:"Book View MCP ",flagPdf:!0})})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",id:"inventory",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Inventory"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:nI,apiCall:ar,wsUrl:!0,reqParams:{prodType:Wh,transType:"10",issueType:"F",bookid:this.state.bookId?this.state.bookId:"All",loginid:this.props.secTraderId,socketSource:"SECONDARYTRADERBOOKVIEW"},edit:!1,mappings:LT,keyField:1,customComponents:t,updateData:this.state.updateData,fromPage:"Offerings",screenName:"INVENTORY",subTitle:"Book View MCP ",flagPdf:!0})})}),this.state.modalData===ln&&Object(u.jsx)(fI,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:Wh,modalData:this.state.modalData,modalDataRow:this.state.modalDataRow,message:this.props.message}),Object(u.jsx)(jO,{size:"md",show:this.state.showBuyInv,onHide:function(){return e.hideModal()},modalHead:"Buy Inventory",prodType:Wh,modalData:this.state.BuyInvtData,returnMethod:this.returnLayerMethod,ticketType:"B"}),Object(u.jsx)(gO,{size:"md",show:this.state.showSellInv,onHide:function(){return e.hideModal()},modalHead:"Sell Inventory",prodType:Wh,modalData:this.state.SellInvtData,returnMethod:this.returnLayerMethod,ticketType:"S"}),Object(u.jsx)(Mp,{size:"md",show:this.state.showCPBuy,onHide:function(){return e.hideModal()},modalHead:"B"===this.state.invType?"Buy Ticket":"Sell Ticket",prodType:Wh,modalData:this.state.buyConfData,returnMethod:this.returnResponse,ticketType:this.state.invType})]})]}):""]}):"Edit"===this.state.screenName?Object(u.jsx)(VO,{issueId:this.state.issueId,apiCall:Xi,reqParams:{issueId:this.state.issueId,productType:Wh},returnMethod:this.returnMethod,fromPage:this.state.screenName,linkname:"Edit MCP Commitment"}):{}]})}}]),a}(o.a.Component),TI=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={updateFlag:!1,respMessage:"",rejectReason:"",actionTitle:"",actionMessage:"",showError:!0,tradeData:[],holidayData:[],productWeekData:[]},s.handleSell=s.handleSell.bind(Object(O.a)(s)),s.handleSave=s.handleSave.bind(Object(O.a)(s)),s.handleReject=s.handleReject.bind(Object(O.a)(s)),s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.postData=s.postData.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.accountChange=s.accountChange.bind(Object(O.a)(s)),s.verify=s.verify.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.clientData;t.action="CLIENTFLAG",w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:t.productType},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})})),this.postData(t,Nl)}},{key:"handleSell",value:function(e){var t=this,a=!1,s={};if((s=this.state.tradeData).issuerName=this.state.tradeData.issuerName,s.amount=this.state.tradeData.amount,s.investerCassii=this.state.tradeData.investerCassii,s.yield=this.state.tradeData.yield,s.price=this.state.tradeData.price,s.coupon=this.state.tradeData.coupon,s.maturityDate=this.state.tradeData.maturityDate,s.datedDate=Yu(this.state.tradeData.datedDate,"MM/DD/YY"),s.settleDate=Yu(this.state.tradeData.settleDate,"MM/DD/YY"),s.ticker=this.state.tradeData.ticker,s.maturityDate=Yu(this.state.tradeData.maturityDate,"MM/DD/YY"),this.verify(s))if(Object.keys(this.props.clientData).map((function(e){document.getElementById(e)&&document.getElementById(e).value&&t.props.clientData[e].toString()!==document.getElementById(e).value&&(a=!0)})),a)this.props.handleClientBid(e,a,s);else{this.handleSave();var n=this.state.tradeData;n.status="Accepted",this.props.handleClientBid(e,a,n)}}},{key:"verify",value:function(e){var t="";return""===e.amount||0===parseFloat(e.amount)?t=wm:""===e.bidYield||0===parseFloat(e.bidYield)?t=$m:""===e.price||0===parseFloat(e.price)?t=th:""===e.accountName||void 0===e.accountName?t=Am:""===e.clientinvesterCassii||void 0===e.clientinvesterCassii?t=Mm:""!==e.shortName&&void 0!==e.shortName||(t=Rm),!t||(this.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1)}},{key:"accountChange",value:function(e,t){this.state.tradeData[t]=e.target.value}},{key:"handleReject",value:function(e){var t=this,a=!1,s={};(s=this.state.tradeData).status="Rejected",s.rejectReason="Rejected by Client",Object.keys(this.props.clientData).map((function(e){document.getElementById(e)&&t.props.clientData[e]!==document.getElementById(e).value&&(a=!0)})),this.props.handleClientBid(e,a,s)}},{key:"handleSave",value:function(){var e=this.state.tradeData;e.action="SAVEINV",this.postData(e,Tl)}},{key:"onDateChange",value:function(e,t){var a=this.state.tradeData;a[t]=Yu(e,"MM/DD/YY"),this.postData(a,Nl)}},{key:"onContentChange",value:function(e,t){var a=this.state.tradeData,s=!1;void 0!==e.target.value&&e.target.value.length<=0?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):"amount"===t?!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):(_o(e),a[t]=Po(e.target.value),this.postData(a,Nl)):"coupon"===t||"yield"===t||"price"===t?!1===Bo(e.target.value,"1234567890.")?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):(a[t]=Po(e.target.value),this.postData(a,Nl)):s||(a[t]=e.target.value,this.postData(a,Nl))}},{key:"postData",value:function(e,t){var a=this;this.setState({rejectReason:""}),e.rejectReason="",e.responseMessage="",w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(a.setState({tradeData:e.data}),void 0!==a.state.tradeData&&void 0!==a.state.tradeData.rejectReason&&a.state.tradeData.rejectReason.length>0?a.setState({rejectReason:a.state.tradeData.rejectReason}):void 0!==a.state.tradeData&&void 0!==a.state.tradeData.responseMessage&&a.state.tradeData.responseMessage.length>0&&a.setState({respMessage:a.state.tradeData.responseMessage}))}))}},{key:"render",value:function(){var e=this,t=this.props.clientData,a=this.state,s=a.holidayData,n=a.productWeekData;return Object(u.jsxs)("div",{children:[t?Object(u.jsxs)("div",{className:"modal-cls",id:"SellTicket",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",Object(u.jsxs)("div",{className:"brc",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_issuerName",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"issuerName",children:t.issuerName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-6 col-xs-8 text-left ",id:"ticker",children:t.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_maturityDate",children:"MAT:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left removewrap",id:"maturityDate",children:t.maturityDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_settle",children:"DTM:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"settle",children:0===this.state.tradeData.length?t.settle:this.state.tradeData.settle})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 ext-left font-weight-bold removewrap",id:"lbl_investerCassii",children:"Customer OMS:"}),Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",id:"investerCassii",children:t.investerCassii})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 ext-left font-weight-bold",id:"lbl_prodName",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"prodName",children:t.prodName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 ext-left font-weight-bold",id:"lbl_datedDate",children:"Dated:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"datedDate",children:t.datedDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_currency",children:"CURRENCY:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"currencyCode",children:t.currencyCode})]})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_amount",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right font-weight-bold",children:"$m:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"amount",id:"amount",value:0===this.state.tradeData.length?Lo(t.amount):Lo(this.state.tradeData.amount),onBlur:function(t){e.onContentChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"settle",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"Settle:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:(n.length>0||s.length>0)&&Object(u.jsx)(Ju,{label:"lyr-bsettle",id:"lyr-bsettle",dateValue:new Date(0===this.state.tradeData.length?t.settlementDate:this.state.tradeData.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"settlementDate")},currency:0===this.state.tradeData.length?t.currencyCode:this.state.tradeData.currencyCode,holidayData:s,productWeekData:n})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_coupon",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"Coupon:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"coupon",id:"coupon",value:0===this.state.tradeData.length?t.coupon:this.state.tradeData.coupon,onBlur:function(t){e.onContentChange(t,"coupon")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_yield",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"Yield:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"yield",id:"yield",value:0===this.state.tradeData.length?t.yield:this.state.tradeData.yield,onBlur:function(t){e.onContentChange(t,"yield")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_price",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"Price:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"price",id:"price",value:this.state.tradeData.price,onBlur:function(t){e.onContentChange(t,"price")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-right font-weight-bold",id:"lbl_netAmt",children:"Net $:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8   text-right",id:"netAmt",children:this.state.tradeData.netAmt})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-right font-weight-bold",id:"lbl_accruedInterest",children:"Acc Int:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)("label",{className:"form-label col-md-8 col-sm-8 col-xs-8   text-right",id:"accruedInterest",children:this.state.tradeData.accruedInterest})})]})]}),Object(u.jsxs)("div",{className:"",children:[Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_accountName",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Account Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{id:"accountName",value:0===this.state.tradeData.length?t.accountName:this.state.tradeData.accountName,onBlur:function(t){e.accountChange(t,"accountName")}})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_cassii",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"OMS:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{id:"clientinvesterCassii",value:0===this.state.tradeData.length?t.clientinvesterCassii:this.state.tradeData.clientinvesterCassii,onBlur:function(t){e.accountChange(t,"clientinvesterCassii")}})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:Object(u.jsxs)("div",{className:"row p3 mb-1",children:[Object(u.jsx)("label",{id:"lbl_shortName",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Short Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{id:"shortName",value:0===this.state.tradeData.length?t.shortName:this.state.tradeData.shortName,onBlur:function(t){e.accountChange(t,"shortName")}})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_notes",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Notes:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{id:"notes",value:t.notes})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_msgType",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"B/S:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{id:"lyr-buysell",name:"lyr-buysell",value:"85"===this.state.tradeData.transType?"S":"B",className:"form-control input-sm"})})]})})]})]}):Object(u.jsx)("div",{className:"col-md-12 text-center",children:Object(u.jsx)(Fb,{})}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:[Object(u.jsx)("button",{id:"accept",onClick:this.handleSell.bind(this,!0),className:"btn btn-success btn-xs mr-2",children:"Accept"}),Object(u.jsx)("button",{id:"reject",onClick:this.handleReject.bind(this,!1),className:"btn btn-danger btn-xs",children:"Reject"})]}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})}}]),a}(o.a.Component),II=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).onDateChange=function(e,t){"maturityDate"===t?s.setState({maturityDate:e}):"settleDate"===t?s.setState({settleDate:e}):s.setState({datedDate:e})},s.onContentChange=function(e,t){"investerCassii"===t&&s.setState({investerCassii:e.target.value}),"coupon"===t&&s.setState({coupon:e.target.value}),"yield"===t&&s.setState({yield:e.target.value}),"amount"===t&&(!1===Bo(e.target.value,"1234567890.,mmMMkkKK")?s.setState({actionTitle:"Client Inventory",actionMessage:wm,showError:!0}):(_o(e),s.setState({amount:Po(e.target.value)})))},s.clearState=function(){s.setState({respMessage:"",rejectReason:""})},s.state={cusipSelection:"",issuerName:"",prodName:"",rejectReason:"",respMessage:"",cassii:"",maturityDate:"",actionTitle:"",actionMessage:"",showError:!1,holidayData:[],productWeekData:[],currencyCode:"USD"},s.handleSell=s.handleSell.bind(Object(O.a)(s)),s.tickerChange=s.tickerChange.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.verify=s.verify.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;w()({method:"POST",url:N.URL+sr,timeout:N.apiTimeOut,data:{productType:zh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({holidayData:t.data.holidayDatesInfo,productWeekData:t.data.productWeekData})}))}},{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"handleSell",value:function(e){var t=this,a={};a.issuerName=this.state.issuerName,a.amount=this.state.amount,a.investerCassii=this.state.investerCassii,a.clientinvesterCassii=this.state.investerCassii,a.cassii=this.state.investerCassii,a.yield=this.state.yield,a.coupon=this.state.coupon,a.productType=zh,a.maturityDate=Yu(this.state.maturityDate,"MM/DD/YY"),a.settleDate=Yu(this.state.settleDate,"MM/DD/YY"),a.ticker=this.state.ticker,a.programId=this.state.programId,a.datedDate=Yu(this.state.datedDate,"MM/DD/YY"),a.settlementDate=Yu(this.state.settleDate,"MM/DD/YY"),a.action="CLIENTFLAG",this.verify(a)&&w()({method:"POST",url:N.URL+Nl,timeout:N.apiTimeOut,data:a,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.props.handleChange(e.data,!0)}))}},{key:"verify",value:function(e){var t="",a=!1;return void 0===e.ticker||""===e.ticker?t=Lh:void 0===e.investerCassii||""===e.investerCassii?t=Yh:""===e.maturityDate||void 0===e.maturityDate||"Invalid date"===e.maturityDate?t=Lm:0===t.length&&Wu(e.settlementDate,e.maturityDate)>0?t=jm:void 0===e.amount||""===e.amount?t=ch:void 0===e.coupon||""===e.coupon?t=eh:void 0!==e.yield&&""!==e.yield||(t=$m),t.length>0?(a=!1,this.setState({actionTitle:"Client Inquiry",actionMessage:t,showError:!0})):a=!0,a}},{key:"tickerChange",value:function(e,t){var a=this;this.setState({singleSelections:e}),this.setState({tickerId:t,ticker:e[0]}),w()({method:"POST",url:N.URL+yl,timeout:N.apiTimeOut,data:{ticker:e[0],issuerId:t,productType:zh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){a.setState({issuerName:e.data.issuerName,currencyCode:e.data.currencyCode}),a.setState({programId:e.data.programId})}))}},{key:"cassiiCheck",value:function(e,t){var a={};a.investerCassii=e.target.value,a.fromPage="CASIIACCT",this.postData(a,cl),this.clearState()}},{key:"postData",value:function(e,t){var a=this;e.rejectReason="",e.responseMessage="",w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(cl===t&&a.setState({investerCassii:e.data.investerCassii}),a.setState({tradeData:e.data}),void 0!==a.state.tradeData&&void 0!==a.state.tradeData.rejectReason&&a.state.tradeData.rejectReason.length>0?a.setState({rejectReason:a.state.tradeData.rejectReason}):void 0!==a.state.tradeData&&void 0!==a.state.tradeData.responseMessage&&a.state.tradeData.responseMessage.length>0&&a.setState({respMessage:a.state.tradeData.responseMessage}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.holidayData,s=t.productWeekData;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",Object(u.jsx)("div",{className:"col-md-6 d-inline-block",children:Object(u.jsxs)("div",{className:"row p3 mb-1",children:[Object(u.jsx)("label",{id:"lbl_ticker",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Ticker:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6",children:Object(u.jsx)(jj,{apiCall:ji,reqParams:{ticker:this.state.tickerId,productType:zh},onchange:this.tickerChange,selected:this.state.singleSelections,id:"ticker"})}),Object(u.jsx)("span",{className:"align-middle ml-n2",children:Object(u.jsx)(B.z,{onClick:function(t){e.onSearchCusip(t)}})})]})}),Object(u.jsx)("div",{className:"col-md-6 d-inline-block",children:Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_investerCassii",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left removewrap",children:"Customer OMS:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:Object(u.jsx)(Eu,{name:"investerCassii",id:"investerCassii",value:this.state.investerCassii,onBlur:function(t){e.cassiiCheck(t,"investerCassii")}})})]})}),Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_matdate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left removewrap",children:"Maturity Date:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:(s.length>0||a.length>0)&&this.state.currencyCode&&Object(u.jsx)(Ju,{label:"maturirtyDate",onchange:function(t){e.onDateChange(t,"maturityDate")},dateValue:this.state.maturityDate,fromDateFlg:!1,toDateFlg:!1,currency:this.state.currencyCode,holidayData:a,productWeekData:s})})]}),Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_datedDate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Dated Date:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:(s.length>0||a.length>0)&&this.state.currencyCode&&Object(u.jsx)(Ju,{label:"datedDate",onchange:function(t){e.onDateChange(t,"datedDate")},dateValue:void 0===this.state.datedDate?new Date:new Date(this.state.datedDate),fromDateFlg:!1,toDateFlg:!1,currency:this.state.currencyCode,holidayData:a,productWeekData:s})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_settledate",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Settle Date:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:(s.length>0||a.length>0)&&this.state.currencyCode&&Object(u.jsx)(Ju,{label:"settleDate",id:"settleDate",onchange:function(t){e.onDateChange(t,"settleDate")},dateValue:void 0===this.state.settleDate?new Date:new Date(this.state.settleDate),fromDateFlg:!1,toDateFlg:!1,currency:this.state.currencyCode,holidayData:a,productWeekData:s})})]}),Object(u.jsxs)("div",{className:"row p3",children:[Object(u.jsx)("label",{id:"lbl_amount",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left removewrap",children:"Amount ($m):"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:Object(u.jsx)(Eu,{name:"amount",id:"amount",value:this.state.amount,onBlur:function(t){e.onContentChange(t,"amount")}})})]})]}),Object(u.jsx)("div",{className:"col-md-6 d-inline-block",children:Object(u.jsxs)("div",{className:"row p3",children:[Object(u.jsx)("label",{id:"lbl_coupon",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Coupon:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:Object(u.jsx)(Eu,{name:"coupon",id:"coupon",value:this.state.coupon,onBlur:function(t){e.onContentChange(t,"coupon")}})})]})}),Object(u.jsx)("div",{className:"col-md-6 d-inline-block",children:Object(u.jsxs)("div",{className:"row p3",children:[Object(u.jsx)("label",{id:"lbl_yield",className:"form-label col-md-5 col-sm-5 col-xs-5 text-left",children:"Yield:"}),Object(u.jsx)("div",{className:"col-md-7 col-sm-7 col-xs-7",children:Object(u.jsx)(Eu,{name:"yield",id:"yield",value:this.state.yield,onBlur:function(t){e.onContentChange(t,"yield")}})})]})}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:[Object(u.jsx)("button",{id:"sell",onClick:this.handleSell.bind(this,!0),className:"btn btn-danger btn-xs mr-2",children:"Sell"}),Object(u.jsx)("button",{id:"clear",className:"btn btn-primary btn-xs",children:"Clear"})]})]}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})}}]),a}(o.a.Component),MI=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cusipSelection:"",issuerName:"",descr:"",minAmount:"",maxAmount:"",increment:"",maxNoOfDays:"",matDates:"",issuerId:"",productData:{},cusip:"",payload:{},tradeData:[],prodId:"",prodName:"",cassii:""},s.handleSell=s.handleSell.bind(Object(O.a)(s)),s.onContentChange=s.onContentChange.bind(Object(O.a)(s)),s.postData=s.postData.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.accountChange=s.accountChange.bind(Object(O.a)(s)),s.verify=s.verify.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"componentDidMount",value:function(){var e=this.props.clientData;e.action="CLIENTFLAG",this.postData(e,Nl)}},{key:"handleSell",value:function(e){var t;t=this.state.tradeData,this.verify(t)&&this.props.handleTradeQuote(e,t)}},{key:"accountChange",value:function(e,t){this.state.tradeData[t]=e.target.value}},{key:"verify",value:function(e){var t="";return""===e.amount||0===parseFloat(e.amount)?t=wm:""===e.bidYield||0===parseFloat(e.bidYield)?t=$m:""===e.price||0===parseFloat(e.price)?t=th:""===e.accountName||void 0===e.accountName?t=Am:""===e.clientinvesterCassii||void 0===e.clientinvesterCassii?t=Mm:""!==e.shortName&&void 0!==e.shortName||(t=Rm),!t||(this.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1)}},{key:"onDateChange",value:function(e,t){var a=this.state.tradeData;a[t]=Yu(e,"MM/DD/YY"),this.postData(a,Nl)}},{key:"onContentChange",value:function(e,t){var a=this.state.tradeData,s=!1;void 0!==e.target.value&&e.target.value.length<=0?(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):"amount"===t?!1===Bo(e.target.value,"1234567890.,mmMMkkKK")&&(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):"coupon"===t||"yield"===t?!1===Bo(e.target.value,"1234567890.")&&(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()):"price"===t&&!1===Bo(e.target.value,"1234567890.")&&(s=!0,this.setState({actionTitle:"Alert",actionMessage:Uh,showError:!0}),e.target.value=a[t],e.target.focus()),s||(a[t]=e.target.value,this.postData(a,Nl))}},{key:"postData",value:function(e,t){var a=this;e.rejectReason="",e.responseMessage="",w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(a.setState({tradeData:e.data}),void 0!==a.state.tradeData&&void 0!==a.state.tradeData.rejectReason&&a.state.tradeData.rejectReason.length>0?a.setState({rejectReason:a.state.tradeData.rejectReason}):void 0!==a.state.tradeData&&void 0!==a.state.tradeData.responseMessage&&a.state.tradeData.responseMessage.length>0&&a.setState({respMessage:a.state.tradeData.responseMessage}))}))}},{key:"render",value:function(){var e=this,t=this.props.clientData;return Object(u.jsxs)("div",{children:[t?Object(u.jsxs)("div",{className:"modal-cls",id:"SellTicket",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectReason&&this.state.rejectReason.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectReason}):"",Object(u.jsxs)("div",{className:"brc",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_issuerName",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"issuerName",children:t.issuerName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"ticker",children:t.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_maturityDate",children:"MAT:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"maturityDate",children:t.maturityDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbi_dtm",children:"DTM:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"dtm",children:0===this.state.tradeData.length?t.settle:this.state.tradeData.settle})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 ext-left font-weight-bold",id:"lbl_customerCassii",children:"Customer OMS:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",id:"customerCassii",children:t.investerCassii})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 ext-left font-weight-bold",id:"product",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"productType",children:t.prodName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 ext-left font-weight-bold",id:"lbl_datedDate",children:"Dated:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"datedDate",children:t.datedDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",id:"lbl_currency",children:"CURRENCY:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"currency",children:t.currencyCode})]})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("div",{className:"subHead text-center",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_amount",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right font-weight-bold",children:"$m:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"amount",id:"amount",value:0===this.state.tradeData.length?t.amount:this.state.tradeData.amount,onBlur:function(t){e.onContentChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"settle",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"Settle:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Ju,{label:"lyr-bsettle",id:"lyr-bsettle",dateValue:new Date(0===this.state.tradeData.length?t.settlementDate:this.state.tradeData.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"settlementDate")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_coupon",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"Coupon:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"coupon",id:"coupon",value:0===this.state.tradeData.length?t.coupon:this.state.tradeData.coupon,onBlur:function(t){e.onContentChange(t,"coupon")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_yield",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"Yield:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"yield",id:"yield",value:this.state.tradeData.yield,onBlur:function(t){e.onContentChange(t,"yield")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_price",className:"form-label col-md-4 col-sm-4 col-xs-4 text-right",children:"Price:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"price",id:"price",value:this.state.tradeData.price,onBlur:function(t){e.onContentChange(t,"price")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-right font-weight-bold",id:"lbl_netAmount",children:"Net $:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",id:"netAmount",children:0===this.state.tradeData.length?t.netAmt:this.state.tradeData.netAmt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-right font-weight-bold",id:"lbl_acctIns",children:"Acc Int:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",id:"acctIns",children:0===this.state.tradeData.length?t.accruedInterest:this.state.tradeData.accruedInterest})]}),Object(u.jsxs)("div",{className:"",children:[Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_accountName",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Account Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{id:"accountName",value:0===this.state.tradeData.length?t.accountName:this.state.tradeData.accountName,onBlur:function(t){e.accountChange(t,"accountName")}})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_cassii",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"OMS:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{id:"cassii",value:0===this.state.tradeData.length?t.clientinvesterCassii:this.state.tradeData.clientinvesterCassii,onBlur:function(t){e.accountChange(t,"clientinvesterCassii")}})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_shortName",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Short Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{id:"shortName",value:0===this.state.tradeData.length?t.shortName:this.state.tradeData.shortName,onBlur:function(t){e.accountChange(t,"shortName")}})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_notes",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Notes:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{id:"notes",value:t.notes})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:Object(u.jsxs)("div",{className:"row p2 mb-1",children:[Object(u.jsx)("label",{id:"lbl_msgType",className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"B/S:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6  text-left",children:Object(u.jsx)(Eu,{id:"lyr-buysell",name:"lyr-buysell",value:"85"===this.state.tradeData.transType?"S":"B",className:"form-control input-sm"})})]})})]})]})]}):Object(u.jsx)("div",{className:"col-md-12 text-center",children:Object(u.jsx)(Fb,{})}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-center mt-1 mb-1",children:[Object(u.jsx)("button",{id:"counter",onClick:this.handleSell.bind(this,!0),className:"btn btn-xs mr-2 btn-danger",children:"Counter"}),Object(u.jsx)("button",{id:"accept",onClick:this.handleSell.bind(this,!0),className:"btn btn-success btn-xs mr-2",children:"Accept"}),Object(u.jsx)("button",{id:"reject",onClick:this.handleSell.bind(this,!0),className:"btn btn-xs btn-danger",children:"Reject"})]}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})}}]),a}(o.a.Component),AI=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.clientData;return Object(u.jsx)("div",{children:e?Object(u.jsxs)("div",{className:"modal-cls",id:"SellTicket",children:[Object(u.jsxs)("div",{className:"bgc",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_issuerName",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"issuerName",children:e.issuerName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"product",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"productType",children:e.prodName})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",id:"lbl_ticker",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",id:"ticker",children:e.ticker})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"- "}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:" -"})]})]})]}),Object(u.jsx)("div",{className:"fo2table",children:Object(u.jsx)("table",{className:"table table-striped",children:Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"lbl_accountName",children:"Acct:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"accountName",children:e.accountName})]}),Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"lbl_status",children:"Status:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"status",children:e.status})]})]}),Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"lbl_amount",children:"$m:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"amount",children:e.amount})]}),Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-5 text-left font-weight-bold",id:"lbl_settlementDate",children:"Settle Date:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"settlementDate",children:e.settlementDate})]})]}),Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"lbl_maturityDate",children:"Mat:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"maturityDate",children:e.maturityDate})]}),Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"lbl_coupon",children:"Coupon:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"coupon",children:e.coupon})]})]}),Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"lbl_msgType",children:"B/S:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"msgType",children:e.msgType})]}),Object(u.jsx)("td",{})]}),Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"lbl_venue",children:"Venue:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"venue",children:e.venue})]}),Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"trader",children:"Trader:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"traderLoginname",children:e.traderLoginname})]})]}),e.rejectReason&&Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"reason",children:"Reason:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"rejectReason",children:e.rejectReason})]}),Object(u.jsx)("td",{})]}),Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"lbl_datedDate",children:"Dated:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"datedDate",children:e.datedDate})]}),Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"lbl_yield",children:"Yield:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"yield",children:e.yield})]})]}),Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"lbl_price",children:"Price:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"price",children:e.price})]}),Object(u.jsxs)("td",{children:[Object(u.jsx)("label",{className:"form-label col-md-4 text-left font-weight-bold",id:"currency",children:"Currency:"}),Object(u.jsx)("label",{className:"form-label col-md-8 text-left ",id:"currencyCode",children:e.currencyCode})]})]})]})})})]}):Object(u.jsx)("div",{className:"col-md-12 text-center",children:Object(u.jsx)(Fb,{})})})}}]),a}(o.a.Component),RI=AI,EI=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={clientInq:!0,clientBid:!1,layerFlag:!0,clientData:"",tradeSum:!0,tradeQuote:!0,clientBidTradeqFlag:!1},s.handleChange=s.handleChange.bind(Object(O.a)(s)),s.handleClientBid=s.handleClientBid.bind(Object(O.a)(s)),s.handleTradeSummery=s.handleTradeSummery.bind(Object(O.a)(s)),s.handleTradeQuote=s.handleTradeQuote.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){e.show!==this.props.show&&(this.setState({clientInq:!0}),this.setState({clientBid:!1}),this.setState({tradeSum:!1}),this.setState({tradeQuote:!1}))}},{key:"handleChange",value:function(e,t){t?(this.setState({clientInq:!1}),this.setState({clientBid:t}),this.setState({clientBidData:e})):(this.setState({clientInq:!1}),this.setState({layerFlag:!1}),this.props.onHide())}},{key:"handleClientBid",value:function(e,t,a){e&&t?(this.setState({tradeQuote:!0}),this.setState({clientBid:!1}),a.action="CLIENTFLAG",this.setState({tradeQuoteData:a})):(this.setState({tradeSum:!0}),this.setState({clientBid:!1}),this.setState({tradeSumData:a}))}},{key:"handleTradeSummery",value:function(e){}},{key:"handleTradeQuote",value:function(e,t){this.setState({clientBid:!0}),this.setState({tradeQuote:!1}),this.setState({clientBidData:t})}},{key:"render",value:function(){return this.state.layerFlag&&Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.props.onHide,size:this.props.size,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsxs)(P.a.Title,{id:"contained-modal-title-vcenter",children:[this.state.clientInq&&Object(u.jsx)("span",{children:"Client Inquiry"}),this.state.clientBid&&Object(u.jsx)("span",{children:"Client Bid"}),this.state.tradeSum&&Object(u.jsx)("span",{children:"Trade Summery"}),this.state.tradeQuote&&Object(u.jsx)("span",{children:"Trade Quote"})]})}),Object(u.jsxs)(P.a.Body,{children:[this.state.clientInq&&Object(u.jsx)(II,{handleChange:this.handleChange}),this.state.clientBid&&this.state.clientBidData&&Object(u.jsx)(TI,{clientData:this.state.clientBidData,handleClientBid:this.handleClientBid}),this.state.tradeSum&&this.state.tradeSumData&&Object(u.jsx)(RI,{clientData:this.state.tradeSumData,handleTradeSummery:this.handleTradeSummery}),this.state.tradeQuote&&this.state.tradeQuoteData&&Object(u.jsx)(MI,{clientData:this.state.tradeQuoteData,handleTradeQuote:this.handleTradeQuote})]})]})}}]),a}(o.a.Component),FI=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).textBoxOfferComponent=function(e,t,a,n,o){var i=o+a;return Object(u.jsx)(Eu,{name:i,id:i,value:" "!==t.availableToday?e:"0",onBlur:function(e){s.onFieldChange(e,o,a,""),s.onOfferChange(e)},onKeyPress:function(e){s.onAmountKey(e,t,o,a)},className:"text-right"})},s.state={cmodal:!0,modalData:"",showModal:!1,showSecurityModal:!1,modalDataRow:"",actionMessage:"",alertShow:!1,actionFlag:"",actionTitle:"",respMessage:"",buyData:{},maindata:[],primarydata:[],showError:!1,showLayerModal:!1,updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.linkSecurityComponent=s.linkSecurityComponent.bind(Object(O.a)(s)),s.linkComponent=s.linkComponent.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.openSecurityModal=s.openSecurityModal.bind(Object(O.a)(s)),s.publishClick=s.publishClick.bind(Object(O.a)(s)),s.textBoxComponent=s.textBoxComponent.bind(Object(O.a)(s)),s.textBoxOfferComponent=s.textBoxOfferComponent.bind(Object(O.a)(s)),s.onOfferChange=s.onOfferChange.bind(Object(O.a)(s)),s.onFieldChange=s.onFieldChange.bind(Object(O.a)(s)),s.verifyAll=s.verifyAll.bind(Object(O.a)(s)),s.verify=s.verify.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.clientInquiry=s.clientInquiry.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s.invFieldComponent=s.invFieldComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"clientInquiry",value:function(){void 0===this.props.message||""===this.props.message?this.setState({showLayerModal:!0}):this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"hideLayerModal",value:function(){this.setState({showLayerModal:!1,updateData:!0})}},{key:"openSecurityModal",value:function(e,t){var a;Object.keys(e).map((function(s){e[s]===t&&s===ln&&(a=s)})),this.setState({modalData:a,modalDataRow:e,showSecurityModal:!0,updateData:!1})}},{key:"linkSecurityComponent",value:function(e,t,a,s,n){var o=this.state.primarydata;return o[a]||(o.push({}),o[a]=t),Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openSecurityModal.bind(this,t,e),children:e})}},{key:"openModal",value:function(e,t,a){if(void 0===this.props.message||""===this.props.message){var s,n,o,i,l;if(t===Ya)null!==(s=e[t])&&(l=s.split(":"));else null!==(s=e.rateMap[t])&&(l=s.split(":")),t+="M";void 0!==l&&l.length>2&&(n=l[0],o=l[1],i=l[2]),e.coupon=n,e.maturityDate=o,e.maturityFlag=i,e.tenorType=t,e.transType="10",e.issueType="I",e.amount=e.offeringlimit,e.availableToday=e.offeringlimit,this.setState({buyData:e,showModal:!0,updateData:!1})}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"hideModal",value:function(){this.setState({showModal:!1,showSecurityModal:!1,updateData:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"textBoxComponent",value:function(e,t,a,s,n){var o=this,i=this.state.maindata;return i[a]||(i.push({}),i[a]=t),Object(u.jsx)(Eu,{name:n+a,id:n+a,value:e,onBlur:function(e){o.onFieldChange(e,n,a)},onKeyPress:function(e){o.onAmountKey(e,t,n,a)},className:"text-right"})}},{key:"linkComponent",value:function(e,t,a,s,n,o,i){if(this.setState({modalData:t}),"0"!==e)return Object(u.jsxs)("div",{className:"dispFlex",children:[Object(u.jsx)("button",{id:n+"M"+a,className:"btn btn-link",onClick:this.openModal.bind(this,t,n,a),children:e}),"Y"===o&&Object(u.jsx)("span",{id:"span"+n+a,children:Object(u.jsx)(Hp,{mat:Yu(i,"M/D"),children:Object(u.jsx)(B.B,{})})})]})}},{key:"onFieldChange",value:function(e,t,a,s){var n="",o="";if(this.state.maindata[a][t]=e.target.value,e.target.value&&(o=e.target.value.trim()),"availableToday"===t&&!1===Bo(o,"1234567890.,mmMMkkKK")&&(n="Row"+(a+1)+":"+ih),"bidYield"===t&&!1===Bo(o,"1234567890.")&&(n="Row"+(a+1)+":"+ah),"dispOfferYield"===t&&(Bo(o,"1234567890.")||(n="Row"+(a+1)+":"+nh)),n)return this.setState({actionTitle:"Alert",actionMessage:n,updateData:!1,showError:!0}),!1}},{key:"onOfferChange",value:function(e){if(""!==e.target.value)return _o(e)}},{key:"publishClick",value:function(){var e=this;if(void 0===this.props.message||""===this.props.message){this.setState({mainDet:!0});var t=this.state.maindata;this.verifyAll(t,"PUBLISH")&&w()({method:"POST",url:N.URL+bl,timeout:N.apiTimeOut,data:t,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data.length>0?e.setState({maindata:[],primarydata:[],respMessage:t.data,updateData:!0}):e.setState({maindata:[],primarydata:[],respMessage:"",updateData:!0})}))}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"verifyAll",value:function(e,t){for(var a=!0,s=0;s<e.length;s++){if(!1===this.verify(e[s],s,t)){a=!1;break}}return a}},{key:"verify",value:function(e,t,a){var s="",n=0;return""!==e.availableToday&&(e.availableToday=e.availableToday.trim(),n=Po(e.availableToday)),"PUBLISHINV"===a&&(""===e.availableToday||0===parseFloat(n)?s="Row"+(t+1)+":"+oh:""!==e.dispOfferYield&&0!==parseFloat(e.dispOfferYield)||(s="Row"+(t+1)+":"+sh)),""===e.bidYield||0===parseFloat(e.bidYield)?s="Row"+(t+1)+":"+$m:""!==e.availableToday&&parseFloat(n)>0&&(" "===e.dispOfferYield||0===parseFloat(e.dispOfferYield))?s="Row"+(t+1)+":"+sh:""!==e.dispOfferYield&&parseFloat(e.dispOfferYield)>0&&parseFloat(e.bidYield)<parseFloat(e.dispOfferYield)?s="Row"+(t+1)+":"+dh:""!==e.dispOfferYield&&parseFloat(e.dispOfferYield)>0&&(""===e.availableToday||0===parseFloat(n))&&(s="Row"+(t+1)+":"+oh),!s||(this.setState({actionTitle:"Alert",actionMessage:s,showError:!0}),!1)}},{key:"onAmountKey",value:function(e,t,a,s){var n=this;if(void 0===this.props.message||""===this.props.message){if("Enter"===e.key&&(t[a]=e.target.value,this.verify(t,s,"PUBLISHINV"))){var o=[];o[0]=t,w()({method:"POST",url:N.URL+bl,timeout:N.apiTimeOut,data:o,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data.length>0?n.setState({maindata:[],primarydata:[],respMessage:e.data,updateData:!0}):n.setState({maindata:[],primarydata:[],respMessage:"",updateData:!0})}))}}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"fieldComponent",value:function(e,t,a,s){return"Min Piece($m)"===s.colId?Lo(e):e}},{key:"invFieldComponent",value:function(e,t,a,s){return"Par ($m)"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t={};return t.textBoxComponent=this.textBoxComponent,t.textBoxOfferComponent=this.textBoxOfferComponent,t.linkSecurityComponent=this.linkSecurityComponent,t.linkComponent=this.linkComponent,t.fieldComponent=this.fieldComponent,t.invFieldComponent=this.invFieldComponent,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h6",{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"",void 0!==this.state.respMessage&&""!==this.state.respMessage?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):""]}),Object(u.jsxs)(H.a,{children:[Object(u.jsx)(W.a,{xs:5,children:Object(u.jsx)(W.a,{xs:6,className:"d-inline-block mt-2",children:Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",onClick:this.clientInquiry,id:"clientInquiry",children:"Client Inquiry"})})}),Object(u.jsxs)(W.a,{xs:7,className:"text-right",children:[Object(u.jsx)(OO,{apiCall:ki,reqParams:{productType:zh,loginId:this.props.secTraderId}}),Object(u.jsx)(W.a,{xs:3,className:"d-inline-block mt-2",children:Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",onClick:this.publishClick,id:"publishOfferings",children:"Publish Offerings"})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})}),this.state.cmodal&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Offerings"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:oI,apiCall:ar,wsUrl:!0,reqParams:{prodType:zh,transType:"10",issueType:"S",loginid:this.props.secTraderId,socketSource:"SECONDARYTRADERBOOKVIEW"},edit:!1,mappings:qT,keyField:"issueId",mapdata:this.state.primarydata,customComponents:t,updateData:this.state.updateData,screenName:"OFFERINGS",subTitle:"Book View YCD ",flagPdf:!0})})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",id:"inventory",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Inventory"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:iI,apiCall:ar,wsUrl:!0,reqParams:{prodType:zh,transType:"10",issueType:"F",loginid:this.props.secTraderId,socketSource:"SECONDARYTRADERBOOKVIEW"},edit:!1,mappings:zT,mapdata:this.state.maindata,customComponents:t,updateData:this.state.updateData,keyField:"issueId",screenName:"INVENTORY",subTitle:"Book View YCD ",flagPdf:!0})})}),this.state.modalData===ln&&Object(u.jsx)(fI,{size:"lg",show:this.state.showSecurityModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:zh,modalData:this.state.modalData,modalDataRow:this.state.modalDataRow,message:this.props.message}),Object(u.jsx)(kj,{show:this.state.showModal,onHide:function(){return e.hideModal()},modalData:this.state.buyData}),Object(u.jsx)(EI,{size:"md",show:this.state.showLayerModal,onHide:function(){return e.hideLayerModal()},modalHead:"Client Inquiry",modalDataRow:this.state.modalDataRow})]})]})]})}}]),a}(o.a.Component),PI={},BI={},LI=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s,n;return Object(i.a)(this,a),(n=t.call(this,e)).checkBoxComponent=function(e,t,a,s){var o="issueId"+t.issueId;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(e){n.onCheckboxClick(e,t.issueId,t,a)}})})},n.textBoxComponent=function(e,t,a,s,o){var i="offer"+t.issueId;return Object(u.jsx)(Eu,{name:i,id:i,value:e,onBlur:function(e){n.onFieldChange(e,t.issueId,t.offer,t,a)},onKeyPress:function(e){n.onAmountKey(e,t.issueId,"Offer",t,a)},className:"text-right"})},n.textBoxLimitComponent=function(e,t,a){var s="limit"+t.issueId;if("0000"===t.refIssueId)return Object(u.jsx)(Eu,{name:s,id:s,value:e,onBlur:function(e){n.onLimitChange(e,t.issueId,t.offeringlimit,t,a)},onKeyPress:function(e){n.onAmountKey(e,t.issueId,"Limit",t,a)},className:"text-right"})},n.textBoxOfferComponent=function(e,t,a,s){var o="offeramount"+t.issueId,i=n.state.inventoryData;return s&&(i[a]||(i.push({}),i[a]=t,n.setState({inventoryData:i,updateData:!1}))),Object(u.jsx)(Eu,{name:o,id:o,value:Lo(e),onChange:function(e){n.onOfferChange(e,t.issueId,t.availableToday,t,a,"CHANGE")},onBlur:function(e){n.onOfferChange(e,t.issueId,t.availableToday,t,a,"")},onKeyPress:function(e){n.onKeyAmount(e,t.issueId,t,"Offer",a)},className:"text-right"})},n.textBoxRateComponent=function(e,t,a,s,o){var i=s.key,l=i+t.issueId;return Object(u.jsx)(Eu,{name:l,id:l,value:e,onChange:function(e){n.onRateChange(e,t.issueId,t.offer,t,i,a,"ONCHANGE")},onBlur:function(e){n.onRateChange(e,t.issueId,t.offer,t,i,a,"")},onKeyPress:function(e){n.onKeyAmount(e,t.issueId,t,i,a)},className:"text-right"})},n.onRateChange=function(e,t,a,s,o,i,l){if(!1===Bo(e.target.value,"1234567890.")&&0===l.length)n.setState({actionTitle:"Alert",actionMessage:"offer"===o?Vm:Tm,showError:!0,updateData:!1}),e.target.value=a,e.target.focus();else{var c=n.state.inventoryData;"offer"===o?c[i].offerRate=e.target.value:c[i].bidRate=e.target.value,PI={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(e.target.value),offeringlimit:Po(document.getElementById("offeramount"+s.issueId).value)}}},n.onOfferChange=function(e,t,a,s,o,i){!1===Bo(e.target.value,"1234567890.,mmMMkkKK")&&0===i.length?(n.setState({actionTitle:"Alert",actionMessage:Um,showError:!0,updateData:!1}),e.target.value=s.availableToday,e.target.focus()):(""!==e.target.value&&0===i.length&&_o(e),n.state.inventoryData[o].offeringlimit=Po(e.target.value),BI={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(document.getElementById("offer"+s.issueId).value),offeringlimit:Po(e.target.value)})},n.onCheckboxClick=function(e,t,a,s){void 0===n.props.message||""===n.props.message?(PI={ticker:a.ticker,issueId:t,bookId:a.bookId,bidRate:Po(a.bid),offerRate:Po(document.getElementById("offer"+a.issueId).value),offeringlimit:Po(document.getElementById("limit"+a.issueId).value)},e.target.checked&&n.setState({actionTitle:rm,actionMessage:hm,alertShow:!0,updateData:!1,actionFlag:"DELETE"})):n.setState({actionTitle:"Alert",actionMessage:n.props.message,updateData:!1,showError:!0})},n.onFieldChange=function(e,t,a,s,o){!1===Bo(e.target.value,"1234567890.")?(n.setState({actionTitle:"Alert",actionMessage:Vm,showError:!0,updateData:!1}),e.target.value=s.offer,e.target.focus()):PI={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(e.target.value),offeringlimit:Po(document.getElementById("limit"+s.issueId).value)}},n.buyInventory=function(){void 0===n.props.message||""===n.props.message?n.setState({showBuyInv:!0,updateData:!1}):n.setState({actionTitle:"Alert",actionMessage:n.props.message,showError:!0,updateData:!1})},n.sellInventory=function(){void 0===n.props.message||""===n.props.message?n.setState({showSellInv:!0,updateData:!1}):n.setState({actionTitle:"Alert",actionMessage:n.props.message,showError:!0,updateData:!1})},n.state=(s={cmodal:!0,modalData:"",modalDataRow:"",showBuyInv:!1,BuyInvtData:"",showSellInv:!1,SellInvtData:"",bookId:"",screenName:"Offerings",issueId:"",IssuerId:"",responseMessage:"",actionTitle:"",actionMessage:"",alertShow:!1,actionFlag:"",showError:!1},Object(g.a)(s,"actionTitle",""),Object(g.a)(s,"actionMessage",""),Object(g.a)(s,"showError",!1),Object(g.a)(s,"inventoryData",[]),Object(g.a)(s,"showCPBuy",!1),Object(g.a)(s,"buyConfData",""),Object(g.a)(s,"invType",""),Object(g.a)(s,"updateData",!0),s),n.closemodel=n.closemodel.bind(Object(O.a)(n)),n.linkComponent=n.linkComponent.bind(Object(O.a)(n)),n.openModal=n.openModal.bind(Object(O.a)(n)),n.onLimitChange=n.onLimitChange.bind(Object(O.a)(n)),n.textBoxLimitComponent=n.textBoxLimitComponent.bind(Object(O.a)(n)),n.textBoxComponent=n.textBoxComponent.bind(Object(O.a)(n)),n.textBoxOfferComponent=n.textBoxOfferComponent.bind(Object(O.a)(n)),n.textBoxRateComponent=n.textBoxRateComponent.bind(Object(O.a)(n)),n.bookChange=n.bookChange.bind(Object(O.a)(n)),n.checkBoxComponent=n.checkBoxComponent.bind(Object(O.a)(n)),n.actionComponent=n.actionComponent.bind(Object(O.a)(n)),n.editCommitment=n.editCommitment.bind(Object(O.a)(n)),n.convert=n.convert.bind(Object(O.a)(n)),n.returnMethod=n.returnMethod.bind(Object(O.a)(n)),n.onAmountKey=n.onAmountKey.bind(Object(O.a)(n)),n.hideAlert=n.hideAlert.bind(Object(O.a)(n)),n.confirmAction=n.confirmAction.bind(Object(O.a)(n)),n.hideError=n.hideError.bind(Object(O.a)(n)),n.onOfferChange=n.onOfferChange.bind(Object(O.a)(n)),n.onRateChange=n.onRateChange.bind(Object(O.a)(n)),n.onKeyAmount=n.onKeyAmount.bind(Object(O.a)(n)),n.verify=n.verify.bind(Object(O.a)(n)),n.publishAllInventory=n.publishAllInventory.bind(Object(O.a)(n)),n.verifyAll=n.verifyAll.bind(Object(O.a)(n)),n.getDefaultBookValues=n.getDefaultBookValues.bind(Object(O.a)(n)),n.returnLayerMethod=n.returnLayerMethod.bind(Object(O.a)(n)),n.returnResponse=n.returnResponse.bind(Object(O.a)(n)),n.fieldComponent=n.fieldComponent.bind(Object(O.a)(n)),n.onInvCheckboxClick=n.onInvCheckboxClick.bind(Object(O.a)(n)),n.invCheckBoxComponent=n.invCheckBoxComponent.bind(Object(O.a)(n)),n}return Object(l.a)(a,[{key:"openModal",value:function(e,t){var a;Object.keys(e).map((function(s){e[s]===t&&s===ln&&(a=s)})),this.setState({modalData:a,modalDataRow:e,showModal:!0,updateData:!1})}},{key:"hideModal",value:function(){this.setState({showModal:!1,showBuyInv:!1,showSellInv:!1,showCPBuy:!1,updateData:!0})}},{key:"onLimitChange",value:function(e,t,a,s,n){!1===Bo(e.target.value,"1234567890.,mmMMkkKK")||e.target.value<0?(this.setState({actionTitle:"Alert",actionMessage:Um,showError:!0,updateData:!1}),e.target.value=s.availableToday):(""!==e.target.value&&_o(e),BI={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(document.getElementById("offer"+s.issueId).value),offeringlimit:Po(e.target.value)})}},{key:"onKeyAmount",value:function(e,t,a,s,n){if(void 0===this.props.message||""===this.props.message){var o=this.state;o.bookId,o.ticker;BI={ticker:a.ticker,issueId:t,bookId:a.bookId,bidRate:Po(a.bid),offerRate:Po(document.getElementById("offer"+a.issueId).value),offeringlimit:Po(document.getElementById("offeramount"+a.issueId).value)},"Enter"===e.key&&this.verify(BI,"PUBLISHINV",n)&&this.setState({actionTitle:"Publish",actionMessage:"Are you sure , you want to Publish the Inventory ?",alertShow:!0,updateData:!1,actionFlag:"PUBLISHINV"})}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1})}},{key:"linkComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openModal.bind(this,t,e),children:e})}},{key:"bookChange",value:function(e){this.setState({bookId:e.target.value,updateData:!0})}},{key:"editCommitment",value:function(e){void 0===this.props.message||""===this.props.message?this.setState({screenName:"Edit",issueId:e,updateData:!1}):this.setState({actionTitle:"Alert",actionMessage:this.props.message,showError:!0,updateData:!1})}},{key:"convert",value:function(e,t,a){void 0===this.props.message||""===this.props.message?this.setState({screenName:"Convert",issueId:e,issuerId:t,bookId:a}):this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"checkBoxComponent",value:function(e,t,a,s){var n=this,o="issueId"+t.issueId;return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(e){n.onCheckboxClick(e,t.issueId,t,a)}})})}},{key:"actionComponent",value:function(e,t,a,s){var n=this;if("0000"===t.refIssueId)return Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{className:"btn btn-link",id:"edit"+a,onClick:function(){n.editCommitment(e)},style:{marginRight:"0.5em",marginLeft:"1em"},children:Object(u.jsx)("img",{src:"/omsservice/images/edit-icon.png",alt:"edit"})}),Object(u.jsx)("button",{className:"btn btn-link",id:"convert"+a,onClick:function(){n.convert(e,t.programId,t.bookId)},style:{marginRight:"0.5em"},children:Object(u.jsx)("img",{src:"/omsservice/images/convert-icon.png",alt:"convert"})})]},a)}},{key:"returnMethod",value:function(e){this.setState({screenName:"Offerings",responseMessage:e,updateData:!0})}},{key:"onAmountKey",value:function(e,t,a,s,n){if(void 0===this.props.message||""===this.props.message){var o=this.state;o.bookId,o.ticker;"Enter"===e.key&&(PI={ticker:s.ticker,issueId:t,bookId:s.bookId,bidRate:Po(s.bid),offerRate:Po(document.getElementById("offer"+s.issueId).value),offeringlimit:Po(document.getElementById("limit"+s.issueId).value)},this.verify(PI,"PUBLISH")&&this.setState({actionTitle:"Publish",actionMessage:"Are you sure, you want to Publish the Commitment ?",alertShow:!0,updateData:!1,actionFlag:"PUBLISH"}))}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"hideAlert",value:function(){this.setState({alertShow:!1,updateData:!0})}},{key:"confirmAction",value:function(e){var t=this,a=this.state;a.payload,a.payloadch;if("DELETE"===e){this.setState({alertShow:!1});var s=[{}];s[0]=PI.issueId;var n=[{}];n[0]=PI.bookId;var o=[{}];o[0]=PI.ticker,w()({method:"POST",url:N.URL+Hc,timeout:N.apiTimeOut,data:{issues:s,bookId:n,ticker:o},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}))}else if("PUBLISHINV"===e){this.setState({alertShow:!1});var i=[];i.push(BI),w()({method:"POST",url:N.URL+qc,timeout:N.apiTimeOut,data:i,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}))}else if("PUBLISH"===e)this.setState({alertShow:!1}),w()({method:"POST",url:N.URL+Yc,timeout:N.apiTimeOut,data:PI,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}));else if("PUBLISHALLINV"===e){this.setState({alertShow:!1});var l=this.state.paramPayload;w()({method:"POST",url:N.URL+qc,timeout:N.apiTimeOut,data:l,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({screenName:"Offerings",responseMessage:e.data[0].responseMessage,data:e.data,updateData:!0})}))}}},{key:"hideError",value:function(){this.setState({showError:!1,updateData:!0})}},{key:"invCheckBoxComponent",value:function(e,t,a,s){var n=this,o="issueId"+t.issueId;if(t.availableToday>0)return Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"checkbox",name:o,id:o,onClick:function(s){n.onInvCheckboxClick(e,a,t,s)}})})}},{key:"onInvCheckboxClick",value:function(e,t,a,s){BI={ticker:a.ticker,issueId:e,bookId:a.bookId,bidRate:Po(a.bid),offerRate:Po(document.getElementById("offer"+a.issueId).value),offeringlimit:Po(document.getElementById("offeramount"+a.issueId).value)},s.target.checked&&this.setState({updateData:!1})}},{key:"verify",value:function(e,t,a){var s="";return"DELETE"===t||("PUBLISH"===t?(e.offeringlimit||0!==s.length||(s="Row"+(a+1)+":"+Um),e.offerRate||0!==s.length||(s="Row"+(a+1)+":"+Vm)):"PUBLISHINV"===t&&((e.offeringlimit||0!==s.length)&&(!e.offeringlimit||0!==e.offeringlimit.length&&0!==parseFloat(e.offeringlimit))||(s="Row"+(a+1)+":"+Um),(e.offerRate||0!==s.length)&&(!e.offerRate||0!==e.offerRate.length&&0!==parseFloat(e.offerRate))||(s="Row"+(a+1)+":"+Vm),(e.bidRate||0!==s.length)&&(!e.bidRate||0!==e.bidRate.length&&0!==parseFloat(e.bidRate))||(s="Row"+(a+1)+":"+Tm),e.offerRate&&e.bidRate&&0===s.length&&parseFloat(e.bidRate)<parseFloat(e.offerRate)&&(s="Row"+(a+1)+":"+mh)),!s||(this.setState({actionTitle:"Alert",actionMessage:s,updateData:!1,showError:!0}),!1))}},{key:"verifyAll",value:function(e,t){for(var a=!0,s=0;s<e.length;s++){var n=this.verify(e[s],t,s);if(!1===n){a=n;break}}return a}},{key:"getDefaultBookValues",value:function(e,t){this.setState({bookId:"All"})}},{key:"publishAllInventory",value:function(){if(void 0===this.props.message||""===this.props.message){for(var e=this.state.inventoryData,t=[],a=0;a<e.length;a++)0===parseFloat(e[a].offerRate)&&(e[a].offerRate=e[a].offer),0===parseFloat(e[a].bidRate)&&(e[a].bidRate=e[a].bid),0===parseFloat(e[a].offeringlimit)&&(e[a].offeringlimit=e[a].availableToday),t.push(e[a]);this.setState({paramPayload:t}),this.verifyAll(t,"PUBLISHINV")&&this.setState({actionTitle:"Publish",actionMessage:"Are you sure , you want to Publish the Inventory ?",alertShow:!0,updateData:!1,actionFlag:"PUBLISHALLINV"})}else this.setState({actionTitle:"Alert",actionMessage:this.props.message,updateData:!1,showError:!0})}},{key:"returnLayerMethod",value:function(e,t){this.setState({buyConfData:e,showCPBuy:!0,showBuyInv:!1,showSellInv:!1,invType:t,updateData:!1})}},{key:"returnResponse",value:function(e){this.setState({responseMessage:e.responseMessage,showCPBuy:!1,updateData:!1})}},{key:"fieldComponent",value:function(e,t,a,s){var n=s.colId;return"0000"===t.refIssueId||"Issuer"===n||"SD"===n||"Range"===n?"Offer Quant($m)"===n?Lo(e):e:void 0}},{key:"invFieldComponent",value:function(e,t,a,s){return"Par ($m)"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t={};return t.linkComponent=this.linkComponent,t.checkBoxComponent=this.checkBoxComponent,t.textBoxComponent=this.textBoxComponent,t.textBoxLimitComponent=this.textBoxLimitComponent,t.textBoxOfferComponent=this.textBoxOfferComponent,t.checkBoxComponent=this.checkBoxComponent,t.actionComponent=this.actionComponent,t.invCheckBoxComponent=this.invCheckBoxComponent,t.textBoxRateComponent=this.textBoxRateComponent,t.fieldComponent=this.fieldComponent,t.invFieldComponent=this.invFieldComponent,Object(u.jsxs)(u.Fragment,{children:[void 0!==this.props.message&&this.props.message.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center mt-1",children:this.props.message}):"","Offerings"===this.state.screenName?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(W.a,{xs:5,children:[Object(u.jsxs)(W.a,{xs:2,className:"d-inline-block",children:[Object(u.jsx)(ni,{label:KT.books,id:"lbl_books"}),":"]}),Object(u.jsx)(W.a,{xs:3,className:"d-inline-block",children:Object(u.jsx)(Dp,{apiCall:Fi,reqParams:{productType:Jh},onchange:this.bookChange,selected:this.state.bookId,stateMethod:this.getDefaultBookValues,id:"bookId"})}),Object(u.jsxs)(W.a,{xs:7,className:"d-inline-block mt-2",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",onClick:this.buyInventory,id:"buyInventory",children:"Buy Inventory"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",onClick:this.sellInventory,id:"sellInventory",children:"Sell Inventory"})]})]}),Object(u.jsxs)(W.a,{xs:7,className:"text-right",children:[Object(u.jsx)(OO,{apiCall:Di,reqParams:{productType:Jh}}),Object(u.jsxs)(W.a,{xs:3,className:"d-inline-block mt-2",children:[Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs mr-1",id:"publishOfferings",onClick:this.publishAllInventory,children:"Publish Offerings"}),Object(u.jsx)(D.a,{className:"btn btn-primary btn-xs",id:"axe",onClick:this.copySaveGridClick,children:"AXE"})]})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.alertShow,onHide:function(){return e.hideAlert()},onConfirm:function(){return e.confirmAction(e.state.actionFlag)},messageType:cm})}),Object(u.jsx)(H.a,{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})}),this.state.responseMessage?Object(u.jsx)(H.a,{children:Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.responseMessage})}):"",this.state.cmodal?Object(u.jsxs)(H.a,{children:[Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:"Primary"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:ZT,apiCall:ar,wsUrl:!0,reqParams:{prodType:Jh,transType:"10",issueType:"S",bookid:this.state.bookId?this.state.bookId:"All",loginid:this.props.secTraderId,socketSource:"SECONDARYTRADERBOOKVIEW"},edit:!1,mappings:HT,keyField:"issueId",customComponents:t,updateData:this.state.updateData,fromPage:"Offerings",screenName:"PRIMARY",subTitle:"Book View ADN ",flagPdf:!0})})})]}),Object(u.jsxs)(ai.a,{className:"mt-3",id:"inventory",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",id:"lbl_invent",children:"Inventory"})}),Object(u.jsx)(ai.a.Body,{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:JT,apiCall:ar,wsUrl:!0,reqParams:{prodType:Jh,transType:"10",issueType:"F",bookid:this.state.bookId?this.state.bookId:"All",loginid:this.props.secTraderId,socketSource:"SECONDARYTRADERBOOKVIEW"},edit:!1,mappings:LT,keyField:1,customComponents:t,updateData:this.state.updateData,fromPage:"Offerings",screenName:"INVENTORY",subTitle:"Book View ADN ",flagPdf:!0})})}),this.state.modalData===ln&&Object(u.jsx)(fI,{size:"lg",show:this.state.showModal,onHide:function(){return e.hideModal()},modalHead:"Security",prodType:Jh,modalData:this.state.modalData,modalDataRow:this.state.modalDataRow,message:this.props.message}),Object(u.jsx)(jO,{size:"md",show:this.state.showBuyInv,onHide:function(){return e.hideModal()},modalHead:"Buy Inventory",prodType:Jh,modalData:this.state.BuyInvtData,returnMethod:this.returnLayerMethod,ticketType:"B"}),Object(u.jsx)(gO,{size:"md",show:this.state.showSellInv,onHide:function(){return e.hideModal()},modalHead:"Sell Inventory",prodType:Jh,modalData:this.state.SellInvtData,returnMethod:this.returnLayerMethod,ticketType:"S"}),Object(u.jsx)(aj,{size:"md",show:this.state.showCPBuy,onHide:function(){return e.hideModal()},modalHead:"B"===this.state.invType?"Buy Ticket":"Sell Ticket",prodType:Jh,modalData:this.state.buyConfData,returnMethod:this.returnResponse,ticketType:this.state.invType})]})]}):""]}):"Edit"===this.state.screenName?Object(u.jsx)(bv,{issueId:this.state.issueId,apiCall:Lc,reqParams:{issueId:this.state.issueId,productType:Jh},returnMethod:this.returnMethod,fromPage:this.state.screenName,linkname:"Edit ADN Commitment"}):Object(u.jsx)(pv,{apiCall:Wc,reqParams:{issueId:this.state.issueId,prodType:Jh,issuerId:this.state.issuerId,bookId:this.state.bookId},returnMethod:this.returnMethod,fromPage:this.state.screenName,linkname:"ADN Commitment Conversion"})]})}}]),a}(o.a.Component),_I="70229170",UI="BEELEE",VI=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={cmodal:!0,heading:"cp",message:""},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.handleSelect=s.handleSelect.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===mr&&this.setState({cmodal:!0})}},{key:"componentDidMount",value:function(){var e=this;w()({method:"POST",url:N.URL+ac,timeout:N.apiTimeOut,data:{productType:Hh},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(t){e.setState({message:t.data})}))}},{key:"handleSelect",value:function(e){var t=this,a="";"cp"===e&&(a=Hh),"ecp"===e&&(a=Zh),"mcp"===e&&(a=Wh),"ycd"===e&&(a=zh),"ecd"===e&&(a=qh),"frcp"===e&&(a=Kh),"frcd"===e&&(a=Gh),w()({method:"POST",url:N.URL+ac,timeout:N.apiTimeOut,data:{productType:a},headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){t.setState({message:e.data})})),this.setState({heading:e})}},{key:"closemodel",value:function(){this.setState({cmodal:!1}),this.props.onRemove(this.props.linkname)}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",style:{background:"orange"},children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,Object(u.jsx)("span",{className:"float-right cross",id:"cls_bkview",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsx)(ai.a.Body,{style:{background:"lightgreen"},children:Object(u.jsx)(H.a,{children:Object(u.jsx)(W.a,{className:"d-inline-block",children:Object(u.jsxs)(hb.a,{defaultActiveKey:"cp",onSelect:this.handleSelect,transition:!1,id:"noanim-tab-example",children:[Object(u.jsx)(ei.a,{eventKey:"cp",title:"CP",children:"cp"===this.state.heading&&Object(u.jsx)(vI,{message:this.state.message,secTraderId:_I,secTraderName:UI})}),Object(u.jsx)(ei.a,{eventKey:"ecd",title:"ECD",children:"ecd"===this.state.heading&&Object(u.jsx)(yI,{message:this.state.message,secTraderId:_I,secTraderName:UI})}),Object(u.jsx)(ei.a,{eventKey:"ecp",title:"ECP",children:"ecp"===this.state.heading&&Object(u.jsx)(kI,{message:this.state.message,secTraderId:_I,secTraderName:UI})}),Object(u.jsx)(ei.a,{eventKey:"frcd",title:"FRCD",children:"frcd"===this.state.heading&&Object(u.jsx)(DI,{message:this.state.message,secTraderId:_I,secTraderName:UI})}),Object(u.jsx)(ei.a,{eventKey:"frcp",title:"FRCP",children:"frcp"===this.state.heading&&Object(u.jsx)(CI,{message:this.state.message,secTraderId:_I,secTraderName:UI})}),Object(u.jsx)(ei.a,{eventKey:"mcp",title:"MCP",children:"mcp"===this.state.heading&&Object(u.jsx)(wI,{message:this.state.message,secTraderId:_I,secTraderName:UI})}),Object(u.jsx)(ei.a,{eventKey:"ycd",title:"YCD",children:"ycd"===this.state.heading&&Object(u.jsx)(FI,{message:this.state.message,secTraderId:_I,secTraderName:UI})}),Object(u.jsx)(ei.a,{eventKey:"adn",title:"ADN",children:"adn"===this.state.heading&&Object(u.jsx)(LI,{message:this.state.message,secTraderId:_I,secTraderName:UI,w:!0})})]})})})})]})})}}]),a}(o.a.Component),YI=[];YI.originatorOrderNumber=dn,YI.ticker=cn,YI.shortName=X,YI.productType=ls,YI.currencyCode=We,YI.amount=ga,YI.spread=Es,YI.settlementDate=Ms,YI.maturityDate=da,YI.bidRate=ps,YI.source=Gs,YI.issuerType=Te,YI.bookId=Se;var HI=[];function WI(e,t,a){var s=[];return Object.values(t).map((function(e){})),Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&(o="productType"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){var n;return"1200"===e?n="CP":"1600"===e?n="MCP":"2200"===e?n="ECD":"2300"===e?n="YCD":"2400"===e?n="FRCD":"2700"===e?n="FRCP":"2900"===e&&(n="ECP"),n}}:a&&"originatorOrderNumber"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkShowComponent(t,s,n,o,e)}}:a&&"ticker"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkSecurityComponent(t,s,n,o,e)}}:e===re?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1,formatter:a.fieldComponent,formatExtraData:{colId:t[e]}},s.push(o)));return""})),""})),s}HI.ticker=cn,HI.currencyCode=We,HI.settlementDate=Ts,HI.maturityDate=da,HI.amount=ga,HI.coupon=ps,HI.actionId=ie;var qI=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleClose=function(){s.props.onHide()},s.onDateChange=function(e,t){var a=s.props.tradeData;if(void 0!==e&&null!==e){s.state.sellTrade[t]=Yu(e,"MM/DD/YY");var n="";if(Wu(s.state.sellTrade.maturityDate,s.state.sellTrade.settlementDate)<=0?n=jm:Wu(s.state.sellTrade.settlementDate,a.settlementDate)<=0&&(n=su),n)return s.setState({actionTitle:"Alert",actionMessage:n,showError:!0}),e.target.value="",e.target.focus(),!1;s.postData(s.state.sellTrade,Ml)}},s.state={postFlag:!0,respMessage:"",rejectMsg:"",sellTrade:{},actionTitle:"",actionMessage:"",showError:!1,isLoading:!0},s.postData=s.postData.bind(Object(O.a)(s)),s.onChange=s.onChange.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.onDateChange=s.onDateChange.bind(Object(O.a)(s)),s.submitTrade=s.submitTrade.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.props.tradeData;if(e!==this.props&&this.setState({respMessage:"",rejectMsg:""}),e!==this.props&&void 0!==a.ticker&&""!==a.ticker){var s={transType:"85"};s.issueId=a.refIssueId,s.bidRate=a.bidRate,s.productType=a.productType,s.programId=a.programId,s.ticker=a.ticker,s.settlementDate=a.settlementDate,s.maturityDate=a.maturityDate,s.amount=a.amount,s.rate=a.bidRate,this.postData(s,Ml)}}},{key:"postData",value:function(e,t){var a=this;this.setState({isLoading:!1}),t===Ml&&this.state.sellTrade&&void 0!==this.state.sellTrade.bidRate&&"0"!==this.state.sellTrade.bidRate&&(e.rate=this.state.sellTrade.bidRate?this.state.sellTrade.bidRate:this.props.tradeData.bidRate),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:[e],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(t===Ml?a.setState({sellTrade:e.data,isLoading:!0}):void 0!==e.data.responseMessage&&e.data.responseMessage.length>0?a.setState({respMessage:e.data.responseMessage,isLoading:!0}):void 0!==e.data.rejectReason&&e.data.rejectReason.length>0&&a.setState({rejectMsg:e.data.rejectReason,isLoading:!0}))}))}},{key:"onChange",value:function(e,t){if(this.state.sellTrade[t]=e.target.value,"amount"===t){if(!1===Bo(e.target.value,"1234567890.,mmMMkkKK"))return this.setState({actionTitle:"Alert",actionMessage:wm,showError:!0}),e.target.value="",e.target.focus(),!1;Uo(e),this.state.sellTrade.amount=Po(e.target.value),this.postData(this.state.sellTrade,Ml)}else this.postData(this.state.sellTrade,Ml)}},{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"submitTrade",value:function(e,t){var a=this.props.tradeData;a.status=t,this.state.sellTrade.status=t,this.state.sellTrade.actionId=a.transId,this.state.respMessage="",this.state.rejectMsg="",this.postData(this.state.sellTrade,vc)}},{key:"render",value:function(){var e=this,t=this.props,a=t.tradeData;t.tradeCnt;return"A"===a.status&&"accepted by","R"===a.status&&"rejected by","MI"===a.status&&"hold by","C"===a.status&&"cancelled by",Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.handleClose,size:this.props.size,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.modalHead})}),Object(u.jsx)(P.a.Body,{children:this.state.isLoading&&Object(u.jsx)(u.Fragment,{children:this.state.sellTrade&&"P"===a.status?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectMsg&&this.state.rejectMsg.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectMsg}):""]}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",children:Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block text-center",children:Object(u.jsx)("label",{id:"val_time",className:"bold",children:a.clientinvesterCassii+" RFQ BIDS"})})}),Object(u.jsxs)("div",{className:"modal-cls",id:"tradingpopup",children:[Object(u.jsxs)("div",{className:"bgc",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0 border-bottom",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left font-weight-bold",children:"SALES:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:a.spLoginId})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left font-weight-bold",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:a.cusip})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0 border-bottom",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left font-weight-bold",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:a.issuerName})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-3 col-sm-3 col-xs-3 text-left font-weight-bold",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:a.prodName})]})]})]}),Object(u.jsxs)("div",{className:"col-md-9 col-sm-9 col-xs-9 d-inline-block p-0 border-right",children:[Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("label",{className:"form-label col-md-12 col-sm-12 col-xs-12 font-weight-bold",children:a.ticker})}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"\xa0"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Offer"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"$m:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"offeringlimit",id:"offeringlimit",className:"text-right",value:Lo(a.offeringlimit),readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Settle:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"settleDateStr",id:"settleDateStr",className:"text-right",value:a.settleDateStr,readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Rate:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-right",children:Object(u.jsx)(Eu,{name:"offer",id:"offer",className:"text-right",value:a.offer,readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Mat:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-right",children:Object(u.jsx)(Eu,{name:"maturityDateStr",id:"maturityDateStr",className:"text-right",value:a.maturityDateStr,readOnly:!0})})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top p-0",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"\xa0"}),Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Trade"}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"amount",id:"amount",className:"text-right",value:this.state.sellTrade.amount&&Lo(this.state.sellTrade.amount),onBlur:function(t){e.onChange(t,"amount")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-right",children:Object(u.jsx)(Ju,{label:"settlementDate",id:"settlementDate",dateValue:void 0===this.state.sellTrade||void 0===this.state.sellTrade.settlementDate?"":new Date(this.state.sellTrade.settlementDate),fromDateFlg:!1,toDateFlg:!1,onchange:function(t){e.onDateChange(t,"settlementDate")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-right",children:Object(u.jsx)(Eu,{name:"bidRate",id:"bidRate",className:"text-right",value:this.state.sellTrade.bidRate,onBlur:function(t){e.onChange(t,"bidRate")}})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left",children:"\xa0"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-right",children:Object(u.jsx)(Eu,{name:"maturityDate",id:"maturityDate",className:"text-right",value:this.state.sellTrade.maturityDate,readOnly:!0})})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Net $:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",children:this.state.sellTrade.netAmt})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Disc:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",children:Lo(Po(void 0===this.state.sellTrade.interestAmount?"":this.state.sellTrade.interestAmount))})]})]}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Account Name:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"accountName",id:"accountName",value:a.accountName,readOnly:!0})})]})}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block align-top brwh p-0",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"OMS:"}),Object(u.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-6 text-left",children:Object(u.jsx)(Eu,{name:"cassii",id:"cassii",value:a.cassii,readOnly:!0})})]})})]})]}),Object(u.jsx)("div",{className:"col-md-3 col-sm-3 col-xs-3 d-inline-block p-0 mt-1 align-top",children:Object(u.jsxs)("div",{className:"btn-grp text-center mt-3",children:[Object(u.jsx)(D.a,{id:"accept",className:"btn btn-success btn-xs",onClick:function(t){e.submitTrade(e,"A")},children:"Accept"}),Object(u.jsx)(D.a,{id:"reject",className:"btn btn-danger btn-xs",onClick:function(t){e.submitTrade(e,"R")},children:"Reject"}),Object(u.jsx)(D.a,{id:"cancel",className:"btn btn-primary btn-xs ml-1",onClick:function(t){e.submitTrade(e,"C")},children:"Dismiss"})]})}),Object(u.jsxs)("div",{className:"border-top",children:[Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block p-0 mt-1 align-top",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_customermsg",className:"form-label col-md-2 col-sm-2 col-xs-2 font-weight-bold",children:"Customer Msg:"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8 pl-1",children:Object(u.jsx)(Eu,{name:"customermsg",id:"customermsg",value:""})})]})}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block p-0 mt-1 align-top border-bottom",children:Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{id:"lbl_dealermsg",className:"form-label col-md-2 col-sm-2 col-xs-2 font-weight-bold",children:"Dealer Msg:"}),Object(u.jsx)("div",{className:"col-md-8 col-sm-8 col-xs-8 pl-1",children:Object(u.jsx)(Eu,{name:"dealermsg",id:"dealermsg",value:""})}),Object(u.jsx)("div",{className:"col-md-2 col-sm-2 col-xs-2 pl-1",children:Object(u.jsx)("a",{href:"javascript:void(0);",className:"btn btn-success btn-xs",id:"send",children:"Send"})})]})}),Object(u.jsxs)("div",{className:"col-md-9 col-sm-9 col-xs-9 d-inline-block p-0 mt-1",children:[Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Ticket Number:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",children:a.originatorOrderNumber})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-5 col-sm-5 col-xs-5 text-left font-weight-bold",children:"Ticket Source:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left",children:a.source})]})]}),Object(u.jsxs)("div",{className:"col-md-6 col-sm-6 col-xs-6 d-inline-block p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Time:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:a.createdDate})]}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsx)("label",{className:"form-label col-md-4 col-sm-4 col-xs-4 text-left font-weight-bold",children:"Entered By:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:a.spLoginId})]})]})]}),Object(u.jsx)("div",{className:"clearfix"}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block align-top border-top",children:Object(u.jsx)("div",{className:"row p3 brd-btm mb-1 mt-1",children:Object(u.jsx)("label",{id:"lbl_dealermsg",className:"bg-yellow form-label font-weight-bold p-0 text-primary",children:"OFFERING IS SUBJECTED"})})})]})]})]}):!this.state.sellTrade||"A"!==a.status&&"R"!==a.status&&"MI"!==a.status&&"C"!==a.status?"":Object(u.jsxs)("div",{className:"modal-cls",children:[Object(u.jsxs)("div",{className:"bgc border-bottom",children:[Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 d-inline-block p-0"}),Object(u.jsxs)("div",{className:"col-md-4 col-sm-4 col-xs-4 d-inline-block p-0",children:[Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)("label",{className:"\r form-label\r text-left\r font-weight-bold",children:this.state.respMessage}):"",void 0!==this.state.rejectMsg&&this.state.rejectMsg.length>0?Object(u.jsx)("label",{className:"\r form-label\r text-left\r font-weight-bold",children:this.state.rejectMsg}):""]}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsxs)("label",{className:"\r form-label\r text-left\r font-weight-bold",children:["Sell $",this.state.sellTrade.amount,"M ",this.state.sellTrade.ticker," ",this.state.sellTrade.settlementDate," @ ",this.state.sellTrade.bidRate]})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsxs)("label",{className:"\r form-label\r text-left\r font-weight-bold",children:["Trade #",a.originatorOrderNumber]})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsxs)("label",{className:"\r form-label\r text-left\r font-weight-bold",children:["Booked By: ",a.spLoginId]})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("label",{className:"\r form-label\r text-left\r font-weight-bold",children:a.source})})]})]}),Object(u.jsx)("div",{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})})]})})})]})}}]),a}(o.a.Component),zI=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).hideError=function(){s.setState({showError:!1})},s.state={cmodal:!0,showShowModal:!1,showSecurityModal:!1,formDateValue:new Date,toDateValue:new Date,modalDataRow:"",popUpDataRow:"",updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.linkShowComponent=s.linkShowComponent.bind(Object(O.a)(s)),s.openShowModal=s.openShowModal.bind(Object(O.a)(s)),s.linkSecurityComponent=s.linkSecurityComponent.bind(Object(O.a)(s)),s.openSecurityModal=s.openSecurityModal.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"openSecurityModal",value:function(e,t){this.setState({modalDataRow:e,showSecurityModal:!0,updateData:!1})}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===nm&&this.setState({cmodal:!0,updateData:!1})}},{key:"componentDidMount",value:function(){}},{key:"linkComponent",value:function(e,t,a){return Object(u.jsx)("button",{className:"btn btn-link",onClick:this.openModal.bind(this,t,e),children:e})}},{key:"fromDateChange",value:function(e){var t="",a=new Date;if(a=Yu(this.state.toDateValue,"MM/DD/YYYY"),Yu(e,"MM/DD/YYYY")>a&&(t="From Date should be less than To Date "),t)return this.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1;this.setState({formDateValue:e,updateData:!0})}},{key:"toDateChange",value:function(e){var t="",a=new Date;if(a=Yu(this.state.formDateValue,"MM/DD/YYYY"),Yu(e,"MM/DD/YYYY")<a&&(t="To Date Should be Greater than From Date"),t)return this.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1;this.setState({toDateValue:e,updateData:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1}),this.props.onRemove(this.props.linkname)}},{key:"setScreenData",value:function(e){e}},{key:"linkShowComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openShowModal.bind(this,t,e),children:e})}},{key:"openShowModal",value:function(e,t){this.setState({popUpDataRow:e,showShowModal:!0,updateData:!1})}},{key:"hideShowModal",value:function(){this.setState({showShowModal:!1,updateData:!0})}},{key:"linkSecurityComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openSecurityModal.bind(this,t,e),children:e})}},{key:"hideSecurityModal",value:function(){this.setState({showSecurityModal:!1,updateData:!0})}},{key:"fieldComponent",value:function(e,t,a,s){return"$m"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t={};return t.actionComponent=this.actionComponent,t.linkComponent=this.linkComponent,t.linkShowComponent=this.linkShowComponent,t.linkSecurityComponent=this.linkSecurityComponent,t.fieldComponent=this.fieldComponent,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h6",{children:void 0!==this.state.msg&&""!==this.state.msg?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.msg}):""}),this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:YI,apiCall:"/getPendingClientTrades",updateData:this.state.updateData,wsUrl:!1,reqParams:{fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue)},mappings:WI,calBack:this.setScreenData,customComponents:t,keyField:"1",excelFlag:"true"})})]}),Object(u.jsx)(rp,{size:"lg",show:this.state.showSecurityModal,onHide:function(){return e.hideSecurityModal()},modalHead:"Security",prodType:Hh,modalDataRow:this.state.modalDataRow}),Object(u.jsx)(qI,{size:"lg",show:this.state.showShowModal,onHide:function(){return e.hideShowModal()},modalHead:"Pending Trades",prodType:Hh,tradeData:this.state.popUpDataRow}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})]})}}]),a}(o.a.Component),GI=[];GI.ticket=dn,GI.ticker=cn,GI.shortName=X,GI.prodName=ls,GI.currencyCode=We,GI.amount=ga,GI.spread=Es,GI.settlementDate=Ms,GI.maturityDate=da,GI.bidRate=ps,GI.source=Gs,GI.issuerType=Te,GI.bookId=Se;var KI=[];function ZI(e,t,a){var s=[];return Object.values(t).map((function(e){})),Object.keys(t).map((function(n){return Object.keys(e[0]).map((function(e){var o;e===n&&(t[e]&&(o="productType"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){var n;return"1200"===e?n="CP":"1600"===e?n="MCP":"2200"===e?n="ECD":"2300"===e?n="YCD":"2400"===e?n="FRCD":"2700"===e?n="FRCP":"2900"===e&&(n="ECP"),n}}:a&&"ticket"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkShowComponent(t,s,n,o,e)}}:a&&"ticker"===e?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(t,s,n,o){return a.linkSecurityComponent(t,s,n,o,e)}}:e===re?{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),formatter:function(e,t,a,s){return Lo(e)},align:"right"}:{dataField:e,text:t[e],filter:Object(Ao.textFilter)(),editable:!1,formatter:a.fieldComponent,formatExtraData:{colId:t[e]}},s.push(o)));return""})),""})),s}KI.ticker=cn,KI.currencyCode=We,KI.settlementDate=Ts,KI.maturityDate=da,KI.amount=ga,KI.coupon=ps,KI.actionId=ie;var JI,QI,XI=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleClose=function(){s.props.onHide()},s.onDateChange=function(e,t){var a=s.props.tradeData;if(void 0!==e&&null!==e){s.state.sellTrade[t]=Yu(e,"MM/DD/YY");var n="";if(Wu(s.state.sellTrade.maturityDate,s.state.sellTrade.settlementDate)<=0?n=jm:Wu(s.state.sellTrade.settlementDate,a.settlementDate)<=0&&(n=su),n)return s.setState({actionTitle:"Alert",actionMessage:n,showError:!0}),e.target.value="",e.target.focus(),!1;s.postData(s.state.sellTrade,wl)}},s.state={postFlag:!0,respMessage:"",rejectMsg:"",sellTrade:{},actionTitle:"",actionMessage:"",showError:!1,displayMessage:""},s.postData=s.postData.bind(Object(O.a)(s)),s.onChange=s.onChange.bind(Object(O.a)(s)),s.hideError=s.hideError.bind(Object(O.a)(s)),s.onDateChange=s.onDateChange.bind(Object(O.a)(s)),s.submitTrade=s.submitTrade.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.props.tradeData;if(e!==this.props&&void 0!==a.ticker&&""!==a.ticker){var s={};"I"===a.issueType&&(a.fromPage="INVSALE"),0!==a.coupon&&""!==a.coupon||(a.coupon=a.bidRate),s.transType="85",s.issueId=a.refIssueId,s.bidRate=a.bidRate,s.productType=a.productType,s.programId=a.programId,s.ticker=a.ticker,s.settlementDate=a.settlementDate,s.maturityDate=a.maturityDate,s.amount=a.amount,s.rate=a.bidRate,this.postData(a,tl)}}},{key:"postData",value:function(e,t){var a=this;this.setState({respMessage:[],rejectMsg:[]}),t===tl&&this.state.sellTrade&&void 0!==this.state.sellTrade.bidRate&&"0"!==this.state.sellTrade.bidRate&&(e.rate=this.state.sellTrade.bidRate),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:e,headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(t===tl?a.setState({sellTrade:e.data}):void 0!==e.data.responseMessage&&e.data.responseMessage.length>0?a.setState({respMessage:e.data.responseMessage}):void 0!==e.data.rejectReason&&e.data.rejectReason.length>0&&a.setState({rejectMsg:e.data.rejectReason}))}))}},{key:"postSubmitData",value:function(e,t){var a=this;t===wl&&this.state.sellTrade&&void 0!==this.state.sellTrade.bidRate&&"0"!==this.state.sellTrade.bidRate&&(e.rate=this.state.sellTrade.bidRate),w()({method:"POST",url:N.URL+t,timeout:N.apiTimeOut,data:[e],headers:{"Content-Type":"application/json",omstoken:sessionStorage.getItem("token"),"Access-Control-Allow-Origin":"*"}}).then((function(e){e.data&&(t===wl?a.setState({sellTrade:e.data}):t===Dc?a.setState({displayMessage:e.data.responseMessage}):void 0!==e.data.responseMessage&&e.data.responseMessage.length>0?a.setState({respMessage:e.data.responseMessage}):void 0!==e.data.rejectReason&&e.data.rejectReason.length>0&&a.setState({rejectMsg:e.data.rejectReason}))}))}},{key:"onChange",value:function(e,t){this.state.sellTrade[t]=e.target.value;var a="";if(!1===Bo(e.target.value,"1234567890.,mmMMkkKK")&&(a=wm),a)return this.setState({actionTitle:"Alert",actionMessage:a,showError:!0}),e.target.value="",e.target.focus(),!1;this.postData(this.state.sellTrade,wl)}},{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"submitTrade",value:function(e,t){var a=this.props.tradeData,s="";s=a.productType===Jh?kc:a.productType===zh||a.productType===Gh||a.productType===Kh||a.productType===qh||a.productType===Zh?Dc:yc,a.status=t,a.actionId=a.transId,this.state.respMessage="",this.state.rejectMsg="",this.postSubmitData(a,s)}},{key:"render",value:function(){var e=this,t=this.props,a=t.tradeData;t.tradeCnt;return"A"===a.status&&"accepted by","R"===a.status&&"rejected by","MI"===a.status&&"hold by","C"===a.status&&"cancelled by",Object(u.jsxs)(P.a,{show:this.props.show,onHide:this.handleClose,size:this.props.size,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(P.a.Header,{closeButton:!0,className:"card-header",children:Object(u.jsx)(P.a.Title,{id:"contained-modal-title-vcenter",children:this.props.modalHead})}),Object(u.jsx)(P.a.Body,{children:this.state.sellTrade&&"P"===a.status?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12",children:[void 0!==this.state.respMessage&&this.state.respMessage.length>0?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.respMessage}):"",void 0!==this.state.rejectMsg&&this.state.rejectMsg.length>0?Object(u.jsx)(R.a,{variant:"danger",className:"col text-center",children:this.state.rejectMsg}):""]}),Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 p-0",children:Object(u.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block text-center",children:Object(u.jsx)("label",{id:"val_time",className:"bold",children:a.clientinvesterCassii+" RFQ BIDS"})})}),Object(u.jsxs)("div",{className:"modal-cls",id:"tradingpopup",children:[Object(u.jsx)("div",{className:"bgc",children:Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block p-0 border-bottom",children:[Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"ISSUER:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:a.issuerName})]}),Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"CUSIP:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:a.cusip})]}),Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"TICKER:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:a.ticker})]}),Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"PRODUCT:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:a.prodName})]})]})}),Object(u.jsxs)("div",{className:"row p3 brd-btm mb-1",children:[Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block",children:[Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Acct:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:this.state.sellTrade.accountName})]}),Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Status:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:this.state.sellTrade.status})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block salesbg",children:[Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"$m:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:Lo(this.state.sellTrade.ticketAmount)})]}),Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Settle Date:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:this.state.sellTrade.settleDate})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block",children:[Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Money Amt:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:Lo(this.state.sellTrade.moneyAmtString)})]}),Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Rate:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:this.state.sellTrade.coupon?this.state.sellTrade.coupon:this.state.sellTrade.ticketRate})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block salesbg",children:[Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Mat:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:this.state.sellTrade.maturityDate})]}),Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Book:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:this.state.sellTrade.bookName})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block",children:[Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"B/S:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:"85"===this.state.sellTrade.transType?"Sell":"Buy"})]}),Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Booked By:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:this.state.sellTrade.traderName})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block salesbg",children:[Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Venue:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:this.state.sellTrade.venue})]}),Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Currency:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:this.state.sellTrade.currency})]})]}),Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block",children:[Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Date/Time:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:this.state.sellTrade.ticketDate})]}),Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Ticket Number:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:this.state.sellTrade.ticketId})]})]}),void 0!==this.state.sellTrade.spLoginName&&Object(u.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 d-inline-block salesbg",children:[Object(u.jsxs)("div",{className:"col-md-6 d-inline-block",children:[Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left font-weight-bold",children:"Sales Person:"}),Object(u.jsx)("label",{className:"form-label col-md-6 col-sm-6 col-xs-6 text-left ",children:this.state.sellTrade.spLoginName})]}),Object(u.jsx)("div",{className:"col-md-6 d-inline-block"})]})]}),Object(u.jsxs)("div",{className:"text-center box",children:[Object(u.jsx)(D.a,{id:"accept",className:"btn btn-success btn-xs",onClick:function(t){e.submitTrade(e,"A")},children:"Accept"}),Object(u.jsx)(D.a,{id:"reject",className:"btn btn-danger btn-xs ml5",onClick:function(t){e.submitTrade(e,"R")},children:"Reject"})]})]})]}):!a||"A"!==a.status&&"R"!==a.status&&"MI"!==a.status&&"C"!==a.status?"":Object(u.jsxs)("div",{className:"modal-cls",children:[Object(u.jsxs)("div",{className:"bgc border-bottom",children:[Object(u.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-4 d-inline-block p-0"}),Object(u.jsxs)("div",{className:"col-md-4 col-sm-4 col-xs-4 d-inline-block p-0",children:[Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("label",{className:"\r form-label\r text-left\r font-weight-bold",children:void 0!==this.state.displayMessage?this.state.displayMessage:a.acceptedLoginId})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsxs)("label",{className:"\r form-label\r text-left\r font-weight-bold",children:["Sell $",a.amount," M ",a.ticker," ",a.settlementDate," @ ",a.bidRate]})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsxs)("label",{className:"\r form-label\r text-left\r font-weight-bold",children:["Trade #",a.transId]})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsxs)("label",{className:"\r form-label\r text-left\r font-weight-bold",children:["Book By: ",a.spLoginName]})}),Object(u.jsx)("div",{className:"row p3 brd-btm mb-1",children:Object(u.jsx)("label",{className:"\r form-label\r text-left\r font-weight-bold",children:a.source})})]})]}),Object(u.jsx)("div",{children:Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})})]})})]})}}]),a}(o.a.Component),$I=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).hideError=function(){s.setState({showError:!1})},s.state={cmodal:!0,showShowModal:!1,showSecurityModal:!1,formDateValue:new Date(zu(_u(),"-6")),toDateValue:new Date(_u()),modalDataRow:"",popUpDataRow:"",updateData:!0},s.closemodel=s.closemodel.bind(Object(O.a)(s)),s.fromDateChange=s.fromDateChange.bind(Object(O.a)(s)),s.toDateChange=s.toDateChange.bind(Object(O.a)(s)),s.linkShowComponent=s.linkShowComponent.bind(Object(O.a)(s)),s.openShowModal=s.openShowModal.bind(Object(O.a)(s)),s.linkSecurityComponent=s.linkSecurityComponent.bind(Object(O.a)(s)),s.openSecurityModal=s.openSecurityModal.bind(Object(O.a)(s)),s.fieldComponent=s.fieldComponent.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"openSecurityModal",value:function(e,t){this.setState({modalDataRow:e,showSecurityModal:!0,updateData:!1})}},{key:"componentDidUpdate",value:function(e,t){!1===t.cmodal&&this.props.linkname===om&&this.setState({cmodal:!0,updateData:!1})}},{key:"componentDidMount",value:function(){}},{key:"linkComponent",value:function(e,t,a){return Object(u.jsx)("button",{className:"btn btn-link",onClick:this.openModal.bind(this,t,e),children:e})}},{key:"fromDateChange",value:function(e){var t="",a=new Date;if(a=Yu(this.state.toDateValue,"MM/DD/YYYY"),Yu(e,"MM/DD/YYYY")>a&&(t="From Date should be less than To Date "),t)return this.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1;this.setState({formDateValue:e,updateData:!0})}},{key:"toDateChange",value:function(e){var t="",a=new Date;if(a=Yu(this.state.formDateValue,"MM/DD/YYYY"),Yu(e,"MM/DD/YYYY")<a&&(t="To Date Should be Greater than From Date"),t)return this.setState({actionTitle:"Alert",actionMessage:t,showError:!0}),!1;this.setState({toDateValue:e,updateData:!0})}},{key:"closemodel",value:function(){this.setState({cmodal:!1,updateData:!1}),this.props.onRemove(this.props.linkname)}},{key:"setScreenData",value:function(e){e}},{key:"linkShowComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openShowModal.bind(this,t,e),children:e})}},{key:"openShowModal",value:function(e,t){this.setState({popUpDataRow:e,showShowModal:!0,updateData:!1})}},{key:"hideShowModal",value:function(){this.setState({showShowModal:!1,updateData:!0})}},{key:"linkSecurityComponent",value:function(e,t,a,s,n){return Object(u.jsx)("button",{className:"btn btn-link",id:n+a,onClick:this.openSecurityModal.bind(this,t,e),children:e})}},{key:"hideSecurityModal",value:function(){this.setState({showSecurityModal:!1,updateData:!0})}},{key:"fieldComponent",value:function(e,t,a,s){return"$m"===s.colId?Lo(e):e}},{key:"render",value:function(){var e=this,t={};return t.actionComponent=this.actionComponent,t.linkComponent=this.linkComponent,t.linkShowComponent=this.linkShowComponent,t.linkSecurityComponent=this.linkSecurityComponent,t.fieldComponent=this.fieldComponent,Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h6",{children:void 0!==this.state.msg&&""!==this.state.msg?Object(u.jsx)(R.a,{variant:"success",className:"col text-center",children:this.state.msg}):""}),this.state.cmodal&&Object(u.jsxs)(ai.a,{className:"mt-3",children:[Object(u.jsx)(ai.a.Header,{as:"h5",children:Object(u.jsx)("strong",{className:"cursor",children:Object(u.jsxs)("div",{children:[this.props.linkname&&this.props.linkname,"  ",Object(u.jsx)("span",{className:"float-right cross",onClick:this.closemodel,children:"X"})]})})}),Object(u.jsxs)(ai.a.Body,{children:[Object(u.jsxs)(H.a,{md:4,children:[Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"From Date",id:"lbl_fromdate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"fromdate",fromDate:this.state.formDateValue,fromDateFlg:!0,onchange:this.fromDateChange})})]}),Object(u.jsxs)(W.a,{children:[Object(u.jsx)(W.a,{xs:4,className:"d-inline-block",children:Object(u.jsx)(ni,{label:"To Date",id:"lbl_todate"})}),Object(u.jsx)(W.a,{xs:8,className:"d-inline-block",children:Object(u.jsx)(Ju,{label:"todate",toDate:this.state.toDateValue,toDateFlg:!0,onchange:this.toDateChange})})]})]}),Object(u.jsx)(H.a,{children:Object(u.jsx)(Yb,{cprops:GI,apiCall:"/getPendingSalesTrades",updateData:this.state.updateData,wsUrl:!1,reqParams:{fromDate:Vu(this.state.formDateValue),toDate:Vu(this.state.toDateValue)},mappings:ZI,calBack:this.setScreenData,customComponents:t,keyField:"1",excelFlag:"true"})})]}),Object(u.jsx)(rp,{size:"lg",show:this.state.showSecurityModal,onHide:function(){return e.hideSecurityModal()},modalHead:"Security",prodType:Hh,modalDataRow:this.state.modalDataRow}),Object(u.jsx)(XI,{size:"lg",show:this.state.showShowModal,onHide:function(){return e.hideShowModal()},modalHead:"Pending Trades",prodType:Hh,tradeData:this.state.popUpDataRow}),Object(u.jsx)(ii,{title:this.state.actionTitle,message:this.state.actionMessage,show:this.state.showError,onHide:function(){return e.hideError()},messageType:um})]})]})}}]),a}(o.a.Component),eM=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={targetstr:s.props.targetstr},s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState({targetstr:this.props.targetstr})}},{key:"render",value:function(){var e=this.state.targetstr;return Object(u.jsxs)(rb.a,{fluid:!0,children:[e===dr&&Object(u.jsx)(bj,{linkname:e,onRemove:this.props.onRemove}),e===Br&&Object(u.jsx)(Wj,{linkname:e,onRemove:this.props.onRemove}),e===gr&&Object(u.jsx)(Fx,{linkname:e,onRemove:this.props.onRemove}),e===Or&&Object(u.jsx)(kS,{linkname:e,onRemove:this.props.onRemove}),e===Dr&&Object(u.jsx)(Gj,{linkname:e,onRemove:this.props.onRemove}),e===Ir&&Object(u.jsx)(Yj,{linkname:e,onRemove:this.props.onRemove}),e===Er&&Object(u.jsx)(Zj,{linkname:e,onRemove:this.props.onRemove}),e===Tr&&Object(u.jsx)(Bj,{linkname:e,onRemove:this.props.onRemove}),e===wr&&Object(u.jsx)(Uj,{linkname:e,onRemove:this.props.onRemove}),e===Fr&&Object(u.jsx)(_x,{linkname:e,onRemove:this.props.onRemove}),e===kr&&Object(u.jsx)(Yx,{linkname:e,onRemove:this.props.onRemove}),e===Vr&&Object(u.jsx)(Ej,{linkname:e,onRemove:this.props.onRemove}),e===vr&&Object(u.jsx)(tf,{linkname:e,onRemove:this.props.onRemove}),e===_r&&Object(u.jsx)(Gf,{fromWidget:"fromWidget",fromPage:"NEW",linkname:"New CP Commitment",onRemove:this.props.onRemove,handleLink:this.props.handleLink}),e===yr&&Object(u.jsx)(pf,{linkname:e,onRemove:this.props.onRemove}),e===Rr&&Object(u.jsx)(xf,{linkname:e,onRemove:this.props.onRemove}),e===Ar&&Object(u.jsx)(gf,{linkname:e,onRemove:this.props.onRemove}),e===Nr&&Object(u.jsx)(Cf,{linkname:e,onRemove:this.props.onRemove}),e===fr&&Object(u.jsx)(Sf,{linkname:e,onRemove:this.props.onRemove}),e===Lr&&Object(u.jsx)(Qf,{linkname:e,onRemove:this.props.onRemove,msgObj:this.props.msgObj}),e===sd&&Object(u.jsx)(ag,{linkname:e,onRemove:this.props.onRemove}),e===od&&Object(u.jsx)(ig,{linkname:e,onRemove:this.props.onRemove}),e===Zr&&Object(u.jsx)(yg,{linkname:e,onRemove:this.props.onRemove}),e===mr&&Object(u.jsx)(gv,{linkname:e,onRemove:this.props.onRemove}),e===id&&Object(u.jsx)(kv,{linkname:e,onRemove:this.props.onRemove}),e===ad&&Object(u.jsx)(Cv,{linkname:e,onRemove:this.props.onRemove}),e===nd&&Object(u.jsx)(Nv,{linkname:e,onRemove:this.props.onRemove}),e===td&&Object(u.jsx)(Tv,{linkname:e,onRemove:this.props.onRemove}),e===Hr&&Object(u.jsx)(Eg,{linkname:e,onRemove:this.props.onRemove}),e===Yr&&Object(u.jsx)(Bv,{linkname:e,onRemove:this.props.onRemove}),e===Qr&&Object(u.jsx)(ey,{linkname:e,onRemove:this.props.onRemove}),e===Xr&&Object(u.jsx)(xy,{linkname:e,onRemove:this.props.onRemove}),e===Jr&&Object(u.jsx)(Ny,{linkname:e,onRemove:this.props.onRemove}),e===ur&&Object(u.jsx)(vk,{linkname:e,onRemove:this.props.onRemove}),e===Mr&&Object(u.jsx)(Bk,{linkname:e,onRemove:this.props.onRemove}),e===Kr&&Object(u.jsx)(Jk,{linkname:e,onRemove:this.props.onRemove}),e===br&&Object(u.jsx)(Xk,{linkname:e,onRemove:this.props.onRemove}),e===xr&&Object(u.jsx)(oD,{linkname:e,onRemove:this.props.onRemove}),e===eu&&Object(u.jsx)(iD,{linkname:e,onRemove:this.props.onRemove}),e===jr&&Object(u.jsx)(bD,{linkname:e,onRemove:this.props.onRemove}),e===rd&&Object(u.jsx)(vD,{linkname:e,onRemove:this.props.onRemove}),e===dd&&Object(u.jsx)(wD,{linkname:e,onRemove:this.props.onRemove}),e===Ur&&Object(u.jsx)(ID,{linkname:e,onRemove:this.props.onRemove}),e===md&&Object(u.jsx)(LD,{linkname:e,onRemove:this.props.onRemove}),e===ud&&Object(u.jsx)(KD,{linkname:e,onRemove:this.props.onRemove}),e===bd&&Object(u.jsx)(tC,{linkname:e,onRemove:this.props.onRemove}),e===pd&&Object(u.jsx)(lC,{linkname:e,onRemove:this.props.onRemove}),e===jd&&Object(u.jsx)(bC,{linkname:e,onRemove:this.props.onRemove}),e===xd&&Object(u.jsx)(OC,{linkname:e,onRemove:this.props.onRemove}),e===fd&&Object(u.jsx)(yC,{linkname:e,onRemove:this.props.onRemove}),e===gd&&Object(u.jsx)(wC,{linkname:e,onRemove:this.props.onRemove}),e===Od&&Object(u.jsx)(TC,{linkname:e,onRemove:this.props.onRemove}),e===vd&&Object(u.jsx)(MC,{linkname:e,onRemove:this.props.onRemove}),e===kd&&Object(u.jsx)(FC,{linkname:e,onRemove:this.props.onRemove}),e===yd&&Object(u.jsx)(_C,{linkname:e,onRemove:this.props.onRemove}),e===Dd&&Object(u.jsx)($C,{linkname:e,onRemove:this.props.onRemove}),e===Cd&&Object(u.jsx)(tN,{linkname:e,onRemove:this.props.onRemove}),e===Nd&&Object(u.jsx)(aN,{linkname:e,onRemove:this.props.onRemove}),e===Sd&&Object(u.jsx)(sN,{linkname:e,onRemove:this.props.onRemove}),e===hr&&Object(u.jsx)(QN,{linkname:e,onRemove:this.props.onRemove}),e===Gr&&Object(u.jsx)(tS,{linkname:e,onRemove:this.props.onRemove}),e===zr&&Object(u.jsx)(oS,{linkname:e,onRemove:this.props.onRemove}),e===Rd&&Object(u.jsx)(mS,{linkname:e,onRemove:this.props.onRemove}),e===Ed&&Object(u.jsx)(bS,{linkname:e,onRemove:this.props.onRemove}),e===Fd&&Object(u.jsx)(FS,{linkname:e,onRemove:this.props.onRemove}),e===Pd&&Object(u.jsx)(zS,{linkname:e,onRemove:this.props.onRemove}),e===Bd&&Object(u.jsx)(JS,{linkname:e,onRemove:this.props.onRemove}),e===Ld&&Object(u.jsx)(nw,{linkname:e,onRemove:this.props.onRemove}),e===_d&&Object(u.jsx)(lw,{linkname:e,onRemove:this.props.onRemove}),e===Ud&&Object(u.jsx)(dw,{linkname:e,onRemove:this.props.onRemove}),e===zd&&Object(u.jsx)(jw,{linkname:e,onRemove:this.props.onRemove}),e===Gd&&Object(u.jsx)(Nw,{linkname:e,onRemove:this.props.onRemove}),e===Kd&&Object(u.jsx)(vw,{linkname:e,onRemove:this.props.onRemove}),e===Zd&&Object(u.jsx)(Tw,{linkname:e,onRemove:this.props.onRemove}),e===$d&&Object(u.jsx)(Aw,{linkname:e,onRemove:this.props.onRemove}),e===em&&Object(u.jsx)(_w,{linkname:e,onRemove:this.props.onRemove}),e===tm&&Object(u.jsx)(Hw,{linkname:e,onRemove:this.props.onRemove}),e===am&&Object(u.jsx)(BT,{linkname:e+"(BEELEE)",onRemove:this.props.onRemove}),e===sm&&Object(u.jsx)(VI,{linkname:e,onRemove:this.props.onRemove}),e===nm&&Object(u.jsx)(zI,{linkname:e,onRemove:this.props.onRemove}),e===om&&Object(u.jsx)($I,{linkname:e,onRemove:this.props.onRemove})]})}}]),a}(o.a.Component),tM=a(269),aM=(a(524),a(270)),sM=a(164),nM=a.n(sM),oM={CLOSE:["ctrl+shift+/"],MINIMIZE:["ctrl+shift+,"],MAXIMIZE:["ctrl+shift+."],SEARCH:["ctrl+shift+v","ctrl+shift+s","ctrl+shift+l","ctrl+shift+u"]},iM="",lM=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).id2List={droppable:"items"},s.getList=function(e){return s.state[s.id2List[e]]},s.onDragEnd=function(e){var t=e.source,a=e.destination;if(a){var n=function(e,t,a){var s=Array.from(e),n=s.splice(t,1),o=Object(db.a)(n,1)[0];return s.splice(a,0,o),s}(s.getList(t.droppableId),t.index,a.index),o={items:n};s.setState(o)}},s.closeNode=function(e){s.state.items&&s.state.items.map((function(e,t){"wg-"+e.content.replace(/\s/g,"")===iM&&(s.setState({isLoading:!1,open:!0,width:window.innerWidth-30}),s.onRemove(e.content))}))},s.minimizeCode=function(e){e.target.parentElement.style.width=window.innerWidth/2-35+"px",nM.a.apply()},s.minimizeCode1=function(e){nM.a.apply()},s.maximizeCode=function(e){e.target.parentElement.style.width=window.innerWidth-45+"px",nM.a.apply()},s.focusLink=function(e){document.getElementById(e)&&document.getElementById(e).focus(),iM=e},s.searchCode=function(e){JI&&JI.length>0&&JI.map((function(t,a){if("V"===e.key){if("Book View"!==t.linkCode){var n={target:{id:"Book View",outerText:"Book View"}};s.props.handleLink(n)}}else if("S"===e.key){if("Offerings"!==t.linkCode)n={target:{id:"Offerings",outerText:"Offerings"}};s.props.handleLink(n)}else if("L"===e.key){if("Trade Blotter"!==t.linkCode)n={target:{id:"Trade Blotter",outerText:"Trade Blotter"}};s.props.handleLink(n)}else if("U"===e.key){if("Desk View"!==t.linkCode)n={target:{id:"Desk View",outerText:"Desk View"}};s.props.handleLink(n)}}))},s.state={unAssignTitle:"",assignTitle:"",isLoading:!0,items:[],selected:[],open:!1,width:window.innerWidth-35,minSize:[window.innerWidth/2-35,"auto"],maxSize:[window.innerWidth-35,"auto"],flag:!1,WidgetId:"",wdgtId:""},s.onRemove=s.onRemove.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"onRemove",value:function(e){var t=this;if(e){var a=this.state.items,s=a.findIndex((function(t){return t.content===e}));a.splice(s,1),setTimeout((function(){for(var e=document.getElementsByClassName("container-fluid"),a=0;a<e.length;a++)void 0===e[a].getElementsByClassName("mt-3 card")[0]&&e[a].parentNode.parentNode.getElementsByClassName("react-resizable-handle")[0]&&e[a].parentNode.parentNode.getElementsByClassName("react-resizable-handle")[0].classList.remove("react-resizable-handle");t.setState({ck:0})}),100),0===a.length&&this.setState({items:a})}}},{key:"componentDidMount",value:function(){this.setState({isLoading:!1,items:[],open:!0})}},{key:"componentDidUpdate",value:function(e,t){e!==this.props&&this.setState({items:this.props.menuArr})}},{key:"render",value:function(){var e=this;JI=JSON.parse(sessionStorage.getItem("user")).data.linksInfo;var t=this.state.items;t.map((function(e,t){return QI=e.content}));var a=this.props,s=(a.menuArr,a.selectedTarget),n={CLOSE:this.closeNode,MINIMIZE:this.minimizeCode,MAXIMIZE:this.maximizeCode,SEARCH:this.searchCode};return Object(u.jsx)("div",{style:{padding:"15px"},children:Object(u.jsx)(mb.a,{onDragEnd:this.onDragEnd,children:Object(u.jsx)(aM.HotKeys,{keyMap:oM,handlers:n,allowChanges:!0,children:void 0!==t&&t.length>0?Object(u.jsx)(mb.c,{droppableId:"droppable",children:function(a,n){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",Object(m.a)(Object(m.a)(Object(m.a)({ref:a.innerRef},a.draggableProps),a.dragHandleProps),{},{className:"droppable layoutRoot",children:[t.map((function(t,a){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(mb.b,{id:"item-"+a,className:"draggable",draggableId:"item-"+a,index:a,children:function(a,n){return Object(u.jsx)(tM.ResizableBox,{onResize:e.minimizeCode1,className:"box float-left",minConstraints:e.state.minSize,maxConstraints:e.state.maxSize,width:window.innerWidth-45,children:Object(u.jsx)("div",Object(m.a)(Object(m.a)(Object(m.a)({ref:a.innerRef},a.draggableProps),a.dragHandleProps),{},{id:"wg-"+t.content.replace(/\s/g,""),className:"draggableList_l",onMouseOver:function(a){return e.focusLink("wg-"+t.content.replace(/\s/g,""))},children:Object(u.jsx)(eM,{id:"widget",onRemove:e.onRemove,targetstr:t.content,selectedTarget:s,handleLink:e.props.handleLink,msgObj:e.props.msgObj})}))})}},"item-"+a)})})),a.placeholder]}))})}}):Object(u.jsx)(eM,{onRemove:this.onRemove,id:"Home",targetstr:dr,onMouseOver:function(t){return e.focusLink("wg-"+QI.replace(/\s/g,""))}})})})})}}]),a}(o.a.Component),cM=[],rM=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={linkname:"",selectedTarget:"",checked:!1},s.handleSwitchChange=s.handleSwitchChange.bind(Object(O.a)(s)),s.handleLink=s.handleLink.bind(Object(O.a)(s)),s}return Object(l.a)(a,[{key:"handleSwitchChange",value:function(e){this.setState({checked:e})}},{key:"handleLink",value:function(e,t){"New CP Commitment"===e?(this.setState({linkname:Lr,msgObj:t}),cM.unshift({id:Lr,content:Lr,width:"100%"}),this.setState({selectedTarget:Lr})):(this.setState({linkname:e.target.outerText}),cM.find((function(t){return t.id===e.target.id}))?(cM.splice(cM.findIndex((function(t){return t.id===e.target.id})),1),cM.unshift({id:e.target.id,content:e.target.outerText,width:"100%"})):cM.unshift({id:e.target.id,content:e.target.outerText,width:"100%"}),this.setState({selectedTarget:e.target.id}))}},{key:"typeChange",value:function(){cM=[]}},{key:"render",value:function(){return Object(u.jsx)(rb.a,{fluid:!0,style:{padding:0},children:Object(u.jsxs)(sb.a,{theme:this.state.checked?ib:ob,children:[Object(u.jsx)(cb,{}),Object(u.jsx)(ab,{typeChange:this.typeChange,handleLink:this.handleLink,handle:this.handleSwitchChange,checked:this.state.checked}),Object(u.jsx)(lM,{menuArr:cM,selectedTarget:this.state.selectedTarget,handleLink:this.handleLink,msgObj:this.state.msgObj})]})})}}]),a}(o.a.Component),dM=(a(527),a(528),function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(u.jsx)(d.c,{history:x,children:Object(u.jsxs)(d.d,{children:[Object(u.jsx)(p,{exact:!0,path:"/home",component:rM}),["/login","/omsservice"].map((function(e,t){return Object(u.jsx)(d.b,{path:e,component:F},t)}))]})})}}]),a}(o.a.Component)),mM=dM,hM=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,704)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),o(e),i(e)}))},uM=a(47);Object(uM.render)(Object(u.jsx)(mM,{}),document.getElementById("fo2root")),hM()}},[[529,1,2]]]);
//# sourceMappingURL=main.79790f54.chunk.js.map